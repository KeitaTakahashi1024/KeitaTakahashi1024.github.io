/*! @maplat/core v0.6.2 | Kohei Otsuka, Code for History | license: Apache 2.0 */
!(function (t) {
  var e = {};
  function n(i) {
    if (e[i]) return e[i].exports;
    var r = (e[i] = { i: i, l: !1, exports: {} });
    return t[i].call(r.exports, r, r.exports, n), (r.l = !0), r.exports;
  }
  (n.m = t),
    (n.c = e),
    (n.d = function (t, e, i) {
      n.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: i });
    }),
    (n.r = function (t) {
      "undefined" != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }),
        Object.defineProperty(t, "__esModule", { value: !0 });
    }),
    (n.t = function (t, e) {
      if ((1 & e && (t = n(t)), 8 & e)) return t;
      if (4 & e && "object" == typeof t && t && t.__esModule) return t;
      var i = Object.create(null);
      if (
        (n.r(i),
        Object.defineProperty(i, "default", { enumerable: !0, value: t }),
        2 & e && "string" != typeof t)
      )
        for (var r in t)
          n.d(
            i,
            r,
            function (e) {
              return t[e];
            }.bind(null, r)
          );
      return i;
    }),
    (n.n = function (t) {
      var e =
        t && t.__esModule
          ? function () {
              return t.default;
            }
          : function () {
              return t;
            };
      return n.d(e, "a", e), e;
    }),
    (n.o = function (t, e) {
      return Object.prototype.hasOwnProperty.call(t, e);
    }),
    (n.p = ""),
    n((n.s = 159));
})([
  function (t, e, n) {
    "use strict";
    n.d(e, "a", function () {
      return i;
    }),
      n.d(e, "f", function () {
        return r;
      }),
      n.d(e, "g", function () {
        return o;
      }),
      n.d(e, "e", function () {
        return s;
      }),
      n.d(e, "b", function () {
        return a;
      }),
      n.d(e, "c", function () {
        return u;
      }),
      n.d(e, "d", function () {
        return c;
      });
    function i(t, e, n) {
      if (!c((n = n || {}))) throw new Error("options is invalid");
      var i = n.bbox,
        r = n.id;
      if (void 0 === t) throw new Error("geometry is required");
      if (e && e.constructor !== Object)
        throw new Error("properties must be an Object");
      i && h(i), r && l(r);
      var o = { type: "Feature" };
      return (
        r && (o.id = r),
        i && (o.bbox = i),
        (o.properties = e || {}),
        (o.geometry = t),
        o
      );
    }
    function r(t, e, n) {
      if (!t) throw new Error("coordinates is required");
      if (!Array.isArray(t)) throw new Error("coordinates must be an Array");
      if (t.length < 2)
        throw new Error("coordinates must be at least 2 numbers long");
      if (!u(t[0]) || !u(t[1]))
        throw new Error("coordinates must contain numbers");
      return i({ type: "Point", coordinates: t }, e, n);
    }
    function o(t, e, n) {
      if (!t) throw new Error("coordinates is required");
      for (var r = 0; r < t.length; r++) {
        var o = t[r];
        if (o.length < 4)
          throw new Error(
            "Each LinearRing of a Polygon must have 4 or more Positions."
          );
        for (var s = 0; s < o[o.length - 1].length; s++) {
          if ((0 === r && 0 === s && !u(o[0][0])) || !u(o[0][1]))
            throw new Error("coordinates must contain numbers");
          if (o[o.length - 1][s] !== o[0][s])
            throw new Error("First and last Position are not equivalent.");
        }
      }
      return i({ type: "Polygon", coordinates: t }, e, n);
    }
    function s(t, e, n) {
      if (!t) throw new Error("coordinates is required");
      if (t.length < 2)
        throw new Error(
          "coordinates must be an array of two or more positions"
        );
      if (!u(t[0][1]) || !u(t[0][1]))
        throw new Error("coordinates must contain numbers");
      return i({ type: "LineString", coordinates: t }, e, n);
    }
    function a(t, e) {
      if (!c((e = e || {}))) throw new Error("options is invalid");
      var n = e.bbox,
        i = e.id;
      if (!t) throw new Error("No features passed");
      if (!Array.isArray(t)) throw new Error("features must be an Array");
      n && h(n), i && l(i);
      var r = { type: "FeatureCollection" };
      return i && (r.id = i), n && (r.bbox = n), (r.features = t), r;
    }
    function u(t) {
      return !isNaN(t) && null !== t && !Array.isArray(t);
    }
    function c(t) {
      return !!t && t.constructor === Object;
    }
    function h(t) {
      if (!t) throw new Error("bbox is required");
      if (!Array.isArray(t)) throw new Error("bbox must be an Array");
      if (4 !== t.length && 6 !== t.length)
        throw new Error("bbox must be an Array of 4 or 6 numbers");
      t.forEach(function (t) {
        if (!u(t)) throw new Error("bbox must only contain numbers");
      });
    }
    function l(t) {
      if (!t) throw new Error("id is required");
      if (-1 === ["string", "number"].indexOf(typeof t))
        throw new Error("id must be a number or a string");
    }
  },
  function (t, e, n) {
    var i = n(2),
      r = n(43).f,
      o = n(15),
      s = n(17),
      a = n(90),
      u = n(117),
      c = n(70);
    t.exports = function (t, e) {
      var n,
        h,
        l,
        p,
        f,
        d = t.target,
        g = t.global,
        y = t.stat;
      if ((n = g ? i : y ? i[d] || a(d, {}) : (i[d] || {}).prototype))
        for (h in e) {
          if (
            ((p = e[h]),
            (l = t.noTargetGet ? (f = r(n, h)) && f.value : n[h]),
            !c(g ? h : d + (y ? "." : "#") + h, t.forced) && void 0 !== l)
          ) {
            if (typeof p == typeof l) continue;
            u(p, l);
          }
          (t.sham || (l && l.sham)) && o(p, "sham", !0), s(n, h, p, t);
        }
    };
  },
  function (t, e, n) {
    (function (e) {
      var n = "object",
        i = function (t) {
          return t && t.Math == Math && t;
        };
      t.exports =
        i(typeof globalThis == n && globalThis) ||
        i(typeof window == n && window) ||
        i(typeof self == n && self) ||
        i(typeof e == n && e) ||
        Function("return this")();
    }.call(this, n(113)));
  },
  function (t, e) {
    t.exports = function (t) {
      try {
        return !!t();
      } catch (t) {
        return !0;
      }
    };
  },
  function (t, e, n) {
    "use strict";
    var i,
      r = n(9),
      o = n(2),
      s = n(10),
      a = n(16),
      u = n(67),
      c = n(15),
      h = n(17),
      l = n(13).f,
      p = n(76),
      f = n(60),
      d = n(5),
      g = n(65),
      y = o.DataView,
      _ = y && y.prototype,
      v = o.Int8Array,
      m = v && v.prototype,
      x = o.Uint8ClampedArray,
      E = x && x.prototype,
      b = v && p(v),
      w = m && p(m),
      I = Object.prototype,
      S = I.isPrototypeOf,
      C = d("toStringTag"),
      T = g("TYPED_ARRAY_TAG"),
      O = !(!o.ArrayBuffer || !y),
      R = O && !!f && "Opera" !== u(o.opera),
      L = !1,
      M = {
        Int8Array: 1,
        Uint8Array: 1,
        Uint8ClampedArray: 1,
        Int16Array: 2,
        Uint16Array: 2,
        Int32Array: 4,
        Uint32Array: 4,
        Float32Array: 4,
        Float64Array: 8,
      },
      A = function (t) {
        return s(t) && a(M, u(t));
      };
    for (i in M) o[i] || (R = !1);
    if (
      (!R || "function" != typeof b || b === Function.prototype) &&
      ((b = function () {
        throw TypeError("Incorrect invocation");
      }),
      R)
    )
      for (i in M) o[i] && f(o[i], b);
    if ((!R || !w || w === I) && ((w = b.prototype), R))
      for (i in M) o[i] && f(o[i].prototype, w);
    if ((R && p(E) !== w && f(E, w), r && !a(w, C)))
      for (i in ((L = !0),
      l(w, C, {
        get: function () {
          return s(this) ? this[T] : void 0;
        },
      }),
      M))
        o[i] && c(o[i], T, i);
    O && f && p(_) !== I && f(_, I),
      (t.exports = {
        NATIVE_ARRAY_BUFFER: O,
        NATIVE_ARRAY_BUFFER_VIEWS: R,
        TYPED_ARRAY_TAG: L && T,
        aTypedArray: function (t) {
          if (A(t)) return t;
          throw TypeError("Target is not a typed array");
        },
        aTypedArrayConstructor: function (t) {
          if (f) {
            if (S.call(b, t)) return t;
          } else
            for (var e in M)
              if (a(M, i)) {
                var n = o[e];
                if (n && (t === n || S.call(n, t))) return t;
              }
          throw TypeError("Target is not a typed array constructor");
        },
        exportProto: function (t, e, n) {
          if (r) {
            if (n)
              for (var i in M) {
                var s = o[i];
                s && a(s.prototype, t) && delete s.prototype[t];
              }
            (w[t] && !n) || h(w, t, n ? e : (R && m[t]) || e);
          }
        },
        exportStatic: function (t, e, n) {
          var i, s;
          if (r) {
            if (f) {
              if (n) for (i in M) (s = o[i]) && a(s, t) && delete s[t];
              if (b[t] && !n) return;
              try {
                return h(b, t, n ? e : (R && v[t]) || e);
              } catch (t) {}
            }
            for (i in M) !(s = o[i]) || (s[t] && !n) || h(s, t, e);
          }
        },
        isView: function (t) {
          var e = u(t);
          return "DataView" === e || a(M, e);
        },
        isTypedArray: A,
        TypedArray: b,
        TypedArrayPrototype: w,
      });
  },
  function (t, e, n) {
    var i = n(2),
      r = n(53),
      o = n(65),
      s = n(116),
      a = i.Symbol,
      u = r("wks");
    t.exports = function (t) {
      return u[t] || (u[t] = (s && a[t]) || (s ? a : o)("Symbol." + t));
    };
  },
  function (t, e, n) {
    var i = n(20),
      r = Math.min;
    t.exports = function (t) {
      return t > 0 ? r(i(t), 9007199254740991) : 0;
    };
  },
  function (t, e, n) {
    "use strict";
    n.d(e, "a", function () {
      return r;
    }),
      n.d(e, "b", function () {
        return o;
      }),
      n.d(e, "c", function () {
        return s;
      }),
      n.d(e, "d", function () {
        return a;
      });
    var i = n(0);
    function r(t) {
      if (!t) throw new Error("obj is required");
      var e = o(t);
      if (e.length > 1 && Object(i.c)(e[0]) && Object(i.c)(e[1])) return e;
      throw new Error("Coordinate is not a valid Point");
    }
    function o(t) {
      if (!t) throw new Error("obj is required");
      var e;
      if (
        (t.length
          ? (e = t)
          : t.coordinates
          ? (e = t.coordinates)
          : t.geometry &&
            t.geometry.coordinates &&
            (e = t.geometry.coordinates),
        e)
      )
        return (
          (function t(e) {
            if (e.length > 1 && Object(i.c)(e[0]) && Object(i.c)(e[1]))
              return !0;
            if (Array.isArray(e[0]) && e[0].length) return t(e[0]);
            throw new Error("coordinates must only contain numbers");
          })(e),
          e
        );
      throw new Error("No valid coordinates");
    }
    function s(t) {
      if (!t) throw new Error("geojson is required");
      if (void 0 !== t.geometry) return t.geometry;
      if (t.coordinates || t.geometries) return t;
      throw new Error("geojson must be a valid Feature or Geometry Object");
    }
    function a(t, e) {
      if (!t) throw new Error((e || "geojson") + " is required");
      if (t.geometry && t.geometry.type) return t.geometry.type;
      if (t.type) return t.type;
      throw new Error((e || "geojson") + " is invalid");
    }
  },
  function (t, e, n) {
    "use strict";
    n.d(e, "a", function () {
      return r;
    }),
      n.d(e, "b", function () {
        return o;
      }),
      n.d(e, "d", function () {
        return a;
      }),
      n.d(e, "c", function () {
        return u;
      });
    var i = n(0);
    function r(t, e, n) {
      if (null !== t)
        for (
          var i,
            o,
            s,
            a,
            u,
            c,
            h,
            l,
            p = 0,
            f = 0,
            d = t.type,
            g = "FeatureCollection" === d,
            y = "Feature" === d,
            _ = g ? t.features.length : 1,
            v = 0;
          v < _;
          v++
        ) {
          u = (l =
            !!(h = g ? t.features[v].geometry : y ? t.geometry : t) &&
            "GeometryCollection" === h.type)
            ? h.geometries.length
            : 1;
          for (var m = 0; m < u; m++) {
            var x = 0,
              E = 0;
            if (null !== (a = l ? h.geometries[m] : h)) {
              c = a.coordinates;
              var b = a.type;
              switch (
                ((p = !n || ("Polygon" !== b && "MultiPolygon" !== b) ? 0 : 1),
                b)
              ) {
                case null:
                  break;
                case "Point":
                  e(c, f, v, x, E), f++, x++;
                  break;
                case "LineString":
                case "MultiPoint":
                  for (i = 0; i < c.length; i++)
                    e(c[i], f, v, x, E), f++, "MultiPoint" === b && x++;
                  "LineString" === b && x++;
                  break;
                case "Polygon":
                case "MultiLineString":
                  for (i = 0; i < c.length; i++) {
                    for (o = 0; o < c[i].length - p; o++)
                      e(c[i][o], f, v, x, E), f++;
                    "MultiLineString" === b && x++, "Polygon" === b && E++;
                  }
                  "Polygon" === b && x++;
                  break;
                case "MultiPolygon":
                  for (i = 0; i < c.length; i++) {
                    for (
                      "MultiPolygon" === b && (E = 0), o = 0;
                      o < c[i].length;
                      o++
                    ) {
                      for (s = 0; s < c[i][o].length - p; s++)
                        e(c[i][o][s], f, v, x, E), f++;
                      E++;
                    }
                    x++;
                  }
                  break;
                case "GeometryCollection":
                  for (i = 0; i < a.geometries.length; i++)
                    r(a.geometries[i], e, n);
                  break;
                default:
                  throw new Error("Unknown Geometry Type");
              }
            }
          }
        }
    }
    function o(t, e) {
      if ("Feature" === t.type) e(t, 0);
      else if ("FeatureCollection" === t.type)
        for (var n = 0; n < t.features.length; n++) e(t.features[n], n);
    }
    function s(t, e) {
      var n,
        i,
        r,
        o,
        s,
        a,
        u,
        c,
        h,
        l,
        p = 0,
        f = "FeatureCollection" === t.type,
        d = "Feature" === t.type,
        g = f ? t.features.length : 1;
      for (n = 0; n < g; n++) {
        for (
          a = f ? t.features[n].geometry : d ? t.geometry : t,
            c = f ? t.features[n].properties : d ? t.properties : {},
            h = f ? t.features[n].bbox : d ? t.bbox : void 0,
            l = f ? t.features[n].id : d ? t.id : void 0,
            s = (u = !!a && "GeometryCollection" === a.type)
              ? a.geometries.length
              : 1,
            r = 0;
          r < s;
          r++
        )
          if (null !== (o = u ? a.geometries[r] : a))
            switch (o.type) {
              case "Point":
              case "LineString":
              case "MultiPoint":
              case "Polygon":
              case "MultiLineString":
              case "MultiPolygon":
                e(o, p, c, h, l);
                break;
              case "GeometryCollection":
                for (i = 0; i < o.geometries.length; i++)
                  e(o.geometries[i], p, c, h, l);
                break;
              default:
                throw new Error("Unknown Geometry Type");
            }
          else e(null, p, c, h, l);
        p++;
      }
    }
    function a(t, e, n) {
      var i = n;
      return (
        s(t, function (t, r, o, s, a) {
          i = 0 === r && void 0 === n ? t : e(i, t, r, o, s, a);
        }),
        i
      );
    }
    function u(t, e) {
      s(t, function (t, n, r, o, s) {
        var a,
          u = null === t ? null : t.type;
        switch (u) {
          case null:
          case "Point":
          case "LineString":
          case "Polygon":
            return void e(Object(i.a)(t, r, { bbox: o, id: s }), n, 0);
        }
        switch (u) {
          case "MultiPoint":
            a = "Point";
            break;
          case "MultiLineString":
            a = "LineString";
            break;
          case "MultiPolygon":
            a = "Polygon";
        }
        t.coordinates.forEach(function (t, o) {
          var s = { type: a, coordinates: t };
          e(Object(i.a)(s, r), n, o);
        });
      });
    }
  },
  function (t, e, n) {
    var i = n(3);
    t.exports = !i(function () {
      return (
        7 !=
        Object.defineProperty({}, "a", {
          get: function () {
            return 7;
          },
        }).a
      );
    });
  },
  function (t, e) {
    t.exports = function (t) {
      return "object" == typeof t ? null !== t : "function" == typeof t;
    };
  },
  function (t, e, n) {
    var i = n(10);
    t.exports = function (t) {
      if (!i(t)) throw TypeError(String(t) + " is not an object");
      return t;
    };
  },
  function (t, e, n) {
    var i = n(19);
    t.exports = function (t) {
      return Object(i(t));
    };
  },
  function (t, e, n) {
    var i = n(9),
      r = n(114),
      o = n(11),
      s = n(35),
      a = Object.defineProperty;
    e.f = i
      ? a
      : function (t, e, n) {
          if ((o(t), (e = s(e, !0)), o(n), r))
            try {
              return a(t, e, n);
            } catch (t) {}
          if ("get" in n || "set" in n)
            throw TypeError("Accessors not supported");
          return "value" in n && (t[e] = n.value), t;
        };
  },
  function (t, e, n) {
    var i = n(58),
      r = n(55),
      o = n(12),
      s = n(6),
      a = n(101),
      u = [].push,
      c = function (t) {
        var e = 1 == t,
          n = 2 == t,
          c = 3 == t,
          h = 4 == t,
          l = 6 == t,
          p = 5 == t || l;
        return function (f, d, g, y) {
          for (
            var _,
              v,
              m = o(f),
              x = r(m),
              E = i(d, g, 3),
              b = s(x.length),
              w = 0,
              I = y || a,
              S = e ? I(f, b) : n ? I(f, 0) : void 0;
            b > w;
            w++
          )
            if ((p || w in x) && ((v = E((_ = x[w]), w, m)), t))
              if (e) S[w] = v;
              else if (v)
                switch (t) {
                  case 3:
                    return !0;
                  case 5:
                    return _;
                  case 6:
                    return w;
                  case 2:
                    u.call(S, _);
                }
              else if (h) return !1;
          return l ? -1 : c || h ? h : S;
        };
      };
    t.exports = {
      forEach: c(0),
      map: c(1),
      filter: c(2),
      some: c(3),
      every: c(4),
      find: c(5),
      findIndex: c(6),
    };
  },
  function (t, e, n) {
    var i = n(9),
      r = n(13),
      o = n(41);
    t.exports = i
      ? function (t, e, n) {
          return r.f(t, e, o(1, n));
        }
      : function (t, e, n) {
          return (t[e] = n), t;
        };
  },
  function (t, e) {
    var n = {}.hasOwnProperty;
    t.exports = function (t, e) {
      return n.call(t, e);
    };
  },
  function (t, e, n) {
    var i = n(2),
      r = n(53),
      o = n(15),
      s = n(16),
      a = n(90),
      u = n(115),
      c = n(36),
      h = c.get,
      l = c.enforce,
      p = String(u).split("toString");
    r("inspectSource", function (t) {
      return u.call(t);
    }),
      (t.exports = function (t, e, n, r) {
        var u = !!r && !!r.unsafe,
          c = !!r && !!r.enumerable,
          h = !!r && !!r.noTargetGet;
        "function" == typeof n &&
          ("string" != typeof e || s(n, "name") || o(n, "name", e),
          (l(n).source = p.join("string" == typeof e ? e : ""))),
          t !== i
            ? (u ? !h && t[e] && (c = !0) : delete t[e],
              c ? (t[e] = n) : o(t, e, n))
            : c
            ? (t[e] = n)
            : a(e, n);
      })(Function.prototype, "toString", function () {
        return ("function" == typeof this && h(this).source) || u.call(this);
      });
  },
  function (t, e, n) {
    !(function (t) {
      "use strict";
      function e() {}
      function n(t) {
        this.message = t || "";
      }
      function i(t) {
        this.message = t || "";
      }
      function r(t) {
        this.message = t || "";
      }
      function o() {}
      function s(t) {
        return null === t ? Pt : t.color;
      }
      function a(t) {
        return null === t ? null : t.parent;
      }
      function u(t, e) {
        null !== t && (t.color = e);
      }
      function c(t) {
        return null === t ? null : t.left;
      }
      function h(t) {
        return null === t ? null : t.right;
      }
      function l() {
        (this.root_ = null), (this.size_ = 0);
      }
      function p() {}
      function f() {
        (this.array_ = []),
          arguments[0] instanceof xt && this.addAll(arguments[0]);
      }
      function d() {}
      function g(t) {
        this.message = t || "";
      }
      function y() {
        this.array_ = [];
      }
      "fill" in Array.prototype ||
        Object.defineProperty(Array.prototype, "fill", {
          configurable: !0,
          value: function (t) {
            if (null == this) throw new TypeError(this + " is not an object");
            var e = Object(this),
              n = Math.max(Math.min(e.length, 9007199254740991), 0) || 0,
              i = (1 in arguments && parseInt(Number(arguments[1]), 10)) || 0;
            i = i < 0 ? Math.max(n + i, 0) : Math.min(i, n);
            var r =
              2 in arguments && void 0 !== arguments[2]
                ? parseInt(Number(arguments[2]), 10) || 0
                : n;
            for (
              r = r < 0 ? Math.max(n + arguments[2], 0) : Math.min(r, n);
              i < r;

            )
              (e[i] = t), ++i;
            return e;
          },
          writable: !0,
        }),
        (Number.isFinite =
          Number.isFinite ||
          function (t) {
            return "number" == typeof t && isFinite(t);
          }),
        (Number.isInteger =
          Number.isInteger ||
          function (t) {
            return "number" == typeof t && isFinite(t) && Math.floor(t) === t;
          }),
        (Number.parseFloat = Number.parseFloat || parseFloat),
        (Number.isNaN =
          Number.isNaN ||
          function (t) {
            return t != t;
          }),
        (Math.trunc =
          Math.trunc ||
          function (t) {
            return t < 0 ? Math.ceil(t) : Math.floor(t);
          });
      var _ = function () {};
      (_.prototype.interfaces_ = function () {
        return [];
      }),
        (_.prototype.getClass = function () {
          return _;
        }),
        (_.prototype.equalsWithTolerance = function (t, e, n) {
          return Math.abs(t - e) <= n;
        });
      var v = (function (t) {
          function e(e) {
            t.call(this, e),
              (this.name = "IllegalArgumentException"),
              (this.message = e),
              (this.stack = new t().stack);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            e
          );
        })(Error),
        m = function () {},
        x = { MAX_VALUE: { configurable: !0 } };
      (m.isNaN = function (t) {
        return Number.isNaN(t);
      }),
        (m.doubleToLongBits = function (t) {
          return t;
        }),
        (m.longBitsToDouble = function (t) {
          return t;
        }),
        (m.isInfinite = function (t) {
          return !Number.isFinite(t);
        }),
        (x.MAX_VALUE.get = function () {
          return Number.MAX_VALUE;
        }),
        Object.defineProperties(m, x);
      var E = function () {},
        b = function () {},
        w = function () {},
        I = function t() {
          if (
            ((this.x = null),
            (this.y = null),
            (this.z = null),
            0 === arguments.length)
          )
            (this.x = 0), (this.y = 0), (this.z = t.NULL_ORDINATE);
          else if (1 === arguments.length) {
            var e = arguments[0];
            (this.x = e.x), (this.y = e.y), (this.z = e.z);
          } else
            2 === arguments.length
              ? ((this.x = arguments[0]),
                (this.y = arguments[1]),
                (this.z = t.NULL_ORDINATE))
              : 3 === arguments.length &&
                ((this.x = arguments[0]),
                (this.y = arguments[1]),
                (this.z = arguments[2]));
        },
        S = {
          DimensionalComparator: { configurable: !0 },
          serialVersionUID: { configurable: !0 },
          NULL_ORDINATE: { configurable: !0 },
          X: { configurable: !0 },
          Y: { configurable: !0 },
          Z: { configurable: !0 },
        };
      (I.prototype.setOrdinate = function (t, e) {
        switch (t) {
          case I.X:
            this.x = e;
            break;
          case I.Y:
            this.y = e;
            break;
          case I.Z:
            this.z = e;
            break;
          default:
            throw new v("Invalid ordinate index: " + t);
        }
      }),
        (I.prototype.equals2D = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return this.x === t.x && this.y === t.y;
          }
          if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            return (
              !!_.equalsWithTolerance(this.x, e.x, n) &&
              !!_.equalsWithTolerance(this.y, e.y, n)
            );
          }
        }),
        (I.prototype.getOrdinate = function (t) {
          switch (t) {
            case I.X:
              return this.x;
            case I.Y:
              return this.y;
            case I.Z:
              return this.z;
          }
          throw new v("Invalid ordinate index: " + t);
        }),
        (I.prototype.equals3D = function (t) {
          return (
            this.x === t.x &&
            this.y === t.y &&
            (this.z === t.z || m.isNaN(this.z)) &&
            m.isNaN(t.z)
          );
        }),
        (I.prototype.equals = function (t) {
          return t instanceof I && this.equals2D(t);
        }),
        (I.prototype.equalInZ = function (t, e) {
          return _.equalsWithTolerance(this.z, t.z, e);
        }),
        (I.prototype.compareTo = function (t) {
          var e = t;
          return this.x < e.x
            ? -1
            : this.x > e.x
            ? 1
            : this.y < e.y
            ? -1
            : this.y > e.y
            ? 1
            : 0;
        }),
        (I.prototype.clone = function () {}),
        (I.prototype.copy = function () {
          return new I(this);
        }),
        (I.prototype.toString = function () {
          return "(" + this.x + ", " + this.y + ", " + this.z + ")";
        }),
        (I.prototype.distance3D = function (t) {
          var e = this.x - t.x,
            n = this.y - t.y,
            i = this.z - t.z;
          return Math.sqrt(e * e + n * n + i * i);
        }),
        (I.prototype.distance = function (t) {
          var e = this.x - t.x,
            n = this.y - t.y;
          return Math.sqrt(e * e + n * n);
        }),
        (I.prototype.hashCode = function () {
          var t = 17;
          return 37 * (t = 37 * t + I.hashCode(this.x)) + I.hashCode(this.y);
        }),
        (I.prototype.setCoordinate = function (t) {
          (this.x = t.x), (this.y = t.y), (this.z = t.z);
        }),
        (I.prototype.interfaces_ = function () {
          return [E, b, e];
        }),
        (I.prototype.getClass = function () {
          return I;
        }),
        (I.hashCode = function () {
          if (1 === arguments.length) {
            var t = arguments[0],
              e = m.doubleToLongBits(t);
            return Math.trunc((e ^ e) >>> 32);
          }
        }),
        (S.DimensionalComparator.get = function () {
          return C;
        }),
        (S.serialVersionUID.get = function () {
          return 0x5cbf2c235c7e5800;
        }),
        (S.NULL_ORDINATE.get = function () {
          return m.NaN;
        }),
        (S.X.get = function () {
          return 0;
        }),
        (S.Y.get = function () {
          return 1;
        }),
        (S.Z.get = function () {
          return 2;
        }),
        Object.defineProperties(I, S);
      var C = function (t) {
        if (((this._dimensionsToTest = 2), 0 === arguments.length));
        else if (1 === arguments.length) {
          var e = arguments[0];
          if (2 !== e && 3 !== e)
            throw new v("only 2 or 3 dimensions may be specified");
          this._dimensionsToTest = e;
        }
      };
      (C.prototype.compare = function (t, e) {
        var n = t,
          i = e,
          r = C.compare(n.x, i.x);
        if (0 !== r) return r;
        var o = C.compare(n.y, i.y);
        return 0 !== o
          ? o
          : this._dimensionsToTest <= 2
          ? 0
          : C.compare(n.z, i.z);
      }),
        (C.prototype.interfaces_ = function () {
          return [w];
        }),
        (C.prototype.getClass = function () {
          return C;
        }),
        (C.compare = function (t, e) {
          return t < e
            ? -1
            : t > e
            ? 1
            : m.isNaN(t)
            ? m.isNaN(e)
              ? 0
              : -1
            : m.isNaN(e)
            ? 1
            : 0;
        });
      var T = function () {};
      (T.prototype.create = function () {}),
        (T.prototype.interfaces_ = function () {
          return [];
        }),
        (T.prototype.getClass = function () {
          return T;
        });
      var O = function () {},
        R = {
          INTERIOR: { configurable: !0 },
          BOUNDARY: { configurable: !0 },
          EXTERIOR: { configurable: !0 },
          NONE: { configurable: !0 },
        };
      (O.prototype.interfaces_ = function () {
        return [];
      }),
        (O.prototype.getClass = function () {
          return O;
        }),
        (O.toLocationSymbol = function (t) {
          switch (t) {
            case O.EXTERIOR:
              return "e";
            case O.BOUNDARY:
              return "b";
            case O.INTERIOR:
              return "i";
            case O.NONE:
              return "-";
          }
          throw new v("Unknown location value: " + t);
        }),
        (R.INTERIOR.get = function () {
          return 0;
        }),
        (R.BOUNDARY.get = function () {
          return 1;
        }),
        (R.EXTERIOR.get = function () {
          return 2;
        }),
        (R.NONE.get = function () {
          return -1;
        }),
        Object.defineProperties(O, R);
      var L = function (t, e) {
          return t.interfaces_ && t.interfaces_().indexOf(e) > -1;
        },
        M = function () {},
        A = { LOG_10: { configurable: !0 } };
      (M.prototype.interfaces_ = function () {
        return [];
      }),
        (M.prototype.getClass = function () {
          return M;
        }),
        (M.log10 = function (t) {
          var e = Math.log(t);
          return m.isInfinite(e) ? e : m.isNaN(e) ? e : e / M.LOG_10;
        }),
        (M.min = function (t, e, n, i) {
          var r = t;
          return e < r && (r = e), n < r && (r = n), i < r && (r = i), r;
        }),
        (M.clamp = function () {
          if (
            "number" == typeof arguments[2] &&
            "number" == typeof arguments[0] &&
            "number" == typeof arguments[1]
          ) {
            var t = arguments[0],
              e = arguments[1],
              n = arguments[2];
            return t < e ? e : t > n ? n : t;
          }
          if (
            Number.isInteger(arguments[2]) &&
            Number.isInteger(arguments[0]) &&
            Number.isInteger(arguments[1])
          ) {
            var i = arguments[0],
              r = arguments[1],
              o = arguments[2];
            return i < r ? r : i > o ? o : i;
          }
        }),
        (M.wrap = function (t, e) {
          return t < 0 ? e - (-t % e) : t % e;
        }),
        (M.max = function () {
          if (3 === arguments.length) {
            var t = arguments[0],
              e = arguments[1],
              n = arguments[2],
              i = t;
            return e > i && (i = e), n > i && (i = n), i;
          }
          if (4 === arguments.length) {
            var r = arguments[0],
              o = arguments[1],
              s = arguments[2],
              a = arguments[3],
              u = r;
            return o > u && (u = o), s > u && (u = s), a > u && (u = a), u;
          }
        }),
        (M.average = function (t, e) {
          return (t + e) / 2;
        }),
        (A.LOG_10.get = function () {
          return Math.log(10);
        }),
        Object.defineProperties(M, A);
      var N = function (t) {
        this.str = t;
      };
      (N.prototype.append = function (t) {
        this.str += t;
      }),
        (N.prototype.setCharAt = function (t, e) {
          this.str = this.str.substr(0, t) + e + this.str.substr(t + 1);
        }),
        (N.prototype.toString = function (t) {
          return this.str;
        });
      var P = function (t) {
        this.value = t;
      };
      (P.prototype.intValue = function () {
        return this.value;
      }),
        (P.prototype.compareTo = function (t) {
          return this.value < t ? -1 : this.value > t ? 1 : 0;
        }),
        (P.isNaN = function (t) {
          return Number.isNaN(t);
        });
      var D = function () {};
      (D.isWhitespace = function (t) {
        return (t <= 32 && t >= 0) || 127 === t;
      }),
        (D.toUpperCase = function (t) {
          return t.toUpperCase();
        });
      var k = function t() {
          if (((this._hi = 0), (this._lo = 0), 0 === arguments.length))
            this.init(0);
          else if (1 === arguments.length) {
            if ("number" == typeof arguments[0]) {
              var e = arguments[0];
              this.init(e);
            } else if (arguments[0] instanceof t) {
              var n = arguments[0];
              this.init(n);
            } else if ("string" == typeof arguments[0]) {
              var i = arguments[0];
              t.call(this, t.parse(i));
            }
          } else if (2 === arguments.length) {
            var r = arguments[0],
              o = arguments[1];
            this.init(r, o);
          }
        },
        F = {
          PI: { configurable: !0 },
          TWO_PI: { configurable: !0 },
          PI_2: { configurable: !0 },
          E: { configurable: !0 },
          NaN: { configurable: !0 },
          EPS: { configurable: !0 },
          SPLIT: { configurable: !0 },
          MAX_PRINT_DIGITS: { configurable: !0 },
          TEN: { configurable: !0 },
          ONE: { configurable: !0 },
          SCI_NOT_EXPONENT_CHAR: { configurable: !0 },
          SCI_NOT_ZERO: { configurable: !0 },
        };
      (k.prototype.le = function (t) {
        return (this._hi < t._hi || this._hi === t._hi) && this._lo <= t._lo;
      }),
        (k.prototype.extractSignificantDigits = function (t, e) {
          var n = this.abs(),
            i = k.magnitude(n._hi),
            r = k.TEN.pow(i);
          (n = n.divide(r)).gt(k.TEN)
            ? ((n = n.divide(k.TEN)), (i += 1))
            : n.lt(k.ONE) && ((n = n.multiply(k.TEN)), (i -= 1));
          for (
            var o = i + 1, s = new N(), a = k.MAX_PRINT_DIGITS - 1, u = 0;
            u <= a;
            u++
          ) {
            t && u === o && s.append(".");
            var c = Math.trunc(n._hi);
            if (c < 0) break;
            var h = !1,
              l = 0;
            c > 9 ? ((h = !0), (l = "9")) : (l = "0" + c),
              s.append(l),
              (n = n.subtract(k.valueOf(c)).multiply(k.TEN)),
              h && n.selfAdd(k.TEN);
            var p = !0,
              f = k.magnitude(n._hi);
            if ((f < 0 && Math.abs(f) >= a - u && (p = !1), !p)) break;
          }
          return (e[0] = i), s.toString();
        }),
        (k.prototype.sqr = function () {
          return this.multiply(this);
        }),
        (k.prototype.doubleValue = function () {
          return this._hi + this._lo;
        }),
        (k.prototype.subtract = function () {
          if (arguments[0] instanceof k) {
            var t = arguments[0];
            return this.add(t.negate());
          }
          if ("number" == typeof arguments[0]) {
            var e = arguments[0];
            return this.add(-e);
          }
        }),
        (k.prototype.equals = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return this._hi === t._hi && this._lo === t._lo;
          }
        }),
        (k.prototype.isZero = function () {
          return 0 === this._hi && 0 === this._lo;
        }),
        (k.prototype.selfSubtract = function () {
          if (arguments[0] instanceof k) {
            var t = arguments[0];
            return this.isNaN() ? this : this.selfAdd(-t._hi, -t._lo);
          }
          if ("number" == typeof arguments[0]) {
            var e = arguments[0];
            return this.isNaN() ? this : this.selfAdd(-e, 0);
          }
        }),
        (k.prototype.getSpecialNumberString = function () {
          return this.isZero() ? "0.0" : this.isNaN() ? "NaN " : null;
        }),
        (k.prototype.min = function (t) {
          return this.le(t) ? this : t;
        }),
        (k.prototype.selfDivide = function () {
          if (1 === arguments.length) {
            if (arguments[0] instanceof k) {
              var t = arguments[0];
              return this.selfDivide(t._hi, t._lo);
            }
            if ("number" == typeof arguments[0]) {
              var e = arguments[0];
              return this.selfDivide(e, 0);
            }
          } else if (2 === arguments.length) {
            var n = arguments[0],
              i = arguments[1],
              r = null,
              o = null,
              s = null,
              a = null,
              u = null,
              c = null,
              h = null,
              l = null;
            return (
              (u = this._hi / n),
              (l =
                (r = (c = k.SPLIT * u) - (r = c - u)) *
                  (s = (l = k.SPLIT * n) - (s = l - n)) -
                (h = u * n) +
                r * (a = n - s) +
                (o = u - r) * s +
                o * a),
              (l = u + (c = (this._hi - h - l + this._lo - u * i) / n)),
              (this._hi = l),
              (this._lo = u - l + c),
              this
            );
          }
        }),
        (k.prototype.dump = function () {
          return "DD<" + this._hi + ", " + this._lo + ">";
        }),
        (k.prototype.divide = function () {
          if (arguments[0] instanceof k) {
            var t = arguments[0],
              e = null,
              n = null,
              i = null,
              r = null,
              o = null,
              s = null,
              a = null,
              u = null;
            return (
              (n =
                (o = this._hi / t._hi) - (e = (s = k.SPLIT * o) - (e = s - o))),
              (u =
                e * (i = (u = k.SPLIT * t._hi) - (i = u - t._hi)) -
                (a = o * t._hi) +
                e * (r = t._hi - i) +
                n * i +
                n * r),
              (s = (this._hi - a - u + this._lo - o * t._lo) / t._hi),
              new k((u = o + s), o - u + s)
            );
          }
          if ("number" == typeof arguments[0]) {
            var c = arguments[0];
            return m.isNaN(c) ? k.createNaN() : k.copy(this).selfDivide(c, 0);
          }
        }),
        (k.prototype.ge = function (t) {
          return (this._hi > t._hi || this._hi === t._hi) && this._lo >= t._lo;
        }),
        (k.prototype.pow = function (t) {
          if (0 === t) return k.valueOf(1);
          var e = new k(this),
            n = k.valueOf(1),
            i = Math.abs(t);
          if (i > 1)
            for (; i > 0; )
              i % 2 == 1 && n.selfMultiply(e), (i /= 2) > 0 && (e = e.sqr());
          else n = e;
          return t < 0 ? n.reciprocal() : n;
        }),
        (k.prototype.ceil = function () {
          if (this.isNaN()) return k.NaN;
          var t = Math.ceil(this._hi),
            e = 0;
          return t === this._hi && (e = Math.ceil(this._lo)), new k(t, e);
        }),
        (k.prototype.compareTo = function (t) {
          var e = t;
          return this._hi < e._hi
            ? -1
            : this._hi > e._hi
            ? 1
            : this._lo < e._lo
            ? -1
            : this._lo > e._lo
            ? 1
            : 0;
        }),
        (k.prototype.rint = function () {
          return this.isNaN() ? this : this.add(0.5).floor();
        }),
        (k.prototype.setValue = function () {
          if (arguments[0] instanceof k) {
            var t = arguments[0];
            return this.init(t), this;
          }
          if ("number" == typeof arguments[0]) {
            var e = arguments[0];
            return this.init(e), this;
          }
        }),
        (k.prototype.max = function (t) {
          return this.ge(t) ? this : t;
        }),
        (k.prototype.sqrt = function () {
          if (this.isZero()) return k.valueOf(0);
          if (this.isNegative()) return k.NaN;
          var t = 1 / Math.sqrt(this._hi),
            e = this._hi * t,
            n = k.valueOf(e),
            i = this.subtract(n.sqr())._hi * (0.5 * t);
          return n.add(i);
        }),
        (k.prototype.selfAdd = function () {
          if (1 === arguments.length) {
            if (arguments[0] instanceof k) {
              var t = arguments[0];
              return this.selfAdd(t._hi, t._lo);
            }
            if ("number" == typeof arguments[0]) {
              var e = arguments[0],
                n = null,
                i = null,
                r = null,
                o = null,
                s = null,
                a = null;
              return (
                (o = (r = this._hi + e) - (s = r - this._hi)),
                (i =
                  (a = (o = e - s + (this._hi - o)) + this._lo) +
                  (r - (n = r + a))),
                (this._hi = n + i),
                (this._lo = i + (n - this._hi)),
                this
              );
            }
          } else if (2 === arguments.length) {
            var u = arguments[0],
              c = arguments[1],
              h = null,
              l = null,
              p = null,
              f = null,
              d = null,
              g = null,
              y = null;
            (f = this._hi + u),
              (l = this._lo + c),
              (d = f - (g = f - this._hi)),
              (p = l - (y = l - this._lo));
            var _ =
                (h = f + (g = (d = u - g + (this._hi - d)) + l)) +
                (g = (p = c - y + (this._lo - p)) + (g + (f - h))),
              v = g + (h - _);
            return (this._hi = _), (this._lo = v), this;
          }
        }),
        (k.prototype.selfMultiply = function () {
          if (1 === arguments.length) {
            if (arguments[0] instanceof k) {
              var t = arguments[0];
              return this.selfMultiply(t._hi, t._lo);
            }
            if ("number" == typeof arguments[0]) {
              var e = arguments[0];
              return this.selfMultiply(e, 0);
            }
          } else if (2 === arguments.length) {
            var n = arguments[0],
              i = arguments[1],
              r = null,
              o = null,
              s = null,
              a = null,
              u = null,
              c = null;
            (r = (u = k.SPLIT * this._hi) - this._hi),
              (c = k.SPLIT * n),
              (r = u - r),
              (o = this._hi - r),
              (s = c - n);
            var h =
                (u = this._hi * n) +
                (c =
                  r * (s = c - s) -
                  u +
                  r * (a = n - s) +
                  o * s +
                  o * a +
                  (this._hi * i + this._lo * n)),
              l = c + (r = u - h);
            return (this._hi = h), (this._lo = l), this;
          }
        }),
        (k.prototype.selfSqr = function () {
          return this.selfMultiply(this);
        }),
        (k.prototype.floor = function () {
          if (this.isNaN()) return k.NaN;
          var t = Math.floor(this._hi),
            e = 0;
          return t === this._hi && (e = Math.floor(this._lo)), new k(t, e);
        }),
        (k.prototype.negate = function () {
          return this.isNaN() ? this : new k(-this._hi, -this._lo);
        }),
        (k.prototype.clone = function () {}),
        (k.prototype.multiply = function () {
          if (arguments[0] instanceof k) {
            var t = arguments[0];
            return t.isNaN() ? k.createNaN() : k.copy(this).selfMultiply(t);
          }
          if ("number" == typeof arguments[0]) {
            var e = arguments[0];
            return m.isNaN(e) ? k.createNaN() : k.copy(this).selfMultiply(e, 0);
          }
        }),
        (k.prototype.isNaN = function () {
          return m.isNaN(this._hi);
        }),
        (k.prototype.intValue = function () {
          return Math.trunc(this._hi);
        }),
        (k.prototype.toString = function () {
          var t = k.magnitude(this._hi);
          return t >= -3 && t <= 20
            ? this.toStandardNotation()
            : this.toSciNotation();
        }),
        (k.prototype.toStandardNotation = function () {
          var t = this.getSpecialNumberString();
          if (null !== t) return t;
          var e = new Array(1).fill(null),
            n = this.extractSignificantDigits(!0, e),
            i = e[0] + 1,
            r = n;
          if ("." === n.charAt(0)) r = "0" + n;
          else if (i < 0) r = "0." + k.stringOfChar("0", -i) + n;
          else if (-1 === n.indexOf(".")) {
            var o = i - n.length;
            r = n + k.stringOfChar("0", o) + ".0";
          }
          return this.isNegative() ? "-" + r : r;
        }),
        (k.prototype.reciprocal = function () {
          var t,
            e,
            n,
            i,
            r = null,
            o = null,
            s = null,
            a = null;
          (t = (n = 1 / this._hi) - (r = (s = k.SPLIT * n) - (r = s - n))),
            (o = (a = k.SPLIT * this._hi) - this._hi);
          var u =
            n +
            (s =
              (1 -
                (i = n * this._hi) -
                (a =
                  r * (o = a - o) -
                  i +
                  r * (e = this._hi - o) +
                  t * o +
                  t * e) -
                n * this._lo) /
              this._hi);
          return new k(u, n - u + s);
        }),
        (k.prototype.toSciNotation = function () {
          if (this.isZero()) return k.SCI_NOT_ZERO;
          var t = this.getSpecialNumberString();
          if (null !== t) return t;
          var e = new Array(1).fill(null),
            n = this.extractSignificantDigits(!1, e),
            i = k.SCI_NOT_EXPONENT_CHAR + e[0];
          if ("0" === n.charAt(0)) throw new Error("Found leading zero: " + n);
          var r = "";
          n.length > 1 && (r = n.substring(1));
          var o = n.charAt(0) + "." + r;
          return this.isNegative() ? "-" + o + i : o + i;
        }),
        (k.prototype.abs = function () {
          return this.isNaN()
            ? k.NaN
            : this.isNegative()
            ? this.negate()
            : new k(this);
        }),
        (k.prototype.isPositive = function () {
          return (this._hi > 0 || 0 === this._hi) && this._lo > 0;
        }),
        (k.prototype.lt = function (t) {
          return (this._hi < t._hi || this._hi === t._hi) && this._lo < t._lo;
        }),
        (k.prototype.add = function () {
          if (arguments[0] instanceof k) {
            var t = arguments[0];
            return k.copy(this).selfAdd(t);
          }
          if ("number" == typeof arguments[0]) {
            var e = arguments[0];
            return k.copy(this).selfAdd(e);
          }
        }),
        (k.prototype.init = function () {
          if (1 === arguments.length) {
            if ("number" == typeof arguments[0]) {
              var t = arguments[0];
              (this._hi = t), (this._lo = 0);
            } else if (arguments[0] instanceof k) {
              var e = arguments[0];
              (this._hi = e._hi), (this._lo = e._lo);
            }
          } else if (2 === arguments.length) {
            var n = arguments[0],
              i = arguments[1];
            (this._hi = n), (this._lo = i);
          }
        }),
        (k.prototype.gt = function (t) {
          return (this._hi > t._hi || this._hi === t._hi) && this._lo > t._lo;
        }),
        (k.prototype.isNegative = function () {
          return (this._hi < 0 || 0 === this._hi) && this._lo < 0;
        }),
        (k.prototype.trunc = function () {
          return this.isNaN()
            ? k.NaN
            : this.isPositive()
            ? this.floor()
            : this.ceil();
        }),
        (k.prototype.signum = function () {
          return this._hi > 0
            ? 1
            : this._hi < 0
            ? -1
            : this._lo > 0
            ? 1
            : this._lo < 0
            ? -1
            : 0;
        }),
        (k.prototype.interfaces_ = function () {
          return [e, E, b];
        }),
        (k.prototype.getClass = function () {
          return k;
        }),
        (k.sqr = function (t) {
          return k.valueOf(t).selfMultiply(t);
        }),
        (k.valueOf = function () {
          if ("string" == typeof arguments[0]) {
            var t = arguments[0];
            return k.parse(t);
          }
          if ("number" == typeof arguments[0]) {
            var e = arguments[0];
            return new k(e);
          }
        }),
        (k.sqrt = function (t) {
          return k.valueOf(t).sqrt();
        }),
        (k.parse = function (t) {
          for (var e = 0, n = t.length; D.isWhitespace(t.charAt(e)); ) e++;
          var i = !1;
          if (e < n) {
            var r = t.charAt(e);
            ("-" !== r && "+" !== r) || (e++, "-" === r && (i = !0));
          }
          for (var o = new k(), s = 0, a = 0, u = 0; !(e >= n); ) {
            var c = t.charAt(e);
            if ((e++, D.isDigit(c))) {
              var h = c - "0";
              o.selfMultiply(k.TEN), o.selfAdd(h), s++;
            } else {
              if ("." !== c) {
                if ("e" === c || "E" === c) {
                  var l = t.substring(e);
                  try {
                    u = P.parseInt(l);
                  } catch (e) {
                    throw e instanceof Error
                      ? new Error("Invalid exponent " + l + " in string " + t)
                      : e;
                  }
                  break;
                }
                throw new Error(
                  "Unexpected character '" +
                    c +
                    "' at position " +
                    e +
                    " in string " +
                    t
                );
              }
              a = s;
            }
          }
          var p = o,
            f = s - a - u;
          if (0 === f) p = o;
          else if (f > 0) {
            var d = k.TEN.pow(f);
            p = o.divide(d);
          } else if (f < 0) {
            var g = k.TEN.pow(-f);
            p = o.multiply(g);
          }
          return i ? p.negate() : p;
        }),
        (k.createNaN = function () {
          return new k(m.NaN, m.NaN);
        }),
        (k.copy = function (t) {
          return new k(t);
        }),
        (k.magnitude = function (t) {
          var e = Math.abs(t),
            n = Math.log(e) / Math.log(10),
            i = Math.trunc(Math.floor(n));
          return 10 * Math.pow(10, i) <= e && (i += 1), i;
        }),
        (k.stringOfChar = function (t, e) {
          for (var n = new N(), i = 0; i < e; i++) n.append(t);
          return n.toString();
        }),
        (F.PI.get = function () {
          return new k(3.141592653589793, 12246467991473532e-32);
        }),
        (F.TWO_PI.get = function () {
          return new k(6.283185307179586, 24492935982947064e-32);
        }),
        (F.PI_2.get = function () {
          return new k(1.5707963267948966, 6123233995736766e-32);
        }),
        (F.E.get = function () {
          return new k(2.718281828459045, 14456468917292502e-32);
        }),
        (F.NaN.get = function () {
          return new k(m.NaN, m.NaN);
        }),
        (F.EPS.get = function () {
          return 123259516440783e-46;
        }),
        (F.SPLIT.get = function () {
          return 134217729;
        }),
        (F.MAX_PRINT_DIGITS.get = function () {
          return 32;
        }),
        (F.TEN.get = function () {
          return k.valueOf(10);
        }),
        (F.ONE.get = function () {
          return k.valueOf(1);
        }),
        (F.SCI_NOT_EXPONENT_CHAR.get = function () {
          return "E";
        }),
        (F.SCI_NOT_ZERO.get = function () {
          return "0.0E0";
        }),
        Object.defineProperties(k, F);
      var G = function () {},
        j = { DP_SAFE_EPSILON: { configurable: !0 } };
      (G.prototype.interfaces_ = function () {
        return [];
      }),
        (G.prototype.getClass = function () {
          return G;
        }),
        (G.orientationIndex = function (t, e, n) {
          var i = G.orientationIndexFilter(t, e, n);
          if (i <= 1) return i;
          var r = k.valueOf(e.x).selfAdd(-t.x),
            o = k.valueOf(e.y).selfAdd(-t.y),
            s = k.valueOf(n.x).selfAdd(-e.x),
            a = k.valueOf(n.y).selfAdd(-e.y);
          return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum();
        }),
        (G.signOfDet2x2 = function (t, e, n, i) {
          return t.multiply(i).selfSubtract(e.multiply(n)).signum();
        }),
        (G.intersection = function (t, e, n, i) {
          var r = k
              .valueOf(i.y)
              .selfSubtract(n.y)
              .selfMultiply(k.valueOf(e.x).selfSubtract(t.x)),
            o = k
              .valueOf(i.x)
              .selfSubtract(n.x)
              .selfMultiply(k.valueOf(e.y).selfSubtract(t.y)),
            s = r.subtract(o),
            a = k
              .valueOf(i.x)
              .selfSubtract(n.x)
              .selfMultiply(k.valueOf(t.y).selfSubtract(n.y)),
            u = k
              .valueOf(i.y)
              .selfSubtract(n.y)
              .selfMultiply(k.valueOf(t.x).selfSubtract(n.x)),
            c = a.subtract(u).selfDivide(s).doubleValue(),
            h = k
              .valueOf(t.x)
              .selfAdd(k.valueOf(e.x).selfSubtract(t.x).selfMultiply(c))
              .doubleValue(),
            l = k
              .valueOf(e.x)
              .selfSubtract(t.x)
              .selfMultiply(k.valueOf(t.y).selfSubtract(n.y)),
            p = k
              .valueOf(e.y)
              .selfSubtract(t.y)
              .selfMultiply(k.valueOf(t.x).selfSubtract(n.x)),
            f = l.subtract(p).selfDivide(s).doubleValue(),
            d = k
              .valueOf(n.y)
              .selfAdd(k.valueOf(i.y).selfSubtract(n.y).selfMultiply(f))
              .doubleValue();
          return new I(h, d);
        }),
        (G.orientationIndexFilter = function (t, e, n) {
          var i = null,
            r = (t.x - n.x) * (e.y - n.y),
            o = (t.y - n.y) * (e.x - n.x),
            s = r - o;
          if (r > 0) {
            if (o <= 0) return G.signum(s);
            i = r + o;
          } else {
            if (!(r < 0)) return G.signum(s);
            if (o >= 0) return G.signum(s);
            i = -r - o;
          }
          var a = G.DP_SAFE_EPSILON * i;
          return s >= a || -s >= a ? G.signum(s) : 2;
        }),
        (G.signum = function (t) {
          return t > 0 ? 1 : t < 0 ? -1 : 0;
        }),
        (j.DP_SAFE_EPSILON.get = function () {
          return 1e-15;
        }),
        Object.defineProperties(G, j);
      var B = function () {},
        U = {
          X: { configurable: !0 },
          Y: { configurable: !0 },
          Z: { configurable: !0 },
          M: { configurable: !0 },
        };
      (U.X.get = function () {
        return 0;
      }),
        (U.Y.get = function () {
          return 1;
        }),
        (U.Z.get = function () {
          return 2;
        }),
        (U.M.get = function () {
          return 3;
        }),
        (B.prototype.setOrdinate = function (t, e, n) {}),
        (B.prototype.size = function () {}),
        (B.prototype.getOrdinate = function (t, e) {}),
        (B.prototype.getCoordinate = function () {}),
        (B.prototype.getCoordinateCopy = function (t) {}),
        (B.prototype.getDimension = function () {}),
        (B.prototype.getX = function (t) {}),
        (B.prototype.clone = function () {}),
        (B.prototype.expandEnvelope = function (t) {}),
        (B.prototype.copy = function () {}),
        (B.prototype.getY = function (t) {}),
        (B.prototype.toCoordinateArray = function () {}),
        (B.prototype.interfaces_ = function () {
          return [b];
        }),
        (B.prototype.getClass = function () {
          return B;
        }),
        Object.defineProperties(B, U);
      var Y = function () {},
        X = (function (t) {
          function e() {
            t.call(
              this,
              "Projective point not representable on the Cartesian plane."
            );
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            e
          );
        })(Y),
        z = function () {};
      (z.arraycopy = function (t, e, n, i, r) {
        for (var o = 0, s = e; s < e + r; s++) (n[i + o] = t[s]), o++;
      }),
        (z.getProperty = function (t) {
          return { "line.separator": "\n" }[t];
        });
      var V = function t() {
        if (
          ((this.x = null),
          (this.y = null),
          (this.w = null),
          0 === arguments.length)
        )
          (this.x = 0), (this.y = 0), (this.w = 1);
        else if (1 === arguments.length) {
          var e = arguments[0];
          (this.x = e.x), (this.y = e.y), (this.w = 1);
        } else if (2 === arguments.length) {
          if (
            "number" == typeof arguments[0] &&
            "number" == typeof arguments[1]
          ) {
            var n = arguments[0],
              i = arguments[1];
            (this.x = n), (this.y = i), (this.w = 1);
          } else if (arguments[0] instanceof t && arguments[1] instanceof t) {
            var r = arguments[0],
              o = arguments[1];
            (this.x = r.y * o.w - o.y * r.w),
              (this.y = o.x * r.w - r.x * o.w),
              (this.w = r.x * o.y - o.x * r.y);
          } else if (arguments[0] instanceof I && arguments[1] instanceof I) {
            var s = arguments[0],
              a = arguments[1];
            (this.x = s.y - a.y),
              (this.y = a.x - s.x),
              (this.w = s.x * a.y - a.x * s.y);
          }
        } else if (3 === arguments.length) {
          var u = arguments[0],
            c = arguments[1],
            h = arguments[2];
          (this.x = u), (this.y = c), (this.w = h);
        } else if (4 === arguments.length) {
          var l = arguments[0],
            p = arguments[1],
            f = arguments[2],
            d = arguments[3],
            g = l.y - p.y,
            y = p.x - l.x,
            _ = l.x * p.y - p.x * l.y,
            v = f.y - d.y,
            m = d.x - f.x,
            x = f.x * d.y - d.x * f.y;
          (this.x = y * x - m * _),
            (this.y = v * _ - g * x),
            (this.w = g * m - v * y);
        }
      };
      (V.prototype.getY = function () {
        var t = this.y / this.w;
        if (m.isNaN(t) || m.isInfinite(t)) throw new X();
        return t;
      }),
        (V.prototype.getX = function () {
          var t = this.x / this.w;
          if (m.isNaN(t) || m.isInfinite(t)) throw new X();
          return t;
        }),
        (V.prototype.getCoordinate = function () {
          var t = new I();
          return (t.x = this.getX()), (t.y = this.getY()), t;
        }),
        (V.prototype.interfaces_ = function () {
          return [];
        }),
        (V.prototype.getClass = function () {
          return V;
        }),
        (V.intersection = function (t, e, n, i) {
          var r = t.y - e.y,
            o = e.x - t.x,
            s = t.x * e.y - e.x * t.y,
            a = n.y - i.y,
            u = i.x - n.x,
            c = n.x * i.y - i.x * n.y,
            h = r * u - a * o,
            l = (o * c - u * s) / h,
            p = (a * s - r * c) / h;
          if (m.isNaN(l) || m.isInfinite(l) || m.isNaN(p) || m.isInfinite(p))
            throw new X();
          return new I(l, p);
        });
      var q = function t() {
          if (
            ((this._minx = null),
            (this._maxx = null),
            (this._miny = null),
            (this._maxy = null),
            0 === arguments.length)
          )
            this.init();
          else if (1 === arguments.length) {
            if (arguments[0] instanceof I) {
              var e = arguments[0];
              this.init(e.x, e.x, e.y, e.y);
            } else if (arguments[0] instanceof t) {
              var n = arguments[0];
              this.init(n);
            }
          } else if (2 === arguments.length) {
            var i = arguments[0],
              r = arguments[1];
            this.init(i.x, r.x, i.y, r.y);
          } else if (4 === arguments.length) {
            var o = arguments[0],
              s = arguments[1],
              a = arguments[2],
              u = arguments[3];
            this.init(o, s, a, u);
          }
        },
        W = { serialVersionUID: { configurable: !0 } };
      (q.prototype.getArea = function () {
        return this.getWidth() * this.getHeight();
      }),
        (q.prototype.equals = function (t) {
          if (!(t instanceof q)) return !1;
          var e = t;
          return this.isNull()
            ? e.isNull()
            : this._maxx === e.getMaxX() &&
                this._maxy === e.getMaxY() &&
                this._minx === e.getMinX() &&
                this._miny === e.getMinY();
        }),
        (q.prototype.intersection = function (t) {
          if (this.isNull() || t.isNull() || !this.intersects(t))
            return new q();
          var e = this._minx > t._minx ? this._minx : t._minx,
            n = this._miny > t._miny ? this._miny : t._miny,
            i = this._maxx < t._maxx ? this._maxx : t._maxx,
            r = this._maxy < t._maxy ? this._maxy : t._maxy;
          return new q(e, i, n, r);
        }),
        (q.prototype.isNull = function () {
          return this._maxx < this._minx;
        }),
        (q.prototype.getMaxX = function () {
          return this._maxx;
        }),
        (q.prototype.covers = function () {
          if (1 === arguments.length) {
            if (arguments[0] instanceof I) {
              var t = arguments[0];
              return this.covers(t.x, t.y);
            }
            if (arguments[0] instanceof q) {
              var e = arguments[0];
              return (
                !this.isNull() &&
                !e.isNull() &&
                e.getMinX() >= this._minx &&
                e.getMaxX() <= this._maxx &&
                e.getMinY() >= this._miny &&
                e.getMaxY() <= this._maxy
              );
            }
          } else if (2 === arguments.length) {
            var n = arguments[0],
              i = arguments[1];
            return (
              !this.isNull() &&
              n >= this._minx &&
              n <= this._maxx &&
              i >= this._miny &&
              i <= this._maxy
            );
          }
        }),
        (q.prototype.intersects = function () {
          if (1 === arguments.length) {
            if (arguments[0] instanceof q) {
              var t = arguments[0];
              return (
                !this.isNull() &&
                !t.isNull() &&
                !(
                  t._minx > this._maxx ||
                  t._maxx < this._minx ||
                  t._miny > this._maxy ||
                  t._maxy < this._miny
                )
              );
            }
            if (arguments[0] instanceof I) {
              var e = arguments[0];
              return this.intersects(e.x, e.y);
            }
          } else if (2 === arguments.length) {
            var n = arguments[0],
              i = arguments[1];
            return (
              !this.isNull() &&
              !(
                n > this._maxx ||
                n < this._minx ||
                i > this._maxy ||
                i < this._miny
              )
            );
          }
        }),
        (q.prototype.getMinY = function () {
          return this._miny;
        }),
        (q.prototype.getMinX = function () {
          return this._minx;
        }),
        (q.prototype.expandToInclude = function () {
          if (1 === arguments.length) {
            if (arguments[0] instanceof I) {
              var t = arguments[0];
              this.expandToInclude(t.x, t.y);
            } else if (arguments[0] instanceof q) {
              var e = arguments[0];
              if (e.isNull()) return null;
              this.isNull()
                ? ((this._minx = e.getMinX()),
                  (this._maxx = e.getMaxX()),
                  (this._miny = e.getMinY()),
                  (this._maxy = e.getMaxY()))
                : (e._minx < this._minx && (this._minx = e._minx),
                  e._maxx > this._maxx && (this._maxx = e._maxx),
                  e._miny < this._miny && (this._miny = e._miny),
                  e._maxy > this._maxy && (this._maxy = e._maxy));
            }
          } else if (2 === arguments.length) {
            var n = arguments[0],
              i = arguments[1];
            this.isNull()
              ? ((this._minx = n),
                (this._maxx = n),
                (this._miny = i),
                (this._maxy = i))
              : (n < this._minx && (this._minx = n),
                n > this._maxx && (this._maxx = n),
                i < this._miny && (this._miny = i),
                i > this._maxy && (this._maxy = i));
          }
        }),
        (q.prototype.minExtent = function () {
          if (this.isNull()) return 0;
          var t = this.getWidth(),
            e = this.getHeight();
          return t < e ? t : e;
        }),
        (q.prototype.getWidth = function () {
          return this.isNull() ? 0 : this._maxx - this._minx;
        }),
        (q.prototype.compareTo = function (t) {
          var e = t;
          return this.isNull()
            ? e.isNull()
              ? 0
              : -1
            : e.isNull()
            ? 1
            : this._minx < e._minx
            ? -1
            : this._minx > e._minx
            ? 1
            : this._miny < e._miny
            ? -1
            : this._miny > e._miny
            ? 1
            : this._maxx < e._maxx
            ? -1
            : this._maxx > e._maxx
            ? 1
            : this._maxy < e._maxy
            ? -1
            : this._maxy > e._maxy
            ? 1
            : 0;
        }),
        (q.prototype.translate = function (t, e) {
          if (this.isNull()) return null;
          this.init(
            this.getMinX() + t,
            this.getMaxX() + t,
            this.getMinY() + e,
            this.getMaxY() + e
          );
        }),
        (q.prototype.toString = function () {
          return (
            "Env[" +
            this._minx +
            " : " +
            this._maxx +
            ", " +
            this._miny +
            " : " +
            this._maxy +
            "]"
          );
        }),
        (q.prototype.setToNull = function () {
          (this._minx = 0),
            (this._maxx = -1),
            (this._miny = 0),
            (this._maxy = -1);
        }),
        (q.prototype.getHeight = function () {
          return this.isNull() ? 0 : this._maxy - this._miny;
        }),
        (q.prototype.maxExtent = function () {
          if (this.isNull()) return 0;
          var t = this.getWidth(),
            e = this.getHeight();
          return t > e ? t : e;
        }),
        (q.prototype.expandBy = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            this.expandBy(t, t);
          } else if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            if (this.isNull()) return null;
            (this._minx -= e),
              (this._maxx += e),
              (this._miny -= n),
              (this._maxy += n),
              (this._minx > this._maxx || this._miny > this._maxy) &&
                this.setToNull();
          }
        }),
        (q.prototype.contains = function () {
          if (1 === arguments.length) {
            if (arguments[0] instanceof q) {
              var t = arguments[0];
              return this.covers(t);
            }
            if (arguments[0] instanceof I) {
              var e = arguments[0];
              return this.covers(e);
            }
          } else if (2 === arguments.length) {
            var n = arguments[0],
              i = arguments[1];
            return this.covers(n, i);
          }
        }),
        (q.prototype.centre = function () {
          return this.isNull()
            ? null
            : new I(
                (this.getMinX() + this.getMaxX()) / 2,
                (this.getMinY() + this.getMaxY()) / 2
              );
        }),
        (q.prototype.init = function () {
          if (0 === arguments.length) this.setToNull();
          else if (1 === arguments.length) {
            if (arguments[0] instanceof I) {
              var t = arguments[0];
              this.init(t.x, t.x, t.y, t.y);
            } else if (arguments[0] instanceof q) {
              var e = arguments[0];
              (this._minx = e._minx),
                (this._maxx = e._maxx),
                (this._miny = e._miny),
                (this._maxy = e._maxy);
            }
          } else if (2 === arguments.length) {
            var n = arguments[0],
              i = arguments[1];
            this.init(n.x, i.x, n.y, i.y);
          } else if (4 === arguments.length) {
            var r = arguments[0],
              o = arguments[1],
              s = arguments[2],
              a = arguments[3];
            r < o
              ? ((this._minx = r), (this._maxx = o))
              : ((this._minx = o), (this._maxx = r)),
              s < a
                ? ((this._miny = s), (this._maxy = a))
                : ((this._miny = a), (this._maxy = s));
          }
        }),
        (q.prototype.getMaxY = function () {
          return this._maxy;
        }),
        (q.prototype.distance = function (t) {
          if (this.intersects(t)) return 0;
          var e = 0;
          this._maxx < t._minx
            ? (e = t._minx - this._maxx)
            : this._minx > t._maxx && (e = this._minx - t._maxx);
          var n = 0;
          return (
            this._maxy < t._miny
              ? (n = t._miny - this._maxy)
              : this._miny > t._maxy && (n = this._miny - t._maxy),
            0 === e ? n : 0 === n ? e : Math.sqrt(e * e + n * n)
          );
        }),
        (q.prototype.hashCode = function () {
          var t = 17;
          return (
            37 *
              (t =
                37 *
                  (t =
                    37 * (t = 37 * t + I.hashCode(this._minx)) +
                    I.hashCode(this._maxx)) +
                I.hashCode(this._miny)) +
            I.hashCode(this._maxy)
          );
        }),
        (q.prototype.interfaces_ = function () {
          return [E, e];
        }),
        (q.prototype.getClass = function () {
          return q;
        }),
        (q.intersects = function () {
          if (3 === arguments.length) {
            var t = arguments[0],
              e = arguments[1],
              n = arguments[2];
            return (
              n.x >= (t.x < e.x ? t.x : e.x) &&
              n.x <= (t.x > e.x ? t.x : e.x) &&
              n.y >= (t.y < e.y ? t.y : e.y) &&
              n.y <= (t.y > e.y ? t.y : e.y)
            );
          }
          if (4 === arguments.length) {
            var i = arguments[0],
              r = arguments[1],
              o = arguments[2],
              s = arguments[3],
              a = Math.min(o.x, s.x),
              u = Math.max(o.x, s.x),
              c = Math.min(i.x, r.x),
              h = Math.max(i.x, r.x);
            return !(
              c > u ||
              h < a ||
              ((a = Math.min(o.y, s.y)),
              (u = Math.max(o.y, s.y)),
              (c = Math.min(i.y, r.y)),
              (h = Math.max(i.y, r.y)),
              c > u || h < a)
            );
          }
        }),
        (W.serialVersionUID.get = function () {
          return 0x51845cd552189800;
        }),
        Object.defineProperties(q, W);
      var H = {
          typeStr: /^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,
          emptyTypeStr: /^\s*(\w+)\s*EMPTY\s*$/,
          spaces: /\s+/,
          parenComma: /\)\s*,\s*\(/,
          doubleParenComma: /\)\s*\)\s*,\s*\(\s*\(/,
          trimParens: /^\s*\(?(.*?)\)?\s*$/,
        },
        K = function (t) {
          this.geometryFactory = t || new _e();
        };
      (K.prototype.read = function (t) {
        var e, n, i;
        t = t.replace(/[\n\r]/g, " ");
        var r = H.typeStr.exec(t);
        if (
          (-1 !== t.search("EMPTY") &&
            ((r = H.emptyTypeStr.exec(t))[2] = void 0),
          r &&
            ((n = r[1].toLowerCase()),
            (i = r[2]),
            J[n] && (e = J[n].apply(this, [i]))),
          void 0 === e)
        )
          throw new Error("Could not parse WKT " + t);
        return e;
      }),
        (K.prototype.write = function (t) {
          return this.extractGeometry(t);
        }),
        (K.prototype.extractGeometry = function (t) {
          var e = t.getGeometryType().toLowerCase();
          if (!Z[e]) return null;
          var n = e.toUpperCase();
          return t.isEmpty()
            ? n + " EMPTY"
            : n + "(" + Z[e].apply(this, [t]) + ")";
        });
      var Z = {
          coordinate: function (t) {
            return t.x + " " + t.y;
          },
          point: function (t) {
            return Z.coordinate.call(this, t._coordinates._coordinates[0]);
          },
          multipoint: function (t) {
            for (var e = [], n = 0, i = t._geometries.length; n < i; ++n)
              e.push("(" + Z.point.apply(this, [t._geometries[n]]) + ")");
            return e.join(",");
          },
          linestring: function (t) {
            for (
              var e = [], n = 0, i = t._points._coordinates.length;
              n < i;
              ++n
            )
              e.push(Z.coordinate.apply(this, [t._points._coordinates[n]]));
            return e.join(",");
          },
          linearring: function (t) {
            for (
              var e = [], n = 0, i = t._points._coordinates.length;
              n < i;
              ++n
            )
              e.push(Z.coordinate.apply(this, [t._points._coordinates[n]]));
            return e.join(",");
          },
          multilinestring: function (t) {
            for (var e = [], n = 0, i = t._geometries.length; n < i; ++n)
              e.push("(" + Z.linestring.apply(this, [t._geometries[n]]) + ")");
            return e.join(",");
          },
          polygon: function (t) {
            var e = [];
            e.push("(" + Z.linestring.apply(this, [t._shell]) + ")");
            for (var n = 0, i = t._holes.length; n < i; ++n)
              e.push("(" + Z.linestring.apply(this, [t._holes[n]]) + ")");
            return e.join(",");
          },
          multipolygon: function (t) {
            for (var e = [], n = 0, i = t._geometries.length; n < i; ++n)
              e.push("(" + Z.polygon.apply(this, [t._geometries[n]]) + ")");
            return e.join(",");
          },
          geometrycollection: function (t) {
            for (var e = [], n = 0, i = t._geometries.length; n < i; ++n)
              e.push(this.extractGeometry(t._geometries[n]));
            return e.join(",");
          },
        },
        J = {
          point: function (t) {
            if (void 0 === t) return this.geometryFactory.createPoint();
            var e = t.trim().split(H.spaces);
            return this.geometryFactory.createPoint(
              new I(Number.parseFloat(e[0]), Number.parseFloat(e[1]))
            );
          },
          multipoint: function (t) {
            if (void 0 === t) return this.geometryFactory.createMultiPoint();
            for (
              var e, n = t.trim().split(","), i = [], r = 0, o = n.length;
              r < o;
              ++r
            )
              (e = n[r].replace(H.trimParens, "$1")),
                i.push(J.point.apply(this, [e]));
            return this.geometryFactory.createMultiPoint(i);
          },
          linestring: function (t) {
            if (void 0 === t) return this.geometryFactory.createLineString();
            for (
              var e, n = t.trim().split(","), i = [], r = 0, o = n.length;
              r < o;
              ++r
            )
              (e = n[r].trim().split(H.spaces)),
                i.push(new I(Number.parseFloat(e[0]), Number.parseFloat(e[1])));
            return this.geometryFactory.createLineString(i);
          },
          linearring: function (t) {
            if (void 0 === t) return this.geometryFactory.createLinearRing();
            for (
              var e, n = t.trim().split(","), i = [], r = 0, o = n.length;
              r < o;
              ++r
            )
              (e = n[r].trim().split(H.spaces)),
                i.push(new I(Number.parseFloat(e[0]), Number.parseFloat(e[1])));
            return this.geometryFactory.createLinearRing(i);
          },
          multilinestring: function (t) {
            if (void 0 === t)
              return this.geometryFactory.createMultiLineString();
            for (
              var e,
                n = t.trim().split(H.parenComma),
                i = [],
                r = 0,
                o = n.length;
              r < o;
              ++r
            )
              (e = n[r].replace(H.trimParens, "$1")),
                i.push(J.linestring.apply(this, [e]));
            return this.geometryFactory.createMultiLineString(i);
          },
          polygon: function (t) {
            if (void 0 === t) return this.geometryFactory.createPolygon();
            for (
              var e,
                n,
                i,
                r,
                o = t.trim().split(H.parenComma),
                s = [],
                a = 0,
                u = o.length;
              a < u;
              ++a
            )
              (e = o[a].replace(H.trimParens, "$1")),
                (n = J.linestring.apply(this, [e])),
                (i = this.geometryFactory.createLinearRing(n._points)),
                0 === a ? (r = i) : s.push(i);
            return this.geometryFactory.createPolygon(r, s);
          },
          multipolygon: function (t) {
            if (void 0 === t) return this.geometryFactory.createMultiPolygon();
            for (
              var e,
                n = t.trim().split(H.doubleParenComma),
                i = [],
                r = 0,
                o = n.length;
              r < o;
              ++r
            )
              (e = n[r].replace(H.trimParens, "$1")),
                i.push(J.polygon.apply(this, [e]));
            return this.geometryFactory.createMultiPolygon(i);
          },
          geometrycollection: function (t) {
            if (void 0 === t)
              return this.geometryFactory.createGeometryCollection();
            for (
              var e = (t = t.replace(/,\s*([A-Za-z])/g, "|$1"))
                  .trim()
                  .split("|"),
                n = [],
                i = 0,
                r = e.length;
              i < r;
              ++i
            )
              n.push(this.read(e[i]));
            return this.geometryFactory.createGeometryCollection(n);
          },
        },
        Q = function (t) {
          this.parser = new K(t);
        };
      (Q.prototype.write = function (t) {
        return this.parser.write(t);
      }),
        (Q.toLineString = function (t, e) {
          if (2 !== arguments.length) throw new Error("Not implemented");
          return (
            "LINESTRING ( " + t.x + " " + t.y + ", " + e.x + " " + e.y + " )"
          );
        });
      var $ = (function (t) {
          function e(e) {
            t.call(this, e),
              (this.name = "RuntimeException"),
              (this.message = e),
              (this.stack = new t().stack);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            e
          );
        })(Error),
        tt = (function (t) {
          function e() {
            if ((t.call(this), 0 === arguments.length)) t.call(this);
            else if (1 === arguments.length) {
              var e = arguments[0];
              t.call(this, e);
            }
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            e
          );
        })($),
        et = function () {};
      (et.prototype.interfaces_ = function () {
        return [];
      }),
        (et.prototype.getClass = function () {
          return et;
        }),
        (et.shouldNeverReachHere = function () {
          if (0 === arguments.length) et.shouldNeverReachHere(null);
          else if (1 === arguments.length) {
            var t = arguments[0];
            throw new tt(
              "Should never reach here" + (null !== t ? ": " + t : "")
            );
          }
        }),
        (et.isTrue = function () {
          var t, e;
          if (1 === arguments.length) (t = arguments[0]), et.isTrue(t, null);
          else if (
            2 === arguments.length &&
            ((t = arguments[0]), (e = arguments[1]), !t)
          )
            throw null === e ? new tt() : new tt(e);
        }),
        (et.equals = function () {
          var t, e, n;
          if (2 === arguments.length)
            (t = arguments[0]), (e = arguments[1]), et.equals(t, e, null);
          else if (
            3 === arguments.length &&
            ((t = arguments[0]),
            (e = arguments[1]),
            (n = arguments[2]),
            !e.equals(t))
          )
            throw new tt(
              "Expected " +
                t +
                " but encountered " +
                e +
                (null !== n ? ": " + n : "")
            );
        });
      var nt = function () {
          (this._result = null),
            (this._inputLines = Array(2)
              .fill()
              .map(function () {
                return Array(2);
              })),
            (this._intPt = new Array(2).fill(null)),
            (this._intLineIndex = null),
            (this._isProper = null),
            (this._pa = null),
            (this._pb = null),
            (this._precisionModel = null),
            (this._intPt[0] = new I()),
            (this._intPt[1] = new I()),
            (this._pa = this._intPt[0]),
            (this._pb = this._intPt[1]),
            (this._result = 0);
        },
        it = {
          DONT_INTERSECT: { configurable: !0 },
          DO_INTERSECT: { configurable: !0 },
          COLLINEAR: { configurable: !0 },
          NO_INTERSECTION: { configurable: !0 },
          POINT_INTERSECTION: { configurable: !0 },
          COLLINEAR_INTERSECTION: { configurable: !0 },
        };
      (nt.prototype.getIndexAlongSegment = function (t, e) {
        return this.computeIntLineIndex(), this._intLineIndex[t][e];
      }),
        (nt.prototype.getTopologySummary = function () {
          var t = new N();
          return (
            this.isEndPoint() && t.append(" endpoint"),
            this._isProper && t.append(" proper"),
            this.isCollinear() && t.append(" collinear"),
            t.toString()
          );
        }),
        (nt.prototype.computeIntersection = function (t, e, n, i) {
          (this._inputLines[0][0] = t),
            (this._inputLines[0][1] = e),
            (this._inputLines[1][0] = n),
            (this._inputLines[1][1] = i),
            (this._result = this.computeIntersect(t, e, n, i));
        }),
        (nt.prototype.getIntersectionNum = function () {
          return this._result;
        }),
        (nt.prototype.computeIntLineIndex = function () {
          if (0 === arguments.length)
            null === this._intLineIndex &&
              ((this._intLineIndex = Array(2)
                .fill()
                .map(function () {
                  return Array(2);
                })),
              this.computeIntLineIndex(0),
              this.computeIntLineIndex(1));
          else if (1 === arguments.length) {
            var t = arguments[0];
            this.getEdgeDistance(t, 0) > this.getEdgeDistance(t, 1)
              ? ((this._intLineIndex[t][0] = 0), (this._intLineIndex[t][1] = 1))
              : ((this._intLineIndex[t][0] = 1),
                (this._intLineIndex[t][1] = 0));
          }
        }),
        (nt.prototype.isProper = function () {
          return this.hasIntersection() && this._isProper;
        }),
        (nt.prototype.setPrecisionModel = function (t) {
          this._precisionModel = t;
        }),
        (nt.prototype.isInteriorIntersection = function () {
          if (0 === arguments.length)
            return (
              !!this.isInteriorIntersection(0) ||
              !!this.isInteriorIntersection(1)
            );
          if (1 === arguments.length) {
            for (var t = arguments[0], e = 0; e < this._result; e++)
              if (
                !this._intPt[e].equals2D(this._inputLines[t][0]) &&
                !this._intPt[e].equals2D(this._inputLines[t][1])
              )
                return !0;
            return !1;
          }
        }),
        (nt.prototype.getIntersection = function (t) {
          return this._intPt[t];
        }),
        (nt.prototype.isEndPoint = function () {
          return this.hasIntersection() && !this._isProper;
        }),
        (nt.prototype.hasIntersection = function () {
          return this._result !== nt.NO_INTERSECTION;
        }),
        (nt.prototype.getEdgeDistance = function (t, e) {
          return nt.computeEdgeDistance(
            this._intPt[e],
            this._inputLines[t][0],
            this._inputLines[t][1]
          );
        }),
        (nt.prototype.isCollinear = function () {
          return this._result === nt.COLLINEAR_INTERSECTION;
        }),
        (nt.prototype.toString = function () {
          return (
            Q.toLineString(this._inputLines[0][0], this._inputLines[0][1]) +
            " - " +
            Q.toLineString(this._inputLines[1][0], this._inputLines[1][1]) +
            this.getTopologySummary()
          );
        }),
        (nt.prototype.getEndpoint = function (t, e) {
          return this._inputLines[t][e];
        }),
        (nt.prototype.isIntersection = function (t) {
          for (var e = 0; e < this._result; e++)
            if (this._intPt[e].equals2D(t)) return !0;
          return !1;
        }),
        (nt.prototype.getIntersectionAlongSegment = function (t, e) {
          return (
            this.computeIntLineIndex(), this._intPt[this._intLineIndex[t][e]]
          );
        }),
        (nt.prototype.interfaces_ = function () {
          return [];
        }),
        (nt.prototype.getClass = function () {
          return nt;
        }),
        (nt.computeEdgeDistance = function (t, e, n) {
          var i = Math.abs(n.x - e.x),
            r = Math.abs(n.y - e.y),
            o = -1;
          if (t.equals(e)) o = 0;
          else if (t.equals(n)) o = i > r ? i : r;
          else {
            var s = Math.abs(t.x - e.x),
              a = Math.abs(t.y - e.y);
            0 !== (o = i > r ? s : a) || t.equals(e) || (o = Math.max(s, a));
          }
          return (
            et.isTrue(!(0 === o && !t.equals(e)), "Bad distance calculation"), o
          );
        }),
        (nt.nonRobustComputeEdgeDistance = function (t, e, n) {
          var i = t.x - e.x,
            r = t.y - e.y,
            o = Math.sqrt(i * i + r * r);
          return (
            et.isTrue(
              !(0 === o && !t.equals(e)),
              "Invalid distance calculation"
            ),
            o
          );
        }),
        (it.DONT_INTERSECT.get = function () {
          return 0;
        }),
        (it.DO_INTERSECT.get = function () {
          return 1;
        }),
        (it.COLLINEAR.get = function () {
          return 2;
        }),
        (it.NO_INTERSECTION.get = function () {
          return 0;
        }),
        (it.POINT_INTERSECTION.get = function () {
          return 1;
        }),
        (it.COLLINEAR_INTERSECTION.get = function () {
          return 2;
        }),
        Object.defineProperties(nt, it);
      var rt = (function (t) {
          function e() {
            t.apply(this, arguments);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.isInSegmentEnvelopes = function (t) {
              var e = new q(this._inputLines[0][0], this._inputLines[0][1]),
                n = new q(this._inputLines[1][0], this._inputLines[1][1]);
              return e.contains(t) && n.contains(t);
            }),
            (e.prototype.computeIntersection = function () {
              if (3 !== arguments.length)
                return t.prototype.computeIntersection.apply(this, arguments);
              var e = arguments[0],
                n = arguments[1],
                i = arguments[2];
              if (
                ((this._isProper = !1),
                q.intersects(n, i, e) &&
                  0 === at.orientationIndex(n, i, e) &&
                  0 === at.orientationIndex(i, n, e))
              )
                return (
                  (this._isProper = !0),
                  (e.equals(n) || e.equals(i)) && (this._isProper = !1),
                  (this._result = t.POINT_INTERSECTION),
                  null
                );
              this._result = t.NO_INTERSECTION;
            }),
            (e.prototype.normalizeToMinimum = function (t, e, n, i, r) {
              (r.x = this.smallestInAbsValue(t.x, e.x, n.x, i.x)),
                (r.y = this.smallestInAbsValue(t.y, e.y, n.y, i.y)),
                (t.x -= r.x),
                (t.y -= r.y),
                (e.x -= r.x),
                (e.y -= r.y),
                (n.x -= r.x),
                (n.y -= r.y),
                (i.x -= r.x),
                (i.y -= r.y);
            }),
            (e.prototype.safeHCoordinateIntersection = function (t, n, i, r) {
              var o = null;
              try {
                o = V.intersection(t, n, i, r);
              } catch (s) {
                if (!(s instanceof X)) throw s;
                o = e.nearestEndpoint(t, n, i, r);
              }
              return o;
            }),
            (e.prototype.intersection = function (t, n, i, r) {
              var o = this.intersectionWithNormalization(t, n, i, r);
              return (
                this.isInSegmentEnvelopes(o) ||
                  (o = new I(e.nearestEndpoint(t, n, i, r))),
                null !== this._precisionModel &&
                  this._precisionModel.makePrecise(o),
                o
              );
            }),
            (e.prototype.smallestInAbsValue = function (t, e, n, i) {
              var r = t,
                o = Math.abs(r);
              return (
                Math.abs(e) < o && ((r = e), (o = Math.abs(e))),
                Math.abs(n) < o && ((r = n), (o = Math.abs(n))),
                Math.abs(i) < o && (r = i),
                r
              );
            }),
            (e.prototype.checkDD = function (t, e, n, i, r) {
              var o = G.intersection(t, e, n, i),
                s = this.isInSegmentEnvelopes(o);
              z.out.println(
                "DD in env = " + s + "  --------------------- " + o
              ),
                r.distance(o) > 1e-4 &&
                  z.out.println("Distance = " + r.distance(o));
            }),
            (e.prototype.intersectionWithNormalization = function (t, e, n, i) {
              var r = new I(t),
                o = new I(e),
                s = new I(n),
                a = new I(i),
                u = new I();
              this.normalizeToEnvCentre(r, o, s, a, u);
              var c = this.safeHCoordinateIntersection(r, o, s, a);
              return (c.x += u.x), (c.y += u.y), c;
            }),
            (e.prototype.computeCollinearIntersection = function (e, n, i, r) {
              var o = q.intersects(e, n, i),
                s = q.intersects(e, n, r),
                a = q.intersects(i, r, e),
                u = q.intersects(i, r, n);
              return o && s
                ? ((this._intPt[0] = i),
                  (this._intPt[1] = r),
                  t.COLLINEAR_INTERSECTION)
                : a && u
                ? ((this._intPt[0] = e),
                  (this._intPt[1] = n),
                  t.COLLINEAR_INTERSECTION)
                : o && a
                ? ((this._intPt[0] = i),
                  (this._intPt[1] = e),
                  !i.equals(e) || s || u
                    ? t.COLLINEAR_INTERSECTION
                    : t.POINT_INTERSECTION)
                : o && u
                ? ((this._intPt[0] = i),
                  (this._intPt[1] = n),
                  !i.equals(n) || s || a
                    ? t.COLLINEAR_INTERSECTION
                    : t.POINT_INTERSECTION)
                : s && a
                ? ((this._intPt[0] = r),
                  (this._intPt[1] = e),
                  !r.equals(e) || o || u
                    ? t.COLLINEAR_INTERSECTION
                    : t.POINT_INTERSECTION)
                : s && u
                ? ((this._intPt[0] = r),
                  (this._intPt[1] = n),
                  !r.equals(n) || o || a
                    ? t.COLLINEAR_INTERSECTION
                    : t.POINT_INTERSECTION)
                : t.NO_INTERSECTION;
            }),
            (e.prototype.normalizeToEnvCentre = function (t, e, n, i, r) {
              var o = t.x < e.x ? t.x : e.x,
                s = t.y < e.y ? t.y : e.y,
                a = t.x > e.x ? t.x : e.x,
                u = t.y > e.y ? t.y : e.y,
                c = n.x < i.x ? n.x : i.x,
                h = n.y < i.y ? n.y : i.y,
                l = n.x > i.x ? n.x : i.x,
                p = n.y > i.y ? n.y : i.y,
                f = ((o > c ? o : c) + (a < l ? a : l)) / 2,
                d = ((s > h ? s : h) + (u < p ? u : p)) / 2;
              (r.x = f),
                (r.y = d),
                (t.x -= r.x),
                (t.y -= r.y),
                (e.x -= r.x),
                (e.y -= r.y),
                (n.x -= r.x),
                (n.y -= r.y),
                (i.x -= r.x),
                (i.y -= r.y);
            }),
            (e.prototype.computeIntersect = function (e, n, i, r) {
              if (((this._isProper = !1), !q.intersects(e, n, i, r)))
                return t.NO_INTERSECTION;
              var o = at.orientationIndex(e, n, i),
                s = at.orientationIndex(e, n, r);
              if ((o > 0 && s > 0) || (o < 0 && s < 0))
                return t.NO_INTERSECTION;
              var a = at.orientationIndex(i, r, e),
                u = at.orientationIndex(i, r, n);
              return (a > 0 && u > 0) || (a < 0 && u < 0)
                ? t.NO_INTERSECTION
                : 0 === o && 0 === s && 0 === a && 0 === u
                ? this.computeCollinearIntersection(e, n, i, r)
                : (0 === o || 0 === s || 0 === a || 0 === u
                    ? ((this._isProper = !1),
                      e.equals2D(i) || e.equals2D(r)
                        ? (this._intPt[0] = e)
                        : n.equals2D(i) || n.equals2D(r)
                        ? (this._intPt[0] = n)
                        : 0 === o
                        ? (this._intPt[0] = new I(i))
                        : 0 === s
                        ? (this._intPt[0] = new I(r))
                        : 0 === a
                        ? (this._intPt[0] = new I(e))
                        : 0 === u && (this._intPt[0] = new I(n)))
                    : ((this._isProper = !0),
                      (this._intPt[0] = this.intersection(e, n, i, r))),
                  t.POINT_INTERSECTION);
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            (e.nearestEndpoint = function (t, e, n, i) {
              var r = t,
                o = at.distancePointLine(t, n, i),
                s = at.distancePointLine(e, n, i);
              return (
                s < o && ((o = s), (r = e)),
                (s = at.distancePointLine(n, t, e)) < o && ((o = s), (r = n)),
                (s = at.distancePointLine(i, t, e)) < o && ((o = s), (r = i)),
                r
              );
            }),
            e
          );
        })(nt),
        ot = function () {};
      (ot.prototype.interfaces_ = function () {
        return [];
      }),
        (ot.prototype.getClass = function () {
          return ot;
        }),
        (ot.orientationIndex = function (t, e, n) {
          var i = e.x - t.x,
            r = e.y - t.y,
            o = n.x - e.x,
            s = n.y - e.y;
          return ot.signOfDet2x2(i, r, o, s);
        }),
        (ot.signOfDet2x2 = function (t, e, n, i) {
          var r = null,
            o = null,
            s = null;
          if (((r = 1), 0 === t || 0 === i))
            return 0 === e || 0 === n
              ? 0
              : e > 0
              ? n > 0
                ? -r
                : r
              : n > 0
              ? r
              : -r;
          if (0 === e || 0 === n)
            return i > 0 ? (t > 0 ? r : -r) : t > 0 ? -r : r;
          if (
            (e > 0
              ? i > 0
                ? e <= i ||
                  ((r = -r),
                  (o = t),
                  (t = n),
                  (n = o),
                  (o = e),
                  (e = i),
                  (i = o))
                : e <= -i
                ? ((r = -r), (n = -n), (i = -i))
                : ((o = t), (t = -n), (n = o), (o = e), (e = -i), (i = o))
              : i > 0
              ? -e <= i
                ? ((r = -r), (t = -t), (e = -e))
                : ((o = -t), (t = n), (n = o), (o = -e), (e = i), (i = o))
              : e >= i
              ? ((t = -t), (e = -e), (n = -n), (i = -i))
              : ((r = -r),
                (o = -t),
                (t = -n),
                (n = o),
                (o = -e),
                (e = -i),
                (i = o)),
            t > 0)
          ) {
            if (!(n > 0)) return r;
            if (!(t <= n)) return r;
          } else {
            if (n > 0) return -r;
            if (!(t >= n)) return -r;
            (r = -r), (t = -t), (n = -n);
          }
          for (;;) {
            if ((i -= (s = Math.floor(n / t)) * e) < 0) return -r;
            if (i > e) return r;
            if (t > (n -= s * t) + n) {
              if (e < i + i) return r;
            } else {
              if (e > i + i) return -r;
              (n = t - n), (i = e - i), (r = -r);
            }
            if (0 === i) return 0 === n ? 0 : -r;
            if (0 === n) return r;
            if ((e -= (s = Math.floor(t / n)) * i) < 0) return r;
            if (e > i) return -r;
            if (n > (t -= s * n) + t) {
              if (i < e + e) return -r;
            } else {
              if (i > e + e) return r;
              (t = n - t), (e = i - e), (r = -r);
            }
            if (0 === e) return 0 === t ? 0 : r;
            if (0 === t) return -r;
          }
        });
      var st = function () {
        (this._p = null),
          (this._crossingCount = 0),
          (this._isPointOnSegment = !1);
        var t = arguments[0];
        this._p = t;
      };
      (st.prototype.countSegment = function (t, e) {
        if (t.x < this._p.x && e.x < this._p.x) return null;
        if (this._p.x === e.x && this._p.y === e.y)
          return (this._isPointOnSegment = !0), null;
        if (t.y === this._p.y && e.y === this._p.y) {
          var n = t.x,
            i = e.x;
          return (
            n > i && ((n = e.x), (i = t.x)),
            this._p.x >= n && this._p.x <= i && (this._isPointOnSegment = !0),
            null
          );
        }
        if (
          (t.y > this._p.y && e.y <= this._p.y) ||
          (e.y > this._p.y && t.y <= this._p.y)
        ) {
          var r = t.x - this._p.x,
            o = t.y - this._p.y,
            s = e.x - this._p.x,
            a = e.y - this._p.y,
            u = ot.signOfDet2x2(r, o, s, a);
          if (0 === u) return (this._isPointOnSegment = !0), null;
          a < o && (u = -u), u > 0 && this._crossingCount++;
        }
      }),
        (st.prototype.isPointInPolygon = function () {
          return this.getLocation() !== O.EXTERIOR;
        }),
        (st.prototype.getLocation = function () {
          return this._isPointOnSegment
            ? O.BOUNDARY
            : this._crossingCount % 2 == 1
            ? O.INTERIOR
            : O.EXTERIOR;
        }),
        (st.prototype.isOnSegment = function () {
          return this._isPointOnSegment;
        }),
        (st.prototype.interfaces_ = function () {
          return [];
        }),
        (st.prototype.getClass = function () {
          return st;
        }),
        (st.locatePointInRing = function () {
          if (arguments[0] instanceof I && L(arguments[1], B)) {
            for (
              var t = arguments[0],
                e = arguments[1],
                n = new st(t),
                i = new I(),
                r = new I(),
                o = 1;
              o < e.size();
              o++
            )
              if (
                (e.getCoordinate(o, i),
                e.getCoordinate(o - 1, r),
                n.countSegment(i, r),
                n.isOnSegment())
              )
                return n.getLocation();
            return n.getLocation();
          }
          if (arguments[0] instanceof I && arguments[1] instanceof Array) {
            for (
              var s = arguments[0], a = arguments[1], u = new st(s), c = 1;
              c < a.length;
              c++
            ) {
              var h = a[c],
                l = a[c - 1];
              if ((u.countSegment(h, l), u.isOnSegment()))
                return u.getLocation();
            }
            return u.getLocation();
          }
        });
      var at = function () {},
        ut = {
          CLOCKWISE: { configurable: !0 },
          RIGHT: { configurable: !0 },
          COUNTERCLOCKWISE: { configurable: !0 },
          LEFT: { configurable: !0 },
          COLLINEAR: { configurable: !0 },
          STRAIGHT: { configurable: !0 },
        };
      (at.prototype.interfaces_ = function () {
        return [];
      }),
        (at.prototype.getClass = function () {
          return at;
        }),
        (at.orientationIndex = function (t, e, n) {
          return G.orientationIndex(t, e, n);
        }),
        (at.signedArea = function () {
          if (arguments[0] instanceof Array) {
            var t = arguments[0];
            if (t.length < 3) return 0;
            for (var e = 0, n = t[0].x, i = 1; i < t.length - 1; i++) {
              var r = t[i].x - n,
                o = t[i + 1].y;
              e += r * (t[i - 1].y - o);
            }
            return e / 2;
          }
          if (L(arguments[0], B)) {
            var s = arguments[0],
              a = s.size();
            if (a < 3) return 0;
            var u = new I(),
              c = new I(),
              h = new I();
            s.getCoordinate(0, c), s.getCoordinate(1, h);
            var l = c.x;
            h.x -= l;
            for (var p = 0, f = 1; f < a - 1; f++)
              (u.y = c.y),
                (c.x = h.x),
                (c.y = h.y),
                s.getCoordinate(f + 1, h),
                (h.x -= l),
                (p += c.x * (u.y - h.y));
            return p / 2;
          }
        }),
        (at.distanceLineLine = function (t, e, n, i) {
          if (t.equals(e)) return at.distancePointLine(t, n, i);
          if (n.equals(i)) return at.distancePointLine(i, t, e);
          var r = !1;
          if (q.intersects(t, e, n, i)) {
            var o = (e.x - t.x) * (i.y - n.y) - (e.y - t.y) * (i.x - n.x);
            if (0 === o) r = !0;
            else {
              var s = (t.y - n.y) * (i.x - n.x) - (t.x - n.x) * (i.y - n.y),
                a = ((t.y - n.y) * (e.x - t.x) - (t.x - n.x) * (e.y - t.y)) / o,
                u = s / o;
              (u < 0 || u > 1 || a < 0 || a > 1) && (r = !0);
            }
          } else r = !0;
          return r
            ? M.min(
                at.distancePointLine(t, n, i),
                at.distancePointLine(e, n, i),
                at.distancePointLine(n, t, e),
                at.distancePointLine(i, t, e)
              )
            : 0;
        }),
        (at.isPointInRing = function (t, e) {
          return at.locatePointInRing(t, e) !== O.EXTERIOR;
        }),
        (at.computeLength = function (t) {
          var e = t.size();
          if (e <= 1) return 0;
          var n = 0,
            i = new I();
          t.getCoordinate(0, i);
          for (var r = i.x, o = i.y, s = 1; s < e; s++) {
            t.getCoordinate(s, i);
            var a = i.x,
              u = i.y,
              c = a - r,
              h = u - o;
            (n += Math.sqrt(c * c + h * h)), (r = a), (o = u);
          }
          return n;
        }),
        (at.isCCW = function (t) {
          var e = t.length - 1;
          if (e < 3)
            throw new v(
              "Ring has fewer than 4 points, so orientation cannot be determined"
            );
          for (var n = t[0], i = 0, r = 1; r <= e; r++) {
            var o = t[r];
            o.y > n.y && ((n = o), (i = r));
          }
          var s = i;
          do {
            (s -= 1) < 0 && (s = e);
          } while (t[s].equals2D(n) && s !== i);
          var a = i;
          do {
            a = (a + 1) % e;
          } while (t[a].equals2D(n) && a !== i);
          var u = t[s],
            c = t[a];
          if (u.equals2D(n) || c.equals2D(n) || u.equals2D(c)) return !1;
          var h = at.computeOrientation(u, n, c);
          return 0 === h ? u.x > c.x : h > 0;
        }),
        (at.locatePointInRing = function (t, e) {
          return st.locatePointInRing(t, e);
        }),
        (at.distancePointLinePerpendicular = function (t, e, n) {
          var i = (n.x - e.x) * (n.x - e.x) + (n.y - e.y) * (n.y - e.y),
            r = ((e.y - t.y) * (n.x - e.x) - (e.x - t.x) * (n.y - e.y)) / i;
          return Math.abs(r) * Math.sqrt(i);
        }),
        (at.computeOrientation = function (t, e, n) {
          return at.orientationIndex(t, e, n);
        }),
        (at.distancePointLine = function () {
          if (2 === arguments.length) {
            var t = arguments[0],
              e = arguments[1];
            if (0 === e.length)
              throw new v("Line array must contain at least one vertex");
            for (var n = t.distance(e[0]), i = 0; i < e.length - 1; i++) {
              var r = at.distancePointLine(t, e[i], e[i + 1]);
              r < n && (n = r);
            }
            return n;
          }
          if (3 === arguments.length) {
            var o = arguments[0],
              s = arguments[1],
              a = arguments[2];
            if (s.x === a.x && s.y === a.y) return o.distance(s);
            var u = (a.x - s.x) * (a.x - s.x) + (a.y - s.y) * (a.y - s.y),
              c = ((o.x - s.x) * (a.x - s.x) + (o.y - s.y) * (a.y - s.y)) / u;
            if (c <= 0) return o.distance(s);
            if (c >= 1) return o.distance(a);
            var h = ((s.y - o.y) * (a.x - s.x) - (s.x - o.x) * (a.y - s.y)) / u;
            return Math.abs(h) * Math.sqrt(u);
          }
        }),
        (at.isOnLine = function (t, e) {
          for (var n = new rt(), i = 1; i < e.length; i++) {
            var r = e[i - 1],
              o = e[i];
            if ((n.computeIntersection(t, r, o), n.hasIntersection()))
              return !0;
          }
          return !1;
        }),
        (ut.CLOCKWISE.get = function () {
          return -1;
        }),
        (ut.RIGHT.get = function () {
          return at.CLOCKWISE;
        }),
        (ut.COUNTERCLOCKWISE.get = function () {
          return 1;
        }),
        (ut.LEFT.get = function () {
          return at.COUNTERCLOCKWISE;
        }),
        (ut.COLLINEAR.get = function () {
          return 0;
        }),
        (ut.STRAIGHT.get = function () {
          return at.COLLINEAR;
        }),
        Object.defineProperties(at, ut);
      var ct = function () {};
      (ct.prototype.filter = function (t) {}),
        (ct.prototype.interfaces_ = function () {
          return [];
        }),
        (ct.prototype.getClass = function () {
          return ct;
        });
      var ht = function () {
          var t = arguments[0];
          (this._envelope = null),
            (this._factory = null),
            (this._SRID = null),
            (this._userData = null),
            (this._factory = t),
            (this._SRID = t.getSRID());
        },
        lt = {
          serialVersionUID: { configurable: !0 },
          SORTINDEX_POINT: { configurable: !0 },
          SORTINDEX_MULTIPOINT: { configurable: !0 },
          SORTINDEX_LINESTRING: { configurable: !0 },
          SORTINDEX_LINEARRING: { configurable: !0 },
          SORTINDEX_MULTILINESTRING: { configurable: !0 },
          SORTINDEX_POLYGON: { configurable: !0 },
          SORTINDEX_MULTIPOLYGON: { configurable: !0 },
          SORTINDEX_GEOMETRYCOLLECTION: { configurable: !0 },
          geometryChangedFilter: { configurable: !0 },
        };
      (ht.prototype.isGeometryCollection = function () {
        return this.getSortIndex() === ht.SORTINDEX_GEOMETRYCOLLECTION;
      }),
        (ht.prototype.getFactory = function () {
          return this._factory;
        }),
        (ht.prototype.getGeometryN = function (t) {
          return this;
        }),
        (ht.prototype.getArea = function () {
          return 0;
        }),
        (ht.prototype.isRectangle = function () {
          return !1;
        }),
        (ht.prototype.equals = function () {
          if (arguments[0] instanceof ht) {
            var t = arguments[0];
            return null !== t && this.equalsTopo(t);
          }
          if (arguments[0] instanceof Object) {
            var e = arguments[0];
            if (!(e instanceof ht)) return !1;
            var n = e;
            return this.equalsExact(n);
          }
        }),
        (ht.prototype.equalsExact = function (t) {
          return this === t || this.equalsExact(t, 0);
        }),
        (ht.prototype.geometryChanged = function () {
          this.apply(ht.geometryChangedFilter);
        }),
        (ht.prototype.geometryChangedAction = function () {
          this._envelope = null;
        }),
        (ht.prototype.equalsNorm = function (t) {
          return null !== t && this.norm().equalsExact(t.norm());
        }),
        (ht.prototype.getLength = function () {
          return 0;
        }),
        (ht.prototype.getNumGeometries = function () {
          return 1;
        }),
        (ht.prototype.compareTo = function () {
          if (1 === arguments.length) {
            var t = arguments[0],
              e = t;
            return this.getSortIndex() !== e.getSortIndex()
              ? this.getSortIndex() - e.getSortIndex()
              : this.isEmpty() && e.isEmpty()
              ? 0
              : this.isEmpty()
              ? -1
              : e.isEmpty()
              ? 1
              : this.compareToSameClass(t);
          }
          if (2 === arguments.length) {
            var n = arguments[0],
              i = arguments[1];
            return this.getSortIndex() !== n.getSortIndex()
              ? this.getSortIndex() - n.getSortIndex()
              : this.isEmpty() && n.isEmpty()
              ? 0
              : this.isEmpty()
              ? -1
              : n.isEmpty()
              ? 1
              : this.compareToSameClass(n, i);
          }
        }),
        (ht.prototype.getUserData = function () {
          return this._userData;
        }),
        (ht.prototype.getSRID = function () {
          return this._SRID;
        }),
        (ht.prototype.getEnvelope = function () {
          return this.getFactory().toGeometry(this.getEnvelopeInternal());
        }),
        (ht.prototype.checkNotGeometryCollection = function (t) {
          if (t.getSortIndex() === ht.SORTINDEX_GEOMETRYCOLLECTION)
            throw new v(
              "This method does not support GeometryCollection arguments"
            );
        }),
        (ht.prototype.equal = function (t, e, n) {
          return 0 === n ? t.equals(e) : t.distance(e) <= n;
        }),
        (ht.prototype.norm = function () {
          var t = this.copy();
          return t.normalize(), t;
        }),
        (ht.prototype.getPrecisionModel = function () {
          return this._factory.getPrecisionModel();
        }),
        (ht.prototype.getEnvelopeInternal = function () {
          return (
            null === this._envelope &&
              (this._envelope = this.computeEnvelopeInternal()),
            new q(this._envelope)
          );
        }),
        (ht.prototype.setSRID = function (t) {
          this._SRID = t;
        }),
        (ht.prototype.setUserData = function (t) {
          this._userData = t;
        }),
        (ht.prototype.compare = function (t, e) {
          for (
            var n = t.iterator(), i = e.iterator();
            n.hasNext() && i.hasNext();

          ) {
            var r = n.next(),
              o = i.next(),
              s = r.compareTo(o);
            if (0 !== s) return s;
          }
          return n.hasNext() ? 1 : i.hasNext() ? -1 : 0;
        }),
        (ht.prototype.hashCode = function () {
          return this.getEnvelopeInternal().hashCode();
        }),
        (ht.prototype.isGeometryCollectionOrDerived = function () {
          return (
            this.getSortIndex() === ht.SORTINDEX_GEOMETRYCOLLECTION ||
            this.getSortIndex() === ht.SORTINDEX_MULTIPOINT ||
            this.getSortIndex() === ht.SORTINDEX_MULTILINESTRING ||
            this.getSortIndex() === ht.SORTINDEX_MULTIPOLYGON
          );
        }),
        (ht.prototype.interfaces_ = function () {
          return [b, E, e];
        }),
        (ht.prototype.getClass = function () {
          return ht;
        }),
        (ht.hasNonEmptyElements = function (t) {
          for (var e = 0; e < t.length; e++) if (!t[e].isEmpty()) return !0;
          return !1;
        }),
        (ht.hasNullElements = function (t) {
          for (var e = 0; e < t.length; e++) if (null === t[e]) return !0;
          return !1;
        }),
        (lt.serialVersionUID.get = function () {
          return 0x799ea46522854c00;
        }),
        (lt.SORTINDEX_POINT.get = function () {
          return 0;
        }),
        (lt.SORTINDEX_MULTIPOINT.get = function () {
          return 1;
        }),
        (lt.SORTINDEX_LINESTRING.get = function () {
          return 2;
        }),
        (lt.SORTINDEX_LINEARRING.get = function () {
          return 3;
        }),
        (lt.SORTINDEX_MULTILINESTRING.get = function () {
          return 4;
        }),
        (lt.SORTINDEX_POLYGON.get = function () {
          return 5;
        }),
        (lt.SORTINDEX_MULTIPOLYGON.get = function () {
          return 6;
        }),
        (lt.SORTINDEX_GEOMETRYCOLLECTION.get = function () {
          return 7;
        }),
        (lt.geometryChangedFilter.get = function () {
          return pt;
        }),
        Object.defineProperties(ht, lt);
      var pt = function () {};
      (pt.interfaces_ = function () {
        return [ct];
      }),
        (pt.filter = function (t) {
          t.geometryChangedAction();
        });
      var ft = function () {};
      (ft.prototype.filter = function (t) {}),
        (ft.prototype.interfaces_ = function () {
          return [];
        }),
        (ft.prototype.getClass = function () {
          return ft;
        });
      var dt = function () {},
        gt = {
          Mod2BoundaryNodeRule: { configurable: !0 },
          EndPointBoundaryNodeRule: { configurable: !0 },
          MultiValentEndPointBoundaryNodeRule: { configurable: !0 },
          MonoValentEndPointBoundaryNodeRule: { configurable: !0 },
          MOD2_BOUNDARY_RULE: { configurable: !0 },
          ENDPOINT_BOUNDARY_RULE: { configurable: !0 },
          MULTIVALENT_ENDPOINT_BOUNDARY_RULE: { configurable: !0 },
          MONOVALENT_ENDPOINT_BOUNDARY_RULE: { configurable: !0 },
          OGC_SFS_BOUNDARY_RULE: { configurable: !0 },
        };
      (dt.prototype.isInBoundary = function (t) {}),
        (dt.prototype.interfaces_ = function () {
          return [];
        }),
        (dt.prototype.getClass = function () {
          return dt;
        }),
        (gt.Mod2BoundaryNodeRule.get = function () {
          return yt;
        }),
        (gt.EndPointBoundaryNodeRule.get = function () {
          return _t;
        }),
        (gt.MultiValentEndPointBoundaryNodeRule.get = function () {
          return vt;
        }),
        (gt.MonoValentEndPointBoundaryNodeRule.get = function () {
          return mt;
        }),
        (gt.MOD2_BOUNDARY_RULE.get = function () {
          return new yt();
        }),
        (gt.ENDPOINT_BOUNDARY_RULE.get = function () {
          return new _t();
        }),
        (gt.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get = function () {
          return new vt();
        }),
        (gt.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get = function () {
          return new mt();
        }),
        (gt.OGC_SFS_BOUNDARY_RULE.get = function () {
          return dt.MOD2_BOUNDARY_RULE;
        }),
        Object.defineProperties(dt, gt);
      var yt = function () {};
      (yt.prototype.isInBoundary = function (t) {
        return t % 2 == 1;
      }),
        (yt.prototype.interfaces_ = function () {
          return [dt];
        }),
        (yt.prototype.getClass = function () {
          return yt;
        });
      var _t = function () {};
      (_t.prototype.isInBoundary = function (t) {
        return t > 0;
      }),
        (_t.prototype.interfaces_ = function () {
          return [dt];
        }),
        (_t.prototype.getClass = function () {
          return _t;
        });
      var vt = function () {};
      (vt.prototype.isInBoundary = function (t) {
        return t > 1;
      }),
        (vt.prototype.interfaces_ = function () {
          return [dt];
        }),
        (vt.prototype.getClass = function () {
          return vt;
        });
      var mt = function () {};
      (mt.prototype.isInBoundary = function (t) {
        return 1 === t;
      }),
        (mt.prototype.interfaces_ = function () {
          return [dt];
        }),
        (mt.prototype.getClass = function () {
          return mt;
        });
      var xt = function () {};
      (xt.prototype.add = function () {}),
        (xt.prototype.addAll = function () {}),
        (xt.prototype.isEmpty = function () {}),
        (xt.prototype.iterator = function () {}),
        (xt.prototype.size = function () {}),
        (xt.prototype.toArray = function () {}),
        (xt.prototype.remove = function () {}),
        ((n.prototype = new Error()).name = "IndexOutOfBoundsException");
      var Et = function () {};
      (Et.prototype.hasNext = function () {}),
        (Et.prototype.next = function () {}),
        (Et.prototype.remove = function () {});
      var bt = (function (t) {
        function e() {
          t.apply(this, arguments);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.get = function () {}),
          (e.prototype.set = function () {}),
          (e.prototype.isEmpty = function () {}),
          e
        );
      })(xt);
      (i.prototype = new Error()).name = "NoSuchElementException";
      var wt = (function (t) {
          function e() {
            t.call(this),
              (this.array_ = []),
              arguments[0] instanceof xt && this.addAll(arguments[0]);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.ensureCapacity = function () {}),
            (e.prototype.interfaces_ = function () {
              return [t, xt];
            }),
            (e.prototype.add = function (t) {
              return (
                1 === arguments.length
                  ? this.array_.push(t)
                  : this.array_.splice(arguments[0], arguments[1]),
                !0
              );
            }),
            (e.prototype.clear = function () {
              this.array_ = [];
            }),
            (e.prototype.addAll = function (t) {
              for (var e = t.iterator(); e.hasNext(); ) this.add(e.next());
              return !0;
            }),
            (e.prototype.set = function (t, e) {
              var n = this.array_[t];
              return (this.array_[t] = e), n;
            }),
            (e.prototype.iterator = function () {
              return new It(this);
            }),
            (e.prototype.get = function (t) {
              if (t < 0 || t >= this.size()) throw new n();
              return this.array_[t];
            }),
            (e.prototype.isEmpty = function () {
              return 0 === this.array_.length;
            }),
            (e.prototype.size = function () {
              return this.array_.length;
            }),
            (e.prototype.toArray = function () {
              for (var t = [], e = 0, n = this.array_.length; e < n; e++)
                t.push(this.array_[e]);
              return t;
            }),
            (e.prototype.remove = function (t) {
              for (var e = !1, n = 0, i = this.array_.length; n < i; n++)
                if (this.array_[n] === t) {
                  this.array_.splice(n, 1), (e = !0);
                  break;
                }
              return e;
            }),
            e
          );
        })(bt),
        It = (function (t) {
          function e(e) {
            t.call(this), (this.arrayList_ = e), (this.position_ = 0);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.next = function () {
              if (this.position_ === this.arrayList_.size()) throw new i();
              return this.arrayList_.get(this.position_++);
            }),
            (e.prototype.hasNext = function () {
              return this.position_ < this.arrayList_.size();
            }),
            (e.prototype.set = function (t) {
              return this.arrayList_.set(this.position_ - 1, t);
            }),
            (e.prototype.remove = function () {
              this.arrayList_.remove(this.arrayList_.get(this.position_));
            }),
            e
          );
        })(Et),
        St = (function (t) {
          function e() {
            if ((t.call(this), 0 === arguments.length));
            else if (1 === arguments.length) {
              var e = arguments[0];
              this.ensureCapacity(e.length), this.add(e, !0);
            } else if (2 === arguments.length) {
              var n = arguments[0],
                i = arguments[1];
              this.ensureCapacity(n.length), this.add(n, i);
            }
          }
          t && (e.__proto__ = t),
            ((e.prototype = Object.create(t && t.prototype)).constructor = e);
          var n = { coordArrayType: { configurable: !0 } };
          return (
            (n.coordArrayType.get = function () {
              return new Array(0).fill(null);
            }),
            (e.prototype.getCoordinate = function (t) {
              return this.get(t);
            }),
            (e.prototype.addAll = function () {
              if (2 === arguments.length) {
                for (
                  var e = arguments[0],
                    n = arguments[1],
                    i = !1,
                    r = e.iterator();
                  r.hasNext();

                )
                  this.add(r.next(), n), (i = !0);
                return i;
              }
              return t.prototype.addAll.apply(this, arguments);
            }),
            (e.prototype.clone = function () {
              for (
                var e = t.prototype.clone.call(this), n = 0;
                n < this.size();
                n++
              )
                e.add(n, this.get(n).copy());
              return e;
            }),
            (e.prototype.toCoordinateArray = function () {
              return this.toArray(e.coordArrayType);
            }),
            (e.prototype.add = function () {
              if (1 === arguments.length) {
                var e = arguments[0];
                t.prototype.add.call(this, e);
              } else if (2 === arguments.length) {
                if (
                  arguments[0] instanceof Array &&
                  "boolean" == typeof arguments[1]
                ) {
                  var n = arguments[0],
                    i = arguments[1];
                  return this.add(n, i, !0), !0;
                }
                if (
                  arguments[0] instanceof I &&
                  "boolean" == typeof arguments[1]
                ) {
                  var r = arguments[0];
                  if (
                    !arguments[1] &&
                    this.size() >= 1 &&
                    this.get(this.size() - 1).equals2D(r)
                  )
                    return null;
                  t.prototype.add.call(this, r);
                } else if (
                  arguments[0] instanceof Object &&
                  "boolean" == typeof arguments[1]
                ) {
                  var o = arguments[0],
                    s = arguments[1];
                  return this.add(o, s), !0;
                }
              } else if (3 === arguments.length) {
                if (
                  "boolean" == typeof arguments[2] &&
                  arguments[0] instanceof Array &&
                  "boolean" == typeof arguments[1]
                ) {
                  var a = arguments[0],
                    u = arguments[1];
                  if (arguments[2])
                    for (var c = 0; c < a.length; c++) this.add(a[c], u);
                  else
                    for (var h = a.length - 1; h >= 0; h--) this.add(a[h], u);
                  return !0;
                }
                if (
                  "boolean" == typeof arguments[2] &&
                  Number.isInteger(arguments[0]) &&
                  arguments[1] instanceof I
                ) {
                  var l = arguments[0],
                    p = arguments[1];
                  if (!arguments[2]) {
                    var f = this.size();
                    if (f > 0) {
                      if (l > 0 && this.get(l - 1).equals2D(p)) return null;
                      if (l < f && this.get(l).equals2D(p)) return null;
                    }
                  }
                  t.prototype.add.call(this, l, p);
                }
              } else if (4 === arguments.length) {
                var d = arguments[0],
                  g = arguments[1],
                  y = arguments[2],
                  _ = arguments[3],
                  v = 1;
                y > _ && (v = -1);
                for (var m = y; m !== _; m += v) this.add(d[m], g);
                return !0;
              }
            }),
            (e.prototype.closeRing = function () {
              this.size() > 0 && this.add(new I(this.get(0)), !1);
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            Object.defineProperties(e, n),
            e
          );
        })(wt),
        Ct = function () {},
        Tt = {
          ForwardComparator: { configurable: !0 },
          BidirectionalComparator: { configurable: !0 },
          coordArrayType: { configurable: !0 },
        };
      (Tt.ForwardComparator.get = function () {
        return Ot;
      }),
        (Tt.BidirectionalComparator.get = function () {
          return Rt;
        }),
        (Tt.coordArrayType.get = function () {
          return new Array(0).fill(null);
        }),
        (Ct.prototype.interfaces_ = function () {
          return [];
        }),
        (Ct.prototype.getClass = function () {
          return Ct;
        }),
        (Ct.isRing = function (t) {
          return !(t.length < 4 || !t[0].equals2D(t[t.length - 1]));
        }),
        (Ct.ptNotInList = function (t, e) {
          for (var n = 0; n < t.length; n++) {
            var i = t[n];
            if (Ct.indexOf(i, e) < 0) return i;
          }
          return null;
        }),
        (Ct.scroll = function (t, e) {
          var n = Ct.indexOf(e, t);
          if (n < 0) return null;
          var i = new Array(t.length).fill(null);
          z.arraycopy(t, n, i, 0, t.length - n),
            z.arraycopy(t, 0, i, t.length - n, n),
            z.arraycopy(i, 0, t, 0, t.length);
        }),
        (Ct.equals = function () {
          if (2 === arguments.length) {
            var t = arguments[0],
              e = arguments[1];
            if (t === e) return !0;
            if (null === t || null === e) return !1;
            if (t.length !== e.length) return !1;
            for (var n = 0; n < t.length; n++)
              if (!t[n].equals(e[n])) return !1;
            return !0;
          }
          if (3 === arguments.length) {
            var i = arguments[0],
              r = arguments[1],
              o = arguments[2];
            if (i === r) return !0;
            if (null === i || null === r) return !1;
            if (i.length !== r.length) return !1;
            for (var s = 0; s < i.length; s++)
              if (0 !== o.compare(i[s], r[s])) return !1;
            return !0;
          }
        }),
        (Ct.intersection = function (t, e) {
          for (var n = new St(), i = 0; i < t.length; i++)
            e.intersects(t[i]) && n.add(t[i], !0);
          return n.toCoordinateArray();
        }),
        (Ct.hasRepeatedPoints = function (t) {
          for (var e = 1; e < t.length; e++)
            if (t[e - 1].equals(t[e])) return !0;
          return !1;
        }),
        (Ct.removeRepeatedPoints = function (t) {
          return Ct.hasRepeatedPoints(t)
            ? new St(t, !1).toCoordinateArray()
            : t;
        }),
        (Ct.reverse = function (t) {
          for (
            var e = t.length - 1, n = Math.trunc(e / 2), i = 0;
            i <= n;
            i++
          ) {
            var r = t[i];
            (t[i] = t[e - i]), (t[e - i] = r);
          }
        }),
        (Ct.removeNull = function (t) {
          for (var e = 0, n = 0; n < t.length; n++) null !== t[n] && e++;
          var i = new Array(e).fill(null);
          if (0 === e) return i;
          for (var r = 0, o = 0; o < t.length; o++)
            null !== t[o] && (i[r++] = t[o]);
          return i;
        }),
        (Ct.copyDeep = function () {
          if (1 === arguments.length) {
            for (
              var t = arguments[0], e = new Array(t.length).fill(null), n = 0;
              n < t.length;
              n++
            )
              e[n] = new I(t[n]);
            return e;
          }
          if (5 === arguments.length)
            for (
              var i = arguments[0],
                r = arguments[1],
                o = arguments[2],
                s = arguments[3],
                a = arguments[4],
                u = 0;
              u < a;
              u++
            )
              o[s + u] = new I(i[r + u]);
        }),
        (Ct.isEqualReversed = function (t, e) {
          for (var n = 0; n < t.length; n++) {
            var i = t[n],
              r = e[t.length - n - 1];
            if (0 !== i.compareTo(r)) return !1;
          }
          return !0;
        }),
        (Ct.envelope = function (t) {
          for (var e = new q(), n = 0; n < t.length; n++)
            e.expandToInclude(t[n]);
          return e;
        }),
        (Ct.toCoordinateArray = function (t) {
          return t.toArray(Ct.coordArrayType);
        }),
        (Ct.atLeastNCoordinatesOrNothing = function (t, e) {
          return e.length >= t ? e : [];
        }),
        (Ct.indexOf = function (t, e) {
          for (var n = 0; n < e.length; n++) if (t.equals(e[n])) return n;
          return -1;
        }),
        (Ct.increasingDirection = function (t) {
          for (var e = 0; e < Math.trunc(t.length / 2); e++) {
            var n = t.length - 1 - e,
              i = t[e].compareTo(t[n]);
            if (0 !== i) return i;
          }
          return 1;
        }),
        (Ct.compare = function (t, e) {
          for (var n = 0; n < t.length && n < e.length; ) {
            var i = t[n].compareTo(e[n]);
            if (0 !== i) return i;
            n++;
          }
          return n < e.length ? -1 : n < t.length ? 1 : 0;
        }),
        (Ct.minCoordinate = function (t) {
          for (var e = null, n = 0; n < t.length; n++)
            (null === e || e.compareTo(t[n]) > 0) && (e = t[n]);
          return e;
        }),
        (Ct.extract = function (t, e, n) {
          e = M.clamp(e, 0, t.length);
          var i = (n = M.clamp(n, -1, t.length)) - e + 1;
          n < 0 && (i = 0), e >= t.length && (i = 0), n < e && (i = 0);
          var r = new Array(i).fill(null);
          if (0 === i) return r;
          for (var o = 0, s = e; s <= n; s++) r[o++] = t[s];
          return r;
        }),
        Object.defineProperties(Ct, Tt);
      var Ot = function () {};
      (Ot.prototype.compare = function (t, e) {
        return Ct.compare(t, e);
      }),
        (Ot.prototype.interfaces_ = function () {
          return [w];
        }),
        (Ot.prototype.getClass = function () {
          return Ot;
        });
      var Rt = function () {};
      (Rt.prototype.compare = function (t, e) {
        var n = t,
          i = e;
        if (n.length < i.length) return -1;
        if (n.length > i.length) return 1;
        if (0 === n.length) return 0;
        var r = Ct.compare(n, i);
        return Ct.isEqualReversed(n, i) ? 0 : r;
      }),
        (Rt.prototype.OLDcompare = function (t, e) {
          var n = t,
            i = e;
          if (n.length < i.length) return -1;
          if (n.length > i.length) return 1;
          if (0 === n.length) return 0;
          for (
            var r = Ct.increasingDirection(n),
              o = Ct.increasingDirection(i),
              s = r > 0 ? 0 : n.length - 1,
              a = o > 0 ? 0 : n.length - 1,
              u = 0;
            u < n.length;
            u++
          ) {
            var c = n[s].compareTo(i[a]);
            if (0 !== c) return c;
            (s += r), (a += o);
          }
          return 0;
        }),
        (Rt.prototype.interfaces_ = function () {
          return [w];
        }),
        (Rt.prototype.getClass = function () {
          return Rt;
        });
      var Lt = function () {};
      (Lt.prototype.get = function () {}),
        (Lt.prototype.put = function () {}),
        (Lt.prototype.size = function () {}),
        (Lt.prototype.values = function () {}),
        (Lt.prototype.entrySet = function () {});
      var Mt = (function (t) {
        function e() {
          t.apply(this, arguments);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(Lt);
      ((r.prototype = new Error()).name = "OperationNotSupported"),
        ((o.prototype = new xt()).contains = function () {});
      var At = (function (t) {
          function e() {
            t.call(this),
              (this.array_ = []),
              arguments[0] instanceof xt && this.addAll(arguments[0]);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.contains = function (t) {
              for (var e = 0, n = this.array_.length; e < n; e++)
                if (this.array_[e] === t) return !0;
              return !1;
            }),
            (e.prototype.add = function (t) {
              return !this.contains(t) && (this.array_.push(t), !0);
            }),
            (e.prototype.addAll = function (t) {
              for (var e = t.iterator(); e.hasNext(); ) this.add(e.next());
              return !0;
            }),
            (e.prototype.remove = function (t) {
              throw new Error();
            }),
            (e.prototype.size = function () {
              return this.array_.length;
            }),
            (e.prototype.isEmpty = function () {
              return 0 === this.array_.length;
            }),
            (e.prototype.toArray = function () {
              for (var t = [], e = 0, n = this.array_.length; e < n; e++)
                t.push(this.array_[e]);
              return t;
            }),
            (e.prototype.iterator = function () {
              return new Nt(this);
            }),
            e
          );
        })(o),
        Nt = (function (t) {
          function e(e) {
            t.call(this), (this.hashSet_ = e), (this.position_ = 0);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.next = function () {
              if (this.position_ === this.hashSet_.size()) throw new i();
              return this.hashSet_.array_[this.position_++];
            }),
            (e.prototype.hasNext = function () {
              return this.position_ < this.hashSet_.size();
            }),
            (e.prototype.remove = function () {
              throw new r();
            }),
            e
          );
        })(Et),
        Pt = 0;
      ((l.prototype = new Mt()).get = function (t) {
        for (var e = this.root_; null !== e; ) {
          var n = t.compareTo(e.key);
          if (n < 0) e = e.left;
          else {
            if (!(n > 0)) return e.value;
            e = e.right;
          }
        }
        return null;
      }),
        (l.prototype.put = function (t, e) {
          if (null === this.root_)
            return (
              (this.root_ = {
                key: t,
                value: e,
                left: null,
                right: null,
                parent: null,
                color: Pt,
                getValue: function () {
                  return this.value;
                },
                getKey: function () {
                  return this.key;
                },
              }),
              (this.size_ = 1),
              null
            );
          var n,
            i,
            r = this.root_;
          do {
            if (((n = r), (i = t.compareTo(r.key)) < 0)) r = r.left;
            else {
              if (!(i > 0)) {
                var o = r.value;
                return (r.value = e), o;
              }
              r = r.right;
            }
          } while (null !== r);
          var s = {
            key: t,
            left: null,
            right: null,
            value: e,
            parent: n,
            color: Pt,
            getValue: function () {
              return this.value;
            },
            getKey: function () {
              return this.key;
            },
          };
          return (
            i < 0 ? (n.left = s) : (n.right = s),
            this.fixAfterInsertion(s),
            this.size_++,
            null
          );
        }),
        (l.prototype.fixAfterInsertion = function (t) {
          for (
            t.color = 1;
            null != t && t !== this.root_ && 1 === t.parent.color;

          )
            if (a(t) === c(a(a(t)))) {
              var e = h(a(a(t)));
              1 === s(e)
                ? (u(a(t), Pt), u(e, Pt), u(a(a(t)), 1), (t = a(a(t))))
                : (t === h(a(t)) && ((t = a(t)), this.rotateLeft(t)),
                  u(a(t), Pt),
                  u(a(a(t)), 1),
                  this.rotateRight(a(a(t))));
            } else {
              var n = c(a(a(t)));
              1 === s(n)
                ? (u(a(t), Pt), u(n, Pt), u(a(a(t)), 1), (t = a(a(t))))
                : (t === c(a(t)) && ((t = a(t)), this.rotateRight(t)),
                  u(a(t), Pt),
                  u(a(a(t)), 1),
                  this.rotateLeft(a(a(t))));
            }
          this.root_.color = Pt;
        }),
        (l.prototype.values = function () {
          var t = new wt(),
            e = this.getFirstEntry();
          if (null !== e)
            for (t.add(e.value); null !== (e = l.successor(e)); )
              t.add(e.value);
          return t;
        }),
        (l.prototype.entrySet = function () {
          var t = new At(),
            e = this.getFirstEntry();
          if (null !== e)
            for (t.add(e); null !== (e = l.successor(e)); ) t.add(e);
          return t;
        }),
        (l.prototype.rotateLeft = function (t) {
          if (null != t) {
            var e = t.right;
            (t.right = e.left),
              null != e.left && (e.left.parent = t),
              (e.parent = t.parent),
              null === t.parent
                ? (this.root_ = e)
                : t.parent.left === t
                ? (t.parent.left = e)
                : (t.parent.right = e),
              (e.left = t),
              (t.parent = e);
          }
        }),
        (l.prototype.rotateRight = function (t) {
          if (null != t) {
            var e = t.left;
            (t.left = e.right),
              null != e.right && (e.right.parent = t),
              (e.parent = t.parent),
              null === t.parent
                ? (this.root_ = e)
                : t.parent.right === t
                ? (t.parent.right = e)
                : (t.parent.left = e),
              (e.right = t),
              (t.parent = e);
          }
        }),
        (l.prototype.getFirstEntry = function () {
          var t = this.root_;
          if (null != t) for (; null != t.left; ) t = t.left;
          return t;
        }),
        (l.successor = function (t) {
          if (null === t) return null;
          if (null !== t.right) {
            for (var e = t.right; null !== e.left; ) e = e.left;
            return e;
          }
          for (var n = t.parent, i = t; null !== n && i === n.right; )
            (i = n), (n = n.parent);
          return n;
        }),
        (l.prototype.size = function () {
          return this.size_;
        });
      var Dt = function () {};
      (Dt.prototype.interfaces_ = function () {
        return [];
      }),
        (Dt.prototype.getClass = function () {
          return Dt;
        }),
        (p.prototype = new o()),
        ((f.prototype = new p()).contains = function (t) {
          for (var e = 0, n = this.array_.length; e < n; e++)
            if (0 === this.array_[e].compareTo(t)) return !0;
          return !1;
        }),
        (f.prototype.add = function (t) {
          if (this.contains(t)) return !1;
          for (var e = 0, n = this.array_.length; e < n; e++)
            if (1 === this.array_[e].compareTo(t))
              return this.array_.splice(e, 0, t), !0;
          return this.array_.push(t), !0;
        }),
        (f.prototype.addAll = function (t) {
          for (var e = t.iterator(); e.hasNext(); ) this.add(e.next());
          return !0;
        }),
        (f.prototype.remove = function (t) {
          throw new r();
        }),
        (f.prototype.size = function () {
          return this.array_.length;
        }),
        (f.prototype.isEmpty = function () {
          return 0 === this.array_.length;
        }),
        (f.prototype.toArray = function () {
          for (var t = [], e = 0, n = this.array_.length; e < n; e++)
            t.push(this.array_[e]);
          return t;
        }),
        (f.prototype.iterator = function () {
          return new kt(this);
        });
      var kt = function (t) {
        (this.treeSet_ = t), (this.position_ = 0);
      };
      (kt.prototype.next = function () {
        if (this.position_ === this.treeSet_.size()) throw new i();
        return this.treeSet_.array_[this.position_++];
      }),
        (kt.prototype.hasNext = function () {
          return this.position_ < this.treeSet_.size();
        }),
        (kt.prototype.remove = function () {
          throw new r();
        });
      var Ft = function () {};
      (Ft.sort = function () {
        var t,
          e,
          n,
          i,
          r = arguments[0];
        if (1 === arguments.length)
          (i = function (t, e) {
            return t.compareTo(e);
          }),
            r.sort(i);
        else if (2 === arguments.length)
          (n = arguments[1]),
            (i = function (t, e) {
              return n.compare(t, e);
            }),
            r.sort(i);
        else if (3 === arguments.length) {
          (e = r.slice(arguments[1], arguments[2])).sort();
          var o = r
            .slice(0, arguments[1])
            .concat(e, r.slice(arguments[2], r.length));
          for (r.splice(0, r.length), t = 0; t < o.length; t++) r.push(o[t]);
        } else if (4 === arguments.length)
          for (
            e = r.slice(arguments[1], arguments[2]),
              n = arguments[3],
              i = function (t, e) {
                return n.compare(t, e);
              },
              e.sort(i),
              o = r
                .slice(0, arguments[1])
                .concat(e, r.slice(arguments[2], r.length)),
              r.splice(0, r.length),
              t = 0;
            t < o.length;
            t++
          )
            r.push(o[t]);
      }),
        (Ft.asList = function (t) {
          for (var e = new wt(), n = 0, i = t.length; n < i; n++) e.add(t[n]);
          return e;
        });
      var Gt = function () {},
        jt = {
          P: { configurable: !0 },
          L: { configurable: !0 },
          A: { configurable: !0 },
          FALSE: { configurable: !0 },
          TRUE: { configurable: !0 },
          DONTCARE: { configurable: !0 },
          SYM_FALSE: { configurable: !0 },
          SYM_TRUE: { configurable: !0 },
          SYM_DONTCARE: { configurable: !0 },
          SYM_P: { configurable: !0 },
          SYM_L: { configurable: !0 },
          SYM_A: { configurable: !0 },
        };
      (jt.P.get = function () {
        return 0;
      }),
        (jt.L.get = function () {
          return 1;
        }),
        (jt.A.get = function () {
          return 2;
        }),
        (jt.FALSE.get = function () {
          return -1;
        }),
        (jt.TRUE.get = function () {
          return -2;
        }),
        (jt.DONTCARE.get = function () {
          return -3;
        }),
        (jt.SYM_FALSE.get = function () {
          return "F";
        }),
        (jt.SYM_TRUE.get = function () {
          return "T";
        }),
        (jt.SYM_DONTCARE.get = function () {
          return "*";
        }),
        (jt.SYM_P.get = function () {
          return "0";
        }),
        (jt.SYM_L.get = function () {
          return "1";
        }),
        (jt.SYM_A.get = function () {
          return "2";
        }),
        (Gt.prototype.interfaces_ = function () {
          return [];
        }),
        (Gt.prototype.getClass = function () {
          return Gt;
        }),
        (Gt.toDimensionSymbol = function (t) {
          switch (t) {
            case Gt.FALSE:
              return Gt.SYM_FALSE;
            case Gt.TRUE:
              return Gt.SYM_TRUE;
            case Gt.DONTCARE:
              return Gt.SYM_DONTCARE;
            case Gt.P:
              return Gt.SYM_P;
            case Gt.L:
              return Gt.SYM_L;
            case Gt.A:
              return Gt.SYM_A;
          }
          throw new v("Unknown dimension value: " + t);
        }),
        (Gt.toDimensionValue = function (t) {
          switch (D.toUpperCase(t)) {
            case Gt.SYM_FALSE:
              return Gt.FALSE;
            case Gt.SYM_TRUE:
              return Gt.TRUE;
            case Gt.SYM_DONTCARE:
              return Gt.DONTCARE;
            case Gt.SYM_P:
              return Gt.P;
            case Gt.SYM_L:
              return Gt.L;
            case Gt.SYM_A:
              return Gt.A;
          }
          throw new v("Unknown dimension symbol: " + t);
        }),
        Object.defineProperties(Gt, jt);
      var Bt = function () {};
      (Bt.prototype.filter = function (t) {}),
        (Bt.prototype.interfaces_ = function () {
          return [];
        }),
        (Bt.prototype.getClass = function () {
          return Bt;
        });
      var Ut = function () {};
      (Ut.prototype.filter = function (t, e) {}),
        (Ut.prototype.isDone = function () {}),
        (Ut.prototype.isGeometryChanged = function () {}),
        (Ut.prototype.interfaces_ = function () {
          return [];
        }),
        (Ut.prototype.getClass = function () {
          return Ut;
        });
      var Yt = (function (t) {
          function e(e, n) {
            if (
              (t.call(this, n),
              (this._geometries = e || []),
              t.hasNullElements(this._geometries))
            )
              throw new v("geometries must not contain null elements");
          }
          t && (e.__proto__ = t),
            ((e.prototype = Object.create(t && t.prototype)).constructor = e);
          var n = { serialVersionUID: { configurable: !0 } };
          return (
            (e.prototype.computeEnvelopeInternal = function () {
              for (var t = new q(), e = 0; e < this._geometries.length; e++)
                t.expandToInclude(this._geometries[e].getEnvelopeInternal());
              return t;
            }),
            (e.prototype.getGeometryN = function (t) {
              return this._geometries[t];
            }),
            (e.prototype.getSortIndex = function () {
              return t.SORTINDEX_GEOMETRYCOLLECTION;
            }),
            (e.prototype.getCoordinates = function () {
              for (
                var t = new Array(this.getNumPoints()).fill(null),
                  e = -1,
                  n = 0;
                n < this._geometries.length;
                n++
              )
                for (
                  var i = this._geometries[n].getCoordinates(), r = 0;
                  r < i.length;
                  r++
                )
                  t[++e] = i[r];
              return t;
            }),
            (e.prototype.getArea = function () {
              for (var t = 0, e = 0; e < this._geometries.length; e++)
                t += this._geometries[e].getArea();
              return t;
            }),
            (e.prototype.equalsExact = function () {
              if (2 === arguments.length) {
                var e = arguments[0],
                  n = arguments[1];
                if (!this.isEquivalentClass(e)) return !1;
                var i = e;
                if (this._geometries.length !== i._geometries.length) return !1;
                for (var r = 0; r < this._geometries.length; r++)
                  if (!this._geometries[r].equalsExact(i._geometries[r], n))
                    return !1;
                return !0;
              }
              return t.prototype.equalsExact.apply(this, arguments);
            }),
            (e.prototype.normalize = function () {
              for (var t = 0; t < this._geometries.length; t++)
                this._geometries[t].normalize();
              Ft.sort(this._geometries);
            }),
            (e.prototype.getCoordinate = function () {
              return this.isEmpty()
                ? null
                : this._geometries[0].getCoordinate();
            }),
            (e.prototype.getBoundaryDimension = function () {
              for (var t = Gt.FALSE, e = 0; e < this._geometries.length; e++)
                t = Math.max(t, this._geometries[e].getBoundaryDimension());
              return t;
            }),
            (e.prototype.getDimension = function () {
              for (var t = Gt.FALSE, e = 0; e < this._geometries.length; e++)
                t = Math.max(t, this._geometries[e].getDimension());
              return t;
            }),
            (e.prototype.getLength = function () {
              for (var t = 0, e = 0; e < this._geometries.length; e++)
                t += this._geometries[e].getLength();
              return t;
            }),
            (e.prototype.getNumPoints = function () {
              for (var t = 0, e = 0; e < this._geometries.length; e++)
                t += this._geometries[e].getNumPoints();
              return t;
            }),
            (e.prototype.getNumGeometries = function () {
              return this._geometries.length;
            }),
            (e.prototype.reverse = function () {
              for (
                var t = this._geometries.length,
                  e = new Array(t).fill(null),
                  n = 0;
                n < this._geometries.length;
                n++
              )
                e[n] = this._geometries[n].reverse();
              return this.getFactory().createGeometryCollection(e);
            }),
            (e.prototype.compareToSameClass = function () {
              if (1 === arguments.length) {
                var t = arguments[0],
                  e = new f(Ft.asList(this._geometries)),
                  n = new f(Ft.asList(t._geometries));
                return this.compare(e, n);
              }
              if (2 === arguments.length) {
                for (
                  var i = arguments[0],
                    r = arguments[1],
                    o = i,
                    s = this.getNumGeometries(),
                    a = o.getNumGeometries(),
                    u = 0;
                  u < s && u < a;

                ) {
                  var c = this.getGeometryN(u),
                    h = o.getGeometryN(u),
                    l = c.compareToSameClass(h, r);
                  if (0 !== l) return l;
                  u++;
                }
                return u < s ? 1 : u < a ? -1 : 0;
              }
            }),
            (e.prototype.apply = function () {
              if (L(arguments[0], ft))
                for (
                  var t = arguments[0], e = 0;
                  e < this._geometries.length;
                  e++
                )
                  this._geometries[e].apply(t);
              else if (L(arguments[0], Ut)) {
                var n = arguments[0];
                if (0 === this._geometries.length) return null;
                for (
                  var i = 0;
                  i < this._geometries.length &&
                  (this._geometries[i].apply(n), !n.isDone());
                  i++
                );
                n.isGeometryChanged() && this.geometryChanged();
              } else if (L(arguments[0], Bt)) {
                var r = arguments[0];
                r.filter(this);
                for (var o = 0; o < this._geometries.length; o++)
                  this._geometries[o].apply(r);
              } else if (L(arguments[0], ct)) {
                var s = arguments[0];
                s.filter(this);
                for (var a = 0; a < this._geometries.length; a++)
                  this._geometries[a].apply(s);
              }
            }),
            (e.prototype.getBoundary = function () {
              return (
                this.checkNotGeometryCollection(this),
                et.shouldNeverReachHere(),
                null
              );
            }),
            (e.prototype.clone = function () {
              var e = t.prototype.clone.call(this);
              e._geometries = new Array(this._geometries.length).fill(null);
              for (var n = 0; n < this._geometries.length; n++)
                e._geometries[n] = this._geometries[n].clone();
              return e;
            }),
            (e.prototype.getGeometryType = function () {
              return "GeometryCollection";
            }),
            (e.prototype.copy = function () {
              for (
                var t = new Array(this._geometries.length).fill(null), n = 0;
                n < t.length;
                n++
              )
                t[n] = this._geometries[n].copy();
              return new e(t, this._factory);
            }),
            (e.prototype.isEmpty = function () {
              for (var t = 0; t < this._geometries.length; t++)
                if (!this._geometries[t].isEmpty()) return !1;
              return !0;
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            (n.serialVersionUID.get = function () {
              return -0x4f07bcb1f857d800;
            }),
            Object.defineProperties(e, n),
            e
          );
        })(ht),
        Xt = (function (t) {
          function e() {
            t.apply(this, arguments);
          }
          t && (e.__proto__ = t),
            ((e.prototype = Object.create(t && t.prototype)).constructor = e);
          var n = { serialVersionUID: { configurable: !0 } };
          return (
            (e.prototype.getSortIndex = function () {
              return ht.SORTINDEX_MULTILINESTRING;
            }),
            (e.prototype.equalsExact = function () {
              if (2 === arguments.length) {
                var e = arguments[0],
                  n = arguments[1];
                return (
                  !!this.isEquivalentClass(e) &&
                  t.prototype.equalsExact.call(this, e, n)
                );
              }
              return t.prototype.equalsExact.apply(this, arguments);
            }),
            (e.prototype.getBoundaryDimension = function () {
              return this.isClosed() ? Gt.FALSE : 0;
            }),
            (e.prototype.isClosed = function () {
              if (this.isEmpty()) return !1;
              for (var t = 0; t < this._geometries.length; t++)
                if (!this._geometries[t].isClosed()) return !1;
              return !0;
            }),
            (e.prototype.getDimension = function () {
              return 1;
            }),
            (e.prototype.reverse = function () {
              for (
                var t = this._geometries.length,
                  e = new Array(t).fill(null),
                  n = 0;
                n < this._geometries.length;
                n++
              )
                e[t - 1 - n] = this._geometries[n].reverse();
              return this.getFactory().createMultiLineString(e);
            }),
            (e.prototype.getBoundary = function () {
              return new zt(this).getBoundary();
            }),
            (e.prototype.getGeometryType = function () {
              return "MultiLineString";
            }),
            (e.prototype.copy = function () {
              for (
                var t = new Array(this._geometries.length).fill(null), n = 0;
                n < t.length;
                n++
              )
                t[n] = this._geometries[n].copy();
              return new e(t, this._factory);
            }),
            (e.prototype.interfaces_ = function () {
              return [Dt];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            (n.serialVersionUID.get = function () {
              return 0x7155d2ab4afa8000;
            }),
            Object.defineProperties(e, n),
            e
          );
        })(Yt),
        zt = function () {
          if (
            ((this._geom = null),
            (this._geomFact = null),
            (this._bnRule = null),
            (this._endpointMap = null),
            1 === arguments.length)
          ) {
            var t = arguments[0],
              e = dt.MOD2_BOUNDARY_RULE;
            (this._geom = t),
              (this._geomFact = t.getFactory()),
              (this._bnRule = e);
          } else if (2 === arguments.length) {
            var n = arguments[0],
              i = arguments[1];
            (this._geom = n),
              (this._geomFact = n.getFactory()),
              (this._bnRule = i);
          }
        };
      (zt.prototype.boundaryMultiLineString = function (t) {
        if (this._geom.isEmpty()) return this.getEmptyMultiPoint();
        var e = this.computeBoundaryCoordinates(t);
        return 1 === e.length
          ? this._geomFact.createPoint(e[0])
          : this._geomFact.createMultiPointFromCoords(e);
      }),
        (zt.prototype.getBoundary = function () {
          return this._geom instanceof Kt
            ? this.boundaryLineString(this._geom)
            : this._geom instanceof Xt
            ? this.boundaryMultiLineString(this._geom)
            : this._geom.getBoundary();
        }),
        (zt.prototype.boundaryLineString = function (t) {
          return this._geom.isEmpty()
            ? this.getEmptyMultiPoint()
            : t.isClosed()
            ? this._bnRule.isInBoundary(2)
              ? t.getStartPoint()
              : this._geomFact.createMultiPoint()
            : this._geomFact.createMultiPoint([
                t.getStartPoint(),
                t.getEndPoint(),
              ]);
        }),
        (zt.prototype.getEmptyMultiPoint = function () {
          return this._geomFact.createMultiPoint();
        }),
        (zt.prototype.computeBoundaryCoordinates = function (t) {
          var e = new wt();
          this._endpointMap = new l();
          for (var n = 0; n < t.getNumGeometries(); n++) {
            var i = t.getGeometryN(n);
            0 !== i.getNumPoints() &&
              (this.addEndpoint(i.getCoordinateN(0)),
              this.addEndpoint(i.getCoordinateN(i.getNumPoints() - 1)));
          }
          for (var r = this._endpointMap.entrySet().iterator(); r.hasNext(); ) {
            var o = r.next(),
              s = o.getValue().count;
            this._bnRule.isInBoundary(s) && e.add(o.getKey());
          }
          return Ct.toCoordinateArray(e);
        }),
        (zt.prototype.addEndpoint = function (t) {
          var e = this._endpointMap.get(t);
          null === e && ((e = new Vt()), this._endpointMap.put(t, e)),
            e.count++;
        }),
        (zt.prototype.interfaces_ = function () {
          return [];
        }),
        (zt.prototype.getClass = function () {
          return zt;
        }),
        (zt.getBoundary = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return new zt(t).getBoundary();
          }
          if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            return new zt(e, n).getBoundary();
          }
        });
      var Vt = function () {
        this.count = null;
      };
      (Vt.prototype.interfaces_ = function () {
        return [];
      }),
        (Vt.prototype.getClass = function () {
          return Vt;
        });
      var qt = function () {},
        Wt = {
          NEWLINE: { configurable: !0 },
          SIMPLE_ORDINATE_FORMAT: { configurable: !0 },
        };
      (qt.prototype.interfaces_ = function () {
        return [];
      }),
        (qt.prototype.getClass = function () {
          return qt;
        }),
        (qt.chars = function (t, e) {
          for (var n = new Array(e).fill(null), i = 0; i < e; i++) n[i] = t;
          return String(n);
        }),
        (qt.getStackTrace = function () {
          if (1 === arguments.length) {
            var t = arguments[0],
              e = new (function () {})(),
              n = new (function () {})(e);
            return t.printStackTrace(n), e.toString();
          }
          if (2 === arguments.length) {
            for (
              var i = arguments[0],
                r = arguments[1],
                o = "",
                s = new (function () {})(
                  new (function () {})(qt.getStackTrace(i))
                ),
                a = 0;
              a < r;
              a++
            )
              try {
                o += s.readLine() + qt.NEWLINE;
              } catch (t) {
                if (!(t instanceof d)) throw t;
                et.shouldNeverReachHere();
              }
            return o;
          }
        }),
        (qt.split = function (t, e) {
          for (
            var n = e.length, i = new wt(), r = "" + t, o = r.indexOf(e);
            o >= 0;

          ) {
            var s = r.substring(0, o);
            i.add(s), (o = (r = r.substring(o + n)).indexOf(e));
          }
          r.length > 0 && i.add(r);
          for (var a = new Array(i.size()).fill(null), u = 0; u < a.length; u++)
            a[u] = i.get(u);
          return a;
        }),
        (qt.toString = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return qt.SIMPLE_ORDINATE_FORMAT.format(t);
          }
        }),
        (qt.spaces = function (t) {
          return qt.chars(" ", t);
        }),
        (Wt.NEWLINE.get = function () {
          return z.getProperty("line.separator");
        }),
        (Wt.SIMPLE_ORDINATE_FORMAT.get = function () {
          return new (function () {})("0.#");
        }),
        Object.defineProperties(qt, Wt);
      var Ht = function () {};
      (Ht.prototype.interfaces_ = function () {
        return [];
      }),
        (Ht.prototype.getClass = function () {
          return Ht;
        }),
        (Ht.copyCoord = function (t, e, n, i) {
          for (
            var r = Math.min(t.getDimension(), n.getDimension()), o = 0;
            o < r;
            o++
          )
            n.setOrdinate(i, o, t.getOrdinate(e, o));
        }),
        (Ht.isRing = function (t) {
          var e = t.size();
          return (
            0 === e ||
            (!(e <= 3) &&
              t.getOrdinate(0, B.X) === t.getOrdinate(e - 1, B.X) &&
              t.getOrdinate(0, B.Y) === t.getOrdinate(e - 1, B.Y))
          );
        }),
        (Ht.isEqual = function (t, e) {
          var n = t.size();
          if (n !== e.size()) return !1;
          for (
            var i = Math.min(t.getDimension(), e.getDimension()), r = 0;
            r < n;
            r++
          )
            for (var o = 0; o < i; o++) {
              var s = t.getOrdinate(r, o),
                a = e.getOrdinate(r, o);
              if (
                !(
                  t.getOrdinate(r, o) === e.getOrdinate(r, o) ||
                  (m.isNaN(s) && m.isNaN(a))
                )
              )
                return !1;
            }
          return !0;
        }),
        (Ht.extend = function (t, e, n) {
          var i = t.create(n, e.getDimension()),
            r = e.size();
          if ((Ht.copy(e, 0, i, 0, r), r > 0))
            for (var o = r; o < n; o++) Ht.copy(e, r - 1, i, o, 1);
          return i;
        }),
        (Ht.reverse = function (t) {
          for (var e = t.size() - 1, n = Math.trunc(e / 2), i = 0; i <= n; i++)
            Ht.swap(t, i, e - i);
        }),
        (Ht.swap = function (t, e, n) {
          if (e === n) return null;
          for (var i = 0; i < t.getDimension(); i++) {
            var r = t.getOrdinate(e, i);
            t.setOrdinate(e, i, t.getOrdinate(n, i)), t.setOrdinate(n, i, r);
          }
        }),
        (Ht.copy = function (t, e, n, i, r) {
          for (var o = 0; o < r; o++) Ht.copyCoord(t, e + o, n, i + o);
        }),
        (Ht.toString = function () {
          if (1 === arguments.length) {
            var t = arguments[0],
              e = t.size();
            if (0 === e) return "()";
            var n = t.getDimension(),
              i = new N();
            i.append("(");
            for (var r = 0; r < e; r++) {
              r > 0 && i.append(" ");
              for (var o = 0; o < n; o++)
                o > 0 && i.append(","),
                  i.append(qt.toString(t.getOrdinate(r, o)));
            }
            return i.append(")"), i.toString();
          }
        }),
        (Ht.ensureValidRing = function (t, e) {
          var n = e.size();
          return 0 === n
            ? e
            : n <= 3
            ? Ht.createClosedRing(t, e, 4)
            : e.getOrdinate(0, B.X) === e.getOrdinate(n - 1, B.X) &&
              e.getOrdinate(0, B.Y) === e.getOrdinate(n - 1, B.Y)
            ? e
            : Ht.createClosedRing(t, e, n + 1);
        }),
        (Ht.createClosedRing = function (t, e, n) {
          var i = t.create(n, e.getDimension()),
            r = e.size();
          Ht.copy(e, 0, i, 0, r);
          for (var o = r; o < n; o++) Ht.copy(e, 0, i, o, 1);
          return i;
        });
      var Kt = (function (t) {
          function e(e, n) {
            t.call(this, n), (this._points = null), this.init(e);
          }
          t && (e.__proto__ = t),
            ((e.prototype = Object.create(t && t.prototype)).constructor = e);
          var n = { serialVersionUID: { configurable: !0 } };
          return (
            (e.prototype.computeEnvelopeInternal = function () {
              return this.isEmpty()
                ? new q()
                : this._points.expandEnvelope(new q());
            }),
            (e.prototype.isRing = function () {
              return this.isClosed() && this.isSimple();
            }),
            (e.prototype.getSortIndex = function () {
              return t.SORTINDEX_LINESTRING;
            }),
            (e.prototype.getCoordinates = function () {
              return this._points.toCoordinateArray();
            }),
            (e.prototype.equalsExact = function () {
              if (2 === arguments.length) {
                var e = arguments[0],
                  n = arguments[1];
                if (!this.isEquivalentClass(e)) return !1;
                var i = e;
                if (this._points.size() !== i._points.size()) return !1;
                for (var r = 0; r < this._points.size(); r++)
                  if (
                    !this.equal(
                      this._points.getCoordinate(r),
                      i._points.getCoordinate(r),
                      n
                    )
                  )
                    return !1;
                return !0;
              }
              return t.prototype.equalsExact.apply(this, arguments);
            }),
            (e.prototype.normalize = function () {
              for (var t = 0; t < Math.trunc(this._points.size() / 2); t++) {
                var e = this._points.size() - 1 - t;
                if (
                  !this._points
                    .getCoordinate(t)
                    .equals(this._points.getCoordinate(e))
                )
                  return (
                    this._points
                      .getCoordinate(t)
                      .compareTo(this._points.getCoordinate(e)) > 0 &&
                      Ht.reverse(this._points),
                    null
                  );
              }
            }),
            (e.prototype.getCoordinate = function () {
              return this.isEmpty() ? null : this._points.getCoordinate(0);
            }),
            (e.prototype.getBoundaryDimension = function () {
              return this.isClosed() ? Gt.FALSE : 0;
            }),
            (e.prototype.isClosed = function () {
              return (
                !this.isEmpty() &&
                this.getCoordinateN(0).equals2D(
                  this.getCoordinateN(this.getNumPoints() - 1)
                )
              );
            }),
            (e.prototype.getEndPoint = function () {
              return this.isEmpty()
                ? null
                : this.getPointN(this.getNumPoints() - 1);
            }),
            (e.prototype.getDimension = function () {
              return 1;
            }),
            (e.prototype.getLength = function () {
              return at.computeLength(this._points);
            }),
            (e.prototype.getNumPoints = function () {
              return this._points.size();
            }),
            (e.prototype.reverse = function () {
              var t = this._points.copy();
              return Ht.reverse(t), this.getFactory().createLineString(t);
            }),
            (e.prototype.compareToSameClass = function () {
              if (1 === arguments.length) {
                for (
                  var t = arguments[0], e = 0, n = 0;
                  e < this._points.size() && n < t._points.size();

                ) {
                  var i = this._points
                    .getCoordinate(e)
                    .compareTo(t._points.getCoordinate(n));
                  if (0 !== i) return i;
                  e++, n++;
                }
                return e < this._points.size()
                  ? 1
                  : n < t._points.size()
                  ? -1
                  : 0;
              }
              if (2 === arguments.length) {
                var r = arguments[0];
                return arguments[1].compare(this._points, r._points);
              }
            }),
            (e.prototype.apply = function () {
              if (L(arguments[0], ft))
                for (var t = arguments[0], e = 0; e < this._points.size(); e++)
                  t.filter(this._points.getCoordinate(e));
              else if (L(arguments[0], Ut)) {
                var n = arguments[0];
                if (0 === this._points.size()) return null;
                for (
                  var i = 0;
                  i < this._points.size() &&
                  (n.filter(this._points, i), !n.isDone());
                  i++
                );
                n.isGeometryChanged() && this.geometryChanged();
              } else
                L(arguments[0], Bt)
                  ? arguments[0].filter(this)
                  : L(arguments[0], ct) && arguments[0].filter(this);
            }),
            (e.prototype.getBoundary = function () {
              return new zt(this).getBoundary();
            }),
            (e.prototype.isEquivalentClass = function (t) {
              return t instanceof e;
            }),
            (e.prototype.clone = function () {
              var e = t.prototype.clone.call(this);
              return (e._points = this._points.clone()), e;
            }),
            (e.prototype.getCoordinateN = function (t) {
              return this._points.getCoordinate(t);
            }),
            (e.prototype.getGeometryType = function () {
              return "LineString";
            }),
            (e.prototype.copy = function () {
              return new e(this._points.copy(), this._factory);
            }),
            (e.prototype.getCoordinateSequence = function () {
              return this._points;
            }),
            (e.prototype.isEmpty = function () {
              return 0 === this._points.size();
            }),
            (e.prototype.init = function (t) {
              if (
                (null === t &&
                  (t = this.getFactory()
                    .getCoordinateSequenceFactory()
                    .create([])),
                1 === t.size())
              )
                throw new v(
                  "Invalid number of points in LineString (found " +
                    t.size() +
                    " - must be 0 or >= 2)"
                );
              this._points = t;
            }),
            (e.prototype.isCoordinate = function (t) {
              for (var e = 0; e < this._points.size(); e++)
                if (this._points.getCoordinate(e).equals(t)) return !0;
              return !1;
            }),
            (e.prototype.getStartPoint = function () {
              return this.isEmpty() ? null : this.getPointN(0);
            }),
            (e.prototype.getPointN = function (t) {
              return this.getFactory().createPoint(
                this._points.getCoordinate(t)
              );
            }),
            (e.prototype.interfaces_ = function () {
              return [Dt];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            (n.serialVersionUID.get = function () {
              return 0x2b2b51ba435c8e00;
            }),
            Object.defineProperties(e, n),
            e
          );
        })(ht),
        Zt = function () {};
      (Zt.prototype.interfaces_ = function () {
        return [];
      }),
        (Zt.prototype.getClass = function () {
          return Zt;
        });
      var Jt = (function (t) {
          function e(e, n) {
            t.call(this, n),
              (this._coordinates = e || null),
              this.init(this._coordinates);
          }
          t && (e.__proto__ = t),
            ((e.prototype = Object.create(t && t.prototype)).constructor = e);
          var n = { serialVersionUID: { configurable: !0 } };
          return (
            (e.prototype.computeEnvelopeInternal = function () {
              if (this.isEmpty()) return new q();
              var t = new q();
              return (
                t.expandToInclude(
                  this._coordinates.getX(0),
                  this._coordinates.getY(0)
                ),
                t
              );
            }),
            (e.prototype.getSortIndex = function () {
              return t.SORTINDEX_POINT;
            }),
            (e.prototype.getCoordinates = function () {
              return this.isEmpty() ? [] : [this.getCoordinate()];
            }),
            (e.prototype.equalsExact = function () {
              if (2 === arguments.length) {
                var e = arguments[0],
                  n = arguments[1];
                return (
                  !!this.isEquivalentClass(e) &&
                  (!(!this.isEmpty() || !e.isEmpty()) ||
                    (this.isEmpty() === e.isEmpty() &&
                      this.equal(e.getCoordinate(), this.getCoordinate(), n)))
                );
              }
              return t.prototype.equalsExact.apply(this, arguments);
            }),
            (e.prototype.normalize = function () {}),
            (e.prototype.getCoordinate = function () {
              return 0 !== this._coordinates.size()
                ? this._coordinates.getCoordinate(0)
                : null;
            }),
            (e.prototype.getBoundaryDimension = function () {
              return Gt.FALSE;
            }),
            (e.prototype.getDimension = function () {
              return 0;
            }),
            (e.prototype.getNumPoints = function () {
              return this.isEmpty() ? 0 : 1;
            }),
            (e.prototype.reverse = function () {
              return this.copy();
            }),
            (e.prototype.getX = function () {
              if (null === this.getCoordinate())
                throw new Error("getX called on empty Point");
              return this.getCoordinate().x;
            }),
            (e.prototype.compareToSameClass = function () {
              if (1 === arguments.length) {
                var t = arguments[0];
                return this.getCoordinate().compareTo(t.getCoordinate());
              }
              if (2 === arguments.length) {
                var e = arguments[0];
                return arguments[1].compare(this._coordinates, e._coordinates);
              }
            }),
            (e.prototype.apply = function () {
              if (L(arguments[0], ft)) {
                var t = arguments[0];
                if (this.isEmpty()) return null;
                t.filter(this.getCoordinate());
              } else if (L(arguments[0], Ut)) {
                var e = arguments[0];
                if (this.isEmpty()) return null;
                e.filter(this._coordinates, 0),
                  e.isGeometryChanged() && this.geometryChanged();
              } else
                L(arguments[0], Bt)
                  ? arguments[0].filter(this)
                  : L(arguments[0], ct) && arguments[0].filter(this);
            }),
            (e.prototype.getBoundary = function () {
              return this.getFactory().createGeometryCollection(null);
            }),
            (e.prototype.clone = function () {
              var e = t.prototype.clone.call(this);
              return (e._coordinates = this._coordinates.clone()), e;
            }),
            (e.prototype.getGeometryType = function () {
              return "Point";
            }),
            (e.prototype.copy = function () {
              return new e(this._coordinates.copy(), this._factory);
            }),
            (e.prototype.getCoordinateSequence = function () {
              return this._coordinates;
            }),
            (e.prototype.getY = function () {
              if (null === this.getCoordinate())
                throw new Error("getY called on empty Point");
              return this.getCoordinate().y;
            }),
            (e.prototype.isEmpty = function () {
              return 0 === this._coordinates.size();
            }),
            (e.prototype.init = function (t) {
              null === t &&
                (t = this.getFactory()
                  .getCoordinateSequenceFactory()
                  .create([])),
                et.isTrue(t.size() <= 1),
                (this._coordinates = t);
            }),
            (e.prototype.isSimple = function () {
              return !0;
            }),
            (e.prototype.interfaces_ = function () {
              return [Zt];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            (n.serialVersionUID.get = function () {
              return 0x44077bad161cbc00;
            }),
            Object.defineProperties(e, n),
            e
          );
        })(ht),
        Qt = function () {};
      (Qt.prototype.interfaces_ = function () {
        return [];
      }),
        (Qt.prototype.getClass = function () {
          return Qt;
        });
      var $t = (function (t) {
          function e(e, n, i) {
            if (
              (t.call(this, i),
              (this._shell = null),
              (this._holes = null),
              null === e && (e = this.getFactory().createLinearRing()),
              null === n && (n = []),
              t.hasNullElements(n))
            )
              throw new v("holes must not contain null elements");
            if (e.isEmpty() && t.hasNonEmptyElements(n))
              throw new v("shell is empty but holes are not");
            (this._shell = e), (this._holes = n);
          }
          t && (e.__proto__ = t),
            ((e.prototype = Object.create(t && t.prototype)).constructor = e);
          var n = { serialVersionUID: { configurable: !0 } };
          return (
            (e.prototype.computeEnvelopeInternal = function () {
              return this._shell.getEnvelopeInternal();
            }),
            (e.prototype.getSortIndex = function () {
              return t.SORTINDEX_POLYGON;
            }),
            (e.prototype.getCoordinates = function () {
              if (this.isEmpty()) return [];
              for (
                var t = new Array(this.getNumPoints()).fill(null),
                  e = -1,
                  n = this._shell.getCoordinates(),
                  i = 0;
                i < n.length;
                i++
              )
                t[++e] = n[i];
              for (var r = 0; r < this._holes.length; r++)
                for (
                  var o = this._holes[r].getCoordinates(), s = 0;
                  s < o.length;
                  s++
                )
                  t[++e] = o[s];
              return t;
            }),
            (e.prototype.getArea = function () {
              var t = 0;
              t += Math.abs(at.signedArea(this._shell.getCoordinateSequence()));
              for (var e = 0; e < this._holes.length; e++)
                t -= Math.abs(
                  at.signedArea(this._holes[e].getCoordinateSequence())
                );
              return t;
            }),
            (e.prototype.isRectangle = function () {
              if (0 !== this.getNumInteriorRing()) return !1;
              if (null === this._shell) return !1;
              if (5 !== this._shell.getNumPoints()) return !1;
              for (
                var t = this._shell.getCoordinateSequence(),
                  e = this.getEnvelopeInternal(),
                  n = 0;
                n < 5;
                n++
              ) {
                var i = t.getX(n);
                if (i !== e.getMinX() && i !== e.getMaxX()) return !1;
                var r = t.getY(n);
                if (r !== e.getMinY() && r !== e.getMaxY()) return !1;
              }
              for (var o = t.getX(0), s = t.getY(0), a = 1; a <= 4; a++) {
                var u = t.getX(a),
                  c = t.getY(a);
                if ((u !== o) == (c !== s)) return !1;
                (o = u), (s = c);
              }
              return !0;
            }),
            (e.prototype.equalsExact = function () {
              if (2 === arguments.length) {
                var e = arguments[0],
                  n = arguments[1];
                if (!this.isEquivalentClass(e)) return !1;
                var i = e,
                  r = this._shell,
                  o = i._shell;
                if (!r.equalsExact(o, n)) return !1;
                if (this._holes.length !== i._holes.length) return !1;
                for (var s = 0; s < this._holes.length; s++)
                  if (!this._holes[s].equalsExact(i._holes[s], n)) return !1;
                return !0;
              }
              return t.prototype.equalsExact.apply(this, arguments);
            }),
            (e.prototype.normalize = function () {
              if (0 === arguments.length) {
                this.normalize(this._shell, !0);
                for (var t = 0; t < this._holes.length; t++)
                  this.normalize(this._holes[t], !1);
                Ft.sort(this._holes);
              } else if (2 === arguments.length) {
                var e = arguments[0],
                  n = arguments[1];
                if (e.isEmpty()) return null;
                var i = new Array(e.getCoordinates().length - 1).fill(null);
                z.arraycopy(e.getCoordinates(), 0, i, 0, i.length);
                var r = Ct.minCoordinate(e.getCoordinates());
                Ct.scroll(i, r),
                  z.arraycopy(i, 0, e.getCoordinates(), 0, i.length),
                  (e.getCoordinates()[i.length] = i[0]),
                  at.isCCW(e.getCoordinates()) === n &&
                    Ct.reverse(e.getCoordinates());
              }
            }),
            (e.prototype.getCoordinate = function () {
              return this._shell.getCoordinate();
            }),
            (e.prototype.getNumInteriorRing = function () {
              return this._holes.length;
            }),
            (e.prototype.getBoundaryDimension = function () {
              return 1;
            }),
            (e.prototype.getDimension = function () {
              return 2;
            }),
            (e.prototype.getLength = function () {
              var t = 0;
              t += this._shell.getLength();
              for (var e = 0; e < this._holes.length; e++)
                t += this._holes[e].getLength();
              return t;
            }),
            (e.prototype.getNumPoints = function () {
              for (
                var t = this._shell.getNumPoints(), e = 0;
                e < this._holes.length;
                e++
              )
                t += this._holes[e].getNumPoints();
              return t;
            }),
            (e.prototype.reverse = function () {
              var t = this.copy();
              (t._shell = this._shell.copy().reverse()),
                (t._holes = new Array(this._holes.length).fill(null));
              for (var e = 0; e < this._holes.length; e++)
                t._holes[e] = this._holes[e].copy().reverse();
              return t;
            }),
            (e.prototype.convexHull = function () {
              return this.getExteriorRing().convexHull();
            }),
            (e.prototype.compareToSameClass = function () {
              if (1 === arguments.length) {
                var t = arguments[0],
                  e = this._shell,
                  n = t._shell;
                return e.compareToSameClass(n);
              }
              if (2 === arguments.length) {
                var i = arguments[0],
                  r = arguments[1],
                  o = i,
                  s = this._shell,
                  a = o._shell,
                  u = s.compareToSameClass(a, r);
                if (0 !== u) return u;
                for (
                  var c = this.getNumInteriorRing(),
                    h = o.getNumInteriorRing(),
                    l = 0;
                  l < c && l < h;

                ) {
                  var p = this.getInteriorRingN(l),
                    f = o.getInteriorRingN(l),
                    d = p.compareToSameClass(f, r);
                  if (0 !== d) return d;
                  l++;
                }
                return l < c ? 1 : l < h ? -1 : 0;
              }
            }),
            (e.prototype.apply = function (t) {
              if (L(t, ft)) {
                this._shell.apply(t);
                for (var e = 0; e < this._holes.length; e++)
                  this._holes[e].apply(t);
              } else if (L(t, Ut)) {
                if ((this._shell.apply(t), !t.isDone()))
                  for (
                    var n = 0;
                    n < this._holes.length &&
                    (this._holes[n].apply(t), !t.isDone());
                    n++
                  );
                t.isGeometryChanged() && this.geometryChanged();
              } else if (L(t, Bt)) t.filter(this);
              else if (L(t, ct)) {
                t.filter(this), this._shell.apply(t);
                for (var i = 0; i < this._holes.length; i++)
                  this._holes[i].apply(t);
              }
            }),
            (e.prototype.getBoundary = function () {
              if (this.isEmpty())
                return this.getFactory().createMultiLineString();
              var t = new Array(this._holes.length + 1).fill(null);
              t[0] = this._shell;
              for (var e = 0; e < this._holes.length; e++)
                t[e + 1] = this._holes[e];
              return t.length <= 1
                ? this.getFactory().createLinearRing(
                    t[0].getCoordinateSequence()
                  )
                : this.getFactory().createMultiLineString(t);
            }),
            (e.prototype.clone = function () {
              var e = t.prototype.clone.call(this);
              (e._shell = this._shell.clone()),
                (e._holes = new Array(this._holes.length).fill(null));
              for (var n = 0; n < this._holes.length; n++)
                e._holes[n] = this._holes[n].clone();
              return e;
            }),
            (e.prototype.getGeometryType = function () {
              return "Polygon";
            }),
            (e.prototype.copy = function () {
              for (
                var t = this._shell.copy(),
                  n = new Array(this._holes.length).fill(null),
                  i = 0;
                i < n.length;
                i++
              )
                n[i] = this._holes[i].copy();
              return new e(t, n, this._factory);
            }),
            (e.prototype.getExteriorRing = function () {
              return this._shell;
            }),
            (e.prototype.isEmpty = function () {
              return this._shell.isEmpty();
            }),
            (e.prototype.getInteriorRingN = function (t) {
              return this._holes[t];
            }),
            (e.prototype.interfaces_ = function () {
              return [Qt];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            (n.serialVersionUID.get = function () {
              return -0x307ffefd8dc97200;
            }),
            Object.defineProperties(e, n),
            e
          );
        })(ht),
        te = (function (t) {
          function e() {
            t.apply(this, arguments);
          }
          t && (e.__proto__ = t),
            ((e.prototype = Object.create(t && t.prototype)).constructor = e);
          var n = { serialVersionUID: { configurable: !0 } };
          return (
            (e.prototype.getSortIndex = function () {
              return ht.SORTINDEX_MULTIPOINT;
            }),
            (e.prototype.isValid = function () {
              return !0;
            }),
            (e.prototype.equalsExact = function () {
              if (2 === arguments.length) {
                var e = arguments[0],
                  n = arguments[1];
                return (
                  !!this.isEquivalentClass(e) &&
                  t.prototype.equalsExact.call(this, e, n)
                );
              }
              return t.prototype.equalsExact.apply(this, arguments);
            }),
            (e.prototype.getCoordinate = function () {
              if (1 === arguments.length) {
                var e = arguments[0];
                return this._geometries[e].getCoordinate();
              }
              return t.prototype.getCoordinate.apply(this, arguments);
            }),
            (e.prototype.getBoundaryDimension = function () {
              return Gt.FALSE;
            }),
            (e.prototype.getDimension = function () {
              return 0;
            }),
            (e.prototype.getBoundary = function () {
              return this.getFactory().createGeometryCollection(null);
            }),
            (e.prototype.getGeometryType = function () {
              return "MultiPoint";
            }),
            (e.prototype.copy = function () {
              for (
                var t = new Array(this._geometries.length).fill(null), n = 0;
                n < t.length;
                n++
              )
                t[n] = this._geometries[n].copy();
              return new e(t, this._factory);
            }),
            (e.prototype.interfaces_ = function () {
              return [Zt];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            (n.serialVersionUID.get = function () {
              return -0x6fb1ed4162e0fc00;
            }),
            Object.defineProperties(e, n),
            e
          );
        })(Yt),
        ee = (function (t) {
          function e(e, n) {
            e instanceof I &&
              n instanceof _e &&
              (e = n.getCoordinateSequenceFactory().create(e)),
              t.call(this, e, n),
              this.validateConstruction();
          }
          t && (e.__proto__ = t),
            ((e.prototype = Object.create(t && t.prototype)).constructor = e);
          var n = {
            MINIMUM_VALID_SIZE: { configurable: !0 },
            serialVersionUID: { configurable: !0 },
          };
          return (
            (e.prototype.getSortIndex = function () {
              return ht.SORTINDEX_LINEARRING;
            }),
            (e.prototype.getBoundaryDimension = function () {
              return Gt.FALSE;
            }),
            (e.prototype.isClosed = function () {
              return !!this.isEmpty() || t.prototype.isClosed.call(this);
            }),
            (e.prototype.reverse = function () {
              var t = this._points.copy();
              return Ht.reverse(t), this.getFactory().createLinearRing(t);
            }),
            (e.prototype.validateConstruction = function () {
              if (!this.isEmpty() && !t.prototype.isClosed.call(this))
                throw new v(
                  "Points of LinearRing do not form a closed linestring"
                );
              if (
                this.getCoordinateSequence().size() >= 1 &&
                this.getCoordinateSequence().size() < e.MINIMUM_VALID_SIZE
              )
                throw new v(
                  "Invalid number of points in LinearRing (found " +
                    this.getCoordinateSequence().size() +
                    " - must be 0 or >= 4)"
                );
            }),
            (e.prototype.getGeometryType = function () {
              return "LinearRing";
            }),
            (e.prototype.copy = function () {
              return new e(this._points.copy(), this._factory);
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            (n.MINIMUM_VALID_SIZE.get = function () {
              return 4;
            }),
            (n.serialVersionUID.get = function () {
              return -0x3b229e262367a600;
            }),
            Object.defineProperties(e, n),
            e
          );
        })(Kt),
        ne = (function (t) {
          function e() {
            t.apply(this, arguments);
          }
          t && (e.__proto__ = t),
            ((e.prototype = Object.create(t && t.prototype)).constructor = e);
          var n = { serialVersionUID: { configurable: !0 } };
          return (
            (e.prototype.getSortIndex = function () {
              return ht.SORTINDEX_MULTIPOLYGON;
            }),
            (e.prototype.equalsExact = function () {
              if (2 === arguments.length) {
                var e = arguments[0],
                  n = arguments[1];
                return (
                  !!this.isEquivalentClass(e) &&
                  t.prototype.equalsExact.call(this, e, n)
                );
              }
              return t.prototype.equalsExact.apply(this, arguments);
            }),
            (e.prototype.getBoundaryDimension = function () {
              return 1;
            }),
            (e.prototype.getDimension = function () {
              return 2;
            }),
            (e.prototype.reverse = function () {
              for (
                var t = this._geometries.length,
                  e = new Array(t).fill(null),
                  n = 0;
                n < this._geometries.length;
                n++
              )
                e[n] = this._geometries[n].reverse();
              return this.getFactory().createMultiPolygon(e);
            }),
            (e.prototype.getBoundary = function () {
              if (this.isEmpty())
                return this.getFactory().createMultiLineString();
              for (var t = new wt(), e = 0; e < this._geometries.length; e++)
                for (
                  var n = this._geometries[e].getBoundary(), i = 0;
                  i < n.getNumGeometries();
                  i++
                )
                  t.add(n.getGeometryN(i));
              var r = new Array(t.size()).fill(null);
              return this.getFactory().createMultiLineString(t.toArray(r));
            }),
            (e.prototype.getGeometryType = function () {
              return "MultiPolygon";
            }),
            (e.prototype.copy = function () {
              for (
                var t = new Array(this._geometries.length).fill(null), n = 0;
                n < t.length;
                n++
              )
                t[n] = this._geometries[n].copy();
              return new e(t, this._factory);
            }),
            (e.prototype.interfaces_ = function () {
              return [Qt];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            (n.serialVersionUID.get = function () {
              return -0x7a5aa1369171980;
            }),
            Object.defineProperties(e, n),
            e
          );
        })(Yt),
        ie = function (t) {
          (this._factory = t || null), (this._isUserDataCopied = !1);
        },
        re = {
          NoOpGeometryOperation: { configurable: !0 },
          CoordinateOperation: { configurable: !0 },
          CoordinateSequenceOperation: { configurable: !0 },
        };
      (ie.prototype.setCopyUserData = function (t) {
        this._isUserDataCopied = t;
      }),
        (ie.prototype.edit = function (t, e) {
          if (null === t) return null;
          var n = this.editInternal(t, e);
          return this._isUserDataCopied && n.setUserData(t.getUserData()), n;
        }),
        (ie.prototype.editInternal = function (t, e) {
          return (
            null === this._factory && (this._factory = t.getFactory()),
            t instanceof Yt
              ? this.editGeometryCollection(t, e)
              : t instanceof $t
              ? this.editPolygon(t, e)
              : t instanceof Jt
              ? e.edit(t, this._factory)
              : t instanceof Kt
              ? e.edit(t, this._factory)
              : (et.shouldNeverReachHere(
                  "Unsupported Geometry class: " + t.getClass().getName()
                ),
                null)
          );
        }),
        (ie.prototype.editGeometryCollection = function (t, e) {
          for (
            var n = e.edit(t, this._factory), i = new wt(), r = 0;
            r < n.getNumGeometries();
            r++
          ) {
            var o = this.edit(n.getGeometryN(r), e);
            null === o || o.isEmpty() || i.add(o);
          }
          return n.getClass() === te
            ? this._factory.createMultiPoint(i.toArray([]))
            : n.getClass() === Xt
            ? this._factory.createMultiLineString(i.toArray([]))
            : n.getClass() === ne
            ? this._factory.createMultiPolygon(i.toArray([]))
            : this._factory.createGeometryCollection(i.toArray([]));
        }),
        (ie.prototype.editPolygon = function (t, e) {
          var n = e.edit(t, this._factory);
          if (
            (null === n && (n = this._factory.createPolygon(null)), n.isEmpty())
          )
            return n;
          var i = this.edit(n.getExteriorRing(), e);
          if (null === i || i.isEmpty()) return this._factory.createPolygon();
          for (var r = new wt(), o = 0; o < n.getNumInteriorRing(); o++) {
            var s = this.edit(n.getInteriorRingN(o), e);
            null === s || s.isEmpty() || r.add(s);
          }
          return this._factory.createPolygon(i, r.toArray([]));
        }),
        (ie.prototype.interfaces_ = function () {
          return [];
        }),
        (ie.prototype.getClass = function () {
          return ie;
        }),
        (ie.GeometryEditorOperation = function () {}),
        (re.NoOpGeometryOperation.get = function () {
          return oe;
        }),
        (re.CoordinateOperation.get = function () {
          return se;
        }),
        (re.CoordinateSequenceOperation.get = function () {
          return ae;
        }),
        Object.defineProperties(ie, re);
      var oe = function () {};
      (oe.prototype.edit = function (t, e) {
        return t;
      }),
        (oe.prototype.interfaces_ = function () {
          return [ie.GeometryEditorOperation];
        }),
        (oe.prototype.getClass = function () {
          return oe;
        });
      var se = function () {};
      (se.prototype.edit = function (t, e) {
        var n = this.editCoordinates(t.getCoordinates(), t);
        return null === n
          ? t
          : t instanceof ee
          ? e.createLinearRing(n)
          : t instanceof Kt
          ? e.createLineString(n)
          : t instanceof Jt
          ? n.length > 0
            ? e.createPoint(n[0])
            : e.createPoint()
          : t;
      }),
        (se.prototype.interfaces_ = function () {
          return [ie.GeometryEditorOperation];
        }),
        (se.prototype.getClass = function () {
          return se;
        });
      var ae = function () {};
      (ae.prototype.edit = function (t, e) {
        return t instanceof ee
          ? e.createLinearRing(this.edit(t.getCoordinateSequence(), t))
          : t instanceof Kt
          ? e.createLineString(this.edit(t.getCoordinateSequence(), t))
          : t instanceof Jt
          ? e.createPoint(this.edit(t.getCoordinateSequence(), t))
          : t;
      }),
        (ae.prototype.interfaces_ = function () {
          return [ie.GeometryEditorOperation];
        }),
        (ae.prototype.getClass = function () {
          return ae;
        });
      var ue = function () {
          if (
            ((this._dimension = 3),
            (this._coordinates = null),
            1 === arguments.length)
          ) {
            if (arguments[0] instanceof Array)
              (this._coordinates = arguments[0]), (this._dimension = 3);
            else if (Number.isInteger(arguments[0])) {
              var t = arguments[0];
              this._coordinates = new Array(t).fill(null);
              for (var e = 0; e < t; e++) this._coordinates[e] = new I();
            } else if (L(arguments[0], B)) {
              var n = arguments[0];
              if (null === n)
                return (this._coordinates = new Array(0).fill(null)), null;
              (this._dimension = n.getDimension()),
                (this._coordinates = new Array(n.size()).fill(null));
              for (var i = 0; i < this._coordinates.length; i++)
                this._coordinates[i] = n.getCoordinateCopy(i);
            }
          } else if (2 === arguments.length)
            if (
              arguments[0] instanceof Array &&
              Number.isInteger(arguments[1])
            ) {
              var r = arguments[0],
                o = arguments[1];
              (this._coordinates = r),
                (this._dimension = o),
                null === r && (this._coordinates = new Array(0).fill(null));
            } else if (
              Number.isInteger(arguments[0]) &&
              Number.isInteger(arguments[1])
            ) {
              var s = arguments[0],
                a = arguments[1];
              (this._coordinates = new Array(s).fill(null)),
                (this._dimension = a);
              for (var u = 0; u < s; u++) this._coordinates[u] = new I();
            }
        },
        ce = { serialVersionUID: { configurable: !0 } };
      (ue.prototype.setOrdinate = function (t, e, n) {
        switch (e) {
          case B.X:
            this._coordinates[t].x = n;
            break;
          case B.Y:
            this._coordinates[t].y = n;
            break;
          case B.Z:
            this._coordinates[t].z = n;
            break;
          default:
            throw new v("invalid ordinateIndex");
        }
      }),
        (ue.prototype.size = function () {
          return this._coordinates.length;
        }),
        (ue.prototype.getOrdinate = function (t, e) {
          switch (e) {
            case B.X:
              return this._coordinates[t].x;
            case B.Y:
              return this._coordinates[t].y;
            case B.Z:
              return this._coordinates[t].z;
          }
          return m.NaN;
        }),
        (ue.prototype.getCoordinate = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return this._coordinates[t];
          }
          if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            (n.x = this._coordinates[e].x),
              (n.y = this._coordinates[e].y),
              (n.z = this._coordinates[e].z);
          }
        }),
        (ue.prototype.getCoordinateCopy = function (t) {
          return new I(this._coordinates[t]);
        }),
        (ue.prototype.getDimension = function () {
          return this._dimension;
        }),
        (ue.prototype.getX = function (t) {
          return this._coordinates[t].x;
        }),
        (ue.prototype.clone = function () {
          for (
            var t = new Array(this.size()).fill(null), e = 0;
            e < this._coordinates.length;
            e++
          )
            t[e] = this._coordinates[e].clone();
          return new ue(t, this._dimension);
        }),
        (ue.prototype.expandEnvelope = function (t) {
          for (var e = 0; e < this._coordinates.length; e++)
            t.expandToInclude(this._coordinates[e]);
          return t;
        }),
        (ue.prototype.copy = function () {
          for (
            var t = new Array(this.size()).fill(null), e = 0;
            e < this._coordinates.length;
            e++
          )
            t[e] = this._coordinates[e].copy();
          return new ue(t, this._dimension);
        }),
        (ue.prototype.toString = function () {
          if (this._coordinates.length > 0) {
            var t = new N(17 * this._coordinates.length);
            t.append("("), t.append(this._coordinates[0]);
            for (var e = 1; e < this._coordinates.length; e++)
              t.append(", "), t.append(this._coordinates[e]);
            return t.append(")"), t.toString();
          }
          return "()";
        }),
        (ue.prototype.getY = function (t) {
          return this._coordinates[t].y;
        }),
        (ue.prototype.toCoordinateArray = function () {
          return this._coordinates;
        }),
        (ue.prototype.interfaces_ = function () {
          return [B, e];
        }),
        (ue.prototype.getClass = function () {
          return ue;
        }),
        (ce.serialVersionUID.get = function () {
          return -0xcb44a778db18e00;
        }),
        Object.defineProperties(ue, ce);
      var he = function () {},
        le = {
          serialVersionUID: { configurable: !0 },
          instanceObject: { configurable: !0 },
        };
      (he.prototype.readResolve = function () {
        return he.instance();
      }),
        (he.prototype.create = function () {
          if (1 === arguments.length) {
            if (arguments[0] instanceof Array) {
              var t = arguments[0];
              return new ue(t);
            }
            if (L(arguments[0], B)) {
              var e = arguments[0];
              return new ue(e);
            }
          } else if (2 === arguments.length) {
            var n = arguments[0],
              i = arguments[1];
            return i > 3 && (i = 3), i < 2 ? new ue(n) : new ue(n, i);
          }
        }),
        (he.prototype.interfaces_ = function () {
          return [T, e];
        }),
        (he.prototype.getClass = function () {
          return he;
        }),
        (he.instance = function () {
          return he.instanceObject;
        }),
        (le.serialVersionUID.get = function () {
          return -0x38e49fa6cf6f2e00;
        }),
        (le.instanceObject.get = function () {
          return new he();
        }),
        Object.defineProperties(he, le);
      var pe = (function (t) {
          function e() {
            t.call(this), (this.map_ = new Map());
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.get = function (t) {
              return this.map_.get(t) || null;
            }),
            (e.prototype.put = function (t, e) {
              return this.map_.set(t, e), e;
            }),
            (e.prototype.values = function () {
              for (
                var t = new wt(), e = this.map_.values(), n = e.next();
                !n.done;

              )
                t.add(n.value), (n = e.next());
              return t;
            }),
            (e.prototype.entrySet = function () {
              var t = new At();
              return (
                this.map_.entries().forEach(function (e) {
                  return t.add(e);
                }),
                t
              );
            }),
            (e.prototype.size = function () {
              return this.map_.size();
            }),
            e
          );
        })(Lt),
        fe = function t() {
          if (
            ((this._modelType = null),
            (this._scale = null),
            0 === arguments.length)
          )
            this._modelType = t.FLOATING;
          else if (1 === arguments.length)
            if (arguments[0] instanceof ge) {
              var e = arguments[0];
              (this._modelType = e), e === t.FIXED && this.setScale(1);
            } else if ("number" == typeof arguments[0]) {
              var n = arguments[0];
              (this._modelType = t.FIXED), this.setScale(n);
            } else if (arguments[0] instanceof t) {
              var i = arguments[0];
              (this._modelType = i._modelType), (this._scale = i._scale);
            }
        },
        de = {
          serialVersionUID: { configurable: !0 },
          maximumPreciseValue: { configurable: !0 },
        };
      (fe.prototype.equals = function (t) {
        if (!(t instanceof fe)) return !1;
        var e = t;
        return this._modelType === e._modelType && this._scale === e._scale;
      }),
        (fe.prototype.compareTo = function (t) {
          var e = t,
            n = this.getMaximumSignificantDigits(),
            i = e.getMaximumSignificantDigits();
          return new P(n).compareTo(new P(i));
        }),
        (fe.prototype.getScale = function () {
          return this._scale;
        }),
        (fe.prototype.isFloating = function () {
          return (
            this._modelType === fe.FLOATING ||
            this._modelType === fe.FLOATING_SINGLE
          );
        }),
        (fe.prototype.getType = function () {
          return this._modelType;
        }),
        (fe.prototype.toString = function () {
          var t = "UNKNOWN";
          return (
            this._modelType === fe.FLOATING
              ? (t = "Floating")
              : this._modelType === fe.FLOATING_SINGLE
              ? (t = "Floating-Single")
              : this._modelType === fe.FIXED &&
                (t = "Fixed (Scale=" + this.getScale() + ")"),
            t
          );
        }),
        (fe.prototype.makePrecise = function () {
          if ("number" == typeof arguments[0]) {
            var t = arguments[0];
            return m.isNaN(t)
              ? t
              : this._modelType === fe.FLOATING_SINGLE
              ? t
              : this._modelType === fe.FIXED
              ? Math.round(t * this._scale) / this._scale
              : t;
          }
          if (arguments[0] instanceof I) {
            var e = arguments[0];
            if (this._modelType === fe.FLOATING) return null;
            (e.x = this.makePrecise(e.x)), (e.y = this.makePrecise(e.y));
          }
        }),
        (fe.prototype.getMaximumSignificantDigits = function () {
          var t = 16;
          return (
            this._modelType === fe.FLOATING
              ? (t = 16)
              : this._modelType === fe.FLOATING_SINGLE
              ? (t = 6)
              : this._modelType === fe.FIXED &&
                (t =
                  1 +
                  Math.trunc(
                    Math.ceil(Math.log(this.getScale()) / Math.log(10))
                  )),
            t
          );
        }),
        (fe.prototype.setScale = function (t) {
          this._scale = Math.abs(t);
        }),
        (fe.prototype.interfaces_ = function () {
          return [e, E];
        }),
        (fe.prototype.getClass = function () {
          return fe;
        }),
        (fe.mostPrecise = function (t, e) {
          return t.compareTo(e) >= 0 ? t : e;
        }),
        (de.serialVersionUID.get = function () {
          return 0x6bee6404e9a25c00;
        }),
        (de.maximumPreciseValue.get = function () {
          return 9007199254740992;
        }),
        Object.defineProperties(fe, de);
      var ge = function t(e) {
          (this._name = e || null), t.nameToTypeMap.put(e, this);
        },
        ye = {
          serialVersionUID: { configurable: !0 },
          nameToTypeMap: { configurable: !0 },
        };
      (ge.prototype.readResolve = function () {
        return ge.nameToTypeMap.get(this._name);
      }),
        (ge.prototype.toString = function () {
          return this._name;
        }),
        (ge.prototype.interfaces_ = function () {
          return [e];
        }),
        (ge.prototype.getClass = function () {
          return ge;
        }),
        (ye.serialVersionUID.get = function () {
          return -552860263173159e4;
        }),
        (ye.nameToTypeMap.get = function () {
          return new pe();
        }),
        Object.defineProperties(ge, ye),
        (fe.Type = ge),
        (fe.FIXED = new ge("FIXED")),
        (fe.FLOATING = new ge("FLOATING")),
        (fe.FLOATING_SINGLE = new ge("FLOATING SINGLE"));
      var _e = function t() {
          (this._precisionModel = new fe()),
            (this._SRID = 0),
            (this._coordinateSequenceFactory = t.getDefaultCoordinateSequenceFactory()),
            0 === arguments.length ||
              (1 === arguments.length
                ? L(arguments[0], T)
                  ? (this._coordinateSequenceFactory = arguments[0])
                  : arguments[0] instanceof fe &&
                    (this._precisionModel = arguments[0])
                : 2 === arguments.length
                ? ((this._precisionModel = arguments[0]),
                  (this._SRID = arguments[1]))
                : 3 === arguments.length &&
                  ((this._precisionModel = arguments[0]),
                  (this._SRID = arguments[1]),
                  (this._coordinateSequenceFactory = arguments[2])));
        },
        ve = { serialVersionUID: { configurable: !0 } };
      (_e.prototype.toGeometry = function (t) {
        return t.isNull()
          ? this.createPoint(null)
          : t.getMinX() === t.getMaxX() && t.getMinY() === t.getMaxY()
          ? this.createPoint(new I(t.getMinX(), t.getMinY()))
          : t.getMinX() === t.getMaxX() || t.getMinY() === t.getMaxY()
          ? this.createLineString([
              new I(t.getMinX(), t.getMinY()),
              new I(t.getMaxX(), t.getMaxY()),
            ])
          : this.createPolygon(
              this.createLinearRing([
                new I(t.getMinX(), t.getMinY()),
                new I(t.getMinX(), t.getMaxY()),
                new I(t.getMaxX(), t.getMaxY()),
                new I(t.getMaxX(), t.getMinY()),
                new I(t.getMinX(), t.getMinY()),
              ]),
              null
            );
      }),
        (_e.prototype.createLineString = function (t) {
          return t
            ? t instanceof Array
              ? new Kt(this.getCoordinateSequenceFactory().create(t), this)
              : L(t, B)
              ? new Kt(t, this)
              : void 0
            : new Kt(this.getCoordinateSequenceFactory().create([]), this);
        }),
        (_e.prototype.createMultiLineString = function () {
          if (0 === arguments.length) return new Xt(null, this);
          if (1 === arguments.length) {
            var t = arguments[0];
            return new Xt(t, this);
          }
        }),
        (_e.prototype.buildGeometry = function (t) {
          for (var e = null, n = !1, i = !1, r = t.iterator(); r.hasNext(); ) {
            var o = r.next(),
              s = o.getClass();
            null === e && (e = s),
              s !== e && (n = !0),
              o.isGeometryCollectionOrDerived() && (i = !0);
          }
          if (null === e) return this.createGeometryCollection();
          if (n || i)
            return this.createGeometryCollection(_e.toGeometryArray(t));
          var a = t.iterator().next();
          if (t.size() > 1) {
            if (a instanceof $t)
              return this.createMultiPolygon(_e.toPolygonArray(t));
            if (a instanceof Kt)
              return this.createMultiLineString(_e.toLineStringArray(t));
            if (a instanceof Jt)
              return this.createMultiPoint(_e.toPointArray(t));
            et.shouldNeverReachHere(
              "Unhandled class: " + a.getClass().getName()
            );
          }
          return a;
        }),
        (_e.prototype.createMultiPointFromCoords = function (t) {
          return this.createMultiPoint(
            null !== t ? this.getCoordinateSequenceFactory().create(t) : null
          );
        }),
        (_e.prototype.createPoint = function () {
          if (0 === arguments.length)
            return this.createPoint(
              this.getCoordinateSequenceFactory().create([])
            );
          if (1 === arguments.length) {
            if (arguments[0] instanceof I) {
              var t = arguments[0];
              return this.createPoint(
                null !== t
                  ? this.getCoordinateSequenceFactory().create([t])
                  : null
              );
            }
            if (L(arguments[0], B)) {
              var e = arguments[0];
              return new Jt(e, this);
            }
          }
        }),
        (_e.prototype.getCoordinateSequenceFactory = function () {
          return this._coordinateSequenceFactory;
        }),
        (_e.prototype.createPolygon = function () {
          if (0 === arguments.length) return new $t(null, null, this);
          if (1 === arguments.length) {
            if (L(arguments[0], B)) {
              var t = arguments[0];
              return this.createPolygon(this.createLinearRing(t));
            }
            if (arguments[0] instanceof Array) {
              var e = arguments[0];
              return this.createPolygon(this.createLinearRing(e));
            }
            if (arguments[0] instanceof ee) {
              var n = arguments[0];
              return this.createPolygon(n, null);
            }
          } else if (2 === arguments.length) {
            var i = arguments[0],
              r = arguments[1];
            return new $t(i, r, this);
          }
        }),
        (_e.prototype.getSRID = function () {
          return this._SRID;
        }),
        (_e.prototype.createGeometryCollection = function () {
          if (0 === arguments.length) return new Yt(null, this);
          if (1 === arguments.length) {
            var t = arguments[0];
            return new Yt(t, this);
          }
        }),
        (_e.prototype.createGeometry = function (t) {
          return new ie(this).edit(t, {
            edit: function () {
              if (2 === arguments.length) {
                var t = arguments[0];
                return this._coordinateSequenceFactory.create(t);
              }
            },
          });
        }),
        (_e.prototype.getPrecisionModel = function () {
          return this._precisionModel;
        }),
        (_e.prototype.createLinearRing = function () {
          if (0 === arguments.length)
            return this.createLinearRing(
              this.getCoordinateSequenceFactory().create([])
            );
          if (1 === arguments.length) {
            if (arguments[0] instanceof Array) {
              var t = arguments[0];
              return this.createLinearRing(
                null !== t
                  ? this.getCoordinateSequenceFactory().create(t)
                  : null
              );
            }
            if (L(arguments[0], B)) {
              var e = arguments[0];
              return new ee(e, this);
            }
          }
        }),
        (_e.prototype.createMultiPolygon = function () {
          if (0 === arguments.length) return new ne(null, this);
          if (1 === arguments.length) {
            var t = arguments[0];
            return new ne(t, this);
          }
        }),
        (_e.prototype.createMultiPoint = function () {
          if (0 === arguments.length) return new te(null, this);
          if (1 === arguments.length) {
            if (arguments[0] instanceof Array) {
              var t = arguments[0];
              return new te(t, this);
            }
            if (arguments[0] instanceof Array) {
              var e = arguments[0];
              return this.createMultiPoint(
                null !== e
                  ? this.getCoordinateSequenceFactory().create(e)
                  : null
              );
            }
            if (L(arguments[0], B)) {
              var n = arguments[0];
              if (null === n)
                return this.createMultiPoint(new Array(0).fill(null));
              for (
                var i = new Array(n.size()).fill(null), r = 0;
                r < n.size();
                r++
              ) {
                var o = this.getCoordinateSequenceFactory().create(
                  1,
                  n.getDimension()
                );
                Ht.copy(n, r, o, 0, 1), (i[r] = this.createPoint(o));
              }
              return this.createMultiPoint(i);
            }
          }
        }),
        (_e.prototype.interfaces_ = function () {
          return [e];
        }),
        (_e.prototype.getClass = function () {
          return _e;
        }),
        (_e.toMultiPolygonArray = function (t) {
          var e = new Array(t.size()).fill(null);
          return t.toArray(e);
        }),
        (_e.toGeometryArray = function (t) {
          if (null === t) return null;
          var e = new Array(t.size()).fill(null);
          return t.toArray(e);
        }),
        (_e.getDefaultCoordinateSequenceFactory = function () {
          return he.instance();
        }),
        (_e.toMultiLineStringArray = function (t) {
          var e = new Array(t.size()).fill(null);
          return t.toArray(e);
        }),
        (_e.toLineStringArray = function (t) {
          var e = new Array(t.size()).fill(null);
          return t.toArray(e);
        }),
        (_e.toMultiPointArray = function (t) {
          var e = new Array(t.size()).fill(null);
          return t.toArray(e);
        }),
        (_e.toLinearRingArray = function (t) {
          var e = new Array(t.size()).fill(null);
          return t.toArray(e);
        }),
        (_e.toPointArray = function (t) {
          var e = new Array(t.size()).fill(null);
          return t.toArray(e);
        }),
        (_e.toPolygonArray = function (t) {
          var e = new Array(t.size()).fill(null);
          return t.toArray(e);
        }),
        (_e.createPointFromInternalCoord = function (t, e) {
          return (
            e.getPrecisionModel().makePrecise(t), e.getFactory().createPoint(t)
          );
        }),
        (ve.serialVersionUID.get = function () {
          return -0x5ea75f2051eeb400;
        }),
        Object.defineProperties(_e, ve);
      var me = [
          "Point",
          "MultiPoint",
          "LineString",
          "MultiLineString",
          "Polygon",
          "MultiPolygon",
        ],
        xe = function (t) {
          this.geometryFactory = t || new _e();
        };
      (xe.prototype.read = function (t) {
        var e,
          n = (e = "string" == typeof t ? JSON.parse(t) : t).type;
        if (!Ee[n]) throw new Error("Unknown GeoJSON type: " + e.type);
        return -1 !== me.indexOf(n)
          ? Ee[n].apply(this, [e.coordinates])
          : "GeometryCollection" === n
          ? Ee[n].apply(this, [e.geometries])
          : Ee[n].apply(this, [e]);
      }),
        (xe.prototype.write = function (t) {
          var e = t.getGeometryType();
          if (!be[e]) throw new Error("Geometry is not supported");
          return be[e].apply(this, [t]);
        });
      var Ee = {
          Feature: function (t) {
            var e = {};
            for (var n in t) e[n] = t[n];
            if (t.geometry) {
              var i = t.geometry.type;
              if (!Ee[i]) throw new Error("Unknown GeoJSON type: " + t.type);
              e.geometry = this.read(t.geometry);
            }
            return t.bbox && (e.bbox = Ee.bbox.apply(this, [t.bbox])), e;
          },
          FeatureCollection: function (t) {
            var e = {};
            if (t.features) {
              e.features = [];
              for (var n = 0; n < t.features.length; ++n)
                e.features.push(this.read(t.features[n]));
            }
            return (
              t.bbox && (e.bbox = this.parse.bbox.apply(this, [t.bbox])), e
            );
          },
          coordinates: function (t) {
            for (var e = [], n = 0; n < t.length; ++n) {
              var i = t[n];
              e.push(new I(i[0], i[1]));
            }
            return e;
          },
          bbox: function (t) {
            return this.geometryFactory.createLinearRing([
              new I(t[0], t[1]),
              new I(t[2], t[1]),
              new I(t[2], t[3]),
              new I(t[0], t[3]),
              new I(t[0], t[1]),
            ]);
          },
          Point: function (t) {
            var e = new I(t[0], t[1]);
            return this.geometryFactory.createPoint(e);
          },
          MultiPoint: function (t) {
            for (var e = [], n = 0; n < t.length; ++n)
              e.push(Ee.Point.apply(this, [t[n]]));
            return this.geometryFactory.createMultiPoint(e);
          },
          LineString: function (t) {
            var e = Ee.coordinates.apply(this, [t]);
            return this.geometryFactory.createLineString(e);
          },
          MultiLineString: function (t) {
            for (var e = [], n = 0; n < t.length; ++n)
              e.push(Ee.LineString.apply(this, [t[n]]));
            return this.geometryFactory.createMultiLineString(e);
          },
          Polygon: function (t) {
            for (
              var e = Ee.coordinates.apply(this, [t[0]]),
                n = this.geometryFactory.createLinearRing(e),
                i = [],
                r = 1;
              r < t.length;
              ++r
            ) {
              var o = t[r],
                s = Ee.coordinates.apply(this, [o]),
                a = this.geometryFactory.createLinearRing(s);
              i.push(a);
            }
            return this.geometryFactory.createPolygon(n, i);
          },
          MultiPolygon: function (t) {
            for (var e = [], n = 0; n < t.length; ++n) {
              var i = t[n];
              e.push(Ee.Polygon.apply(this, [i]));
            }
            return this.geometryFactory.createMultiPolygon(e);
          },
          GeometryCollection: function (t) {
            for (var e = [], n = 0; n < t.length; ++n) {
              var i = t[n];
              e.push(this.read(i));
            }
            return this.geometryFactory.createGeometryCollection(e);
          },
        },
        be = {
          coordinate: function (t) {
            return [t.x, t.y];
          },
          Point: function (t) {
            return {
              type: "Point",
              coordinates: be.coordinate.apply(this, [t.getCoordinate()]),
            };
          },
          MultiPoint: function (t) {
            for (var e = [], n = 0; n < t._geometries.length; ++n) {
              var i = t._geometries[n],
                r = be.Point.apply(this, [i]);
              e.push(r.coordinates);
            }
            return { type: "MultiPoint", coordinates: e };
          },
          LineString: function (t) {
            for (var e = [], n = t.getCoordinates(), i = 0; i < n.length; ++i) {
              var r = n[i];
              e.push(be.coordinate.apply(this, [r]));
            }
            return { type: "LineString", coordinates: e };
          },
          MultiLineString: function (t) {
            for (var e = [], n = 0; n < t._geometries.length; ++n) {
              var i = t._geometries[n],
                r = be.LineString.apply(this, [i]);
              e.push(r.coordinates);
            }
            return { type: "MultiLineString", coordinates: e };
          },
          Polygon: function (t) {
            var e = [],
              n = be.LineString.apply(this, [t._shell]);
            e.push(n.coordinates);
            for (var i = 0; i < t._holes.length; ++i) {
              var r = t._holes[i],
                o = be.LineString.apply(this, [r]);
              e.push(o.coordinates);
            }
            return { type: "Polygon", coordinates: e };
          },
          MultiPolygon: function (t) {
            for (var e = [], n = 0; n < t._geometries.length; ++n) {
              var i = t._geometries[n],
                r = be.Polygon.apply(this, [i]);
              e.push(r.coordinates);
            }
            return { type: "MultiPolygon", coordinates: e };
          },
          GeometryCollection: function (t) {
            for (var e = [], n = 0; n < t._geometries.length; ++n) {
              var i = t._geometries[n],
                r = i.getGeometryType();
              e.push(be[r].apply(this, [i]));
            }
            return { type: "GeometryCollection", geometries: e };
          },
        },
        we = function (t) {
          (this.geometryFactory = t || new _e()),
            (this.precisionModel = this.geometryFactory.getPrecisionModel()),
            (this.parser = new xe(this.geometryFactory));
        };
      (we.prototype.read = function (t) {
        var e = this.parser.read(t);
        return (
          this.precisionModel.getType() === fe.FIXED && this.reducePrecision(e),
          e
        );
      }),
        (we.prototype.reducePrecision = function (t) {
          var e, n;
          if (t.coordinate) this.precisionModel.makePrecise(t.coordinate);
          else if (t.points)
            for (e = 0, n = t.points.length; e < n; e++)
              this.precisionModel.makePrecise(t.points[e]);
          else if (t.geometries)
            for (e = 0, n = t.geometries.length; e < n; e++)
              this.reducePrecision(t.geometries[e]);
        });
      var Ie = function () {
        this.parser = new xe(this.geometryFactory);
      };
      Ie.prototype.write = function (t) {
        return this.parser.write(t);
      };
      var Se = function () {},
        Ce = {
          ON: { configurable: !0 },
          LEFT: { configurable: !0 },
          RIGHT: { configurable: !0 },
        };
      (Se.prototype.interfaces_ = function () {
        return [];
      }),
        (Se.prototype.getClass = function () {
          return Se;
        }),
        (Se.opposite = function (t) {
          return t === Se.LEFT ? Se.RIGHT : t === Se.RIGHT ? Se.LEFT : t;
        }),
        (Ce.ON.get = function () {
          return 0;
        }),
        (Ce.LEFT.get = function () {
          return 1;
        }),
        (Ce.RIGHT.get = function () {
          return 2;
        }),
        Object.defineProperties(Se, Ce),
        ((g.prototype = new Error()).name = "EmptyStackException"),
        ((y.prototype = new bt()).add = function (t) {
          return this.array_.push(t), !0;
        }),
        (y.prototype.get = function (t) {
          if (t < 0 || t >= this.size()) throw new Error();
          return this.array_[t];
        }),
        (y.prototype.push = function (t) {
          return this.array_.push(t), t;
        }),
        (y.prototype.pop = function (t) {
          if (0 === this.array_.length) throw new g();
          return this.array_.pop();
        }),
        (y.prototype.peek = function () {
          if (0 === this.array_.length) throw new g();
          return this.array_[this.array_.length - 1];
        }),
        (y.prototype.empty = function () {
          return 0 === this.array_.length;
        }),
        (y.prototype.isEmpty = function () {
          return this.empty();
        }),
        (y.prototype.search = function (t) {
          return this.array_.indexOf(t);
        }),
        (y.prototype.size = function () {
          return this.array_.length;
        }),
        (y.prototype.toArray = function () {
          for (var t = [], e = 0, n = this.array_.length; e < n; e++)
            t.push(this.array_[e]);
          return t;
        });
      var Te = function () {
        (this._minIndex = -1),
          (this._minCoord = null),
          (this._minDe = null),
          (this._orientedDe = null);
      };
      (Te.prototype.getCoordinate = function () {
        return this._minCoord;
      }),
        (Te.prototype.getRightmostSide = function (t, e) {
          var n = this.getRightmostSideOfSegment(t, e);
          return (
            n < 0 && (n = this.getRightmostSideOfSegment(t, e - 1)),
            n < 0 &&
              ((this._minCoord = null), this.checkForRightmostCoordinate(t)),
            n
          );
        }),
        (Te.prototype.findRightmostEdgeAtVertex = function () {
          var t = this._minDe.getEdge().getCoordinates();
          et.isTrue(
            this._minIndex > 0 && this._minIndex < t.length,
            "rightmost point expected to be interior vertex of edge"
          );
          var e = t[this._minIndex - 1],
            n = t[this._minIndex + 1],
            i = at.computeOrientation(this._minCoord, n, e),
            r = !1;
          e.y < this._minCoord.y &&
          n.y < this._minCoord.y &&
          i === at.COUNTERCLOCKWISE
            ? (r = !0)
            : e.y > this._minCoord.y &&
              n.y > this._minCoord.y &&
              i === at.CLOCKWISE &&
              (r = !0),
            r && (this._minIndex = this._minIndex - 1);
        }),
        (Te.prototype.getRightmostSideOfSegment = function (t, e) {
          var n = t.getEdge().getCoordinates();
          if (e < 0 || e + 1 >= n.length) return -1;
          if (n[e].y === n[e + 1].y) return -1;
          var i = Se.LEFT;
          return n[e].y < n[e + 1].y && (i = Se.RIGHT), i;
        }),
        (Te.prototype.getEdge = function () {
          return this._orientedDe;
        }),
        (Te.prototype.checkForRightmostCoordinate = function (t) {
          for (
            var e = t.getEdge().getCoordinates(), n = 0;
            n < e.length - 1;
            n++
          )
            (null === this._minCoord || e[n].x > this._minCoord.x) &&
              ((this._minDe = t),
              (this._minIndex = n),
              (this._minCoord = e[n]));
        }),
        (Te.prototype.findRightmostEdgeAtNode = function () {
          var t = this._minDe.getNode().getEdges();
          (this._minDe = t.getRightmostEdge()),
            this._minDe.isForward() ||
              ((this._minDe = this._minDe.getSym()),
              (this._minIndex =
                this._minDe.getEdge().getCoordinates().length - 1));
        }),
        (Te.prototype.findEdge = function (t) {
          for (var e = t.iterator(); e.hasNext(); ) {
            var n = e.next();
            n.isForward() && this.checkForRightmostCoordinate(n);
          }
          et.isTrue(
            0 !== this._minIndex ||
              this._minCoord.equals(this._minDe.getCoordinate()),
            "inconsistency in rightmost processing"
          ),
            0 === this._minIndex
              ? this.findRightmostEdgeAtNode()
              : this.findRightmostEdgeAtVertex(),
            (this._orientedDe = this._minDe),
            this.getRightmostSide(this._minDe, this._minIndex) === Se.LEFT &&
              (this._orientedDe = this._minDe.getSym());
        }),
        (Te.prototype.interfaces_ = function () {
          return [];
        }),
        (Te.prototype.getClass = function () {
          return Te;
        });
      var Oe = (function (t) {
          function e(n, i) {
            t.call(this, e.msgWithCoord(n, i)),
              (this.pt = i ? new I(i) : null),
              (this.name = "TopologyException");
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.getCoordinate = function () {
              return this.pt;
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            (e.msgWithCoord = function (t, e) {
              return e ? t : t + " [ " + e + " ]";
            }),
            e
          );
        })($),
        Re = function () {
          this.array_ = [];
        };
      (Re.prototype.addLast = function (t) {
        this.array_.push(t);
      }),
        (Re.prototype.removeFirst = function () {
          return this.array_.shift();
        }),
        (Re.prototype.isEmpty = function () {
          return 0 === this.array_.length;
        });
      var Le = function () {
        (this._finder = null),
          (this._dirEdgeList = new wt()),
          (this._nodes = new wt()),
          (this._rightMostCoord = null),
          (this._env = null),
          (this._finder = new Te());
      };
      (Le.prototype.clearVisitedEdges = function () {
        for (var t = this._dirEdgeList.iterator(); t.hasNext(); )
          t.next().setVisited(!1);
      }),
        (Le.prototype.getRightmostCoordinate = function () {
          return this._rightMostCoord;
        }),
        (Le.prototype.computeNodeDepth = function (t) {
          for (var e = null, n = t.getEdges().iterator(); n.hasNext(); ) {
            var i = n.next();
            if (i.isVisited() || i.getSym().isVisited()) {
              e = i;
              break;
            }
          }
          if (null === e)
            throw new Oe(
              "unable to find edge to compute depths at " + t.getCoordinate()
            );
          t.getEdges().computeDepths(e);
          for (var r = t.getEdges().iterator(); r.hasNext(); ) {
            var o = r.next();
            o.setVisited(!0), this.copySymDepths(o);
          }
        }),
        (Le.prototype.computeDepth = function (t) {
          this.clearVisitedEdges();
          var e = this._finder.getEdge();
          e.setEdgeDepths(Se.RIGHT, t),
            this.copySymDepths(e),
            this.computeDepths(e);
        }),
        (Le.prototype.create = function (t) {
          this.addReachable(t),
            this._finder.findEdge(this._dirEdgeList),
            (this._rightMostCoord = this._finder.getCoordinate());
        }),
        (Le.prototype.findResultEdges = function () {
          for (var t = this._dirEdgeList.iterator(); t.hasNext(); ) {
            var e = t.next();
            e.getDepth(Se.RIGHT) >= 1 &&
              e.getDepth(Se.LEFT) <= 0 &&
              !e.isInteriorAreaEdge() &&
              e.setInResult(!0);
          }
        }),
        (Le.prototype.computeDepths = function (t) {
          var e = new At(),
            n = new Re(),
            i = t.getNode();
          for (n.addLast(i), e.add(i), t.setVisited(!0); !n.isEmpty(); ) {
            var r = n.removeFirst();
            e.add(r), this.computeNodeDepth(r);
            for (var o = r.getEdges().iterator(); o.hasNext(); ) {
              var s = o.next().getSym();
              if (!s.isVisited()) {
                var a = s.getNode();
                e.contains(a) || (n.addLast(a), e.add(a));
              }
            }
          }
        }),
        (Le.prototype.compareTo = function (t) {
          var e = t;
          return this._rightMostCoord.x < e._rightMostCoord.x
            ? -1
            : this._rightMostCoord.x > e._rightMostCoord.x
            ? 1
            : 0;
        }),
        (Le.prototype.getEnvelope = function () {
          if (null === this._env) {
            for (
              var t = new q(), e = this._dirEdgeList.iterator();
              e.hasNext();

            )
              for (
                var n = e.next().getEdge().getCoordinates(), i = 0;
                i < n.length - 1;
                i++
              )
                t.expandToInclude(n[i]);
            this._env = t;
          }
          return this._env;
        }),
        (Le.prototype.addReachable = function (t) {
          var e = new y();
          for (e.add(t); !e.empty(); ) {
            var n = e.pop();
            this.add(n, e);
          }
        }),
        (Le.prototype.copySymDepths = function (t) {
          var e = t.getSym();
          e.setDepth(Se.LEFT, t.getDepth(Se.RIGHT)),
            e.setDepth(Se.RIGHT, t.getDepth(Se.LEFT));
        }),
        (Le.prototype.add = function (t, e) {
          t.setVisited(!0), this._nodes.add(t);
          for (var n = t.getEdges().iterator(); n.hasNext(); ) {
            var i = n.next();
            this._dirEdgeList.add(i);
            var r = i.getSym().getNode();
            r.isVisited() || e.push(r);
          }
        }),
        (Le.prototype.getNodes = function () {
          return this._nodes;
        }),
        (Le.prototype.getDirectedEdges = function () {
          return this._dirEdgeList;
        }),
        (Le.prototype.interfaces_ = function () {
          return [E];
        }),
        (Le.prototype.getClass = function () {
          return Le;
        });
      var Me = function t() {
        if (((this.location = null), 1 === arguments.length)) {
          if (arguments[0] instanceof Array) {
            var e = arguments[0];
            this.init(e.length);
          } else if (Number.isInteger(arguments[0])) {
            var n = arguments[0];
            this.init(1), (this.location[Se.ON] = n);
          } else if (arguments[0] instanceof t) {
            var i = arguments[0];
            if ((this.init(i.location.length), null !== i))
              for (var r = 0; r < this.location.length; r++)
                this.location[r] = i.location[r];
          }
        } else if (3 === arguments.length) {
          var o = arguments[0],
            s = arguments[1],
            a = arguments[2];
          this.init(3),
            (this.location[Se.ON] = o),
            (this.location[Se.LEFT] = s),
            (this.location[Se.RIGHT] = a);
        }
      };
      (Me.prototype.setAllLocations = function (t) {
        for (var e = 0; e < this.location.length; e++) this.location[e] = t;
      }),
        (Me.prototype.isNull = function () {
          for (var t = 0; t < this.location.length; t++)
            if (this.location[t] !== O.NONE) return !1;
          return !0;
        }),
        (Me.prototype.setAllLocationsIfNull = function (t) {
          for (var e = 0; e < this.location.length; e++)
            this.location[e] === O.NONE && (this.location[e] = t);
        }),
        (Me.prototype.isLine = function () {
          return 1 === this.location.length;
        }),
        (Me.prototype.merge = function (t) {
          if (t.location.length > this.location.length) {
            var e = new Array(3).fill(null);
            (e[Se.ON] = this.location[Se.ON]),
              (e[Se.LEFT] = O.NONE),
              (e[Se.RIGHT] = O.NONE),
              (this.location = e);
          }
          for (var n = 0; n < this.location.length; n++)
            this.location[n] === O.NONE &&
              n < t.location.length &&
              (this.location[n] = t.location[n]);
        }),
        (Me.prototype.getLocations = function () {
          return this.location;
        }),
        (Me.prototype.flip = function () {
          if (this.location.length <= 1) return null;
          var t = this.location[Se.LEFT];
          (this.location[Se.LEFT] = this.location[Se.RIGHT]),
            (this.location[Se.RIGHT] = t);
        }),
        (Me.prototype.toString = function () {
          var t = new N();
          return (
            this.location.length > 1 &&
              t.append(O.toLocationSymbol(this.location[Se.LEFT])),
            t.append(O.toLocationSymbol(this.location[Se.ON])),
            this.location.length > 1 &&
              t.append(O.toLocationSymbol(this.location[Se.RIGHT])),
            t.toString()
          );
        }),
        (Me.prototype.setLocations = function (t, e, n) {
          (this.location[Se.ON] = t),
            (this.location[Se.LEFT] = e),
            (this.location[Se.RIGHT] = n);
        }),
        (Me.prototype.get = function (t) {
          return t < this.location.length ? this.location[t] : O.NONE;
        }),
        (Me.prototype.isArea = function () {
          return this.location.length > 1;
        }),
        (Me.prototype.isAnyNull = function () {
          for (var t = 0; t < this.location.length; t++)
            if (this.location[t] === O.NONE) return !0;
          return !1;
        }),
        (Me.prototype.setLocation = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            this.setLocation(Se.ON, t);
          } else if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            this.location[e] = n;
          }
        }),
        (Me.prototype.init = function (t) {
          (this.location = new Array(t).fill(null)),
            this.setAllLocations(O.NONE);
        }),
        (Me.prototype.isEqualOnSide = function (t, e) {
          return this.location[e] === t.location[e];
        }),
        (Me.prototype.allPositionsEqual = function (t) {
          for (var e = 0; e < this.location.length; e++)
            if (this.location[e] !== t) return !1;
          return !0;
        }),
        (Me.prototype.interfaces_ = function () {
          return [];
        }),
        (Me.prototype.getClass = function () {
          return Me;
        });
      var Ae = function t() {
        if (((this.elt = new Array(2).fill(null)), 1 === arguments.length)) {
          if (Number.isInteger(arguments[0])) {
            var e = arguments[0];
            (this.elt[0] = new Me(e)), (this.elt[1] = new Me(e));
          } else if (arguments[0] instanceof t) {
            var n = arguments[0];
            (this.elt[0] = new Me(n.elt[0])), (this.elt[1] = new Me(n.elt[1]));
          }
        } else if (2 === arguments.length) {
          var i = arguments[0],
            r = arguments[1];
          (this.elt[0] = new Me(O.NONE)),
            (this.elt[1] = new Me(O.NONE)),
            this.elt[i].setLocation(r);
        } else if (3 === arguments.length) {
          var o = arguments[0],
            s = arguments[1],
            a = arguments[2];
          (this.elt[0] = new Me(o, s, a)), (this.elt[1] = new Me(o, s, a));
        } else if (4 === arguments.length) {
          var u = arguments[0],
            c = arguments[1],
            h = arguments[2],
            l = arguments[3];
          (this.elt[0] = new Me(O.NONE, O.NONE, O.NONE)),
            (this.elt[1] = new Me(O.NONE, O.NONE, O.NONE)),
            this.elt[u].setLocations(c, h, l);
        }
      };
      (Ae.prototype.getGeometryCount = function () {
        var t = 0;
        return this.elt[0].isNull() || t++, this.elt[1].isNull() || t++, t;
      }),
        (Ae.prototype.setAllLocations = function (t, e) {
          this.elt[t].setAllLocations(e);
        }),
        (Ae.prototype.isNull = function (t) {
          return this.elt[t].isNull();
        }),
        (Ae.prototype.setAllLocationsIfNull = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            this.setAllLocationsIfNull(0, t), this.setAllLocationsIfNull(1, t);
          } else if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            this.elt[e].setAllLocationsIfNull(n);
          }
        }),
        (Ae.prototype.isLine = function (t) {
          return this.elt[t].isLine();
        }),
        (Ae.prototype.merge = function (t) {
          for (var e = 0; e < 2; e++)
            null === this.elt[e] && null !== t.elt[e]
              ? (this.elt[e] = new Me(t.elt[e]))
              : this.elt[e].merge(t.elt[e]);
        }),
        (Ae.prototype.flip = function () {
          this.elt[0].flip(), this.elt[1].flip();
        }),
        (Ae.prototype.getLocation = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return this.elt[t].get(Se.ON);
          }
          if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            return this.elt[e].get(n);
          }
        }),
        (Ae.prototype.toString = function () {
          var t = new N();
          return (
            null !== this.elt[0] &&
              (t.append("A:"), t.append(this.elt[0].toString())),
            null !== this.elt[1] &&
              (t.append(" B:"), t.append(this.elt[1].toString())),
            t.toString()
          );
        }),
        (Ae.prototype.isArea = function () {
          if (0 === arguments.length)
            return this.elt[0].isArea() || this.elt[1].isArea();
          if (1 === arguments.length) {
            var t = arguments[0];
            return this.elt[t].isArea();
          }
        }),
        (Ae.prototype.isAnyNull = function (t) {
          return this.elt[t].isAnyNull();
        }),
        (Ae.prototype.setLocation = function () {
          if (2 === arguments.length) {
            var t = arguments[0],
              e = arguments[1];
            this.elt[t].setLocation(Se.ON, e);
          } else if (3 === arguments.length) {
            var n = arguments[0],
              i = arguments[1],
              r = arguments[2];
            this.elt[n].setLocation(i, r);
          }
        }),
        (Ae.prototype.isEqualOnSide = function (t, e) {
          return (
            this.elt[0].isEqualOnSide(t.elt[0], e) &&
            this.elt[1].isEqualOnSide(t.elt[1], e)
          );
        }),
        (Ae.prototype.allPositionsEqual = function (t, e) {
          return this.elt[t].allPositionsEqual(e);
        }),
        (Ae.prototype.toLine = function (t) {
          this.elt[t].isArea() &&
            (this.elt[t] = new Me(this.elt[t].location[0]));
        }),
        (Ae.prototype.interfaces_ = function () {
          return [];
        }),
        (Ae.prototype.getClass = function () {
          return Ae;
        }),
        (Ae.toLineLabel = function (t) {
          for (var e = new Ae(O.NONE), n = 0; n < 2; n++)
            e.setLocation(n, t.getLocation(n));
          return e;
        });
      var Ne = function () {
        (this._startDe = null),
          (this._maxNodeDegree = -1),
          (this._edges = new wt()),
          (this._pts = new wt()),
          (this._label = new Ae(O.NONE)),
          (this._ring = null),
          (this._isHole = null),
          (this._shell = null),
          (this._holes = new wt()),
          (this._geometryFactory = null);
        var t = arguments[0],
          e = arguments[1];
        (this._geometryFactory = e), this.computePoints(t), this.computeRing();
      };
      (Ne.prototype.computeRing = function () {
        if (null !== this._ring) return null;
        for (
          var t = new Array(this._pts.size()).fill(null), e = 0;
          e < this._pts.size();
          e++
        )
          t[e] = this._pts.get(e);
        (this._ring = this._geometryFactory.createLinearRing(t)),
          (this._isHole = at.isCCW(this._ring.getCoordinates()));
      }),
        (Ne.prototype.isIsolated = function () {
          return 1 === this._label.getGeometryCount();
        }),
        (Ne.prototype.computePoints = function (t) {
          this._startDe = t;
          var e = t,
            n = !0;
          do {
            if (null === e) throw new Oe("Found null DirectedEdge");
            if (e.getEdgeRing() === this)
              throw new Oe(
                "Directed Edge visited twice during ring-building at " +
                  e.getCoordinate()
              );
            this._edges.add(e);
            var i = e.getLabel();
            et.isTrue(i.isArea()),
              this.mergeLabel(i),
              this.addPoints(e.getEdge(), e.isForward(), n),
              (n = !1),
              this.setEdgeRing(e, this),
              (e = this.getNext(e));
          } while (e !== this._startDe);
        }),
        (Ne.prototype.getLinearRing = function () {
          return this._ring;
        }),
        (Ne.prototype.getCoordinate = function (t) {
          return this._pts.get(t);
        }),
        (Ne.prototype.computeMaxNodeDegree = function () {
          this._maxNodeDegree = 0;
          var t = this._startDe;
          do {
            var e = t.getNode().getEdges().getOutgoingDegree(this);
            e > this._maxNodeDegree && (this._maxNodeDegree = e),
              (t = this.getNext(t));
          } while (t !== this._startDe);
          this._maxNodeDegree *= 2;
        }),
        (Ne.prototype.addPoints = function (t, e, n) {
          var i = t.getCoordinates();
          if (e) {
            var r = 1;
            n && (r = 0);
            for (var o = r; o < i.length; o++) this._pts.add(i[o]);
          } else {
            var s = i.length - 2;
            n && (s = i.length - 1);
            for (var a = s; a >= 0; a--) this._pts.add(i[a]);
          }
        }),
        (Ne.prototype.isHole = function () {
          return this._isHole;
        }),
        (Ne.prototype.setInResult = function () {
          var t = this._startDe;
          do {
            t.getEdge().setInResult(!0), (t = t.getNext());
          } while (t !== this._startDe);
        }),
        (Ne.prototype.containsPoint = function (t) {
          var e = this.getLinearRing();
          if (!e.getEnvelopeInternal().contains(t)) return !1;
          if (!at.isPointInRing(t, e.getCoordinates())) return !1;
          for (var n = this._holes.iterator(); n.hasNext(); )
            if (n.next().containsPoint(t)) return !1;
          return !0;
        }),
        (Ne.prototype.addHole = function (t) {
          this._holes.add(t);
        }),
        (Ne.prototype.isShell = function () {
          return null === this._shell;
        }),
        (Ne.prototype.getLabel = function () {
          return this._label;
        }),
        (Ne.prototype.getEdges = function () {
          return this._edges;
        }),
        (Ne.prototype.getMaxNodeDegree = function () {
          return (
            this._maxNodeDegree < 0 && this.computeMaxNodeDegree(),
            this._maxNodeDegree
          );
        }),
        (Ne.prototype.getShell = function () {
          return this._shell;
        }),
        (Ne.prototype.mergeLabel = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            this.mergeLabel(t, 0), this.mergeLabel(t, 1);
          } else if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1],
              i = e.getLocation(n, Se.RIGHT);
            if (i === O.NONE) return null;
            if (this._label.getLocation(n) === O.NONE)
              return this._label.setLocation(n, i), null;
          }
        }),
        (Ne.prototype.setShell = function (t) {
          (this._shell = t), null !== t && t.addHole(this);
        }),
        (Ne.prototype.toPolygon = function (t) {
          for (
            var e = new Array(this._holes.size()).fill(null), n = 0;
            n < this._holes.size();
            n++
          )
            e[n] = this._holes.get(n).getLinearRing();
          return t.createPolygon(this.getLinearRing(), e);
        }),
        (Ne.prototype.interfaces_ = function () {
          return [];
        }),
        (Ne.prototype.getClass = function () {
          return Ne;
        });
      var Pe = (function (t) {
          function e() {
            var e = arguments[0],
              n = arguments[1];
            t.call(this, e, n);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.setEdgeRing = function (t, e) {
              t.setMinEdgeRing(e);
            }),
            (e.prototype.getNext = function (t) {
              return t.getNextMin();
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            e
          );
        })(Ne),
        De = (function (t) {
          function e() {
            var e = arguments[0],
              n = arguments[1];
            t.call(this, e, n);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.buildMinimalRings = function () {
              var t = new wt(),
                e = this._startDe;
              do {
                if (null === e.getMinEdgeRing()) {
                  var n = new Pe(e, this._geometryFactory);
                  t.add(n);
                }
                e = e.getNext();
              } while (e !== this._startDe);
              return t;
            }),
            (e.prototype.setEdgeRing = function (t, e) {
              t.setEdgeRing(e);
            }),
            (e.prototype.linkDirectedEdgesForMinimalEdgeRings = function () {
              var t = this._startDe;
              do {
                t.getNode().getEdges().linkMinimalDirectedEdges(this),
                  (t = t.getNext());
              } while (t !== this._startDe);
            }),
            (e.prototype.getNext = function (t) {
              return t.getNext();
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            e
          );
        })(Ne),
        ke = function () {
          if (
            ((this._label = null),
            (this._isInResult = !1),
            (this._isCovered = !1),
            (this._isCoveredSet = !1),
            (this._isVisited = !1),
            0 === arguments.length)
          );
          else if (1 === arguments.length) {
            var t = arguments[0];
            this._label = t;
          }
        };
      (ke.prototype.setVisited = function (t) {
        this._isVisited = t;
      }),
        (ke.prototype.setInResult = function (t) {
          this._isInResult = t;
        }),
        (ke.prototype.isCovered = function () {
          return this._isCovered;
        }),
        (ke.prototype.isCoveredSet = function () {
          return this._isCoveredSet;
        }),
        (ke.prototype.setLabel = function (t) {
          this._label = t;
        }),
        (ke.prototype.getLabel = function () {
          return this._label;
        }),
        (ke.prototype.setCovered = function (t) {
          (this._isCovered = t), (this._isCoveredSet = !0);
        }),
        (ke.prototype.updateIM = function (t) {
          et.isTrue(this._label.getGeometryCount() >= 2, "found partial label"),
            this.computeIM(t);
        }),
        (ke.prototype.isInResult = function () {
          return this._isInResult;
        }),
        (ke.prototype.isVisited = function () {
          return this._isVisited;
        }),
        (ke.prototype.interfaces_ = function () {
          return [];
        }),
        (ke.prototype.getClass = function () {
          return ke;
        });
      var Fe = (function (t) {
          function e() {
            t.call(this), (this._coord = null), (this._edges = null);
            var e = arguments[0],
              n = arguments[1];
            (this._coord = e),
              (this._edges = n),
              (this._label = new Ae(0, O.NONE));
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.isIncidentEdgeInResult = function () {
              for (var t = this.getEdges().getEdges().iterator(); t.hasNext(); )
                if (t.next().getEdge().isInResult()) return !0;
              return !1;
            }),
            (e.prototype.isIsolated = function () {
              return 1 === this._label.getGeometryCount();
            }),
            (e.prototype.getCoordinate = function () {
              return this._coord;
            }),
            (e.prototype.print = function (t) {
              t.println("node " + this._coord + " lbl: " + this._label);
            }),
            (e.prototype.computeIM = function (t) {}),
            (e.prototype.computeMergedLocation = function (t, e) {
              var n = O.NONE;
              if (((n = this._label.getLocation(e)), !t.isNull(e))) {
                var i = t.getLocation(e);
                n !== O.BOUNDARY && (n = i);
              }
              return n;
            }),
            (e.prototype.setLabel = function () {
              if (2 !== arguments.length)
                return t.prototype.setLabel.apply(this, arguments);
              var e = arguments[0],
                n = arguments[1];
              null === this._label
                ? (this._label = new Ae(e, n))
                : this._label.setLocation(e, n);
            }),
            (e.prototype.getEdges = function () {
              return this._edges;
            }),
            (e.prototype.mergeLabel = function () {
              if (arguments[0] instanceof e) {
                var t = arguments[0];
                this.mergeLabel(t._label);
              } else if (arguments[0] instanceof Ae)
                for (var n = arguments[0], i = 0; i < 2; i++) {
                  var r = this.computeMergedLocation(n, i);
                  this._label.getLocation(i) === O.NONE &&
                    this._label.setLocation(i, r);
                }
            }),
            (e.prototype.add = function (t) {
              this._edges.insert(t), t.setNode(this);
            }),
            (e.prototype.setLabelBoundary = function (t) {
              if (null === this._label) return null;
              var e = O.NONE;
              null !== this._label && (e = this._label.getLocation(t));
              var n = null;
              switch (e) {
                case O.BOUNDARY:
                  n = O.INTERIOR;
                  break;
                case O.INTERIOR:
                default:
                  n = O.BOUNDARY;
              }
              this._label.setLocation(t, n);
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            e
          );
        })(ke),
        Ge = function () {
          (this.nodeMap = new l()), (this.nodeFact = null);
          var t = arguments[0];
          this.nodeFact = t;
        };
      (Ge.prototype.find = function (t) {
        return this.nodeMap.get(t);
      }),
        (Ge.prototype.addNode = function () {
          if (arguments[0] instanceof I) {
            var t = arguments[0],
              e = this.nodeMap.get(t);
            return (
              null === e &&
                ((e = this.nodeFact.createNode(t)), this.nodeMap.put(t, e)),
              e
            );
          }
          if (arguments[0] instanceof Fe) {
            var n = arguments[0],
              i = this.nodeMap.get(n.getCoordinate());
            return null === i
              ? (this.nodeMap.put(n.getCoordinate(), n), n)
              : (i.mergeLabel(n), i);
          }
        }),
        (Ge.prototype.print = function (t) {
          for (var e = this.iterator(); e.hasNext(); ) e.next().print(t);
        }),
        (Ge.prototype.iterator = function () {
          return this.nodeMap.values().iterator();
        }),
        (Ge.prototype.values = function () {
          return this.nodeMap.values();
        }),
        (Ge.prototype.getBoundaryNodes = function (t) {
          for (var e = new wt(), n = this.iterator(); n.hasNext(); ) {
            var i = n.next();
            i.getLabel().getLocation(t) === O.BOUNDARY && e.add(i);
          }
          return e;
        }),
        (Ge.prototype.add = function (t) {
          var e = t.getCoordinate();
          this.addNode(e).add(t);
        }),
        (Ge.prototype.interfaces_ = function () {
          return [];
        }),
        (Ge.prototype.getClass = function () {
          return Ge;
        });
      var je = function () {},
        Be = {
          NE: { configurable: !0 },
          NW: { configurable: !0 },
          SW: { configurable: !0 },
          SE: { configurable: !0 },
        };
      (je.prototype.interfaces_ = function () {
        return [];
      }),
        (je.prototype.getClass = function () {
          return je;
        }),
        (je.isNorthern = function (t) {
          return t === je.NE || t === je.NW;
        }),
        (je.isOpposite = function (t, e) {
          return t !== e && 2 == (t - e + 4) % 4;
        }),
        (je.commonHalfPlane = function (t, e) {
          if (t === e) return t;
          if (2 == (t - e + 4) % 4) return -1;
          var n = t < e ? t : e;
          return 0 === n && 3 === (t > e ? t : e) ? 3 : n;
        }),
        (je.isInHalfPlane = function (t, e) {
          return e === je.SE
            ? t === je.SE || t === je.SW
            : t === e || t === e + 1;
        }),
        (je.quadrant = function () {
          if (
            "number" == typeof arguments[0] &&
            "number" == typeof arguments[1]
          ) {
            var t = arguments[0],
              e = arguments[1];
            if (0 === t && 0 === e)
              throw new v(
                "Cannot compute the quadrant for point ( " + t + ", " + e + " )"
              );
            return t >= 0 ? (e >= 0 ? je.NE : je.SE) : e >= 0 ? je.NW : je.SW;
          }
          if (arguments[0] instanceof I && arguments[1] instanceof I) {
            var n = arguments[0],
              i = arguments[1];
            if (i.x === n.x && i.y === n.y)
              throw new v(
                "Cannot compute the quadrant for two identical points " + n
              );
            return i.x >= n.x
              ? i.y >= n.y
                ? je.NE
                : je.SE
              : i.y >= n.y
              ? je.NW
              : je.SW;
          }
        }),
        (Be.NE.get = function () {
          return 0;
        }),
        (Be.NW.get = function () {
          return 1;
        }),
        (Be.SW.get = function () {
          return 2;
        }),
        (Be.SE.get = function () {
          return 3;
        }),
        Object.defineProperties(je, Be);
      var Ue = function () {
        if (
          ((this._edge = null),
          (this._label = null),
          (this._node = null),
          (this._p0 = null),
          (this._p1 = null),
          (this._dx = null),
          (this._dy = null),
          (this._quadrant = null),
          1 === arguments.length)
        ) {
          var t = arguments[0];
          this._edge = t;
        } else if (3 === arguments.length) {
          var e = arguments[0],
            n = arguments[1],
            i = arguments[2];
          (this._edge = e), this.init(n, i), (this._label = null);
        } else if (4 === arguments.length) {
          var r = arguments[0],
            o = arguments[1],
            s = arguments[2],
            a = arguments[3];
          (this._edge = r), this.init(o, s), (this._label = a);
        }
      };
      (Ue.prototype.compareDirection = function (t) {
        return this._dx === t._dx && this._dy === t._dy
          ? 0
          : this._quadrant > t._quadrant
          ? 1
          : this._quadrant < t._quadrant
          ? -1
          : at.computeOrientation(t._p0, t._p1, this._p1);
      }),
        (Ue.prototype.getDy = function () {
          return this._dy;
        }),
        (Ue.prototype.getCoordinate = function () {
          return this._p0;
        }),
        (Ue.prototype.setNode = function (t) {
          this._node = t;
        }),
        (Ue.prototype.print = function (t) {
          var e = Math.atan2(this._dy, this._dx),
            n = this.getClass().getName(),
            i = n.lastIndexOf("."),
            r = n.substring(i + 1);
          t.print(
            "  " +
              r +
              ": " +
              this._p0 +
              " - " +
              this._p1 +
              " " +
              this._quadrant +
              ":" +
              e +
              "   " +
              this._label
          );
        }),
        (Ue.prototype.compareTo = function (t) {
          var e = t;
          return this.compareDirection(e);
        }),
        (Ue.prototype.getDirectedCoordinate = function () {
          return this._p1;
        }),
        (Ue.prototype.getDx = function () {
          return this._dx;
        }),
        (Ue.prototype.getLabel = function () {
          return this._label;
        }),
        (Ue.prototype.getEdge = function () {
          return this._edge;
        }),
        (Ue.prototype.getQuadrant = function () {
          return this._quadrant;
        }),
        (Ue.prototype.getNode = function () {
          return this._node;
        }),
        (Ue.prototype.toString = function () {
          var t = Math.atan2(this._dy, this._dx),
            e = this.getClass().getName(),
            n = e.lastIndexOf(".");
          return (
            "  " +
            e.substring(n + 1) +
            ": " +
            this._p0 +
            " - " +
            this._p1 +
            " " +
            this._quadrant +
            ":" +
            t +
            "   " +
            this._label
          );
        }),
        (Ue.prototype.computeLabel = function (t) {}),
        (Ue.prototype.init = function (t, e) {
          (this._p0 = t),
            (this._p1 = e),
            (this._dx = e.x - t.x),
            (this._dy = e.y - t.y),
            (this._quadrant = je.quadrant(this._dx, this._dy)),
            et.isTrue(
              !(0 === this._dx && 0 === this._dy),
              "EdgeEnd with identical endpoints found"
            );
        }),
        (Ue.prototype.interfaces_ = function () {
          return [E];
        }),
        (Ue.prototype.getClass = function () {
          return Ue;
        });
      var Ye = (function (t) {
          function e() {
            var e = arguments[0],
              n = arguments[1];
            if (
              (t.call(this, e),
              (this._isForward = null),
              (this._isInResult = !1),
              (this._isVisited = !1),
              (this._sym = null),
              (this._next = null),
              (this._nextMin = null),
              (this._edgeRing = null),
              (this._minEdgeRing = null),
              (this._depth = [0, -999, -999]),
              (this._isForward = n),
              n)
            )
              this.init(e.getCoordinate(0), e.getCoordinate(1));
            else {
              var i = e.getNumPoints() - 1;
              this.init(e.getCoordinate(i), e.getCoordinate(i - 1));
            }
            this.computeDirectedLabel();
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.getNextMin = function () {
              return this._nextMin;
            }),
            (e.prototype.getDepth = function (t) {
              return this._depth[t];
            }),
            (e.prototype.setVisited = function (t) {
              this._isVisited = t;
            }),
            (e.prototype.computeDirectedLabel = function () {
              (this._label = new Ae(this._edge.getLabel())),
                this._isForward || this._label.flip();
            }),
            (e.prototype.getNext = function () {
              return this._next;
            }),
            (e.prototype.setDepth = function (t, e) {
              if (-999 !== this._depth[t] && this._depth[t] !== e)
                throw new Oe(
                  "assigned depths do not match",
                  this.getCoordinate()
                );
              this._depth[t] = e;
            }),
            (e.prototype.isInteriorAreaEdge = function () {
              for (var t = !0, e = 0; e < 2; e++)
                (this._label.isArea(e) &&
                  this._label.getLocation(e, Se.LEFT) === O.INTERIOR &&
                  this._label.getLocation(e, Se.RIGHT) === O.INTERIOR) ||
                  (t = !1);
              return t;
            }),
            (e.prototype.setNextMin = function (t) {
              this._nextMin = t;
            }),
            (e.prototype.print = function (e) {
              t.prototype.print.call(this, e),
                e.print(
                  " " + this._depth[Se.LEFT] + "/" + this._depth[Se.RIGHT]
                ),
                e.print(" (" + this.getDepthDelta() + ")"),
                this._isInResult && e.print(" inResult");
            }),
            (e.prototype.setMinEdgeRing = function (t) {
              this._minEdgeRing = t;
            }),
            (e.prototype.isLineEdge = function () {
              var t = this._label.isLine(0) || this._label.isLine(1),
                e =
                  !this._label.isArea(0) ||
                  this._label.allPositionsEqual(0, O.EXTERIOR),
                n =
                  !this._label.isArea(1) ||
                  this._label.allPositionsEqual(1, O.EXTERIOR);
              return t && e && n;
            }),
            (e.prototype.setEdgeRing = function (t) {
              this._edgeRing = t;
            }),
            (e.prototype.getMinEdgeRing = function () {
              return this._minEdgeRing;
            }),
            (e.prototype.getDepthDelta = function () {
              var t = this._edge.getDepthDelta();
              return this._isForward || (t = -t), t;
            }),
            (e.prototype.setInResult = function (t) {
              this._isInResult = t;
            }),
            (e.prototype.getSym = function () {
              return this._sym;
            }),
            (e.prototype.isForward = function () {
              return this._isForward;
            }),
            (e.prototype.getEdge = function () {
              return this._edge;
            }),
            (e.prototype.printEdge = function (t) {
              this.print(t),
                t.print(" "),
                this._isForward
                  ? this._edge.print(t)
                  : this._edge.printReverse(t);
            }),
            (e.prototype.setSym = function (t) {
              this._sym = t;
            }),
            (e.prototype.setVisitedEdge = function (t) {
              this.setVisited(t), this._sym.setVisited(t);
            }),
            (e.prototype.setEdgeDepths = function (t, e) {
              var n = this.getEdge().getDepthDelta();
              this._isForward || (n = -n);
              var i = 1;
              t === Se.LEFT && (i = -1);
              var r = Se.opposite(t),
                o = e + n * i;
              this.setDepth(t, e), this.setDepth(r, o);
            }),
            (e.prototype.getEdgeRing = function () {
              return this._edgeRing;
            }),
            (e.prototype.isInResult = function () {
              return this._isInResult;
            }),
            (e.prototype.setNext = function (t) {
              this._next = t;
            }),
            (e.prototype.isVisited = function () {
              return this._isVisited;
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            (e.depthFactor = function (t, e) {
              return t === O.EXTERIOR && e === O.INTERIOR
                ? 1
                : t === O.INTERIOR && e === O.EXTERIOR
                ? -1
                : 0;
            }),
            e
          );
        })(Ue),
        Xe = function () {};
      (Xe.prototype.createNode = function (t) {
        return new Fe(t, null);
      }),
        (Xe.prototype.interfaces_ = function () {
          return [];
        }),
        (Xe.prototype.getClass = function () {
          return Xe;
        });
      var ze = function () {
        if (
          ((this._edges = new wt()),
          (this._nodes = null),
          (this._edgeEndList = new wt()),
          0 === arguments.length)
        )
          this._nodes = new Ge(new Xe());
        else if (1 === arguments.length) {
          var t = arguments[0];
          this._nodes = new Ge(t);
        }
      };
      (ze.prototype.printEdges = function (t) {
        t.println("Edges:");
        for (var e = 0; e < this._edges.size(); e++) {
          t.println("edge " + e + ":");
          var n = this._edges.get(e);
          n.print(t), n.eiList.print(t);
        }
      }),
        (ze.prototype.find = function (t) {
          return this._nodes.find(t);
        }),
        (ze.prototype.addNode = function () {
          if (arguments[0] instanceof Fe) {
            var t = arguments[0];
            return this._nodes.addNode(t);
          }
          if (arguments[0] instanceof I) {
            var e = arguments[0];
            return this._nodes.addNode(e);
          }
        }),
        (ze.prototype.getNodeIterator = function () {
          return this._nodes.iterator();
        }),
        (ze.prototype.linkResultDirectedEdges = function () {
          for (var t = this._nodes.iterator(); t.hasNext(); )
            t.next().getEdges().linkResultDirectedEdges();
        }),
        (ze.prototype.debugPrintln = function (t) {
          z.out.println(t);
        }),
        (ze.prototype.isBoundaryNode = function (t, e) {
          var n = this._nodes.find(e);
          if (null === n) return !1;
          var i = n.getLabel();
          return null !== i && i.getLocation(t) === O.BOUNDARY;
        }),
        (ze.prototype.linkAllDirectedEdges = function () {
          for (var t = this._nodes.iterator(); t.hasNext(); )
            t.next().getEdges().linkAllDirectedEdges();
        }),
        (ze.prototype.matchInSameDirection = function (t, e, n, i) {
          return (
            !!t.equals(n) &&
            at.computeOrientation(t, e, i) === at.COLLINEAR &&
            je.quadrant(t, e) === je.quadrant(n, i)
          );
        }),
        (ze.prototype.getEdgeEnds = function () {
          return this._edgeEndList;
        }),
        (ze.prototype.debugPrint = function (t) {
          z.out.print(t);
        }),
        (ze.prototype.getEdgeIterator = function () {
          return this._edges.iterator();
        }),
        (ze.prototype.findEdgeInSameDirection = function (t, e) {
          for (var n = 0; n < this._edges.size(); n++) {
            var i = this._edges.get(n),
              r = i.getCoordinates();
            if (this.matchInSameDirection(t, e, r[0], r[1])) return i;
            if (
              this.matchInSameDirection(t, e, r[r.length - 1], r[r.length - 2])
            )
              return i;
          }
          return null;
        }),
        (ze.prototype.insertEdge = function (t) {
          this._edges.add(t);
        }),
        (ze.prototype.findEdgeEnd = function (t) {
          for (var e = this.getEdgeEnds().iterator(); e.hasNext(); ) {
            var n = e.next();
            if (n.getEdge() === t) return n;
          }
          return null;
        }),
        (ze.prototype.addEdges = function (t) {
          for (var e = t.iterator(); e.hasNext(); ) {
            var n = e.next();
            this._edges.add(n);
            var i = new Ye(n, !0),
              r = new Ye(n, !1);
            i.setSym(r), r.setSym(i), this.add(i), this.add(r);
          }
        }),
        (ze.prototype.add = function (t) {
          this._nodes.add(t), this._edgeEndList.add(t);
        }),
        (ze.prototype.getNodes = function () {
          return this._nodes.values();
        }),
        (ze.prototype.findEdge = function (t, e) {
          for (var n = 0; n < this._edges.size(); n++) {
            var i = this._edges.get(n),
              r = i.getCoordinates();
            if (t.equals(r[0]) && e.equals(r[1])) return i;
          }
          return null;
        }),
        (ze.prototype.interfaces_ = function () {
          return [];
        }),
        (ze.prototype.getClass = function () {
          return ze;
        }),
        (ze.linkResultDirectedEdges = function (t) {
          for (var e = t.iterator(); e.hasNext(); )
            e.next().getEdges().linkResultDirectedEdges();
        });
      var Ve = function () {
        (this._geometryFactory = null), (this._shellList = new wt());
        var t = arguments[0];
        this._geometryFactory = t;
      };
      (Ve.prototype.sortShellsAndHoles = function (t, e, n) {
        for (var i = t.iterator(); i.hasNext(); ) {
          var r = i.next();
          r.isHole() ? n.add(r) : e.add(r);
        }
      }),
        (Ve.prototype.computePolygons = function (t) {
          for (var e = new wt(), n = t.iterator(); n.hasNext(); ) {
            var i = n.next().toPolygon(this._geometryFactory);
            e.add(i);
          }
          return e;
        }),
        (Ve.prototype.placeFreeHoles = function (t, e) {
          for (var n = e.iterator(); n.hasNext(); ) {
            var i = n.next();
            if (null === i.getShell()) {
              var r = this.findEdgeRingContaining(i, t);
              if (null === r)
                throw new Oe(
                  "unable to assign hole to a shell",
                  i.getCoordinate(0)
                );
              i.setShell(r);
            }
          }
        }),
        (Ve.prototype.buildMinimalEdgeRings = function (t, e, n) {
          for (var i = new wt(), r = t.iterator(); r.hasNext(); ) {
            var o = r.next();
            if (o.getMaxNodeDegree() > 2) {
              o.linkDirectedEdgesForMinimalEdgeRings();
              var s = o.buildMinimalRings(),
                a = this.findShell(s);
              null !== a
                ? (this.placePolygonHoles(a, s), e.add(a))
                : n.addAll(s);
            } else i.add(o);
          }
          return i;
        }),
        (Ve.prototype.containsPoint = function (t) {
          for (var e = this._shellList.iterator(); e.hasNext(); )
            if (e.next().containsPoint(t)) return !0;
          return !1;
        }),
        (Ve.prototype.buildMaximalEdgeRings = function (t) {
          for (var e = new wt(), n = t.iterator(); n.hasNext(); ) {
            var i = n.next();
            if (
              i.isInResult() &&
              i.getLabel().isArea() &&
              null === i.getEdgeRing()
            ) {
              var r = new De(i, this._geometryFactory);
              e.add(r), r.setInResult();
            }
          }
          return e;
        }),
        (Ve.prototype.placePolygonHoles = function (t, e) {
          for (var n = e.iterator(); n.hasNext(); ) {
            var i = n.next();
            i.isHole() && i.setShell(t);
          }
        }),
        (Ve.prototype.getPolygons = function () {
          return this.computePolygons(this._shellList);
        }),
        (Ve.prototype.findEdgeRingContaining = function (t, e) {
          for (
            var n = t.getLinearRing(),
              i = n.getEnvelopeInternal(),
              r = n.getCoordinateN(0),
              o = null,
              s = null,
              a = e.iterator();
            a.hasNext();

          ) {
            var u = a.next(),
              c = u.getLinearRing(),
              h = c.getEnvelopeInternal();
            null !== o && (s = o.getLinearRing().getEnvelopeInternal());
            var l = !1;
            h.contains(i) &&
              at.isPointInRing(r, c.getCoordinates()) &&
              (l = !0),
              l && (null === o || s.contains(h)) && (o = u);
          }
          return o;
        }),
        (Ve.prototype.findShell = function (t) {
          for (var e = 0, n = null, i = t.iterator(); i.hasNext(); ) {
            var r = i.next();
            r.isHole() || ((n = r), e++);
          }
          return (
            et.isTrue(e <= 1, "found two shells in MinimalEdgeRing list"), n
          );
        }),
        (Ve.prototype.add = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            this.add(t.getEdgeEnds(), t.getNodes());
          } else if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            ze.linkResultDirectedEdges(n);
            var i = this.buildMaximalEdgeRings(e),
              r = new wt(),
              o = this.buildMinimalEdgeRings(i, this._shellList, r);
            this.sortShellsAndHoles(o, this._shellList, r),
              this.placeFreeHoles(this._shellList, r);
          }
        }),
        (Ve.prototype.interfaces_ = function () {
          return [];
        }),
        (Ve.prototype.getClass = function () {
          return Ve;
        });
      var qe = function () {};
      (qe.prototype.getBounds = function () {}),
        (qe.prototype.interfaces_ = function () {
          return [];
        }),
        (qe.prototype.getClass = function () {
          return qe;
        });
      var We = function () {
        (this._bounds = null), (this._item = null);
        var t = arguments[0],
          e = arguments[1];
        (this._bounds = t), (this._item = e);
      };
      (We.prototype.getItem = function () {
        return this._item;
      }),
        (We.prototype.getBounds = function () {
          return this._bounds;
        }),
        (We.prototype.interfaces_ = function () {
          return [qe, e];
        }),
        (We.prototype.getClass = function () {
          return We;
        });
      var He = function () {
        (this._size = null),
          (this._items = null),
          (this._size = 0),
          (this._items = new wt()),
          this._items.add(null);
      };
      (He.prototype.poll = function () {
        if (this.isEmpty()) return null;
        var t = this._items.get(1);
        return (
          this._items.set(1, this._items.get(this._size)),
          (this._size -= 1),
          this.reorder(1),
          t
        );
      }),
        (He.prototype.size = function () {
          return this._size;
        }),
        (He.prototype.reorder = function (t) {
          for (
            var e = null, n = this._items.get(t);
            2 * t <= this._size &&
            ((e = 2 * t) !== this._size &&
              this._items.get(e + 1).compareTo(this._items.get(e)) < 0 &&
              e++,
            this._items.get(e).compareTo(n) < 0);
            t = e
          )
            this._items.set(t, this._items.get(e));
          this._items.set(t, n);
        }),
        (He.prototype.clear = function () {
          (this._size = 0), this._items.clear();
        }),
        (He.prototype.isEmpty = function () {
          return 0 === this._size;
        }),
        (He.prototype.add = function (t) {
          this._items.add(null), (this._size += 1);
          var e = this._size;
          for (
            this._items.set(0, t);
            t.compareTo(this._items.get(Math.trunc(e / 2))) < 0;
            e /= 2
          )
            this._items.set(e, this._items.get(Math.trunc(e / 2)));
          this._items.set(e, t);
        }),
        (He.prototype.interfaces_ = function () {
          return [];
        }),
        (He.prototype.getClass = function () {
          return He;
        });
      var Ke = function () {};
      (Ke.prototype.visitItem = function (t) {}),
        (Ke.prototype.interfaces_ = function () {
          return [];
        }),
        (Ke.prototype.getClass = function () {
          return Ke;
        });
      var Ze = function () {};
      (Ze.prototype.insert = function (t, e) {}),
        (Ze.prototype.remove = function (t, e) {}),
        (Ze.prototype.query = function () {}),
        (Ze.prototype.interfaces_ = function () {
          return [];
        }),
        (Ze.prototype.getClass = function () {
          return Ze;
        });
      var Je = function () {
          if (
            ((this._childBoundables = new wt()),
            (this._bounds = null),
            (this._level = null),
            0 === arguments.length)
          );
          else if (1 === arguments.length) {
            var t = arguments[0];
            this._level = t;
          }
        },
        Qe = { serialVersionUID: { configurable: !0 } };
      (Je.prototype.getLevel = function () {
        return this._level;
      }),
        (Je.prototype.size = function () {
          return this._childBoundables.size();
        }),
        (Je.prototype.getChildBoundables = function () {
          return this._childBoundables;
        }),
        (Je.prototype.addChildBoundable = function (t) {
          et.isTrue(null === this._bounds), this._childBoundables.add(t);
        }),
        (Je.prototype.isEmpty = function () {
          return this._childBoundables.isEmpty();
        }),
        (Je.prototype.getBounds = function () {
          return (
            null === this._bounds && (this._bounds = this.computeBounds()),
            this._bounds
          );
        }),
        (Je.prototype.interfaces_ = function () {
          return [qe, e];
        }),
        (Je.prototype.getClass = function () {
          return Je;
        }),
        (Qe.serialVersionUID.get = function () {
          return 0x5a1e55ec41369800;
        }),
        Object.defineProperties(Je, Qe);
      var $e = function () {};
      ($e.reverseOrder = function () {
        return {
          compare: function (t, e) {
            return e.compareTo(t);
          },
        };
      }),
        ($e.min = function (t) {
          return $e.sort(t), t.get(0);
        }),
        ($e.sort = function (t, e) {
          var n = t.toArray();
          e ? Ft.sort(n, e) : Ft.sort(n);
          for (var i = t.iterator(), r = 0, o = n.length; r < o; r++)
            i.next(), i.set(n[r]);
        }),
        ($e.singletonList = function (t) {
          var e = new wt();
          return e.add(t), e;
        });
      var tn = function () {
        (this._boundable1 = null),
          (this._boundable2 = null),
          (this._distance = null),
          (this._itemDistance = null);
        var t = arguments[0],
          e = arguments[1],
          n = arguments[2];
        (this._boundable1 = t),
          (this._boundable2 = e),
          (this._itemDistance = n),
          (this._distance = this.distance());
      };
      (tn.prototype.expandToQueue = function (t, e) {
        var n = tn.isComposite(this._boundable1),
          i = tn.isComposite(this._boundable2);
        if (n && i)
          return tn.area(this._boundable1) > tn.area(this._boundable2)
            ? (this.expand(this._boundable1, this._boundable2, t, e), null)
            : (this.expand(this._boundable2, this._boundable1, t, e), null);
        if (n)
          return this.expand(this._boundable1, this._boundable2, t, e), null;
        if (i)
          return this.expand(this._boundable2, this._boundable1, t, e), null;
        throw new v("neither boundable is composite");
      }),
        (tn.prototype.isLeaves = function () {
          return !(
            tn.isComposite(this._boundable1) || tn.isComposite(this._boundable2)
          );
        }),
        (tn.prototype.compareTo = function (t) {
          var e = t;
          return this._distance < e._distance
            ? -1
            : this._distance > e._distance
            ? 1
            : 0;
        }),
        (tn.prototype.expand = function (t, e, n, i) {
          for (var r = t.getChildBoundables().iterator(); r.hasNext(); ) {
            var o = r.next(),
              s = new tn(o, e, this._itemDistance);
            s.getDistance() < i && n.add(s);
          }
        }),
        (tn.prototype.getBoundable = function (t) {
          return 0 === t ? this._boundable1 : this._boundable2;
        }),
        (tn.prototype.getDistance = function () {
          return this._distance;
        }),
        (tn.prototype.distance = function () {
          return this.isLeaves()
            ? this._itemDistance.distance(this._boundable1, this._boundable2)
            : this._boundable1
                .getBounds()
                .distance(this._boundable2.getBounds());
        }),
        (tn.prototype.interfaces_ = function () {
          return [E];
        }),
        (tn.prototype.getClass = function () {
          return tn;
        }),
        (tn.area = function (t) {
          return t.getBounds().getArea();
        }),
        (tn.isComposite = function (t) {
          return t instanceof Je;
        });
      var en = function t() {
          if (
            ((this._root = null),
            (this._built = !1),
            (this._itemBoundables = new wt()),
            (this._nodeCapacity = null),
            0 === arguments.length)
          ) {
            var e = t.DEFAULT_NODE_CAPACITY;
            this._nodeCapacity = e;
          } else if (1 === arguments.length) {
            var n = arguments[0];
            et.isTrue(n > 1, "Node capacity must be greater than 1"),
              (this._nodeCapacity = n);
          }
        },
        nn = {
          IntersectsOp: { configurable: !0 },
          serialVersionUID: { configurable: !0 },
          DEFAULT_NODE_CAPACITY: { configurable: !0 },
        };
      (en.prototype.getNodeCapacity = function () {
        return this._nodeCapacity;
      }),
        (en.prototype.lastNode = function (t) {
          return t.get(t.size() - 1);
        }),
        (en.prototype.size = function () {
          if (0 === arguments.length)
            return this.isEmpty() ? 0 : (this.build(), this.size(this._root));
          if (1 === arguments.length) {
            for (
              var t = 0, e = arguments[0].getChildBoundables().iterator();
              e.hasNext();

            ) {
              var n = e.next();
              n instanceof Je
                ? (t += this.size(n))
                : n instanceof We && (t += 1);
            }
            return t;
          }
        }),
        (en.prototype.removeItem = function (t, e) {
          for (
            var n = null, i = t.getChildBoundables().iterator();
            i.hasNext();

          ) {
            var r = i.next();
            r instanceof We && r.getItem() === e && (n = r);
          }
          return null !== n && (t.getChildBoundables().remove(n), !0);
        }),
        (en.prototype.itemsTree = function () {
          if (0 === arguments.length) {
            this.build();
            var t = this.itemsTree(this._root);
            return null === t ? new wt() : t;
          }
          if (1 === arguments.length) {
            for (
              var e = arguments[0],
                n = new wt(),
                i = e.getChildBoundables().iterator();
              i.hasNext();

            ) {
              var r = i.next();
              if (r instanceof Je) {
                var o = this.itemsTree(r);
                null !== o && n.add(o);
              } else
                r instanceof We
                  ? n.add(r.getItem())
                  : et.shouldNeverReachHere();
            }
            return n.size() <= 0 ? null : n;
          }
        }),
        (en.prototype.insert = function (t, e) {
          et.isTrue(
            !this._built,
            "Cannot insert items into an STR packed R-tree after it has been built."
          ),
            this._itemBoundables.add(new We(t, e));
        }),
        (en.prototype.boundablesAtLevel = function () {
          if (1 === arguments.length) {
            var t = arguments[0],
              e = new wt();
            return this.boundablesAtLevel(t, this._root, e), e;
          }
          if (3 === arguments.length) {
            var n = arguments[0],
              i = arguments[1],
              r = arguments[2];
            if ((et.isTrue(n > -2), i.getLevel() === n)) return r.add(i), null;
            for (var o = i.getChildBoundables().iterator(); o.hasNext(); ) {
              var s = o.next();
              s instanceof Je
                ? this.boundablesAtLevel(n, s, r)
                : (et.isTrue(s instanceof We), -1 === n && r.add(s));
            }
            return null;
          }
        }),
        (en.prototype.query = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            this.build();
            var e = new wt();
            return this.isEmpty()
              ? e
              : (this.getIntersectsOp().intersects(this._root.getBounds(), t) &&
                  this.query(t, this._root, e),
                e);
          }
          if (2 === arguments.length) {
            var n = arguments[0],
              i = arguments[1];
            if ((this.build(), this.isEmpty())) return null;
            this.getIntersectsOp().intersects(this._root.getBounds(), n) &&
              this.query(n, this._root, i);
          } else if (3 === arguments.length)
            if (
              L(arguments[2], Ke) &&
              arguments[0] instanceof Object &&
              arguments[1] instanceof Je
            )
              for (
                var r = arguments[0],
                  o = arguments[1],
                  s = arguments[2],
                  a = o.getChildBoundables(),
                  u = 0;
                u < a.size();
                u++
              ) {
                var c = a.get(u);
                this.getIntersectsOp().intersects(c.getBounds(), r) &&
                  (c instanceof Je
                    ? this.query(r, c, s)
                    : c instanceof We
                    ? s.visitItem(c.getItem())
                    : et.shouldNeverReachHere());
              }
            else if (
              L(arguments[2], bt) &&
              arguments[0] instanceof Object &&
              arguments[1] instanceof Je
            )
              for (
                var h = arguments[0],
                  l = arguments[1],
                  p = arguments[2],
                  f = l.getChildBoundables(),
                  d = 0;
                d < f.size();
                d++
              ) {
                var g = f.get(d);
                this.getIntersectsOp().intersects(g.getBounds(), h) &&
                  (g instanceof Je
                    ? this.query(h, g, p)
                    : g instanceof We
                    ? p.add(g.getItem())
                    : et.shouldNeverReachHere());
              }
        }),
        (en.prototype.build = function () {
          if (this._built) return null;
          (this._root = this._itemBoundables.isEmpty()
            ? this.createNode(0)
            : this.createHigherLevels(this._itemBoundables, -1)),
            (this._itemBoundables = null),
            (this._built = !0);
        }),
        (en.prototype.getRoot = function () {
          return this.build(), this._root;
        }),
        (en.prototype.remove = function () {
          if (2 === arguments.length) {
            var t = arguments[0],
              e = arguments[1];
            return (
              this.build(),
              !!this.getIntersectsOp().intersects(this._root.getBounds(), t) &&
                this.remove(t, this._root, e)
            );
          }
          if (3 === arguments.length) {
            var n = arguments[0],
              i = arguments[1],
              r = arguments[2],
              o = this.removeItem(i, r);
            if (o) return !0;
            for (
              var s = null, a = i.getChildBoundables().iterator();
              a.hasNext();

            ) {
              var u = a.next();
              if (
                this.getIntersectsOp().intersects(u.getBounds(), n) &&
                u instanceof Je &&
                (o = this.remove(n, u, r))
              ) {
                s = u;
                break;
              }
            }
            return (
              null !== s &&
                s.getChildBoundables().isEmpty() &&
                i.getChildBoundables().remove(s),
              o
            );
          }
        }),
        (en.prototype.createHigherLevels = function (t, e) {
          et.isTrue(!t.isEmpty());
          var n = this.createParentBoundables(t, e + 1);
          return 1 === n.size() ? n.get(0) : this.createHigherLevels(n, e + 1);
        }),
        (en.prototype.depth = function () {
          if (0 === arguments.length)
            return this.isEmpty() ? 0 : (this.build(), this.depth(this._root));
          if (1 === arguments.length) {
            for (
              var t = 0, e = arguments[0].getChildBoundables().iterator();
              e.hasNext();

            ) {
              var n = e.next();
              if (n instanceof Je) {
                var i = this.depth(n);
                i > t && (t = i);
              }
            }
            return t + 1;
          }
        }),
        (en.prototype.createParentBoundables = function (t, e) {
          et.isTrue(!t.isEmpty());
          var n = new wt();
          n.add(this.createNode(e));
          var i = new wt(t);
          $e.sort(i, this.getComparator());
          for (var r = i.iterator(); r.hasNext(); ) {
            var o = r.next();
            this.lastNode(n).getChildBoundables().size() ===
              this.getNodeCapacity() && n.add(this.createNode(e)),
              this.lastNode(n).addChildBoundable(o);
          }
          return n;
        }),
        (en.prototype.isEmpty = function () {
          return this._built
            ? this._root.isEmpty()
            : this._itemBoundables.isEmpty();
        }),
        (en.prototype.interfaces_ = function () {
          return [e];
        }),
        (en.prototype.getClass = function () {
          return en;
        }),
        (en.compareDoubles = function (t, e) {
          return t > e ? 1 : t < e ? -1 : 0;
        }),
        (nn.IntersectsOp.get = function () {
          return rn;
        }),
        (nn.serialVersionUID.get = function () {
          return -0x35ef64c82d4c5400;
        }),
        (nn.DEFAULT_NODE_CAPACITY.get = function () {
          return 10;
        }),
        Object.defineProperties(en, nn);
      var rn = function () {},
        on = function () {};
      (on.prototype.distance = function (t, e) {}),
        (on.prototype.interfaces_ = function () {
          return [];
        }),
        (on.prototype.getClass = function () {
          return on;
        });
      var sn = (function (t) {
          function n(e) {
            (e = e || n.DEFAULT_NODE_CAPACITY), t.call(this, e);
          }
          t && (n.__proto__ = t),
            ((n.prototype = Object.create(t && t.prototype)).constructor = n);
          var i = {
            STRtreeNode: { configurable: !0 },
            serialVersionUID: { configurable: !0 },
            xComparator: { configurable: !0 },
            yComparator: { configurable: !0 },
            intersectsOp: { configurable: !0 },
            DEFAULT_NODE_CAPACITY: { configurable: !0 },
          };
          return (
            (n.prototype.createParentBoundablesFromVerticalSlices = function (
              t,
              e
            ) {
              et.isTrue(t.length > 0);
              for (var n = new wt(), i = 0; i < t.length; i++)
                n.addAll(this.createParentBoundablesFromVerticalSlice(t[i], e));
              return n;
            }),
            (n.prototype.createNode = function (t) {
              return new an(t);
            }),
            (n.prototype.size = function () {
              return 0 === arguments.length
                ? t.prototype.size.call(this)
                : t.prototype.size.apply(this, arguments);
            }),
            (n.prototype.insert = function () {
              if (2 !== arguments.length)
                return t.prototype.insert.apply(this, arguments);
              var e = arguments[0],
                n = arguments[1];
              if (e.isNull()) return null;
              t.prototype.insert.call(this, e, n);
            }),
            (n.prototype.getIntersectsOp = function () {
              return n.intersectsOp;
            }),
            (n.prototype.verticalSlices = function (t, e) {
              for (
                var n = Math.trunc(Math.ceil(t.size() / e)),
                  i = new Array(e).fill(null),
                  r = t.iterator(),
                  o = 0;
                o < e;
                o++
              ) {
                i[o] = new wt();
                for (var s = 0; r.hasNext() && s < n; ) {
                  var a = r.next();
                  i[o].add(a), s++;
                }
              }
              return i;
            }),
            (n.prototype.query = function () {
              if (1 === arguments.length) {
                var e = arguments[0];
                return t.prototype.query.call(this, e);
              }
              if (2 === arguments.length) {
                var n = arguments[0],
                  i = arguments[1];
                t.prototype.query.call(this, n, i);
              } else if (3 === arguments.length)
                if (
                  L(arguments[2], Ke) &&
                  arguments[0] instanceof Object &&
                  arguments[1] instanceof Je
                ) {
                  var r = arguments[0],
                    o = arguments[1],
                    s = arguments[2];
                  t.prototype.query.call(this, r, o, s);
                } else if (
                  L(arguments[2], bt) &&
                  arguments[0] instanceof Object &&
                  arguments[1] instanceof Je
                ) {
                  var a = arguments[0],
                    u = arguments[1],
                    c = arguments[2];
                  t.prototype.query.call(this, a, u, c);
                }
            }),
            (n.prototype.getComparator = function () {
              return n.yComparator;
            }),
            (n.prototype.createParentBoundablesFromVerticalSlice = function (
              e,
              n
            ) {
              return t.prototype.createParentBoundables.call(this, e, n);
            }),
            (n.prototype.remove = function () {
              if (2 === arguments.length) {
                var e = arguments[0],
                  n = arguments[1];
                return t.prototype.remove.call(this, e, n);
              }
              return t.prototype.remove.apply(this, arguments);
            }),
            (n.prototype.depth = function () {
              return 0 === arguments.length
                ? t.prototype.depth.call(this)
                : t.prototype.depth.apply(this, arguments);
            }),
            (n.prototype.createParentBoundables = function (t, e) {
              et.isTrue(!t.isEmpty());
              var i = Math.trunc(Math.ceil(t.size() / this.getNodeCapacity())),
                r = new wt(t);
              $e.sort(r, n.xComparator);
              var o = this.verticalSlices(
                r,
                Math.trunc(Math.ceil(Math.sqrt(i)))
              );
              return this.createParentBoundablesFromVerticalSlices(o, e);
            }),
            (n.prototype.nearestNeighbour = function () {
              if (1 === arguments.length) {
                if (L(arguments[0], on)) {
                  var t = arguments[0],
                    e = new tn(this.getRoot(), this.getRoot(), t);
                  return this.nearestNeighbour(e);
                }
                if (arguments[0] instanceof tn) {
                  var i = arguments[0];
                  return this.nearestNeighbour(i, m.POSITIVE_INFINITY);
                }
              } else if (2 === arguments.length) {
                if (arguments[0] instanceof n && L(arguments[1], on)) {
                  var r = arguments[0],
                    o = arguments[1],
                    s = new tn(this.getRoot(), r.getRoot(), o);
                  return this.nearestNeighbour(s);
                }
                if (
                  arguments[0] instanceof tn &&
                  "number" == typeof arguments[1]
                ) {
                  var a = arguments[0],
                    u = arguments[1],
                    c = null,
                    h = new He();
                  for (h.add(a); !h.isEmpty() && u > 0; ) {
                    var l = h.poll(),
                      p = l.getDistance();
                    if (p >= u) break;
                    l.isLeaves() ? ((u = p), (c = l)) : l.expandToQueue(h, u);
                  }
                  return [
                    c.getBoundable(0).getItem(),
                    c.getBoundable(1).getItem(),
                  ];
                }
              } else if (3 === arguments.length) {
                var f = arguments[0],
                  d = arguments[1],
                  g = arguments[2],
                  y = new We(f, d),
                  _ = new tn(this.getRoot(), y, g);
                return this.nearestNeighbour(_)[0];
              }
            }),
            (n.prototype.interfaces_ = function () {
              return [Ze, e];
            }),
            (n.prototype.getClass = function () {
              return n;
            }),
            (n.centreX = function (t) {
              return n.avg(t.getMinX(), t.getMaxX());
            }),
            (n.avg = function (t, e) {
              return (t + e) / 2;
            }),
            (n.centreY = function (t) {
              return n.avg(t.getMinY(), t.getMaxY());
            }),
            (i.STRtreeNode.get = function () {
              return an;
            }),
            (i.serialVersionUID.get = function () {
              return 0x39920f7d5f261e0;
            }),
            (i.xComparator.get = function () {
              return {
                interfaces_: function () {
                  return [w];
                },
                compare: function (e, i) {
                  return t.compareDoubles(
                    n.centreX(e.getBounds()),
                    n.centreX(i.getBounds())
                  );
                },
              };
            }),
            (i.yComparator.get = function () {
              return {
                interfaces_: function () {
                  return [w];
                },
                compare: function (e, i) {
                  return t.compareDoubles(
                    n.centreY(e.getBounds()),
                    n.centreY(i.getBounds())
                  );
                },
              };
            }),
            (i.intersectsOp.get = function () {
              return {
                interfaces_: function () {
                  return [t.IntersectsOp];
                },
                intersects: function (t, e) {
                  return t.intersects(e);
                },
              };
            }),
            (i.DEFAULT_NODE_CAPACITY.get = function () {
              return 10;
            }),
            Object.defineProperties(n, i),
            n
          );
        })(en),
        an = (function (t) {
          function e() {
            var e = arguments[0];
            t.call(this, e);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.computeBounds = function () {
              for (
                var t = null, e = this.getChildBoundables().iterator();
                e.hasNext();

              ) {
                var n = e.next();
                null === t
                  ? (t = new q(n.getBounds()))
                  : t.expandToInclude(n.getBounds());
              }
              return t;
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            e
          );
        })(Je),
        un = function () {};
      (un.prototype.interfaces_ = function () {
        return [];
      }),
        (un.prototype.getClass = function () {
          return un;
        }),
        (un.relativeSign = function (t, e) {
          return t < e ? -1 : t > e ? 1 : 0;
        }),
        (un.compare = function (t, e, n) {
          if (e.equals2D(n)) return 0;
          var i = un.relativeSign(e.x, n.x),
            r = un.relativeSign(e.y, n.y);
          switch (t) {
            case 0:
              return un.compareValue(i, r);
            case 1:
              return un.compareValue(r, i);
            case 2:
              return un.compareValue(r, -i);
            case 3:
              return un.compareValue(-i, r);
            case 4:
              return un.compareValue(-i, -r);
            case 5:
              return un.compareValue(-r, -i);
            case 6:
              return un.compareValue(-r, i);
            case 7:
              return un.compareValue(i, -r);
          }
          return et.shouldNeverReachHere("invalid octant value"), 0;
        }),
        (un.compareValue = function (t, e) {
          return t < 0 ? -1 : t > 0 ? 1 : e < 0 ? -1 : e > 0 ? 1 : 0;
        });
      var cn = function () {
        (this._segString = null),
          (this.coord = null),
          (this.segmentIndex = null),
          (this._segmentOctant = null),
          (this._isInterior = null);
        var t = arguments[0],
          e = arguments[1],
          n = arguments[2],
          i = arguments[3];
        (this._segString = t),
          (this.coord = new I(e)),
          (this.segmentIndex = n),
          (this._segmentOctant = i),
          (this._isInterior = !e.equals2D(t.getCoordinate(n)));
      };
      (cn.prototype.getCoordinate = function () {
        return this.coord;
      }),
        (cn.prototype.print = function (t) {
          t.print(this.coord), t.print(" seg # = " + this.segmentIndex);
        }),
        (cn.prototype.compareTo = function (t) {
          var e = t;
          return this.segmentIndex < e.segmentIndex
            ? -1
            : this.segmentIndex > e.segmentIndex
            ? 1
            : this.coord.equals2D(e.coord)
            ? 0
            : un.compare(this._segmentOctant, this.coord, e.coord);
        }),
        (cn.prototype.isEndPoint = function (t) {
          return (
            (0 === this.segmentIndex && !this._isInterior) ||
            this.segmentIndex === t
          );
        }),
        (cn.prototype.isInterior = function () {
          return this._isInterior;
        }),
        (cn.prototype.interfaces_ = function () {
          return [E];
        }),
        (cn.prototype.getClass = function () {
          return cn;
        });
      var hn = function () {
        (this._nodeMap = new l()), (this._edge = null);
        var t = arguments[0];
        this._edge = t;
      };
      (hn.prototype.getSplitCoordinates = function () {
        var t = new St();
        this.addEndpoints();
        for (var e = this.iterator(), n = e.next(); e.hasNext(); ) {
          var i = e.next();
          this.addEdgeCoordinates(n, i, t), (n = i);
        }
        return t.toCoordinateArray();
      }),
        (hn.prototype.addCollapsedNodes = function () {
          var t = new wt();
          this.findCollapsesFromInsertedNodes(t),
            this.findCollapsesFromExistingVertices(t);
          for (var e = t.iterator(); e.hasNext(); ) {
            var n = e.next().intValue();
            this.add(this._edge.getCoordinate(n), n);
          }
        }),
        (hn.prototype.print = function (t) {
          t.println("Intersections:");
          for (var e = this.iterator(); e.hasNext(); ) e.next().print(t);
        }),
        (hn.prototype.findCollapsesFromExistingVertices = function (t) {
          for (var e = 0; e < this._edge.size() - 2; e++) {
            var n = this._edge.getCoordinate(e),
              i = this._edge.getCoordinate(e + 2);
            n.equals2D(i) && t.add(new P(e + 1));
          }
        }),
        (hn.prototype.addEdgeCoordinates = function (t, e, n) {
          var i = this._edge.getCoordinate(e.segmentIndex),
            r = e.isInterior() || !e.coord.equals2D(i);
          n.add(new I(t.coord), !1);
          for (var o = t.segmentIndex + 1; o <= e.segmentIndex; o++)
            n.add(this._edge.getCoordinate(o));
          r && n.add(new I(e.coord));
        }),
        (hn.prototype.iterator = function () {
          return this._nodeMap.values().iterator();
        }),
        (hn.prototype.addSplitEdges = function (t) {
          this.addEndpoints(), this.addCollapsedNodes();
          for (var e = this.iterator(), n = e.next(); e.hasNext(); ) {
            var i = e.next(),
              r = this.createSplitEdge(n, i);
            t.add(r), (n = i);
          }
        }),
        (hn.prototype.findCollapseIndex = function (t, e, n) {
          if (!t.coord.equals2D(e.coord)) return !1;
          var i = e.segmentIndex - t.segmentIndex;
          return (
            e.isInterior() || i--, 1 === i && ((n[0] = t.segmentIndex + 1), !0)
          );
        }),
        (hn.prototype.findCollapsesFromInsertedNodes = function (t) {
          for (
            var e = new Array(1).fill(null), n = this.iterator(), i = n.next();
            n.hasNext();

          ) {
            var r = n.next();
            this.findCollapseIndex(i, r, e) && t.add(new P(e[0])), (i = r);
          }
        }),
        (hn.prototype.getEdge = function () {
          return this._edge;
        }),
        (hn.prototype.addEndpoints = function () {
          var t = this._edge.size() - 1;
          this.add(this._edge.getCoordinate(0), 0),
            this.add(this._edge.getCoordinate(t), t);
        }),
        (hn.prototype.createSplitEdge = function (t, e) {
          var n = e.segmentIndex - t.segmentIndex + 2,
            i = this._edge.getCoordinate(e.segmentIndex),
            r = e.isInterior() || !e.coord.equals2D(i);
          r || n--;
          var o = new Array(n).fill(null),
            s = 0;
          o[s++] = new I(t.coord);
          for (var a = t.segmentIndex + 1; a <= e.segmentIndex; a++)
            o[s++] = this._edge.getCoordinate(a);
          return r && (o[s] = new I(e.coord)), new dn(o, this._edge.getData());
        }),
        (hn.prototype.add = function (t, e) {
          var n = new cn(this._edge, t, e, this._edge.getSegmentOctant(e)),
            i = this._nodeMap.get(n);
          return null !== i
            ? (et.isTrue(
                i.coord.equals2D(t),
                "Found equal nodes with different coordinates"
              ),
              i)
            : (this._nodeMap.put(n, n), n);
        }),
        (hn.prototype.checkSplitEdgesCorrectness = function (t) {
          var e = this._edge.getCoordinates(),
            n = t.get(0).getCoordinate(0);
          if (!n.equals2D(e[0]))
            throw new $("bad split edge start point at " + n);
          var i = t.get(t.size() - 1).getCoordinates(),
            r = i[i.length - 1];
          if (!r.equals2D(e[e.length - 1]))
            throw new $("bad split edge end point at " + r);
        }),
        (hn.prototype.interfaces_ = function () {
          return [];
        }),
        (hn.prototype.getClass = function () {
          return hn;
        });
      var ln = function () {};
      (ln.prototype.interfaces_ = function () {
        return [];
      }),
        (ln.prototype.getClass = function () {
          return ln;
        }),
        (ln.octant = function () {
          if (
            "number" == typeof arguments[0] &&
            "number" == typeof arguments[1]
          ) {
            var t = arguments[0],
              e = arguments[1];
            if (0 === t && 0 === e)
              throw new v(
                "Cannot compute the octant for point ( " + t + ", " + e + " )"
              );
            var n = Math.abs(t),
              i = Math.abs(e);
            return t >= 0
              ? e >= 0
                ? n >= i
                  ? 0
                  : 1
                : n >= i
                ? 7
                : 6
              : e >= 0
              ? n >= i
                ? 3
                : 2
              : n >= i
              ? 4
              : 5;
          }
          if (arguments[0] instanceof I && arguments[1] instanceof I) {
            var r = arguments[0],
              o = arguments[1],
              s = o.x - r.x,
              a = o.y - r.y;
            if (0 === s && 0 === a)
              throw new v(
                "Cannot compute the octant for two identical points " + r
              );
            return ln.octant(s, a);
          }
        });
      var pn = function () {};
      (pn.prototype.getCoordinates = function () {}),
        (pn.prototype.size = function () {}),
        (pn.prototype.getCoordinate = function (t) {}),
        (pn.prototype.isClosed = function () {}),
        (pn.prototype.setData = function (t) {}),
        (pn.prototype.getData = function () {}),
        (pn.prototype.interfaces_ = function () {
          return [];
        }),
        (pn.prototype.getClass = function () {
          return pn;
        });
      var fn = function () {};
      (fn.prototype.addIntersection = function (t, e) {}),
        (fn.prototype.interfaces_ = function () {
          return [pn];
        }),
        (fn.prototype.getClass = function () {
          return fn;
        });
      var dn = function () {
        (this._nodeList = new hn(this)),
          (this._pts = null),
          (this._data = null);
        var t = arguments[0],
          e = arguments[1];
        (this._pts = t), (this._data = e);
      };
      (dn.prototype.getCoordinates = function () {
        return this._pts;
      }),
        (dn.prototype.size = function () {
          return this._pts.length;
        }),
        (dn.prototype.getCoordinate = function (t) {
          return this._pts[t];
        }),
        (dn.prototype.isClosed = function () {
          return this._pts[0].equals(this._pts[this._pts.length - 1]);
        }),
        (dn.prototype.getSegmentOctant = function (t) {
          return t === this._pts.length - 1
            ? -1
            : this.safeOctant(this.getCoordinate(t), this.getCoordinate(t + 1));
        }),
        (dn.prototype.setData = function (t) {
          this._data = t;
        }),
        (dn.prototype.safeOctant = function (t, e) {
          return t.equals2D(e) ? 0 : ln.octant(t, e);
        }),
        (dn.prototype.getData = function () {
          return this._data;
        }),
        (dn.prototype.addIntersection = function () {
          if (2 === arguments.length) {
            var t = arguments[0],
              e = arguments[1];
            this.addIntersectionNode(t, e);
          } else if (4 === arguments.length) {
            var n = arguments[0],
              i = arguments[1],
              r = arguments[3],
              o = new I(n.getIntersection(r));
            this.addIntersection(o, i);
          }
        }),
        (dn.prototype.toString = function () {
          return Q.toLineString(new ue(this._pts));
        }),
        (dn.prototype.getNodeList = function () {
          return this._nodeList;
        }),
        (dn.prototype.addIntersectionNode = function (t, e) {
          var n = e,
            i = n + 1;
          if (i < this._pts.length) {
            var r = this._pts[i];
            t.equals2D(r) && (n = i);
          }
          return this._nodeList.add(t, n);
        }),
        (dn.prototype.addIntersections = function (t, e, n) {
          for (var i = 0; i < t.getIntersectionNum(); i++)
            this.addIntersection(t, e, n, i);
        }),
        (dn.prototype.interfaces_ = function () {
          return [fn];
        }),
        (dn.prototype.getClass = function () {
          return dn;
        }),
        (dn.getNodedSubstrings = function () {
          if (1 === arguments.length) {
            var t = arguments[0],
              e = new wt();
            return dn.getNodedSubstrings(t, e), e;
          }
          if (2 === arguments.length)
            for (
              var n = arguments[0], i = arguments[1], r = n.iterator();
              r.hasNext();

            )
              r.next().getNodeList().addSplitEdges(i);
        });
      var gn = function () {
          if (((this.p0 = null), (this.p1 = null), 0 === arguments.length))
            (this.p0 = new I()), (this.p1 = new I());
          else if (1 === arguments.length) {
            var t = arguments[0];
            (this.p0 = new I(t.p0)), (this.p1 = new I(t.p1));
          } else if (2 === arguments.length)
            (this.p0 = arguments[0]), (this.p1 = arguments[1]);
          else if (4 === arguments.length) {
            var e = arguments[0],
              n = arguments[1],
              i = arguments[2],
              r = arguments[3];
            (this.p0 = new I(e, n)), (this.p1 = new I(i, r));
          }
        },
        yn = { serialVersionUID: { configurable: !0 } };
      (gn.prototype.minX = function () {
        return Math.min(this.p0.x, this.p1.x);
      }),
        (gn.prototype.orientationIndex = function () {
          if (arguments[0] instanceof gn) {
            var t = arguments[0],
              e = at.orientationIndex(this.p0, this.p1, t.p0),
              n = at.orientationIndex(this.p0, this.p1, t.p1);
            return e >= 0 && n >= 0
              ? Math.max(e, n)
              : e <= 0 && n <= 0
              ? Math.max(e, n)
              : 0;
          }
          if (arguments[0] instanceof I) {
            var i = arguments[0];
            return at.orientationIndex(this.p0, this.p1, i);
          }
        }),
        (gn.prototype.toGeometry = function (t) {
          return t.createLineString([this.p0, this.p1]);
        }),
        (gn.prototype.isVertical = function () {
          return this.p0.x === this.p1.x;
        }),
        (gn.prototype.equals = function (t) {
          if (!(t instanceof gn)) return !1;
          var e = t;
          return this.p0.equals(e.p0) && this.p1.equals(e.p1);
        }),
        (gn.prototype.intersection = function (t) {
          var e = new rt();
          return (
            e.computeIntersection(this.p0, this.p1, t.p0, t.p1),
            e.hasIntersection() ? e.getIntersection(0) : null
          );
        }),
        (gn.prototype.project = function () {
          if (arguments[0] instanceof I) {
            var t = arguments[0];
            if (t.equals(this.p0) || t.equals(this.p1)) return new I(t);
            var e = this.projectionFactor(t),
              n = new I();
            return (
              (n.x = this.p0.x + e * (this.p1.x - this.p0.x)),
              (n.y = this.p0.y + e * (this.p1.y - this.p0.y)),
              n
            );
          }
          if (arguments[0] instanceof gn) {
            var i = arguments[0],
              r = this.projectionFactor(i.p0),
              o = this.projectionFactor(i.p1);
            if (r >= 1 && o >= 1) return null;
            if (r <= 0 && o <= 0) return null;
            var s = this.project(i.p0);
            r < 0 && (s = this.p0), r > 1 && (s = this.p1);
            var a = this.project(i.p1);
            return o < 0 && (a = this.p0), o > 1 && (a = this.p1), new gn(s, a);
          }
        }),
        (gn.prototype.normalize = function () {
          this.p1.compareTo(this.p0) < 0 && this.reverse();
        }),
        (gn.prototype.angle = function () {
          return Math.atan2(this.p1.y - this.p0.y, this.p1.x - this.p0.x);
        }),
        (gn.prototype.getCoordinate = function (t) {
          return 0 === t ? this.p0 : this.p1;
        }),
        (gn.prototype.distancePerpendicular = function (t) {
          return at.distancePointLinePerpendicular(t, this.p0, this.p1);
        }),
        (gn.prototype.minY = function () {
          return Math.min(this.p0.y, this.p1.y);
        }),
        (gn.prototype.midPoint = function () {
          return gn.midPoint(this.p0, this.p1);
        }),
        (gn.prototype.projectionFactor = function (t) {
          if (t.equals(this.p0)) return 0;
          if (t.equals(this.p1)) return 1;
          var e = this.p1.x - this.p0.x,
            n = this.p1.y - this.p0.y,
            i = e * e + n * n;
          return i <= 0
            ? m.NaN
            : ((t.x - this.p0.x) * e + (t.y - this.p0.y) * n) / i;
        }),
        (gn.prototype.closestPoints = function (t) {
          var e = this.intersection(t);
          if (null !== e) return [e, e];
          var n = new Array(2).fill(null),
            i = m.MAX_VALUE,
            r = null,
            o = this.closestPoint(t.p0);
          (i = o.distance(t.p0)), (n[0] = o), (n[1] = t.p0);
          var s = this.closestPoint(t.p1);
          (r = s.distance(t.p1)) < i && ((i = r), (n[0] = s), (n[1] = t.p1));
          var a = t.closestPoint(this.p0);
          (r = a.distance(this.p0)) < i &&
            ((i = r), (n[0] = this.p0), (n[1] = a));
          var u = t.closestPoint(this.p1);
          return (
            (r = u.distance(this.p1)) < i &&
              ((i = r), (n[0] = this.p1), (n[1] = u)),
            n
          );
        }),
        (gn.prototype.closestPoint = function (t) {
          var e = this.projectionFactor(t);
          return e > 0 && e < 1
            ? this.project(t)
            : this.p0.distance(t) < this.p1.distance(t)
            ? this.p0
            : this.p1;
        }),
        (gn.prototype.maxX = function () {
          return Math.max(this.p0.x, this.p1.x);
        }),
        (gn.prototype.getLength = function () {
          return this.p0.distance(this.p1);
        }),
        (gn.prototype.compareTo = function (t) {
          var e = t,
            n = this.p0.compareTo(e.p0);
          return 0 !== n ? n : this.p1.compareTo(e.p1);
        }),
        (gn.prototype.reverse = function () {
          var t = this.p0;
          (this.p0 = this.p1), (this.p1 = t);
        }),
        (gn.prototype.equalsTopo = function (t) {
          return (
            this.p0.equals(t.p0) &&
            (this.p1.equals(t.p1) || this.p0.equals(t.p1)) &&
            this.p1.equals(t.p0)
          );
        }),
        (gn.prototype.lineIntersection = function (t) {
          try {
            return V.intersection(this.p0, this.p1, t.p0, t.p1);
          } catch (t) {
            if (!(t instanceof X)) throw t;
          }
          return null;
        }),
        (gn.prototype.maxY = function () {
          return Math.max(this.p0.y, this.p1.y);
        }),
        (gn.prototype.pointAlongOffset = function (t, e) {
          var n = this.p0.x + t * (this.p1.x - this.p0.x),
            i = this.p0.y + t * (this.p1.y - this.p0.y),
            r = this.p1.x - this.p0.x,
            o = this.p1.y - this.p0.y,
            s = Math.sqrt(r * r + o * o),
            a = 0,
            u = 0;
          if (0 !== e) {
            if (s <= 0)
              throw new Error(
                "Cannot compute offset from zero-length line segment"
              );
            (a = (e * r) / s), (u = (e * o) / s);
          }
          return new I(n - u, i + a);
        }),
        (gn.prototype.setCoordinates = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            this.setCoordinates(t.p0, t.p1);
          } else if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            (this.p0.x = e.x),
              (this.p0.y = e.y),
              (this.p1.x = n.x),
              (this.p1.y = n.y);
          }
        }),
        (gn.prototype.segmentFraction = function (t) {
          var e = this.projectionFactor(t);
          return e < 0 ? (e = 0) : (e > 1 || m.isNaN(e)) && (e = 1), e;
        }),
        (gn.prototype.toString = function () {
          return (
            "LINESTRING( " +
            this.p0.x +
            " " +
            this.p0.y +
            ", " +
            this.p1.x +
            " " +
            this.p1.y +
            ")"
          );
        }),
        (gn.prototype.isHorizontal = function () {
          return this.p0.y === this.p1.y;
        }),
        (gn.prototype.distance = function () {
          if (arguments[0] instanceof gn) {
            var t = arguments[0];
            return at.distanceLineLine(this.p0, this.p1, t.p0, t.p1);
          }
          if (arguments[0] instanceof I) {
            var e = arguments[0];
            return at.distancePointLine(e, this.p0, this.p1);
          }
        }),
        (gn.prototype.pointAlong = function (t) {
          var e = new I();
          return (
            (e.x = this.p0.x + t * (this.p1.x - this.p0.x)),
            (e.y = this.p0.y + t * (this.p1.y - this.p0.y)),
            e
          );
        }),
        (gn.prototype.hashCode = function () {
          var t = m.doubleToLongBits(this.p0.x);
          t ^= 31 * m.doubleToLongBits(this.p0.y);
          var e = Math.trunc(t) ^ Math.trunc(t >> 32),
            n = m.doubleToLongBits(this.p1.x);
          return (
            (n ^= 31 * m.doubleToLongBits(this.p1.y)),
            e ^ Math.trunc(n) ^ Math.trunc(n >> 32)
          );
        }),
        (gn.prototype.interfaces_ = function () {
          return [E, e];
        }),
        (gn.prototype.getClass = function () {
          return gn;
        }),
        (gn.midPoint = function (t, e) {
          return new I((t.x + e.x) / 2, (t.y + e.y) / 2);
        }),
        (yn.serialVersionUID.get = function () {
          return 0x2d2172135f411c00;
        }),
        Object.defineProperties(gn, yn);
      var _n = function () {
        (this.tempEnv1 = new q()),
          (this.tempEnv2 = new q()),
          (this._overlapSeg1 = new gn()),
          (this._overlapSeg2 = new gn());
      };
      (_n.prototype.overlap = function () {
        if (2 === arguments.length);
        else if (4 === arguments.length) {
          var t = arguments[0],
            e = arguments[1],
            n = arguments[2],
            i = arguments[3];
          t.getLineSegment(e, this._overlapSeg1),
            n.getLineSegment(i, this._overlapSeg2),
            this.overlap(this._overlapSeg1, this._overlapSeg2);
        }
      }),
        (_n.prototype.interfaces_ = function () {
          return [];
        }),
        (_n.prototype.getClass = function () {
          return _n;
        });
      var vn = function () {
        (this._pts = null),
          (this._start = null),
          (this._end = null),
          (this._env = null),
          (this._context = null),
          (this._id = null);
        var t = arguments[0],
          e = arguments[1],
          n = arguments[2],
          i = arguments[3];
        (this._pts = t),
          (this._start = e),
          (this._end = n),
          (this._context = i);
      };
      (vn.prototype.getLineSegment = function (t, e) {
        (e.p0 = this._pts[t]), (e.p1 = this._pts[t + 1]);
      }),
        (vn.prototype.computeSelect = function (t, e, n, i) {
          var r = this._pts[e],
            o = this._pts[n];
          if ((i.tempEnv1.init(r, o), n - e == 1))
            return i.select(this, e), null;
          if (!t.intersects(i.tempEnv1)) return null;
          var s = Math.trunc((e + n) / 2);
          e < s && this.computeSelect(t, e, s, i),
            s < n && this.computeSelect(t, s, n, i);
        }),
        (vn.prototype.getCoordinates = function () {
          for (
            var t = new Array(this._end - this._start + 1).fill(null),
              e = 0,
              n = this._start;
            n <= this._end;
            n++
          )
            t[e++] = this._pts[n];
          return t;
        }),
        (vn.prototype.computeOverlaps = function (t, e) {
          this.computeOverlapsInternal(
            this._start,
            this._end,
            t,
            t._start,
            t._end,
            e
          );
        }),
        (vn.prototype.setId = function (t) {
          this._id = t;
        }),
        (vn.prototype.select = function (t, e) {
          this.computeSelect(t, this._start, this._end, e);
        }),
        (vn.prototype.getEnvelope = function () {
          if (null === this._env) {
            var t = this._pts[this._start],
              e = this._pts[this._end];
            this._env = new q(t, e);
          }
          return this._env;
        }),
        (vn.prototype.getEndIndex = function () {
          return this._end;
        }),
        (vn.prototype.getStartIndex = function () {
          return this._start;
        }),
        (vn.prototype.getContext = function () {
          return this._context;
        }),
        (vn.prototype.getId = function () {
          return this._id;
        }),
        (vn.prototype.computeOverlapsInternal = function (t, e, n, i, r, o) {
          var s = this._pts[t],
            a = this._pts[e],
            u = n._pts[i],
            c = n._pts[r];
          if (e - t == 1 && r - i == 1) return o.overlap(this, t, n, i), null;
          if (
            (o.tempEnv1.init(s, a),
            o.tempEnv2.init(u, c),
            !o.tempEnv1.intersects(o.tempEnv2))
          )
            return null;
          var h = Math.trunc((t + e) / 2),
            l = Math.trunc((i + r) / 2);
          t < h &&
            (i < l && this.computeOverlapsInternal(t, h, n, i, l, o),
            l < r && this.computeOverlapsInternal(t, h, n, l, r, o)),
            h < e &&
              (i < l && this.computeOverlapsInternal(h, e, n, i, l, o),
              l < r && this.computeOverlapsInternal(h, e, n, l, r, o));
        }),
        (vn.prototype.interfaces_ = function () {
          return [];
        }),
        (vn.prototype.getClass = function () {
          return vn;
        });
      var mn = function () {};
      (mn.prototype.interfaces_ = function () {
        return [];
      }),
        (mn.prototype.getClass = function () {
          return mn;
        }),
        (mn.getChainStartIndices = function (t) {
          var e = 0,
            n = new wt();
          n.add(new P(e));
          do {
            var i = mn.findChainEnd(t, e);
            n.add(new P(i)), (e = i);
          } while (e < t.length - 1);
          return mn.toIntArray(n);
        }),
        (mn.findChainEnd = function (t, e) {
          for (var n = e; n < t.length - 1 && t[n].equals2D(t[n + 1]); ) n++;
          if (n >= t.length - 1) return t.length - 1;
          for (
            var i = je.quadrant(t[n], t[n + 1]), r = e + 1;
            r < t.length &&
            (t[r - 1].equals2D(t[r]) || je.quadrant(t[r - 1], t[r]) === i);

          )
            r++;
          return r - 1;
        }),
        (mn.getChains = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return mn.getChains(t, null);
          }
          if (2 === arguments.length) {
            for (
              var e = arguments[0],
                n = arguments[1],
                i = new wt(),
                r = mn.getChainStartIndices(e),
                o = 0;
              o < r.length - 1;
              o++
            ) {
              var s = new vn(e, r[o], r[o + 1], n);
              i.add(s);
            }
            return i;
          }
        }),
        (mn.toIntArray = function (t) {
          for (var e = new Array(t.size()).fill(null), n = 0; n < e.length; n++)
            e[n] = t.get(n).intValue();
          return e;
        });
      var xn = function () {};
      (xn.prototype.computeNodes = function (t) {}),
        (xn.prototype.getNodedSubstrings = function () {}),
        (xn.prototype.interfaces_ = function () {
          return [];
        }),
        (xn.prototype.getClass = function () {
          return xn;
        });
      var En = function () {
        if (((this._segInt = null), 0 === arguments.length));
        else if (1 === arguments.length) {
          var t = arguments[0];
          this.setSegmentIntersector(t);
        }
      };
      (En.prototype.setSegmentIntersector = function (t) {
        this._segInt = t;
      }),
        (En.prototype.interfaces_ = function () {
          return [xn];
        }),
        (En.prototype.getClass = function () {
          return En;
        });
      var bn = (function (t) {
          function e(e) {
            e ? t.call(this, e) : t.call(this),
              (this._monoChains = new wt()),
              (this._index = new sn()),
              (this._idCounter = 0),
              (this._nodedSegStrings = null),
              (this._nOverlaps = 0);
          }
          t && (e.__proto__ = t),
            ((e.prototype = Object.create(t && t.prototype)).constructor = e);
          var n = { SegmentOverlapAction: { configurable: !0 } };
          return (
            (e.prototype.getMonotoneChains = function () {
              return this._monoChains;
            }),
            (e.prototype.getNodedSubstrings = function () {
              return dn.getNodedSubstrings(this._nodedSegStrings);
            }),
            (e.prototype.getIndex = function () {
              return this._index;
            }),
            (e.prototype.add = function (t) {
              for (
                var e = mn.getChains(t.getCoordinates(), t).iterator();
                e.hasNext();

              ) {
                var n = e.next();
                n.setId(this._idCounter++),
                  this._index.insert(n.getEnvelope(), n),
                  this._monoChains.add(n);
              }
            }),
            (e.prototype.computeNodes = function (t) {
              this._nodedSegStrings = t;
              for (var e = t.iterator(); e.hasNext(); ) this.add(e.next());
              this.intersectChains();
            }),
            (e.prototype.intersectChains = function () {
              for (
                var t = new wn(this._segInt), e = this._monoChains.iterator();
                e.hasNext();

              )
                for (
                  var n = e.next(),
                    i = this._index.query(n.getEnvelope()).iterator();
                  i.hasNext();

                ) {
                  var r = i.next();
                  if (
                    (r.getId() > n.getId() &&
                      (n.computeOverlaps(r, t), this._nOverlaps++),
                    this._segInt.isDone())
                  )
                    return null;
                }
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            (n.SegmentOverlapAction.get = function () {
              return wn;
            }),
            Object.defineProperties(e, n),
            e
          );
        })(En),
        wn = (function (t) {
          function e() {
            t.call(this), (this._si = null);
            var e = arguments[0];
            this._si = e;
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.overlap = function () {
              if (4 !== arguments.length)
                return t.prototype.overlap.apply(this, arguments);
              var e = arguments[0],
                n = arguments[1],
                i = arguments[2],
                r = arguments[3],
                o = e.getContext(),
                s = i.getContext();
              this._si.processIntersections(o, n, s, r);
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            e
          );
        })(_n),
        In = function t() {
          if (
            ((this._quadrantSegments = t.DEFAULT_QUADRANT_SEGMENTS),
            (this._endCapStyle = t.CAP_ROUND),
            (this._joinStyle = t.JOIN_ROUND),
            (this._mitreLimit = t.DEFAULT_MITRE_LIMIT),
            (this._isSingleSided = !1),
            (this._simplifyFactor = t.DEFAULT_SIMPLIFY_FACTOR),
            0 === arguments.length)
          );
          else if (1 === arguments.length) {
            var e = arguments[0];
            this.setQuadrantSegments(e);
          } else if (2 === arguments.length) {
            var n = arguments[0],
              i = arguments[1];
            this.setQuadrantSegments(n), this.setEndCapStyle(i);
          } else if (4 === arguments.length) {
            var r = arguments[0],
              o = arguments[1],
              s = arguments[2],
              a = arguments[3];
            this.setQuadrantSegments(r),
              this.setEndCapStyle(o),
              this.setJoinStyle(s),
              this.setMitreLimit(a);
          }
        },
        Sn = {
          CAP_ROUND: { configurable: !0 },
          CAP_FLAT: { configurable: !0 },
          CAP_SQUARE: { configurable: !0 },
          JOIN_ROUND: { configurable: !0 },
          JOIN_MITRE: { configurable: !0 },
          JOIN_BEVEL: { configurable: !0 },
          DEFAULT_QUADRANT_SEGMENTS: { configurable: !0 },
          DEFAULT_MITRE_LIMIT: { configurable: !0 },
          DEFAULT_SIMPLIFY_FACTOR: { configurable: !0 },
        };
      (In.prototype.getEndCapStyle = function () {
        return this._endCapStyle;
      }),
        (In.prototype.isSingleSided = function () {
          return this._isSingleSided;
        }),
        (In.prototype.setQuadrantSegments = function (t) {
          (this._quadrantSegments = t),
            0 === this._quadrantSegments && (this._joinStyle = In.JOIN_BEVEL),
            this._quadrantSegments < 0 &&
              ((this._joinStyle = In.JOIN_MITRE),
              (this._mitreLimit = Math.abs(this._quadrantSegments))),
            t <= 0 && (this._quadrantSegments = 1),
            this._joinStyle !== In.JOIN_ROUND &&
              (this._quadrantSegments = In.DEFAULT_QUADRANT_SEGMENTS);
        }),
        (In.prototype.getJoinStyle = function () {
          return this._joinStyle;
        }),
        (In.prototype.setJoinStyle = function (t) {
          this._joinStyle = t;
        }),
        (In.prototype.setSimplifyFactor = function (t) {
          this._simplifyFactor = t < 0 ? 0 : t;
        }),
        (In.prototype.getSimplifyFactor = function () {
          return this._simplifyFactor;
        }),
        (In.prototype.getQuadrantSegments = function () {
          return this._quadrantSegments;
        }),
        (In.prototype.setEndCapStyle = function (t) {
          this._endCapStyle = t;
        }),
        (In.prototype.getMitreLimit = function () {
          return this._mitreLimit;
        }),
        (In.prototype.setMitreLimit = function (t) {
          this._mitreLimit = t;
        }),
        (In.prototype.setSingleSided = function (t) {
          this._isSingleSided = t;
        }),
        (In.prototype.interfaces_ = function () {
          return [];
        }),
        (In.prototype.getClass = function () {
          return In;
        }),
        (In.bufferDistanceError = function (t) {
          var e = Math.PI / 2 / t;
          return 1 - Math.cos(e / 2);
        }),
        (Sn.CAP_ROUND.get = function () {
          return 1;
        }),
        (Sn.CAP_FLAT.get = function () {
          return 2;
        }),
        (Sn.CAP_SQUARE.get = function () {
          return 3;
        }),
        (Sn.JOIN_ROUND.get = function () {
          return 1;
        }),
        (Sn.JOIN_MITRE.get = function () {
          return 2;
        }),
        (Sn.JOIN_BEVEL.get = function () {
          return 3;
        }),
        (Sn.DEFAULT_QUADRANT_SEGMENTS.get = function () {
          return 8;
        }),
        (Sn.DEFAULT_MITRE_LIMIT.get = function () {
          return 5;
        }),
        (Sn.DEFAULT_SIMPLIFY_FACTOR.get = function () {
          return 0.01;
        }),
        Object.defineProperties(In, Sn);
      var Cn = function (t) {
          (this._distanceTol = null),
            (this._isDeleted = null),
            (this._angleOrientation = at.COUNTERCLOCKWISE),
            (this._inputLine = t || null);
        },
        Tn = {
          INIT: { configurable: !0 },
          DELETE: { configurable: !0 },
          KEEP: { configurable: !0 },
          NUM_PTS_TO_CHECK: { configurable: !0 },
        };
      (Cn.prototype.isDeletable = function (t, e, n, i) {
        var r = this._inputLine[t],
          o = this._inputLine[e],
          s = this._inputLine[n];
        return (
          !!this.isConcave(r, o, s) &&
          !!this.isShallow(r, o, s, i) &&
          this.isShallowSampled(r, o, t, n, i)
        );
      }),
        (Cn.prototype.deleteShallowConcavities = function () {
          for (
            var t = 1,
              e = this.findNextNonDeletedIndex(t),
              n = this.findNextNonDeletedIndex(e),
              i = !1;
            n < this._inputLine.length;

          ) {
            var r = !1;
            this.isDeletable(t, e, n, this._distanceTol) &&
              ((this._isDeleted[e] = Cn.DELETE), (r = !0), (i = !0)),
              (t = r ? n : e),
              (e = this.findNextNonDeletedIndex(t)),
              (n = this.findNextNonDeletedIndex(e));
          }
          return i;
        }),
        (Cn.prototype.isShallowConcavity = function (t, e, n, i) {
          return (
            at.computeOrientation(t, e, n) === this._angleOrientation &&
            at.distancePointLine(e, t, n) < i
          );
        }),
        (Cn.prototype.isShallowSampled = function (t, e, n, i, r) {
          var o = Math.trunc((i - n) / Cn.NUM_PTS_TO_CHECK);
          o <= 0 && (o = 1);
          for (var s = n; s < i; s += o)
            if (!this.isShallow(t, e, this._inputLine[s], r)) return !1;
          return !0;
        }),
        (Cn.prototype.isConcave = function (t, e, n) {
          return at.computeOrientation(t, e, n) === this._angleOrientation;
        }),
        (Cn.prototype.simplify = function (t) {
          (this._distanceTol = Math.abs(t)),
            t < 0 && (this._angleOrientation = at.CLOCKWISE),
            (this._isDeleted = new Array(this._inputLine.length).fill(null));
          var e = !1;
          do {
            e = this.deleteShallowConcavities();
          } while (e);
          return this.collapseLine();
        }),
        (Cn.prototype.findNextNonDeletedIndex = function (t) {
          for (
            var e = t + 1;
            e < this._inputLine.length && this._isDeleted[e] === Cn.DELETE;

          )
            e++;
          return e;
        }),
        (Cn.prototype.isShallow = function (t, e, n, i) {
          return at.distancePointLine(e, t, n) < i;
        }),
        (Cn.prototype.collapseLine = function () {
          for (var t = new St(), e = 0; e < this._inputLine.length; e++)
            this._isDeleted[e] !== Cn.DELETE && t.add(this._inputLine[e]);
          return t.toCoordinateArray();
        }),
        (Cn.prototype.interfaces_ = function () {
          return [];
        }),
        (Cn.prototype.getClass = function () {
          return Cn;
        }),
        (Cn.simplify = function (t, e) {
          return new Cn(t).simplify(e);
        }),
        (Tn.INIT.get = function () {
          return 0;
        }),
        (Tn.DELETE.get = function () {
          return 1;
        }),
        (Tn.KEEP.get = function () {
          return 1;
        }),
        (Tn.NUM_PTS_TO_CHECK.get = function () {
          return 10;
        }),
        Object.defineProperties(Cn, Tn);
      var On = function () {
          (this._ptList = null),
            (this._precisionModel = null),
            (this._minimimVertexDistance = 0),
            (this._ptList = new wt());
        },
        Rn = { COORDINATE_ARRAY_TYPE: { configurable: !0 } };
      (On.prototype.getCoordinates = function () {
        return this._ptList.toArray(On.COORDINATE_ARRAY_TYPE);
      }),
        (On.prototype.setPrecisionModel = function (t) {
          this._precisionModel = t;
        }),
        (On.prototype.addPt = function (t) {
          var e = new I(t);
          if ((this._precisionModel.makePrecise(e), this.isRedundant(e)))
            return null;
          this._ptList.add(e);
        }),
        (On.prototype.revere = function () {}),
        (On.prototype.addPts = function (t, e) {
          if (e) for (var n = 0; n < t.length; n++) this.addPt(t[n]);
          else for (var i = t.length - 1; i >= 0; i--) this.addPt(t[i]);
        }),
        (On.prototype.isRedundant = function (t) {
          if (this._ptList.size() < 1) return !1;
          var e = this._ptList.get(this._ptList.size() - 1);
          return t.distance(e) < this._minimimVertexDistance;
        }),
        (On.prototype.toString = function () {
          return new _e().createLineString(this.getCoordinates()).toString();
        }),
        (On.prototype.closeRing = function () {
          if (this._ptList.size() < 1) return null;
          var t = new I(this._ptList.get(0)),
            e = this._ptList.get(this._ptList.size() - 1);
          if (t.equals(e)) return null;
          this._ptList.add(t);
        }),
        (On.prototype.setMinimumVertexDistance = function (t) {
          this._minimimVertexDistance = t;
        }),
        (On.prototype.interfaces_ = function () {
          return [];
        }),
        (On.prototype.getClass = function () {
          return On;
        }),
        (Rn.COORDINATE_ARRAY_TYPE.get = function () {
          return new Array(0).fill(null);
        }),
        Object.defineProperties(On, Rn);
      var Ln = function () {},
        Mn = {
          PI_TIMES_2: { configurable: !0 },
          PI_OVER_2: { configurable: !0 },
          PI_OVER_4: { configurable: !0 },
          COUNTERCLOCKWISE: { configurable: !0 },
          CLOCKWISE: { configurable: !0 },
          NONE: { configurable: !0 },
        };
      (Ln.prototype.interfaces_ = function () {
        return [];
      }),
        (Ln.prototype.getClass = function () {
          return Ln;
        }),
        (Ln.toDegrees = function (t) {
          return (180 * t) / Math.PI;
        }),
        (Ln.normalize = function (t) {
          for (; t > Math.PI; ) t -= Ln.PI_TIMES_2;
          for (; t <= -Math.PI; ) t += Ln.PI_TIMES_2;
          return t;
        }),
        (Ln.angle = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return Math.atan2(t.y, t.x);
          }
          if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1],
              i = n.x - e.x,
              r = n.y - e.y;
            return Math.atan2(r, i);
          }
        }),
        (Ln.isAcute = function (t, e, n) {
          var i = t.x - e.x,
            r = t.y - e.y;
          return i * (n.x - e.x) + r * (n.y - e.y) > 0;
        }),
        (Ln.isObtuse = function (t, e, n) {
          var i = t.x - e.x,
            r = t.y - e.y;
          return i * (n.x - e.x) + r * (n.y - e.y) < 0;
        }),
        (Ln.interiorAngle = function (t, e, n) {
          var i = Ln.angle(e, t),
            r = Ln.angle(e, n);
          return Math.abs(r - i);
        }),
        (Ln.normalizePositive = function (t) {
          if (t < 0) {
            for (; t < 0; ) t += Ln.PI_TIMES_2;
            t >= Ln.PI_TIMES_2 && (t = 0);
          } else {
            for (; t >= Ln.PI_TIMES_2; ) t -= Ln.PI_TIMES_2;
            t < 0 && (t = 0);
          }
          return t;
        }),
        (Ln.angleBetween = function (t, e, n) {
          var i = Ln.angle(e, t),
            r = Ln.angle(e, n);
          return Ln.diff(i, r);
        }),
        (Ln.diff = function (t, e) {
          var n = null;
          return (
            (n = t < e ? e - t : t - e) > Math.PI && (n = 2 * Math.PI - n), n
          );
        }),
        (Ln.toRadians = function (t) {
          return (t * Math.PI) / 180;
        }),
        (Ln.getTurn = function (t, e) {
          var n = Math.sin(e - t);
          return n > 0 ? Ln.COUNTERCLOCKWISE : n < 0 ? Ln.CLOCKWISE : Ln.NONE;
        }),
        (Ln.angleBetweenOriented = function (t, e, n) {
          var i = Ln.angle(e, t),
            r = Ln.angle(e, n) - i;
          return r <= -Math.PI
            ? r + Ln.PI_TIMES_2
            : r > Math.PI
            ? r - Ln.PI_TIMES_2
            : r;
        }),
        (Mn.PI_TIMES_2.get = function () {
          return 2 * Math.PI;
        }),
        (Mn.PI_OVER_2.get = function () {
          return Math.PI / 2;
        }),
        (Mn.PI_OVER_4.get = function () {
          return Math.PI / 4;
        }),
        (Mn.COUNTERCLOCKWISE.get = function () {
          return at.COUNTERCLOCKWISE;
        }),
        (Mn.CLOCKWISE.get = function () {
          return at.CLOCKWISE;
        }),
        (Mn.NONE.get = function () {
          return at.COLLINEAR;
        }),
        Object.defineProperties(Ln, Mn);
      var An = function t() {
          (this._maxCurveSegmentError = 0),
            (this._filletAngleQuantum = null),
            (this._closingSegLengthFactor = 1),
            (this._segList = null),
            (this._distance = 0),
            (this._precisionModel = null),
            (this._bufParams = null),
            (this._li = null),
            (this._s0 = null),
            (this._s1 = null),
            (this._s2 = null),
            (this._seg0 = new gn()),
            (this._seg1 = new gn()),
            (this._offset0 = new gn()),
            (this._offset1 = new gn()),
            (this._side = 0),
            (this._hasNarrowConcaveAngle = !1);
          var e = arguments[0],
            n = arguments[1],
            i = arguments[2];
          (this._precisionModel = e),
            (this._bufParams = n),
            (this._li = new rt()),
            (this._filletAngleQuantum = Math.PI / 2 / n.getQuadrantSegments()),
            n.getQuadrantSegments() >= 8 &&
              n.getJoinStyle() === In.JOIN_ROUND &&
              (this._closingSegLengthFactor = t.MAX_CLOSING_SEG_LEN_FACTOR),
            this.init(i);
        },
        Nn = {
          OFFSET_SEGMENT_SEPARATION_FACTOR: { configurable: !0 },
          INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR: { configurable: !0 },
          CURVE_VERTEX_SNAP_DISTANCE_FACTOR: { configurable: !0 },
          MAX_CLOSING_SEG_LEN_FACTOR: { configurable: !0 },
        };
      (An.prototype.addNextSegment = function (t, e) {
        if (
          ((this._s0 = this._s1),
          (this._s1 = this._s2),
          (this._s2 = t),
          this._seg0.setCoordinates(this._s0, this._s1),
          this.computeOffsetSegment(
            this._seg0,
            this._side,
            this._distance,
            this._offset0
          ),
          this._seg1.setCoordinates(this._s1, this._s2),
          this.computeOffsetSegment(
            this._seg1,
            this._side,
            this._distance,
            this._offset1
          ),
          this._s1.equals(this._s2))
        )
          return null;
        var n = at.computeOrientation(this._s0, this._s1, this._s2),
          i =
            (n === at.CLOCKWISE && this._side === Se.LEFT) ||
            (n === at.COUNTERCLOCKWISE && this._side === Se.RIGHT);
        0 === n
          ? this.addCollinear(e)
          : i
          ? this.addOutsideTurn(n, e)
          : this.addInsideTurn(n, e);
      }),
        (An.prototype.addLineEndCap = function (t, e) {
          var n = new gn(t, e),
            i = new gn();
          this.computeOffsetSegment(n, Se.LEFT, this._distance, i);
          var r = new gn();
          this.computeOffsetSegment(n, Se.RIGHT, this._distance, r);
          var o = e.x - t.x,
            s = e.y - t.y,
            a = Math.atan2(s, o);
          switch (this._bufParams.getEndCapStyle()) {
            case In.CAP_ROUND:
              this._segList.addPt(i.p1),
                this.addFilletArc(
                  e,
                  a + Math.PI / 2,
                  a - Math.PI / 2,
                  at.CLOCKWISE,
                  this._distance
                ),
                this._segList.addPt(r.p1);
              break;
            case In.CAP_FLAT:
              this._segList.addPt(i.p1), this._segList.addPt(r.p1);
              break;
            case In.CAP_SQUARE:
              var u = new I();
              (u.x = Math.abs(this._distance) * Math.cos(a)),
                (u.y = Math.abs(this._distance) * Math.sin(a));
              var c = new I(i.p1.x + u.x, i.p1.y + u.y),
                h = new I(r.p1.x + u.x, r.p1.y + u.y);
              this._segList.addPt(c), this._segList.addPt(h);
          }
        }),
        (An.prototype.getCoordinates = function () {
          return this._segList.getCoordinates();
        }),
        (An.prototype.addMitreJoin = function (t, e, n, i) {
          var r = !0,
            o = null;
          try {
            (o = V.intersection(e.p0, e.p1, n.p0, n.p1)),
              (i <= 0 ? 1 : o.distance(t) / Math.abs(i)) >
                this._bufParams.getMitreLimit() && (r = !1);
          } catch (t) {
            if (!(t instanceof X)) throw t;
            (o = new I(0, 0)), (r = !1);
          }
          r
            ? this._segList.addPt(o)
            : this.addLimitedMitreJoin(
                e,
                n,
                i,
                this._bufParams.getMitreLimit()
              );
        }),
        (An.prototype.addFilletCorner = function (t, e, n, i, r) {
          var o = e.x - t.x,
            s = e.y - t.y,
            a = Math.atan2(s, o),
            u = n.x - t.x,
            c = n.y - t.y,
            h = Math.atan2(c, u);
          i === at.CLOCKWISE
            ? a <= h && (a += 2 * Math.PI)
            : a >= h && (a -= 2 * Math.PI),
            this._segList.addPt(e),
            this.addFilletArc(t, a, h, i, r),
            this._segList.addPt(n);
        }),
        (An.prototype.addOutsideTurn = function (t, e) {
          if (
            this._offset0.p1.distance(this._offset1.p0) <
            this._distance * An.OFFSET_SEGMENT_SEPARATION_FACTOR
          )
            return this._segList.addPt(this._offset0.p1), null;
          this._bufParams.getJoinStyle() === In.JOIN_MITRE
            ? this.addMitreJoin(
                this._s1,
                this._offset0,
                this._offset1,
                this._distance
              )
            : this._bufParams.getJoinStyle() === In.JOIN_BEVEL
            ? this.addBevelJoin(this._offset0, this._offset1)
            : (e && this._segList.addPt(this._offset0.p1),
              this.addFilletCorner(
                this._s1,
                this._offset0.p1,
                this._offset1.p0,
                t,
                this._distance
              ),
              this._segList.addPt(this._offset1.p0));
        }),
        (An.prototype.createSquare = function (t) {
          this._segList.addPt(
            new I(t.x + this._distance, t.y + this._distance)
          ),
            this._segList.addPt(
              new I(t.x + this._distance, t.y - this._distance)
            ),
            this._segList.addPt(
              new I(t.x - this._distance, t.y - this._distance)
            ),
            this._segList.addPt(
              new I(t.x - this._distance, t.y + this._distance)
            ),
            this._segList.closeRing();
        }),
        (An.prototype.addSegments = function (t, e) {
          this._segList.addPts(t, e);
        }),
        (An.prototype.addFirstSegment = function () {
          this._segList.addPt(this._offset1.p0);
        }),
        (An.prototype.addLastSegment = function () {
          this._segList.addPt(this._offset1.p1);
        }),
        (An.prototype.initSideSegments = function (t, e, n) {
          (this._s1 = t),
            (this._s2 = e),
            (this._side = n),
            this._seg1.setCoordinates(t, e),
            this.computeOffsetSegment(
              this._seg1,
              n,
              this._distance,
              this._offset1
            );
        }),
        (An.prototype.addLimitedMitreJoin = function (t, e, n, i) {
          var r = this._seg0.p1,
            o = Ln.angle(r, this._seg0.p0),
            s = Ln.angleBetweenOriented(this._seg0.p0, r, this._seg1.p1) / 2,
            a = Ln.normalize(o + s),
            u = Ln.normalize(a + Math.PI),
            c = i * n,
            h = n - c * Math.abs(Math.sin(s)),
            l = r.x + c * Math.cos(u),
            p = r.y + c * Math.sin(u),
            f = new I(l, p),
            d = new gn(r, f),
            g = d.pointAlongOffset(1, h),
            y = d.pointAlongOffset(1, -h);
          this._side === Se.LEFT
            ? (this._segList.addPt(g), this._segList.addPt(y))
            : (this._segList.addPt(y), this._segList.addPt(g));
        }),
        (An.prototype.computeOffsetSegment = function (t, e, n, i) {
          var r = e === Se.LEFT ? 1 : -1,
            o = t.p1.x - t.p0.x,
            s = t.p1.y - t.p0.y,
            a = Math.sqrt(o * o + s * s),
            u = (r * n * o) / a,
            c = (r * n * s) / a;
          (i.p0.x = t.p0.x - c),
            (i.p0.y = t.p0.y + u),
            (i.p1.x = t.p1.x - c),
            (i.p1.y = t.p1.y + u);
        }),
        (An.prototype.addFilletArc = function (t, e, n, i, r) {
          var o = i === at.CLOCKWISE ? -1 : 1,
            s = Math.abs(e - n),
            a = Math.trunc(s / this._filletAngleQuantum + 0.5);
          if (a < 1) return null;
          for (var u = s / a, c = 0, h = new I(); c < s; ) {
            var l = e + o * c;
            (h.x = t.x + r * Math.cos(l)),
              (h.y = t.y + r * Math.sin(l)),
              this._segList.addPt(h),
              (c += u);
          }
        }),
        (An.prototype.addInsideTurn = function (t, e) {
          if (
            (this._li.computeIntersection(
              this._offset0.p0,
              this._offset0.p1,
              this._offset1.p0,
              this._offset1.p1
            ),
            this._li.hasIntersection())
          )
            this._segList.addPt(this._li.getIntersection(0));
          else if (
            ((this._hasNarrowConcaveAngle = !0),
            this._offset0.p1.distance(this._offset1.p0) <
              this._distance * An.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)
          )
            this._segList.addPt(this._offset0.p1);
          else {
            if (
              (this._segList.addPt(this._offset0.p1),
              this._closingSegLengthFactor > 0)
            ) {
              var n = new I(
                (this._closingSegLengthFactor * this._offset0.p1.x +
                  this._s1.x) /
                  (this._closingSegLengthFactor + 1),
                (this._closingSegLengthFactor * this._offset0.p1.y +
                  this._s1.y) /
                  (this._closingSegLengthFactor + 1)
              );
              this._segList.addPt(n);
              var i = new I(
                (this._closingSegLengthFactor * this._offset1.p0.x +
                  this._s1.x) /
                  (this._closingSegLengthFactor + 1),
                (this._closingSegLengthFactor * this._offset1.p0.y +
                  this._s1.y) /
                  (this._closingSegLengthFactor + 1)
              );
              this._segList.addPt(i);
            } else this._segList.addPt(this._s1);
            this._segList.addPt(this._offset1.p0);
          }
        }),
        (An.prototype.createCircle = function (t) {
          var e = new I(t.x + this._distance, t.y);
          this._segList.addPt(e),
            this.addFilletArc(t, 0, 2 * Math.PI, -1, this._distance),
            this._segList.closeRing();
        }),
        (An.prototype.addBevelJoin = function (t, e) {
          this._segList.addPt(t.p1), this._segList.addPt(e.p0);
        }),
        (An.prototype.init = function (t) {
          (this._distance = t),
            (this._maxCurveSegmentError =
              t * (1 - Math.cos(this._filletAngleQuantum / 2))),
            (this._segList = new On()),
            this._segList.setPrecisionModel(this._precisionModel),
            this._segList.setMinimumVertexDistance(
              t * An.CURVE_VERTEX_SNAP_DISTANCE_FACTOR
            );
        }),
        (An.prototype.addCollinear = function (t) {
          this._li.computeIntersection(this._s0, this._s1, this._s1, this._s2),
            this._li.getIntersectionNum() >= 2 &&
              (this._bufParams.getJoinStyle() === In.JOIN_BEVEL ||
              this._bufParams.getJoinStyle() === In.JOIN_MITRE
                ? (t && this._segList.addPt(this._offset0.p1),
                  this._segList.addPt(this._offset1.p0))
                : this.addFilletCorner(
                    this._s1,
                    this._offset0.p1,
                    this._offset1.p0,
                    at.CLOCKWISE,
                    this._distance
                  ));
        }),
        (An.prototype.closeRing = function () {
          this._segList.closeRing();
        }),
        (An.prototype.hasNarrowConcaveAngle = function () {
          return this._hasNarrowConcaveAngle;
        }),
        (An.prototype.interfaces_ = function () {
          return [];
        }),
        (An.prototype.getClass = function () {
          return An;
        }),
        (Nn.OFFSET_SEGMENT_SEPARATION_FACTOR.get = function () {
          return 0.001;
        }),
        (Nn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get = function () {
          return 0.001;
        }),
        (Nn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get = function () {
          return 1e-6;
        }),
        (Nn.MAX_CLOSING_SEG_LEN_FACTOR.get = function () {
          return 80;
        }),
        Object.defineProperties(An, Nn);
      var Pn = function () {
        (this._distance = 0),
          (this._precisionModel = null),
          (this._bufParams = null);
        var t = arguments[0],
          e = arguments[1];
        (this._precisionModel = t), (this._bufParams = e);
      };
      (Pn.prototype.getOffsetCurve = function (t, e) {
        if (((this._distance = e), 0 === e)) return null;
        var n = e < 0,
          i = Math.abs(e),
          r = this.getSegGen(i);
        t.length <= 1
          ? this.computePointCurve(t[0], r)
          : this.computeOffsetCurve(t, n, r);
        var o = r.getCoordinates();
        return n && Ct.reverse(o), o;
      }),
        (Pn.prototype.computeSingleSidedBufferCurve = function (t, e, n) {
          var i = this.simplifyTolerance(this._distance);
          if (e) {
            n.addSegments(t, !0);
            var r = Cn.simplify(t, -i),
              o = r.length - 1;
            n.initSideSegments(r[o], r[o - 1], Se.LEFT), n.addFirstSegment();
            for (var s = o - 2; s >= 0; s--) n.addNextSegment(r[s], !0);
          } else {
            n.addSegments(t, !1);
            var a = Cn.simplify(t, i),
              u = a.length - 1;
            n.initSideSegments(a[0], a[1], Se.LEFT), n.addFirstSegment();
            for (var c = 2; c <= u; c++) n.addNextSegment(a[c], !0);
          }
          n.addLastSegment(), n.closeRing();
        }),
        (Pn.prototype.computeRingBufferCurve = function (t, e, n) {
          var i = this.simplifyTolerance(this._distance);
          e === Se.RIGHT && (i = -i);
          var r = Cn.simplify(t, i),
            o = r.length - 1;
          n.initSideSegments(r[o - 1], r[0], e);
          for (var s = 1; s <= o; s++) {
            var a = 1 !== s;
            n.addNextSegment(r[s], a);
          }
          n.closeRing();
        }),
        (Pn.prototype.computeLineBufferCurve = function (t, e) {
          var n = this.simplifyTolerance(this._distance),
            i = Cn.simplify(t, n),
            r = i.length - 1;
          e.initSideSegments(i[0], i[1], Se.LEFT);
          for (var o = 2; o <= r; o++) e.addNextSegment(i[o], !0);
          e.addLastSegment(), e.addLineEndCap(i[r - 1], i[r]);
          var s = Cn.simplify(t, -n),
            a = s.length - 1;
          e.initSideSegments(s[a], s[a - 1], Se.LEFT);
          for (var u = a - 2; u >= 0; u--) e.addNextSegment(s[u], !0);
          e.addLastSegment(), e.addLineEndCap(s[1], s[0]), e.closeRing();
        }),
        (Pn.prototype.computePointCurve = function (t, e) {
          switch (this._bufParams.getEndCapStyle()) {
            case In.CAP_ROUND:
              e.createCircle(t);
              break;
            case In.CAP_SQUARE:
              e.createSquare(t);
          }
        }),
        (Pn.prototype.getLineCurve = function (t, e) {
          if (((this._distance = e), e < 0 && !this._bufParams.isSingleSided()))
            return null;
          if (0 === e) return null;
          var n = Math.abs(e),
            i = this.getSegGen(n);
          if (t.length <= 1) this.computePointCurve(t[0], i);
          else if (this._bufParams.isSingleSided()) {
            var r = e < 0;
            this.computeSingleSidedBufferCurve(t, r, i);
          } else this.computeLineBufferCurve(t, i);
          return i.getCoordinates();
        }),
        (Pn.prototype.getBufferParameters = function () {
          return this._bufParams;
        }),
        (Pn.prototype.simplifyTolerance = function (t) {
          return t * this._bufParams.getSimplifyFactor();
        }),
        (Pn.prototype.getRingCurve = function (t, e, n) {
          if (((this._distance = n), t.length <= 2))
            return this.getLineCurve(t, n);
          if (0 === n) return Pn.copyCoordinates(t);
          var i = this.getSegGen(n);
          return this.computeRingBufferCurve(t, e, i), i.getCoordinates();
        }),
        (Pn.prototype.computeOffsetCurve = function (t, e, n) {
          var i = this.simplifyTolerance(this._distance);
          if (e) {
            var r = Cn.simplify(t, -i),
              o = r.length - 1;
            n.initSideSegments(r[o], r[o - 1], Se.LEFT), n.addFirstSegment();
            for (var s = o - 2; s >= 0; s--) n.addNextSegment(r[s], !0);
          } else {
            var a = Cn.simplify(t, i),
              u = a.length - 1;
            n.initSideSegments(a[0], a[1], Se.LEFT), n.addFirstSegment();
            for (var c = 2; c <= u; c++) n.addNextSegment(a[c], !0);
          }
          n.addLastSegment();
        }),
        (Pn.prototype.getSegGen = function (t) {
          return new An(this._precisionModel, this._bufParams, t);
        }),
        (Pn.prototype.interfaces_ = function () {
          return [];
        }),
        (Pn.prototype.getClass = function () {
          return Pn;
        }),
        (Pn.copyCoordinates = function (t) {
          for (var e = new Array(t.length).fill(null), n = 0; n < e.length; n++)
            e[n] = new I(t[n]);
          return e;
        });
      var Dn = function () {
          (this._subgraphs = null),
            (this._seg = new gn()),
            (this._cga = new at());
          var t = arguments[0];
          this._subgraphs = t;
        },
        kn = { DepthSegment: { configurable: !0 } };
      (Dn.prototype.findStabbedSegments = function () {
        if (1 === arguments.length) {
          for (
            var t = arguments[0], e = new wt(), n = this._subgraphs.iterator();
            n.hasNext();

          ) {
            var i = n.next(),
              r = i.getEnvelope();
            t.y < r.getMinY() ||
              t.y > r.getMaxY() ||
              this.findStabbedSegments(t, i.getDirectedEdges(), e);
          }
          return e;
        }
        if (3 === arguments.length)
          if (
            L(arguments[2], bt) &&
            arguments[0] instanceof I &&
            arguments[1] instanceof Ye
          ) {
            for (
              var o = arguments[0],
                s = arguments[1],
                a = arguments[2],
                u = s.getEdge().getCoordinates(),
                c = 0;
              c < u.length - 1;
              c++
            )
              if (
                ((this._seg.p0 = u[c]),
                (this._seg.p1 = u[c + 1]),
                this._seg.p0.y > this._seg.p1.y && this._seg.reverse(),
                !(
                  Math.max(this._seg.p0.x, this._seg.p1.x) < o.x ||
                  this._seg.isHorizontal() ||
                  o.y < this._seg.p0.y ||
                  o.y > this._seg.p1.y ||
                  at.computeOrientation(this._seg.p0, this._seg.p1, o) ===
                    at.RIGHT
                ))
              ) {
                var h = s.getDepth(Se.LEFT);
                this._seg.p0.equals(u[c]) || (h = s.getDepth(Se.RIGHT));
                var l = new Fn(this._seg, h);
                a.add(l);
              }
          } else if (
            L(arguments[2], bt) &&
            arguments[0] instanceof I &&
            L(arguments[1], bt)
          )
            for (
              var p = arguments[0],
                f = arguments[1],
                d = arguments[2],
                g = f.iterator();
              g.hasNext();

            ) {
              var y = g.next();
              y.isForward() && this.findStabbedSegments(p, y, d);
            }
      }),
        (Dn.prototype.getDepth = function (t) {
          var e = this.findStabbedSegments(t);
          return 0 === e.size() ? 0 : $e.min(e)._leftDepth;
        }),
        (Dn.prototype.interfaces_ = function () {
          return [];
        }),
        (Dn.prototype.getClass = function () {
          return Dn;
        }),
        (kn.DepthSegment.get = function () {
          return Fn;
        }),
        Object.defineProperties(Dn, kn);
      var Fn = function () {
        (this._upwardSeg = null), (this._leftDepth = null);
        var t = arguments[0],
          e = arguments[1];
        (this._upwardSeg = new gn(t)), (this._leftDepth = e);
      };
      (Fn.prototype.compareTo = function (t) {
        var e = t;
        if (this._upwardSeg.minX() >= e._upwardSeg.maxX()) return 1;
        if (this._upwardSeg.maxX() <= e._upwardSeg.minX()) return -1;
        var n = this._upwardSeg.orientationIndex(e._upwardSeg);
        return 0 !== n
          ? n
          : 0 != (n = -1 * e._upwardSeg.orientationIndex(this._upwardSeg))
          ? n
          : this._upwardSeg.compareTo(e._upwardSeg);
      }),
        (Fn.prototype.compareX = function (t, e) {
          var n = t.p0.compareTo(e.p0);
          return 0 !== n ? n : t.p1.compareTo(e.p1);
        }),
        (Fn.prototype.toString = function () {
          return this._upwardSeg.toString();
        }),
        (Fn.prototype.interfaces_ = function () {
          return [E];
        }),
        (Fn.prototype.getClass = function () {
          return Fn;
        });
      var Gn = function (t, e, n) {
        (this.p0 = t || null), (this.p1 = e || null), (this.p2 = n || null);
      };
      (Gn.prototype.area = function () {
        return Gn.area(this.p0, this.p1, this.p2);
      }),
        (Gn.prototype.signedArea = function () {
          return Gn.signedArea(this.p0, this.p1, this.p2);
        }),
        (Gn.prototype.interpolateZ = function (t) {
          if (null === t) throw new v("Supplied point is null.");
          return Gn.interpolateZ(t, this.p0, this.p1, this.p2);
        }),
        (Gn.prototype.longestSideLength = function () {
          return Gn.longestSideLength(this.p0, this.p1, this.p2);
        }),
        (Gn.prototype.isAcute = function () {
          return Gn.isAcute(this.p0, this.p1, this.p2);
        }),
        (Gn.prototype.circumcentre = function () {
          return Gn.circumcentre(this.p0, this.p1, this.p2);
        }),
        (Gn.prototype.area3D = function () {
          return Gn.area3D(this.p0, this.p1, this.p2);
        }),
        (Gn.prototype.centroid = function () {
          return Gn.centroid(this.p0, this.p1, this.p2);
        }),
        (Gn.prototype.inCentre = function () {
          return Gn.inCentre(this.p0, this.p1, this.p2);
        }),
        (Gn.prototype.interfaces_ = function () {
          return [];
        }),
        (Gn.prototype.getClass = function () {
          return Gn;
        }),
        (Gn.area = function (t, e, n) {
          return Math.abs(
            ((n.x - t.x) * (e.y - t.y) - (e.x - t.x) * (n.y - t.y)) / 2
          );
        }),
        (Gn.signedArea = function (t, e, n) {
          return ((n.x - t.x) * (e.y - t.y) - (e.x - t.x) * (n.y - t.y)) / 2;
        }),
        (Gn.det = function (t, e, n, i) {
          return t * i - e * n;
        }),
        (Gn.interpolateZ = function (t, e, n, i) {
          var r = e.x,
            o = e.y,
            s = n.x - r,
            a = i.x - r,
            u = n.y - o,
            c = i.y - o,
            h = s * c - a * u,
            l = t.x - r,
            p = t.y - o,
            f = (c * l - a * p) / h,
            d = (-u * l + s * p) / h;
          return e.z + f * (n.z - e.z) + d * (i.z - e.z);
        }),
        (Gn.longestSideLength = function (t, e, n) {
          var i = t.distance(e),
            r = e.distance(n),
            o = n.distance(t),
            s = i;
          return r > s && (s = r), o > s && (s = o), s;
        }),
        (Gn.isAcute = function (t, e, n) {
          return (
            !!Ln.isAcute(t, e, n) &&
            !!Ln.isAcute(e, n, t) &&
            !!Ln.isAcute(n, t, e)
          );
        }),
        (Gn.circumcentre = function (t, e, n) {
          var i = n.x,
            r = n.y,
            o = t.x - i,
            s = t.y - r,
            a = e.x - i,
            u = e.y - r,
            c = 2 * Gn.det(o, s, a, u),
            h = Gn.det(s, o * o + s * s, u, a * a + u * u),
            l = Gn.det(o, o * o + s * s, a, a * a + u * u);
          return new I(i - h / c, r + l / c);
        }),
        (Gn.perpendicularBisector = function (t, e) {
          var n = e.x - t.x,
            i = e.y - t.y,
            r = new V(t.x + n / 2, t.y + i / 2, 1),
            o = new V(t.x - i + n / 2, t.y + n + i / 2, 1);
          return new V(r, o);
        }),
        (Gn.angleBisector = function (t, e, n) {
          var i = e.distance(t),
            r = i / (i + e.distance(n)),
            o = n.x - t.x,
            s = n.y - t.y;
          return new I(t.x + r * o, t.y + r * s);
        }),
        (Gn.area3D = function (t, e, n) {
          var i = e.x - t.x,
            r = e.y - t.y,
            o = e.z - t.z,
            s = n.x - t.x,
            a = n.y - t.y,
            u = n.z - t.z,
            c = r * u - o * a,
            h = o * s - i * u,
            l = i * a - r * s,
            p = c * c + h * h + l * l;
          return Math.sqrt(p) / 2;
        }),
        (Gn.centroid = function (t, e, n) {
          var i = (t.x + e.x + n.x) / 3,
            r = (t.y + e.y + n.y) / 3;
          return new I(i, r);
        }),
        (Gn.inCentre = function (t, e, n) {
          var i = e.distance(n),
            r = t.distance(n),
            o = t.distance(e),
            s = i + r + o,
            a = (i * t.x + r * e.x + o * n.x) / s,
            u = (i * t.y + r * e.y + o * n.y) / s;
          return new I(a, u);
        });
      var jn = function () {
        (this._inputGeom = null),
          (this._distance = null),
          (this._curveBuilder = null),
          (this._curveList = new wt());
        var t = arguments[0],
          e = arguments[1],
          n = arguments[2];
        (this._inputGeom = t), (this._distance = e), (this._curveBuilder = n);
      };
      (jn.prototype.addPoint = function (t) {
        if (this._distance <= 0) return null;
        var e = t.getCoordinates(),
          n = this._curveBuilder.getLineCurve(e, this._distance);
        this.addCurve(n, O.EXTERIOR, O.INTERIOR);
      }),
        (jn.prototype.addPolygon = function (t) {
          var e = this._distance,
            n = Se.LEFT;
          this._distance < 0 && ((e = -this._distance), (n = Se.RIGHT));
          var i = t.getExteriorRing(),
            r = Ct.removeRepeatedPoints(i.getCoordinates());
          if (this._distance < 0 && this.isErodedCompletely(i, this._distance))
            return null;
          if (this._distance <= 0 && r.length < 3) return null;
          this.addPolygonRing(r, e, n, O.EXTERIOR, O.INTERIOR);
          for (var o = 0; o < t.getNumInteriorRing(); o++) {
            var s = t.getInteriorRingN(o),
              a = Ct.removeRepeatedPoints(s.getCoordinates());
            (this._distance > 0 &&
              this.isErodedCompletely(s, -this._distance)) ||
              this.addPolygonRing(a, e, Se.opposite(n), O.INTERIOR, O.EXTERIOR);
          }
        }),
        (jn.prototype.isTriangleErodedCompletely = function (t, e) {
          var n = new Gn(t[0], t[1], t[2]),
            i = n.inCentre();
          return at.distancePointLine(i, n.p0, n.p1) < Math.abs(e);
        }),
        (jn.prototype.addLineString = function (t) {
          if (
            this._distance <= 0 &&
            !this._curveBuilder.getBufferParameters().isSingleSided()
          )
            return null;
          var e = Ct.removeRepeatedPoints(t.getCoordinates()),
            n = this._curveBuilder.getLineCurve(e, this._distance);
          this.addCurve(n, O.EXTERIOR, O.INTERIOR);
        }),
        (jn.prototype.addCurve = function (t, e, n) {
          if (null === t || t.length < 2) return null;
          var i = new dn(t, new Ae(0, O.BOUNDARY, e, n));
          this._curveList.add(i);
        }),
        (jn.prototype.getCurves = function () {
          return this.add(this._inputGeom), this._curveList;
        }),
        (jn.prototype.addPolygonRing = function (t, e, n, i, r) {
          if (0 === e && t.length < ee.MINIMUM_VALID_SIZE) return null;
          var o = i,
            s = r;
          t.length >= ee.MINIMUM_VALID_SIZE &&
            at.isCCW(t) &&
            ((o = r), (s = i), (n = Se.opposite(n)));
          var a = this._curveBuilder.getRingCurve(t, n, e);
          this.addCurve(a, o, s);
        }),
        (jn.prototype.add = function (t) {
          if (t.isEmpty()) return null;
          t instanceof $t
            ? this.addPolygon(t)
            : t instanceof Kt
            ? this.addLineString(t)
            : t instanceof Jt
            ? this.addPoint(t)
            : t instanceof te
            ? this.addCollection(t)
            : t instanceof Xt
            ? this.addCollection(t)
            : t instanceof ne
            ? this.addCollection(t)
            : t instanceof Yt && this.addCollection(t);
        }),
        (jn.prototype.isErodedCompletely = function (t, e) {
          var n = t.getCoordinates();
          if (n.length < 4) return e < 0;
          if (4 === n.length) return this.isTriangleErodedCompletely(n, e);
          var i = t.getEnvelopeInternal(),
            r = Math.min(i.getHeight(), i.getWidth());
          return e < 0 && 2 * Math.abs(e) > r;
        }),
        (jn.prototype.addCollection = function (t) {
          for (var e = 0; e < t.getNumGeometries(); e++) {
            var n = t.getGeometryN(e);
            this.add(n);
          }
        }),
        (jn.prototype.interfaces_ = function () {
          return [];
        }),
        (jn.prototype.getClass = function () {
          return jn;
        });
      var Bn = function () {};
      (Bn.prototype.locate = function (t) {}),
        (Bn.prototype.interfaces_ = function () {
          return [];
        }),
        (Bn.prototype.getClass = function () {
          return Bn;
        });
      var Un = function () {
        (this._parent = null),
          (this._atStart = null),
          (this._max = null),
          (this._index = null),
          (this._subcollectionIterator = null);
        var t = arguments[0];
        (this._parent = t),
          (this._atStart = !0),
          (this._index = 0),
          (this._max = t.getNumGeometries());
      };
      (Un.prototype.next = function () {
        if (this._atStart)
          return (
            (this._atStart = !1),
            Un.isAtomic(this._parent) && this._index++,
            this._parent
          );
        if (null !== this._subcollectionIterator) {
          if (this._subcollectionIterator.hasNext())
            return this._subcollectionIterator.next();
          this._subcollectionIterator = null;
        }
        if (this._index >= this._max) throw new i();
        var t = this._parent.getGeometryN(this._index++);
        return t instanceof Yt
          ? ((this._subcollectionIterator = new Un(t)),
            this._subcollectionIterator.next())
          : t;
      }),
        (Un.prototype.remove = function () {
          throw new Error(this.getClass().getName());
        }),
        (Un.prototype.hasNext = function () {
          if (this._atStart) return !0;
          if (null !== this._subcollectionIterator) {
            if (this._subcollectionIterator.hasNext()) return !0;
            this._subcollectionIterator = null;
          }
          return !(this._index >= this._max);
        }),
        (Un.prototype.interfaces_ = function () {
          return [Et];
        }),
        (Un.prototype.getClass = function () {
          return Un;
        }),
        (Un.isAtomic = function (t) {
          return !(t instanceof Yt);
        });
      var Yn = function () {
        this._geom = null;
        var t = arguments[0];
        this._geom = t;
      };
      (Yn.prototype.locate = function (t) {
        return Yn.locate(t, this._geom);
      }),
        (Yn.prototype.interfaces_ = function () {
          return [Bn];
        }),
        (Yn.prototype.getClass = function () {
          return Yn;
        }),
        (Yn.isPointInRing = function (t, e) {
          return (
            !!e.getEnvelopeInternal().intersects(t) &&
            at.isPointInRing(t, e.getCoordinates())
          );
        }),
        (Yn.containsPointInPolygon = function (t, e) {
          if (e.isEmpty()) return !1;
          var n = e.getExteriorRing();
          if (!Yn.isPointInRing(t, n)) return !1;
          for (var i = 0; i < e.getNumInteriorRing(); i++) {
            var r = e.getInteriorRingN(i);
            if (Yn.isPointInRing(t, r)) return !1;
          }
          return !0;
        }),
        (Yn.containsPoint = function (t, e) {
          if (e instanceof $t) return Yn.containsPointInPolygon(t, e);
          if (e instanceof Yt)
            for (var n = new Un(e); n.hasNext(); ) {
              var i = n.next();
              if (i !== e && Yn.containsPoint(t, i)) return !0;
            }
          return !1;
        }),
        (Yn.locate = function (t, e) {
          return e.isEmpty()
            ? O.EXTERIOR
            : Yn.containsPoint(t, e)
            ? O.INTERIOR
            : O.EXTERIOR;
        });
      var Xn = function () {
        (this._edgeMap = new l()),
          (this._edgeList = null),
          (this._ptInAreaLocation = [O.NONE, O.NONE]);
      };
      (Xn.prototype.getNextCW = function (t) {
        this.getEdges();
        var e = this._edgeList.indexOf(t),
          n = e - 1;
        return (
          0 === e && (n = this._edgeList.size() - 1), this._edgeList.get(n)
        );
      }),
        (Xn.prototype.propagateSideLabels = function (t) {
          for (var e = O.NONE, n = this.iterator(); n.hasNext(); ) {
            var i = n.next().getLabel();
            i.isArea(t) &&
              i.getLocation(t, Se.LEFT) !== O.NONE &&
              (e = i.getLocation(t, Se.LEFT));
          }
          if (e === O.NONE) return null;
          for (var r = e, o = this.iterator(); o.hasNext(); ) {
            var s = o.next(),
              a = s.getLabel();
            if (
              (a.getLocation(t, Se.ON) === O.NONE && a.setLocation(t, Se.ON, r),
              a.isArea(t))
            ) {
              var u = a.getLocation(t, Se.LEFT),
                c = a.getLocation(t, Se.RIGHT);
              if (c !== O.NONE) {
                if (c !== r)
                  throw new Oe("side location conflict", s.getCoordinate());
                u === O.NONE &&
                  et.shouldNeverReachHere(
                    "found single null side (at " + s.getCoordinate() + ")"
                  ),
                  (r = u);
              } else
                et.isTrue(
                  a.getLocation(t, Se.LEFT) === O.NONE,
                  "found single null side"
                ),
                  a.setLocation(t, Se.RIGHT, r),
                  a.setLocation(t, Se.LEFT, r);
            }
          }
        }),
        (Xn.prototype.getCoordinate = function () {
          var t = this.iterator();
          return t.hasNext() ? t.next().getCoordinate() : null;
        }),
        (Xn.prototype.print = function (t) {
          z.out.println("EdgeEndStar:   " + this.getCoordinate());
          for (var e = this.iterator(); e.hasNext(); ) e.next().print(t);
        }),
        (Xn.prototype.isAreaLabelsConsistent = function (t) {
          return (
            this.computeEdgeEndLabels(t.getBoundaryNodeRule()),
            this.checkAreaLabelsConsistent(0)
          );
        }),
        (Xn.prototype.checkAreaLabelsConsistent = function (t) {
          var e = this.getEdges();
          if (e.size() <= 0) return !0;
          var n = e.size() - 1,
            i = e.get(n).getLabel().getLocation(t, Se.LEFT);
          et.isTrue(i !== O.NONE, "Found unlabelled area edge");
          for (var r = i, o = this.iterator(); o.hasNext(); ) {
            var s = o.next().getLabel();
            et.isTrue(s.isArea(t), "Found non-area edge");
            var a = s.getLocation(t, Se.LEFT),
              u = s.getLocation(t, Se.RIGHT);
            if (a === u) return !1;
            if (u !== r) return !1;
            r = a;
          }
          return !0;
        }),
        (Xn.prototype.findIndex = function (t) {
          this.iterator();
          for (var e = 0; e < this._edgeList.size(); e++)
            if (this._edgeList.get(e) === t) return e;
          return -1;
        }),
        (Xn.prototype.iterator = function () {
          return this.getEdges().iterator();
        }),
        (Xn.prototype.getEdges = function () {
          return (
            null === this._edgeList &&
              (this._edgeList = new wt(this._edgeMap.values())),
            this._edgeList
          );
        }),
        (Xn.prototype.getLocation = function (t, e, n) {
          return (
            this._ptInAreaLocation[t] === O.NONE &&
              (this._ptInAreaLocation[t] = Yn.locate(e, n[t].getGeometry())),
            this._ptInAreaLocation[t]
          );
        }),
        (Xn.prototype.toString = function () {
          var t = new N();
          t.append("EdgeEndStar:   " + this.getCoordinate()), t.append("\n");
          for (var e = this.iterator(); e.hasNext(); ) {
            var n = e.next();
            t.append(n), t.append("\n");
          }
          return t.toString();
        }),
        (Xn.prototype.computeEdgeEndLabels = function (t) {
          for (var e = this.iterator(); e.hasNext(); ) e.next().computeLabel(t);
        }),
        (Xn.prototype.computeLabelling = function (t) {
          this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),
            this.propagateSideLabels(0),
            this.propagateSideLabels(1);
          for (var e = [!1, !1], n = this.iterator(); n.hasNext(); )
            for (var i = n.next().getLabel(), r = 0; r < 2; r++)
              i.isLine(r) && i.getLocation(r) === O.BOUNDARY && (e[r] = !0);
          for (var o = this.iterator(); o.hasNext(); )
            for (var s = o.next(), a = s.getLabel(), u = 0; u < 2; u++)
              if (a.isAnyNull(u)) {
                var c = O.NONE;
                if (e[u]) c = O.EXTERIOR;
                else {
                  var h = s.getCoordinate();
                  c = this.getLocation(u, h, t);
                }
                a.setAllLocationsIfNull(u, c);
              }
        }),
        (Xn.prototype.getDegree = function () {
          return this._edgeMap.size();
        }),
        (Xn.prototype.insertEdgeEnd = function (t, e) {
          this._edgeMap.put(t, e), (this._edgeList = null);
        }),
        (Xn.prototype.interfaces_ = function () {
          return [];
        }),
        (Xn.prototype.getClass = function () {
          return Xn;
        });
      var zn = (function (t) {
          function e() {
            t.call(this),
              (this._resultAreaEdgeList = null),
              (this._label = null),
              (this._SCANNING_FOR_INCOMING = 1),
              (this._LINKING_TO_OUTGOING = 2);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.linkResultDirectedEdges = function () {
              this.getResultAreaEdges();
              for (
                var t = null, e = null, n = this._SCANNING_FOR_INCOMING, i = 0;
                i < this._resultAreaEdgeList.size();
                i++
              ) {
                var r = this._resultAreaEdgeList.get(i),
                  o = r.getSym();
                if (r.getLabel().isArea())
                  switch ((null === t && r.isInResult() && (t = r), n)) {
                    case this._SCANNING_FOR_INCOMING:
                      if (!o.isInResult()) continue;
                      (e = o), (n = this._LINKING_TO_OUTGOING);
                      break;
                    case this._LINKING_TO_OUTGOING:
                      if (!r.isInResult()) continue;
                      e.setNext(r), (n = this._SCANNING_FOR_INCOMING);
                  }
              }
              if (n === this._LINKING_TO_OUTGOING) {
                if (null === t)
                  throw new Oe(
                    "no outgoing dirEdge found",
                    this.getCoordinate()
                  );
                et.isTrue(
                  t.isInResult(),
                  "unable to link last incoming dirEdge"
                ),
                  e.setNext(t);
              }
            }),
            (e.prototype.insert = function (t) {
              var e = t;
              this.insertEdgeEnd(e, e);
            }),
            (e.prototype.getRightmostEdge = function () {
              var t = this.getEdges(),
                e = t.size();
              if (e < 1) return null;
              var n = t.get(0);
              if (1 === e) return n;
              var i = t.get(e - 1),
                r = n.getQuadrant(),
                o = i.getQuadrant();
              return je.isNorthern(r) && je.isNorthern(o)
                ? n
                : je.isNorthern(r) || je.isNorthern(o)
                ? 0 !== n.getDy()
                  ? n
                  : 0 !== i.getDy()
                  ? i
                  : (et.shouldNeverReachHere(
                      "found two horizontal edges incident on node"
                    ),
                    null)
                : i;
            }),
            (e.prototype.print = function (t) {
              z.out.println("DirectedEdgeStar: " + this.getCoordinate());
              for (var e = this.iterator(); e.hasNext(); ) {
                var n = e.next();
                t.print("out "),
                  n.print(t),
                  t.println(),
                  t.print("in "),
                  n.getSym().print(t),
                  t.println();
              }
            }),
            (e.prototype.getResultAreaEdges = function () {
              if (null !== this._resultAreaEdgeList)
                return this._resultAreaEdgeList;
              this._resultAreaEdgeList = new wt();
              for (var t = this.iterator(); t.hasNext(); ) {
                var e = t.next();
                (e.isInResult() || e.getSym().isInResult()) &&
                  this._resultAreaEdgeList.add(e);
              }
              return this._resultAreaEdgeList;
            }),
            (e.prototype.updateLabelling = function (t) {
              for (var e = this.iterator(); e.hasNext(); ) {
                var n = e.next().getLabel();
                n.setAllLocationsIfNull(0, t.getLocation(0)),
                  n.setAllLocationsIfNull(1, t.getLocation(1));
              }
            }),
            (e.prototype.linkAllDirectedEdges = function () {
              this.getEdges();
              for (
                var t = null, e = null, n = this._edgeList.size() - 1;
                n >= 0;
                n--
              ) {
                var i = this._edgeList.get(n),
                  r = i.getSym();
                null === e && (e = r), null !== t && r.setNext(t), (t = i);
              }
              e.setNext(t);
            }),
            (e.prototype.computeDepths = function () {
              if (1 === arguments.length) {
                var t = arguments[0],
                  e = this.findIndex(t),
                  n = t.getDepth(Se.LEFT),
                  i = t.getDepth(Se.RIGHT),
                  r = this.computeDepths(e + 1, this._edgeList.size(), n);
                if (this.computeDepths(0, e, r) !== i)
                  throw new Oe("depth mismatch at " + t.getCoordinate());
              } else if (3 === arguments.length) {
                for (
                  var o = arguments[0],
                    s = arguments[1],
                    a = arguments[2],
                    u = o;
                  u < s;
                  u++
                ) {
                  var c = this._edgeList.get(u);
                  c.setEdgeDepths(Se.RIGHT, a), (a = c.getDepth(Se.LEFT));
                }
                return a;
              }
            }),
            (e.prototype.mergeSymLabels = function () {
              for (var t = this.iterator(); t.hasNext(); ) {
                var e = t.next();
                e.getLabel().merge(e.getSym().getLabel());
              }
            }),
            (e.prototype.linkMinimalDirectedEdges = function (t) {
              for (
                var e = null,
                  n = null,
                  i = this._SCANNING_FOR_INCOMING,
                  r = this._resultAreaEdgeList.size() - 1;
                r >= 0;
                r--
              ) {
                var o = this._resultAreaEdgeList.get(r),
                  s = o.getSym();
                switch ((null === e && o.getEdgeRing() === t && (e = o), i)) {
                  case this._SCANNING_FOR_INCOMING:
                    if (s.getEdgeRing() !== t) continue;
                    (n = s), (i = this._LINKING_TO_OUTGOING);
                    break;
                  case this._LINKING_TO_OUTGOING:
                    if (o.getEdgeRing() !== t) continue;
                    n.setNextMin(o), (i = this._SCANNING_FOR_INCOMING);
                }
              }
              i === this._LINKING_TO_OUTGOING &&
                (et.isTrue(null !== e, "found null for first outgoing dirEdge"),
                et.isTrue(
                  e.getEdgeRing() === t,
                  "unable to link last incoming dirEdge"
                ),
                n.setNextMin(e));
            }),
            (e.prototype.getOutgoingDegree = function () {
              if (0 === arguments.length) {
                for (var t = 0, e = this.iterator(); e.hasNext(); )
                  e.next().isInResult() && t++;
                return t;
              }
              if (1 === arguments.length) {
                for (
                  var n = arguments[0], i = 0, r = this.iterator();
                  r.hasNext();

                )
                  r.next().getEdgeRing() === n && i++;
                return i;
              }
            }),
            (e.prototype.getLabel = function () {
              return this._label;
            }),
            (e.prototype.findCoveredLineEdges = function () {
              for (var t = O.NONE, e = this.iterator(); e.hasNext(); ) {
                var n = e.next(),
                  i = n.getSym();
                if (!n.isLineEdge()) {
                  if (n.isInResult()) {
                    t = O.INTERIOR;
                    break;
                  }
                  if (i.isInResult()) {
                    t = O.EXTERIOR;
                    break;
                  }
                }
              }
              if (t === O.NONE) return null;
              for (var r = t, o = this.iterator(); o.hasNext(); ) {
                var s = o.next(),
                  a = s.getSym();
                s.isLineEdge()
                  ? s.getEdge().setCovered(r === O.INTERIOR)
                  : (s.isInResult() && (r = O.EXTERIOR),
                    a.isInResult() && (r = O.INTERIOR));
              }
            }),
            (e.prototype.computeLabelling = function (e) {
              t.prototype.computeLabelling.call(this, e),
                (this._label = new Ae(O.NONE));
              for (var n = this.iterator(); n.hasNext(); )
                for (var i = n.next().getEdge().getLabel(), r = 0; r < 2; r++) {
                  var o = i.getLocation(r);
                  (o !== O.INTERIOR && o !== O.BOUNDARY) ||
                    this._label.setLocation(r, O.INTERIOR);
                }
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            e
          );
        })(Xn),
        Vn = (function (t) {
          function e() {
            t.apply(this, arguments);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.createNode = function (t) {
              return new Fe(t, new zn());
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            e
          );
        })(Xe),
        qn = function t() {
          (this._pts = null), (this._orientation = null);
          var e = arguments[0];
          (this._pts = e), (this._orientation = t.orientation(e));
        };
      (qn.prototype.compareTo = function (t) {
        var e = t;
        return qn.compareOriented(
          this._pts,
          this._orientation,
          e._pts,
          e._orientation
        );
      }),
        (qn.prototype.interfaces_ = function () {
          return [E];
        }),
        (qn.prototype.getClass = function () {
          return qn;
        }),
        (qn.orientation = function (t) {
          return 1 === Ct.increasingDirection(t);
        }),
        (qn.compareOriented = function (t, e, n, i) {
          for (
            var r = e ? 1 : -1,
              o = i ? 1 : -1,
              s = e ? t.length : -1,
              a = i ? n.length : -1,
              u = e ? 0 : t.length - 1,
              c = i ? 0 : n.length - 1;
            ;

          ) {
            var h = t[u].compareTo(n[c]);
            if (0 !== h) return h;
            var l = (u += r) === s,
              p = (c += o) === a;
            if (l && !p) return -1;
            if (!l && p) return 1;
            if (l && p) return 0;
          }
        });
      var Wn = function () {
        (this._edges = new wt()), (this._ocaMap = new l());
      };
      (Wn.prototype.print = function (t) {
        t.print("MULTILINESTRING ( ");
        for (var e = 0; e < this._edges.size(); e++) {
          var n = this._edges.get(e);
          e > 0 && t.print(","), t.print("(");
          for (var i = n.getCoordinates(), r = 0; r < i.length; r++)
            r > 0 && t.print(","), t.print(i[r].x + " " + i[r].y);
          t.println(")");
        }
        t.print(")  ");
      }),
        (Wn.prototype.addAll = function (t) {
          for (var e = t.iterator(); e.hasNext(); ) this.add(e.next());
        }),
        (Wn.prototype.findEdgeIndex = function (t) {
          for (var e = 0; e < this._edges.size(); e++)
            if (this._edges.get(e).equals(t)) return e;
          return -1;
        }),
        (Wn.prototype.iterator = function () {
          return this._edges.iterator();
        }),
        (Wn.prototype.getEdges = function () {
          return this._edges;
        }),
        (Wn.prototype.get = function (t) {
          return this._edges.get(t);
        }),
        (Wn.prototype.findEqualEdge = function (t) {
          var e = new qn(t.getCoordinates());
          return this._ocaMap.get(e);
        }),
        (Wn.prototype.add = function (t) {
          this._edges.add(t);
          var e = new qn(t.getCoordinates());
          this._ocaMap.put(e, t);
        }),
        (Wn.prototype.interfaces_ = function () {
          return [];
        }),
        (Wn.prototype.getClass = function () {
          return Wn;
        });
      var Hn = function () {};
      (Hn.prototype.processIntersections = function (t, e, n, i) {}),
        (Hn.prototype.isDone = function () {}),
        (Hn.prototype.interfaces_ = function () {
          return [];
        }),
        (Hn.prototype.getClass = function () {
          return Hn;
        });
      var Kn = function () {
        (this._hasIntersection = !1),
          (this._hasProper = !1),
          (this._hasProperInterior = !1),
          (this._hasInterior = !1),
          (this._properIntersectionPoint = null),
          (this._li = null),
          (this._isSelfIntersection = null),
          (this.numIntersections = 0),
          (this.numInteriorIntersections = 0),
          (this.numProperIntersections = 0),
          (this.numTests = 0);
        var t = arguments[0];
        this._li = t;
      };
      (Kn.prototype.isTrivialIntersection = function (t, e, n, i) {
        if (t === n && 1 === this._li.getIntersectionNum()) {
          if (Kn.isAdjacentSegments(e, i)) return !0;
          if (t.isClosed()) {
            var r = t.size() - 1;
            if ((0 === e && i === r) || (0 === i && e === r)) return !0;
          }
        }
        return !1;
      }),
        (Kn.prototype.getProperIntersectionPoint = function () {
          return this._properIntersectionPoint;
        }),
        (Kn.prototype.hasProperInteriorIntersection = function () {
          return this._hasProperInterior;
        }),
        (Kn.prototype.getLineIntersector = function () {
          return this._li;
        }),
        (Kn.prototype.hasProperIntersection = function () {
          return this._hasProper;
        }),
        (Kn.prototype.processIntersections = function (t, e, n, i) {
          if (t === n && e === i) return null;
          this.numTests++;
          var r = t.getCoordinates()[e],
            o = t.getCoordinates()[e + 1],
            s = n.getCoordinates()[i],
            a = n.getCoordinates()[i + 1];
          this._li.computeIntersection(r, o, s, a),
            this._li.hasIntersection() &&
              (this.numIntersections++,
              this._li.isInteriorIntersection() &&
                (this.numInteriorIntersections++, (this._hasInterior = !0)),
              this.isTrivialIntersection(t, e, n, i) ||
                ((this._hasIntersection = !0),
                t.addIntersections(this._li, e, 0),
                n.addIntersections(this._li, i, 1),
                this._li.isProper() &&
                  (this.numProperIntersections++,
                  (this._hasProper = !0),
                  (this._hasProperInterior = !0))));
        }),
        (Kn.prototype.hasIntersection = function () {
          return this._hasIntersection;
        }),
        (Kn.prototype.isDone = function () {
          return !1;
        }),
        (Kn.prototype.hasInteriorIntersection = function () {
          return this._hasInterior;
        }),
        (Kn.prototype.interfaces_ = function () {
          return [Hn];
        }),
        (Kn.prototype.getClass = function () {
          return Kn;
        }),
        (Kn.isAdjacentSegments = function (t, e) {
          return 1 === Math.abs(t - e);
        });
      var Zn = function () {
        (this.coord = null), (this.segmentIndex = null), (this.dist = null);
        var t = arguments[0],
          e = arguments[1],
          n = arguments[2];
        (this.coord = new I(t)), (this.segmentIndex = e), (this.dist = n);
      };
      (Zn.prototype.getSegmentIndex = function () {
        return this.segmentIndex;
      }),
        (Zn.prototype.getCoordinate = function () {
          return this.coord;
        }),
        (Zn.prototype.print = function (t) {
          t.print(this.coord),
            t.print(" seg # = " + this.segmentIndex),
            t.println(" dist = " + this.dist);
        }),
        (Zn.prototype.compareTo = function (t) {
          var e = t;
          return this.compare(e.segmentIndex, e.dist);
        }),
        (Zn.prototype.isEndPoint = function (t) {
          return (
            (0 === this.segmentIndex && 0 === this.dist) ||
            this.segmentIndex === t
          );
        }),
        (Zn.prototype.toString = function () {
          return (
            this.coord +
            " seg # = " +
            this.segmentIndex +
            " dist = " +
            this.dist
          );
        }),
        (Zn.prototype.getDistance = function () {
          return this.dist;
        }),
        (Zn.prototype.compare = function (t, e) {
          return this.segmentIndex < t
            ? -1
            : this.segmentIndex > t
            ? 1
            : this.dist < e
            ? -1
            : this.dist > e
            ? 1
            : 0;
        }),
        (Zn.prototype.interfaces_ = function () {
          return [E];
        }),
        (Zn.prototype.getClass = function () {
          return Zn;
        });
      var Jn = function () {
        (this._nodeMap = new l()), (this.edge = null);
        var t = arguments[0];
        this.edge = t;
      };
      (Jn.prototype.print = function (t) {
        t.println("Intersections:");
        for (var e = this.iterator(); e.hasNext(); ) e.next().print(t);
      }),
        (Jn.prototype.iterator = function () {
          return this._nodeMap.values().iterator();
        }),
        (Jn.prototype.addSplitEdges = function (t) {
          this.addEndpoints();
          for (var e = this.iterator(), n = e.next(); e.hasNext(); ) {
            var i = e.next(),
              r = this.createSplitEdge(n, i);
            t.add(r), (n = i);
          }
        }),
        (Jn.prototype.addEndpoints = function () {
          var t = this.edge.pts.length - 1;
          this.add(this.edge.pts[0], 0, 0), this.add(this.edge.pts[t], t, 0);
        }),
        (Jn.prototype.createSplitEdge = function (t, e) {
          var n = e.segmentIndex - t.segmentIndex + 2,
            i = this.edge.pts[e.segmentIndex],
            r = e.dist > 0 || !e.coord.equals2D(i);
          r || n--;
          var o = new Array(n).fill(null),
            s = 0;
          o[s++] = new I(t.coord);
          for (var a = t.segmentIndex + 1; a <= e.segmentIndex; a++)
            o[s++] = this.edge.pts[a];
          return r && (o[s] = e.coord), new ni(o, new Ae(this.edge._label));
        }),
        (Jn.prototype.add = function (t, e, n) {
          var i = new Zn(t, e, n),
            r = this._nodeMap.get(i);
          return null !== r ? r : (this._nodeMap.put(i, i), i);
        }),
        (Jn.prototype.isIntersection = function (t) {
          for (var e = this.iterator(); e.hasNext(); )
            if (e.next().coord.equals(t)) return !0;
          return !1;
        }),
        (Jn.prototype.interfaces_ = function () {
          return [];
        }),
        (Jn.prototype.getClass = function () {
          return Jn;
        });
      var Qn = function () {};
      (Qn.prototype.getChainStartIndices = function (t) {
        var e = 0,
          n = new wt();
        n.add(new P(e));
        do {
          var i = this.findChainEnd(t, e);
          n.add(new P(i)), (e = i);
        } while (e < t.length - 1);
        return Qn.toIntArray(n);
      }),
        (Qn.prototype.findChainEnd = function (t, e) {
          for (
            var n = je.quadrant(t[e], t[e + 1]), i = e + 1;
            i < t.length && je.quadrant(t[i - 1], t[i]) === n;

          )
            i++;
          return i - 1;
        }),
        (Qn.prototype.interfaces_ = function () {
          return [];
        }),
        (Qn.prototype.getClass = function () {
          return Qn;
        }),
        (Qn.toIntArray = function (t) {
          for (var e = new Array(t.size()).fill(null), n = 0; n < e.length; n++)
            e[n] = t.get(n).intValue();
          return e;
        });
      var $n = function () {
        (this.e = null),
          (this.pts = null),
          (this.startIndex = null),
          (this.env1 = new q()),
          (this.env2 = new q());
        var t = arguments[0];
        (this.e = t), (this.pts = t.getCoordinates());
        var e = new Qn();
        this.startIndex = e.getChainStartIndices(this.pts);
      };
      ($n.prototype.getCoordinates = function () {
        return this.pts;
      }),
        ($n.prototype.getMaxX = function (t) {
          var e = this.pts[this.startIndex[t]].x,
            n = this.pts[this.startIndex[t + 1]].x;
          return e > n ? e : n;
        }),
        ($n.prototype.getMinX = function (t) {
          var e = this.pts[this.startIndex[t]].x,
            n = this.pts[this.startIndex[t + 1]].x;
          return e < n ? e : n;
        }),
        ($n.prototype.computeIntersectsForChain = function () {
          if (4 === arguments.length) {
            var t = arguments[0],
              e = arguments[1],
              n = arguments[2],
              i = arguments[3];
            this.computeIntersectsForChain(
              this.startIndex[t],
              this.startIndex[t + 1],
              e,
              e.startIndex[n],
              e.startIndex[n + 1],
              i
            );
          } else if (6 === arguments.length) {
            var r = arguments[0],
              o = arguments[1],
              s = arguments[2],
              a = arguments[3],
              u = arguments[4],
              c = arguments[5],
              h = this.pts[r],
              l = this.pts[o],
              p = s.pts[a],
              f = s.pts[u];
            if (o - r == 1 && u - a == 1)
              return c.addIntersections(this.e, r, s.e, a), null;
            if (
              (this.env1.init(h, l),
              this.env2.init(p, f),
              !this.env1.intersects(this.env2))
            )
              return null;
            var d = Math.trunc((r + o) / 2),
              g = Math.trunc((a + u) / 2);
            r < d &&
              (a < g && this.computeIntersectsForChain(r, d, s, a, g, c),
              g < u && this.computeIntersectsForChain(r, d, s, g, u, c)),
              d < o &&
                (a < g && this.computeIntersectsForChain(d, o, s, a, g, c),
                g < u && this.computeIntersectsForChain(d, o, s, g, u, c));
          }
        }),
        ($n.prototype.getStartIndexes = function () {
          return this.startIndex;
        }),
        ($n.prototype.computeIntersects = function (t, e) {
          for (var n = 0; n < this.startIndex.length - 1; n++)
            for (var i = 0; i < t.startIndex.length - 1; i++)
              this.computeIntersectsForChain(n, t, i, e);
        }),
        ($n.prototype.interfaces_ = function () {
          return [];
        }),
        ($n.prototype.getClass = function () {
          return $n;
        });
      var ti = function t() {
          this._depth = Array(2)
            .fill()
            .map(function () {
              return Array(3);
            });
          for (var e = 0; e < 2; e++)
            for (var n = 0; n < 3; n++) this._depth[e][n] = t.NULL_VALUE;
        },
        ei = { NULL_VALUE: { configurable: !0 } };
      (ti.prototype.getDepth = function (t, e) {
        return this._depth[t][e];
      }),
        (ti.prototype.setDepth = function (t, e, n) {
          this._depth[t][e] = n;
        }),
        (ti.prototype.isNull = function () {
          if (0 === arguments.length) {
            for (var t = 0; t < 2; t++)
              for (var e = 0; e < 3; e++)
                if (this._depth[t][e] !== ti.NULL_VALUE) return !1;
            return !0;
          }
          if (1 === arguments.length) {
            var n = arguments[0];
            return this._depth[n][1] === ti.NULL_VALUE;
          }
          if (2 === arguments.length) {
            var i = arguments[0],
              r = arguments[1];
            return this._depth[i][r] === ti.NULL_VALUE;
          }
        }),
        (ti.prototype.normalize = function () {
          for (var t = 0; t < 2; t++)
            if (!this.isNull(t)) {
              var e = this._depth[t][1];
              this._depth[t][2] < e && (e = this._depth[t][2]),
                e < 0 && (e = 0);
              for (var n = 1; n < 3; n++) {
                var i = 0;
                this._depth[t][n] > e && (i = 1), (this._depth[t][n] = i);
              }
            }
        }),
        (ti.prototype.getDelta = function (t) {
          return this._depth[t][Se.RIGHT] - this._depth[t][Se.LEFT];
        }),
        (ti.prototype.getLocation = function (t, e) {
          return this._depth[t][e] <= 0 ? O.EXTERIOR : O.INTERIOR;
        }),
        (ti.prototype.toString = function () {
          return (
            "A: " +
            this._depth[0][1] +
            "," +
            this._depth[0][2] +
            " B: " +
            this._depth[1][1] +
            "," +
            this._depth[1][2]
          );
        }),
        (ti.prototype.add = function () {
          if (1 === arguments.length)
            for (var t = arguments[0], e = 0; e < 2; e++)
              for (var n = 1; n < 3; n++) {
                var i = t.getLocation(e, n);
                (i !== O.EXTERIOR && i !== O.INTERIOR) ||
                  (this.isNull(e, n)
                    ? (this._depth[e][n] = ti.depthAtLocation(i))
                    : (this._depth[e][n] += ti.depthAtLocation(i)));
              }
          else if (3 === arguments.length) {
            var r = arguments[0],
              o = arguments[1];
            arguments[2] === O.INTERIOR && this._depth[r][o]++;
          }
        }),
        (ti.prototype.interfaces_ = function () {
          return [];
        }),
        (ti.prototype.getClass = function () {
          return ti;
        }),
        (ti.depthAtLocation = function (t) {
          return t === O.EXTERIOR ? 0 : t === O.INTERIOR ? 1 : ti.NULL_VALUE;
        }),
        (ei.NULL_VALUE.get = function () {
          return -1;
        }),
        Object.defineProperties(ti, ei);
      var ni = (function (t) {
          function e() {
            if (
              (t.call(this),
              (this.pts = null),
              (this._env = null),
              (this.eiList = new Jn(this)),
              (this._name = null),
              (this._mce = null),
              (this._isIsolated = !0),
              (this._depth = new ti()),
              (this._depthDelta = 0),
              1 === arguments.length)
            ) {
              var n = arguments[0];
              e.call(this, n, null);
            } else if (2 === arguments.length) {
              var i = arguments[0],
                r = arguments[1];
              (this.pts = i), (this._label = r);
            }
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.getDepth = function () {
              return this._depth;
            }),
            (e.prototype.getCollapsedEdge = function () {
              var t = new Array(2).fill(null);
              return (
                (t[0] = this.pts[0]),
                (t[1] = this.pts[1]),
                new e(t, Ae.toLineLabel(this._label))
              );
            }),
            (e.prototype.isIsolated = function () {
              return this._isIsolated;
            }),
            (e.prototype.getCoordinates = function () {
              return this.pts;
            }),
            (e.prototype.setIsolated = function (t) {
              this._isIsolated = t;
            }),
            (e.prototype.setName = function (t) {
              this._name = t;
            }),
            (e.prototype.equals = function (t) {
              if (!(t instanceof e)) return !1;
              var n = t;
              if (this.pts.length !== n.pts.length) return !1;
              for (
                var i = !0, r = !0, o = this.pts.length, s = 0;
                s < this.pts.length;
                s++
              )
                if (
                  (this.pts[s].equals2D(n.pts[s]) || (i = !1),
                  this.pts[s].equals2D(n.pts[--o]) || (r = !1),
                  !i && !r)
                )
                  return !1;
              return !0;
            }),
            (e.prototype.getCoordinate = function () {
              if (0 === arguments.length)
                return this.pts.length > 0 ? this.pts[0] : null;
              if (1 === arguments.length) {
                var t = arguments[0];
                return this.pts[t];
              }
            }),
            (e.prototype.print = function (t) {
              t.print("edge " + this._name + ": "), t.print("LINESTRING (");
              for (var e = 0; e < this.pts.length; e++)
                e > 0 && t.print(","),
                  t.print(this.pts[e].x + " " + this.pts[e].y);
              t.print(")  " + this._label + " " + this._depthDelta);
            }),
            (e.prototype.computeIM = function (t) {
              e.updateIM(this._label, t);
            }),
            (e.prototype.isCollapsed = function () {
              return (
                !!this._label.isArea() &&
                3 === this.pts.length &&
                !!this.pts[0].equals(this.pts[2])
              );
            }),
            (e.prototype.isClosed = function () {
              return this.pts[0].equals(this.pts[this.pts.length - 1]);
            }),
            (e.prototype.getMaximumSegmentIndex = function () {
              return this.pts.length - 1;
            }),
            (e.prototype.getDepthDelta = function () {
              return this._depthDelta;
            }),
            (e.prototype.getNumPoints = function () {
              return this.pts.length;
            }),
            (e.prototype.printReverse = function (t) {
              t.print("edge " + this._name + ": ");
              for (var e = this.pts.length - 1; e >= 0; e--)
                t.print(this.pts[e] + " ");
              t.println("");
            }),
            (e.prototype.getMonotoneChainEdge = function () {
              return (
                null === this._mce && (this._mce = new $n(this)), this._mce
              );
            }),
            (e.prototype.getEnvelope = function () {
              if (null === this._env) {
                this._env = new q();
                for (var t = 0; t < this.pts.length; t++)
                  this._env.expandToInclude(this.pts[t]);
              }
              return this._env;
            }),
            (e.prototype.addIntersection = function (t, e, n, i) {
              var r = new I(t.getIntersection(i)),
                o = e,
                s = t.getEdgeDistance(n, i),
                a = o + 1;
              if (a < this.pts.length) {
                var u = this.pts[a];
                r.equals2D(u) && ((o = a), (s = 0));
              }
              this.eiList.add(r, o, s);
            }),
            (e.prototype.toString = function () {
              var t = new N();
              t.append("edge " + this._name + ": "), t.append("LINESTRING (");
              for (var e = 0; e < this.pts.length; e++)
                e > 0 && t.append(","),
                  t.append(this.pts[e].x + " " + this.pts[e].y);
              return (
                t.append(")  " + this._label + " " + this._depthDelta),
                t.toString()
              );
            }),
            (e.prototype.isPointwiseEqual = function (t) {
              if (this.pts.length !== t.pts.length) return !1;
              for (var e = 0; e < this.pts.length; e++)
                if (!this.pts[e].equals2D(t.pts[e])) return !1;
              return !0;
            }),
            (e.prototype.setDepthDelta = function (t) {
              this._depthDelta = t;
            }),
            (e.prototype.getEdgeIntersectionList = function () {
              return this.eiList;
            }),
            (e.prototype.addIntersections = function (t, e, n) {
              for (var i = 0; i < t.getIntersectionNum(); i++)
                this.addIntersection(t, e, n, i);
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            (e.updateIM = function () {
              if (2 !== arguments.length)
                return t.prototype.updateIM.apply(this, arguments);
              var e = arguments[0],
                n = arguments[1];
              n.setAtLeastIfValid(
                e.getLocation(0, Se.ON),
                e.getLocation(1, Se.ON),
                1
              ),
                e.isArea() &&
                  (n.setAtLeastIfValid(
                    e.getLocation(0, Se.LEFT),
                    e.getLocation(1, Se.LEFT),
                    2
                  ),
                  n.setAtLeastIfValid(
                    e.getLocation(0, Se.RIGHT),
                    e.getLocation(1, Se.RIGHT),
                    2
                  ));
            }),
            e
          );
        })(ke),
        ii = function (t) {
          (this._workingPrecisionModel = null),
            (this._workingNoder = null),
            (this._geomFact = null),
            (this._graph = null),
            (this._edgeList = new Wn()),
            (this._bufParams = t || null);
        };
      (ii.prototype.setWorkingPrecisionModel = function (t) {
        this._workingPrecisionModel = t;
      }),
        (ii.prototype.insertUniqueEdge = function (t) {
          var e = this._edgeList.findEqualEdge(t);
          if (null !== e) {
            var n = e.getLabel(),
              i = t.getLabel();
            e.isPointwiseEqual(t) || (i = new Ae(t.getLabel())).flip(),
              n.merge(i);
            var r = ii.depthDelta(i),
              o = e.getDepthDelta() + r;
            e.setDepthDelta(o);
          } else
            this._edgeList.add(t), t.setDepthDelta(ii.depthDelta(t.getLabel()));
        }),
        (ii.prototype.buildSubgraphs = function (t, e) {
          for (var n = new wt(), i = t.iterator(); i.hasNext(); ) {
            var r = i.next(),
              o = r.getRightmostCoordinate(),
              s = new Dn(n).getDepth(o);
            r.computeDepth(s),
              r.findResultEdges(),
              n.add(r),
              e.add(r.getDirectedEdges(), r.getNodes());
          }
        }),
        (ii.prototype.createSubgraphs = function (t) {
          for (var e = new wt(), n = t.getNodes().iterator(); n.hasNext(); ) {
            var i = n.next();
            if (!i.isVisited()) {
              var r = new Le();
              r.create(i), e.add(r);
            }
          }
          return $e.sort(e, $e.reverseOrder()), e;
        }),
        (ii.prototype.createEmptyResultGeometry = function () {
          return this._geomFact.createPolygon();
        }),
        (ii.prototype.getNoder = function (t) {
          if (null !== this._workingNoder) return this._workingNoder;
          var e = new bn(),
            n = new rt();
          return n.setPrecisionModel(t), e.setSegmentIntersector(new Kn(n)), e;
        }),
        (ii.prototype.buffer = function (t, e) {
          var n = this._workingPrecisionModel;
          null === n && (n = t.getPrecisionModel()),
            (this._geomFact = t.getFactory());
          var i = new Pn(n, this._bufParams),
            r = new jn(t, e, i).getCurves();
          if (r.size() <= 0) return this.createEmptyResultGeometry();
          this.computeNodedEdges(r, n),
            (this._graph = new ze(new Vn())),
            this._graph.addEdges(this._edgeList.getEdges());
          var o = this.createSubgraphs(this._graph),
            s = new Ve(this._geomFact);
          this.buildSubgraphs(o, s);
          var a = s.getPolygons();
          return a.size() <= 0
            ? this.createEmptyResultGeometry()
            : this._geomFact.buildGeometry(a);
        }),
        (ii.prototype.computeNodedEdges = function (t, e) {
          var n = this.getNoder(e);
          n.computeNodes(t);
          for (var i = n.getNodedSubstrings().iterator(); i.hasNext(); ) {
            var r = i.next(),
              o = r.getCoordinates();
            if (2 !== o.length || !o[0].equals2D(o[1])) {
              var s = r.getData(),
                a = new ni(r.getCoordinates(), new Ae(s));
              this.insertUniqueEdge(a);
            }
          }
        }),
        (ii.prototype.setNoder = function (t) {
          this._workingNoder = t;
        }),
        (ii.prototype.interfaces_ = function () {
          return [];
        }),
        (ii.prototype.getClass = function () {
          return ii;
        }),
        (ii.depthDelta = function (t) {
          var e = t.getLocation(0, Se.LEFT),
            n = t.getLocation(0, Se.RIGHT);
          return e === O.INTERIOR && n === O.EXTERIOR
            ? 1
            : e === O.EXTERIOR && n === O.INTERIOR
            ? -1
            : 0;
        }),
        (ii.convertSegStrings = function (t) {
          for (var e = new _e(), n = new wt(); t.hasNext(); ) {
            var i = t.next(),
              r = e.createLineString(i.getCoordinates());
            n.add(r);
          }
          return e.buildGeometry(n);
        });
      var ri = function () {
        if (
          ((this._noder = null),
          (this._scaleFactor = null),
          (this._offsetX = null),
          (this._offsetY = null),
          (this._isScaled = !1),
          2 === arguments.length)
        ) {
          var t = arguments[0],
            e = arguments[1];
          (this._noder = t),
            (this._scaleFactor = e),
            (this._offsetX = 0),
            (this._offsetY = 0),
            (this._isScaled = !this.isIntegerPrecision());
        } else if (4 === arguments.length) {
          var n = arguments[0],
            i = arguments[1],
            r = arguments[2],
            o = arguments[3];
          (this._noder = n),
            (this._scaleFactor = i),
            (this._offsetX = r),
            (this._offsetY = o),
            (this._isScaled = !this.isIntegerPrecision());
        }
      };
      (ri.prototype.rescale = function () {
        if (L(arguments[0], xt))
          for (var t = arguments[0].iterator(); t.hasNext(); ) {
            var e = t.next();
            this.rescale(e.getCoordinates());
          }
        else if (arguments[0] instanceof Array) {
          for (var n = arguments[0], i = 0; i < n.length; i++)
            (n[i].x = n[i].x / this._scaleFactor + this._offsetX),
              (n[i].y = n[i].y / this._scaleFactor + this._offsetY);
          2 === n.length && n[0].equals2D(n[1]) && z.out.println(n);
        }
      }),
        (ri.prototype.scale = function () {
          if (L(arguments[0], xt)) {
            for (
              var t = arguments[0], e = new wt(), n = t.iterator();
              n.hasNext();

            ) {
              var i = n.next();
              e.add(new dn(this.scale(i.getCoordinates()), i.getData()));
            }
            return e;
          }
          if (arguments[0] instanceof Array) {
            for (
              var r = arguments[0], o = new Array(r.length).fill(null), s = 0;
              s < r.length;
              s++
            )
              o[s] = new I(
                Math.round((r[s].x - this._offsetX) * this._scaleFactor),
                Math.round((r[s].y - this._offsetY) * this._scaleFactor),
                r[s].z
              );
            return Ct.removeRepeatedPoints(o);
          }
        }),
        (ri.prototype.isIntegerPrecision = function () {
          return 1 === this._scaleFactor;
        }),
        (ri.prototype.getNodedSubstrings = function () {
          var t = this._noder.getNodedSubstrings();
          return this._isScaled && this.rescale(t), t;
        }),
        (ri.prototype.computeNodes = function (t) {
          var e = t;
          this._isScaled && (e = this.scale(t)), this._noder.computeNodes(e);
        }),
        (ri.prototype.interfaces_ = function () {
          return [xn];
        }),
        (ri.prototype.getClass = function () {
          return ri;
        });
      var oi = function () {
          (this._li = new rt()), (this._segStrings = null);
          var t = arguments[0];
          this._segStrings = t;
        },
        si = { fact: { configurable: !0 } };
      (oi.prototype.checkEndPtVertexIntersections = function () {
        if (0 === arguments.length)
          for (var t = this._segStrings.iterator(); t.hasNext(); ) {
            var e = t.next().getCoordinates();
            this.checkEndPtVertexIntersections(e[0], this._segStrings),
              this.checkEndPtVertexIntersections(
                e[e.length - 1],
                this._segStrings
              );
          }
        else if (2 === arguments.length)
          for (var n = arguments[0], i = arguments[1].iterator(); i.hasNext(); )
            for (
              var r = i.next().getCoordinates(), o = 1;
              o < r.length - 1;
              o++
            )
              if (r[o].equals(n))
                throw new $(
                  "found endpt/interior pt intersection at index " +
                    o +
                    " :pt " +
                    n
                );
      }),
        (oi.prototype.checkInteriorIntersections = function () {
          if (0 === arguments.length)
            for (var t = this._segStrings.iterator(); t.hasNext(); )
              for (
                var e = t.next(), n = this._segStrings.iterator();
                n.hasNext();

              ) {
                var i = n.next();
                this.checkInteriorIntersections(e, i);
              }
          else if (2 === arguments.length)
            for (
              var r = arguments[0],
                o = arguments[1],
                s = r.getCoordinates(),
                a = o.getCoordinates(),
                u = 0;
              u < s.length - 1;
              u++
            )
              for (var c = 0; c < a.length - 1; c++)
                this.checkInteriorIntersections(r, u, o, c);
          else if (4 === arguments.length) {
            var h = arguments[0],
              l = arguments[1],
              p = arguments[2],
              f = arguments[3];
            if (h === p && l === f) return null;
            var d = h.getCoordinates()[l],
              g = h.getCoordinates()[l + 1],
              y = p.getCoordinates()[f],
              _ = p.getCoordinates()[f + 1];
            if (
              (this._li.computeIntersection(d, g, y, _),
              this._li.hasIntersection() &&
                (this._li.isProper() ||
                  this.hasInteriorIntersection(this._li, d, g) ||
                  this.hasInteriorIntersection(this._li, y, _)))
            )
              throw new $(
                "found non-noded intersection at " +
                  d +
                  "-" +
                  g +
                  " and " +
                  y +
                  "-" +
                  _
              );
          }
        }),
        (oi.prototype.checkValid = function () {
          this.checkEndPtVertexIntersections(),
            this.checkInteriorIntersections(),
            this.checkCollapses();
        }),
        (oi.prototype.checkCollapses = function () {
          if (0 === arguments.length)
            for (var t = this._segStrings.iterator(); t.hasNext(); ) {
              var e = t.next();
              this.checkCollapses(e);
            }
          else if (1 === arguments.length)
            for (
              var n = arguments[0].getCoordinates(), i = 0;
              i < n.length - 2;
              i++
            )
              this.checkCollapse(n[i], n[i + 1], n[i + 2]);
        }),
        (oi.prototype.hasInteriorIntersection = function (t, e, n) {
          for (var i = 0; i < t.getIntersectionNum(); i++) {
            var r = t.getIntersection(i);
            if (!r.equals(e) && !r.equals(n)) return !0;
          }
          return !1;
        }),
        (oi.prototype.checkCollapse = function (t, e, n) {
          if (t.equals(n))
            throw new $(
              "found non-noded collapse at " +
                oi.fact.createLineString([t, e, n])
            );
        }),
        (oi.prototype.interfaces_ = function () {
          return [];
        }),
        (oi.prototype.getClass = function () {
          return oi;
        }),
        (si.fact.get = function () {
          return new _e();
        }),
        Object.defineProperties(oi, si);
      var ai = function () {
          (this._li = null),
            (this._pt = null),
            (this._originalPt = null),
            (this._ptScaled = null),
            (this._p0Scaled = null),
            (this._p1Scaled = null),
            (this._scaleFactor = null),
            (this._minx = null),
            (this._maxx = null),
            (this._miny = null),
            (this._maxy = null),
            (this._corner = new Array(4).fill(null)),
            (this._safeEnv = null);
          var t = arguments[0],
            e = arguments[1],
            n = arguments[2];
          if (
            ((this._originalPt = t),
            (this._pt = t),
            (this._scaleFactor = e),
            (this._li = n),
            e <= 0)
          )
            throw new v("Scale factor must be non-zero");
          1 !== e &&
            ((this._pt = new I(this.scale(t.x), this.scale(t.y))),
            (this._p0Scaled = new I()),
            (this._p1Scaled = new I())),
            this.initCorners(this._pt);
        },
        ui = { SAFE_ENV_EXPANSION_FACTOR: { configurable: !0 } };
      (ai.prototype.intersectsScaled = function (t, e) {
        var n = Math.min(t.x, e.x),
          i = Math.max(t.x, e.x),
          r = Math.min(t.y, e.y),
          o = Math.max(t.y, e.y),
          s =
            this._maxx < n ||
            this._minx > i ||
            this._maxy < r ||
            this._miny > o;
        if (s) return !1;
        var a = this.intersectsToleranceSquare(t, e);
        return et.isTrue(!(s && a), "Found bad envelope test"), a;
      }),
        (ai.prototype.initCorners = function (t) {
          (this._minx = t.x - 0.5),
            (this._maxx = t.x + 0.5),
            (this._miny = t.y - 0.5),
            (this._maxy = t.y + 0.5),
            (this._corner[0] = new I(this._maxx, this._maxy)),
            (this._corner[1] = new I(this._minx, this._maxy)),
            (this._corner[2] = new I(this._minx, this._miny)),
            (this._corner[3] = new I(this._maxx, this._miny));
        }),
        (ai.prototype.intersects = function (t, e) {
          return 1 === this._scaleFactor
            ? this.intersectsScaled(t, e)
            : (this.copyScaled(t, this._p0Scaled),
              this.copyScaled(e, this._p1Scaled),
              this.intersectsScaled(this._p0Scaled, this._p1Scaled));
        }),
        (ai.prototype.scale = function (t) {
          return Math.round(t * this._scaleFactor);
        }),
        (ai.prototype.getCoordinate = function () {
          return this._originalPt;
        }),
        (ai.prototype.copyScaled = function (t, e) {
          (e.x = this.scale(t.x)), (e.y = this.scale(t.y));
        }),
        (ai.prototype.getSafeEnvelope = function () {
          if (null === this._safeEnv) {
            var t = ai.SAFE_ENV_EXPANSION_FACTOR / this._scaleFactor;
            this._safeEnv = new q(
              this._originalPt.x - t,
              this._originalPt.x + t,
              this._originalPt.y - t,
              this._originalPt.y + t
            );
          }
          return this._safeEnv;
        }),
        (ai.prototype.intersectsPixelClosure = function (t, e) {
          return (
            this._li.computeIntersection(
              t,
              e,
              this._corner[0],
              this._corner[1]
            ),
            !!(
              this._li.hasIntersection() ||
              (this._li.computeIntersection(
                t,
                e,
                this._corner[1],
                this._corner[2]
              ),
              this._li.hasIntersection() ||
                (this._li.computeIntersection(
                  t,
                  e,
                  this._corner[2],
                  this._corner[3]
                ),
                this._li.hasIntersection() ||
                  (this._li.computeIntersection(
                    t,
                    e,
                    this._corner[3],
                    this._corner[0]
                  ),
                  this._li.hasIntersection())))
            )
          );
        }),
        (ai.prototype.intersectsToleranceSquare = function (t, e) {
          var n = !1,
            i = !1;
          return (
            this._li.computeIntersection(
              t,
              e,
              this._corner[0],
              this._corner[1]
            ),
            !!(
              this._li.isProper() ||
              (this._li.computeIntersection(
                t,
                e,
                this._corner[1],
                this._corner[2]
              ),
              this._li.isProper() ||
                (this._li.hasIntersection() && (n = !0),
                this._li.computeIntersection(
                  t,
                  e,
                  this._corner[2],
                  this._corner[3]
                ),
                this._li.isProper() ||
                  (this._li.hasIntersection() && (i = !0),
                  this._li.computeIntersection(
                    t,
                    e,
                    this._corner[3],
                    this._corner[0]
                  ),
                  this._li.isProper() ||
                    (n && i) ||
                    t.equals(this._pt) ||
                    e.equals(this._pt))))
            )
          );
        }),
        (ai.prototype.addSnappedNode = function (t, e) {
          var n = t.getCoordinate(e),
            i = t.getCoordinate(e + 1);
          return (
            !!this.intersects(n, i) &&
            (t.addIntersection(this.getCoordinate(), e), !0)
          );
        }),
        (ai.prototype.interfaces_ = function () {
          return [];
        }),
        (ai.prototype.getClass = function () {
          return ai;
        }),
        (ui.SAFE_ENV_EXPANSION_FACTOR.get = function () {
          return 0.75;
        }),
        Object.defineProperties(ai, ui);
      var ci = function () {
        (this.tempEnv1 = new q()), (this.selectedSegment = new gn());
      };
      (ci.prototype.select = function () {
        if (1 === arguments.length);
        else if (2 === arguments.length) {
          var t = arguments[0],
            e = arguments[1];
          t.getLineSegment(e, this.selectedSegment),
            this.select(this.selectedSegment);
        }
      }),
        (ci.prototype.interfaces_ = function () {
          return [];
        }),
        (ci.prototype.getClass = function () {
          return ci;
        });
      var hi = function () {
          this._index = null;
          var t = arguments[0];
          this._index = t;
        },
        li = { HotPixelSnapAction: { configurable: !0 } };
      (hi.prototype.snap = function () {
        if (1 === arguments.length) {
          var t = arguments[0];
          return this.snap(t, null, -1);
        }
        if (3 === arguments.length) {
          var e = arguments[0],
            n = arguments[1],
            i = arguments[2],
            r = e.getSafeEnvelope(),
            o = new pi(e, n, i);
          return (
            this._index.query(r, {
              interfaces_: function () {
                return [Ke];
              },
              visitItem: function (t) {
                t.select(r, o);
              },
            }),
            o.isNodeAdded()
          );
        }
      }),
        (hi.prototype.interfaces_ = function () {
          return [];
        }),
        (hi.prototype.getClass = function () {
          return hi;
        }),
        (li.HotPixelSnapAction.get = function () {
          return pi;
        }),
        Object.defineProperties(hi, li);
      var pi = (function (t) {
          function e() {
            t.call(this),
              (this._hotPixel = null),
              (this._parentEdge = null),
              (this._hotPixelVertexIndex = null),
              (this._isNodeAdded = !1);
            var e = arguments[0],
              n = arguments[1],
              i = arguments[2];
            (this._hotPixel = e),
              (this._parentEdge = n),
              (this._hotPixelVertexIndex = i);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.isNodeAdded = function () {
              return this._isNodeAdded;
            }),
            (e.prototype.select = function () {
              if (2 !== arguments.length)
                return t.prototype.select.apply(this, arguments);
              var e = arguments[0],
                n = arguments[1],
                i = e.getContext();
              if (
                null !== this._parentEdge &&
                i === this._parentEdge &&
                n === this._hotPixelVertexIndex
              )
                return null;
              this._isNodeAdded = this._hotPixel.addSnappedNode(i, n);
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            e
          );
        })(ci),
        fi = function () {
          (this._li = null), (this._interiorIntersections = null);
          var t = arguments[0];
          (this._li = t), (this._interiorIntersections = new wt());
        };
      (fi.prototype.processIntersections = function (t, e, n, i) {
        if (t === n && e === i) return null;
        var r = t.getCoordinates()[e],
          o = t.getCoordinates()[e + 1],
          s = n.getCoordinates()[i],
          a = n.getCoordinates()[i + 1];
        if (
          (this._li.computeIntersection(r, o, s, a),
          this._li.hasIntersection() && this._li.isInteriorIntersection())
        ) {
          for (var u = 0; u < this._li.getIntersectionNum(); u++)
            this._interiorIntersections.add(this._li.getIntersection(u));
          t.addIntersections(this._li, e, 0),
            n.addIntersections(this._li, i, 1);
        }
      }),
        (fi.prototype.isDone = function () {
          return !1;
        }),
        (fi.prototype.getInteriorIntersections = function () {
          return this._interiorIntersections;
        }),
        (fi.prototype.interfaces_ = function () {
          return [Hn];
        }),
        (fi.prototype.getClass = function () {
          return fi;
        });
      var di = function () {
        (this._pm = null),
          (this._li = null),
          (this._scaleFactor = null),
          (this._noder = null),
          (this._pointSnapper = null),
          (this._nodedSegStrings = null);
        var t = arguments[0];
        (this._pm = t),
          (this._li = new rt()),
          this._li.setPrecisionModel(t),
          (this._scaleFactor = t.getScale());
      };
      (di.prototype.checkCorrectness = function (t) {
        var e = dn.getNodedSubstrings(t),
          n = new oi(e);
        try {
          n.checkValid();
        } catch (t) {
          if (!(t instanceof Y)) throw t;
          t.printStackTrace();
        }
      }),
        (di.prototype.getNodedSubstrings = function () {
          return dn.getNodedSubstrings(this._nodedSegStrings);
        }),
        (di.prototype.snapRound = function (t, e) {
          var n = this.findInteriorIntersections(t, e);
          this.computeIntersectionSnaps(n), this.computeVertexSnaps(t);
        }),
        (di.prototype.findInteriorIntersections = function (t, e) {
          var n = new fi(e);
          return (
            this._noder.setSegmentIntersector(n),
            this._noder.computeNodes(t),
            n.getInteriorIntersections()
          );
        }),
        (di.prototype.computeVertexSnaps = function () {
          if (L(arguments[0], xt))
            for (var t = arguments[0].iterator(); t.hasNext(); ) {
              var e = t.next();
              this.computeVertexSnaps(e);
            }
          else if (arguments[0] instanceof dn)
            for (
              var n = arguments[0], i = n.getCoordinates(), r = 0;
              r < i.length;
              r++
            ) {
              var o = new ai(i[r], this._scaleFactor, this._li);
              this._pointSnapper.snap(o, n, r) && n.addIntersection(i[r], r);
            }
        }),
        (di.prototype.computeNodes = function (t) {
          (this._nodedSegStrings = t),
            (this._noder = new bn()),
            (this._pointSnapper = new hi(this._noder.getIndex())),
            this.snapRound(t, this._li);
        }),
        (di.prototype.computeIntersectionSnaps = function (t) {
          for (var e = t.iterator(); e.hasNext(); ) {
            var n = e.next(),
              i = new ai(n, this._scaleFactor, this._li);
            this._pointSnapper.snap(i);
          }
        }),
        (di.prototype.interfaces_ = function () {
          return [xn];
        }),
        (di.prototype.getClass = function () {
          return di;
        });
      var gi = function () {
          if (
            ((this._argGeom = null),
            (this._distance = null),
            (this._bufParams = new In()),
            (this._resultGeometry = null),
            (this._saveException = null),
            1 === arguments.length)
          ) {
            var t = arguments[0];
            this._argGeom = t;
          } else if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            (this._argGeom = e), (this._bufParams = n);
          }
        },
        yi = {
          CAP_ROUND: { configurable: !0 },
          CAP_BUTT: { configurable: !0 },
          CAP_FLAT: { configurable: !0 },
          CAP_SQUARE: { configurable: !0 },
          MAX_PRECISION_DIGITS: { configurable: !0 },
        };
      (gi.prototype.bufferFixedPrecision = function (t) {
        var e = new ri(new di(new fe(1)), t.getScale()),
          n = new ii(this._bufParams);
        n.setWorkingPrecisionModel(t),
          n.setNoder(e),
          (this._resultGeometry = n.buffer(this._argGeom, this._distance));
      }),
        (gi.prototype.bufferReducedPrecision = function () {
          var t = this;
          if (0 === arguments.length) {
            for (var e = gi.MAX_PRECISION_DIGITS; e >= 0; e--) {
              try {
                t.bufferReducedPrecision(e);
              } catch (e) {
                if (!(e instanceof Oe)) throw e;
                t._saveException = e;
              }
              if (null !== t._resultGeometry) return null;
            }
            throw this._saveException;
          }
          if (1 === arguments.length) {
            var n = arguments[0],
              i = gi.precisionScaleFactor(this._argGeom, this._distance, n),
              r = new fe(i);
            this.bufferFixedPrecision(r);
          }
        }),
        (gi.prototype.computeGeometry = function () {
          if ((this.bufferOriginalPrecision(), null !== this._resultGeometry))
            return null;
          var t = this._argGeom.getFactory().getPrecisionModel();
          t.getType() === fe.FIXED
            ? this.bufferFixedPrecision(t)
            : this.bufferReducedPrecision();
        }),
        (gi.prototype.setQuadrantSegments = function (t) {
          this._bufParams.setQuadrantSegments(t);
        }),
        (gi.prototype.bufferOriginalPrecision = function () {
          try {
            var t = new ii(this._bufParams);
            this._resultGeometry = t.buffer(this._argGeom, this._distance);
          } catch (t) {
            if (!(t instanceof $)) throw t;
            this._saveException = t;
          }
        }),
        (gi.prototype.getResultGeometry = function (t) {
          return (
            (this._distance = t), this.computeGeometry(), this._resultGeometry
          );
        }),
        (gi.prototype.setEndCapStyle = function (t) {
          this._bufParams.setEndCapStyle(t);
        }),
        (gi.prototype.interfaces_ = function () {
          return [];
        }),
        (gi.prototype.getClass = function () {
          return gi;
        }),
        (gi.bufferOp = function () {
          if (2 === arguments.length) {
            var t = arguments[0],
              e = arguments[1];
            return new gi(t).getResultGeometry(e);
          }
          if (3 === arguments.length) {
            if (
              Number.isInteger(arguments[2]) &&
              arguments[0] instanceof ht &&
              "number" == typeof arguments[1]
            ) {
              var n = arguments[0],
                i = arguments[1],
                r = arguments[2],
                o = new gi(n);
              return o.setQuadrantSegments(r), o.getResultGeometry(i);
            }
            if (
              arguments[2] instanceof In &&
              arguments[0] instanceof ht &&
              "number" == typeof arguments[1]
            ) {
              var s = arguments[0],
                a = arguments[1],
                u = arguments[2];
              return new gi(s, u).getResultGeometry(a);
            }
          } else if (4 === arguments.length) {
            var c = arguments[0],
              h = arguments[1],
              l = arguments[2],
              p = arguments[3],
              f = new gi(c);
            return (
              f.setQuadrantSegments(l),
              f.setEndCapStyle(p),
              f.getResultGeometry(h)
            );
          }
        }),
        (gi.precisionScaleFactor = function (t, e, n) {
          var i = t.getEnvelopeInternal(),
            r =
              M.max(
                Math.abs(i.getMaxX()),
                Math.abs(i.getMaxY()),
                Math.abs(i.getMinX()),
                Math.abs(i.getMinY())
              ) +
              2 * (e > 0 ? e : 0),
            o = n - Math.trunc(Math.log(r) / Math.log(10) + 1);
          return Math.pow(10, o);
        }),
        (yi.CAP_ROUND.get = function () {
          return In.CAP_ROUND;
        }),
        (yi.CAP_BUTT.get = function () {
          return In.CAP_FLAT;
        }),
        (yi.CAP_FLAT.get = function () {
          return In.CAP_FLAT;
        }),
        (yi.CAP_SQUARE.get = function () {
          return In.CAP_SQUARE;
        }),
        (yi.MAX_PRECISION_DIGITS.get = function () {
          return 12;
        }),
        Object.defineProperties(gi, yi);
      var _i = function () {
        (this._pt = [new I(), new I()]),
          (this._distance = m.NaN),
          (this._isNull = !0);
      };
      (_i.prototype.getCoordinates = function () {
        return this._pt;
      }),
        (_i.prototype.getCoordinate = function (t) {
          return this._pt[t];
        }),
        (_i.prototype.setMinimum = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            this.setMinimum(t._pt[0], t._pt[1]);
          } else if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            if (this._isNull) return this.initialize(e, n), null;
            var i = e.distance(n);
            i < this._distance && this.initialize(e, n, i);
          }
        }),
        (_i.prototype.initialize = function () {
          if (0 === arguments.length) this._isNull = !0;
          else if (2 === arguments.length) {
            var t = arguments[0],
              e = arguments[1];
            this._pt[0].setCoordinate(t),
              this._pt[1].setCoordinate(e),
              (this._distance = t.distance(e)),
              (this._isNull = !1);
          } else if (3 === arguments.length) {
            var n = arguments[0],
              i = arguments[1],
              r = arguments[2];
            this._pt[0].setCoordinate(n),
              this._pt[1].setCoordinate(i),
              (this._distance = r),
              (this._isNull = !1);
          }
        }),
        (_i.prototype.getDistance = function () {
          return this._distance;
        }),
        (_i.prototype.setMaximum = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            this.setMaximum(t._pt[0], t._pt[1]);
          } else if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            if (this._isNull) return this.initialize(e, n), null;
            var i = e.distance(n);
            i > this._distance && this.initialize(e, n, i);
          }
        }),
        (_i.prototype.interfaces_ = function () {
          return [];
        }),
        (_i.prototype.getClass = function () {
          return _i;
        });
      var vi = function () {};
      (vi.prototype.interfaces_ = function () {
        return [];
      }),
        (vi.prototype.getClass = function () {
          return vi;
        }),
        (vi.computeDistance = function () {
          if (
            arguments[2] instanceof _i &&
            arguments[0] instanceof Kt &&
            arguments[1] instanceof I
          )
            for (
              var t = arguments[0],
                e = arguments[1],
                n = arguments[2],
                i = t.getCoordinates(),
                r = new gn(),
                o = 0;
              o < i.length - 1;
              o++
            ) {
              r.setCoordinates(i[o], i[o + 1]);
              var s = r.closestPoint(e);
              n.setMinimum(s, e);
            }
          else if (
            arguments[2] instanceof _i &&
            arguments[0] instanceof $t &&
            arguments[1] instanceof I
          ) {
            var a = arguments[0],
              u = arguments[1],
              c = arguments[2];
            vi.computeDistance(a.getExteriorRing(), u, c);
            for (var h = 0; h < a.getNumInteriorRing(); h++)
              vi.computeDistance(a.getInteriorRingN(h), u, c);
          } else if (
            arguments[2] instanceof _i &&
            arguments[0] instanceof ht &&
            arguments[1] instanceof I
          ) {
            var l = arguments[0],
              p = arguments[1],
              f = arguments[2];
            if (l instanceof Kt) vi.computeDistance(l, p, f);
            else if (l instanceof $t) vi.computeDistance(l, p, f);
            else if (l instanceof Yt)
              for (var d = l, g = 0; g < d.getNumGeometries(); g++) {
                var y = d.getGeometryN(g);
                vi.computeDistance(y, p, f);
              }
            else f.setMinimum(l.getCoordinate(), p);
          } else if (
            arguments[2] instanceof _i &&
            arguments[0] instanceof gn &&
            arguments[1] instanceof I
          ) {
            var _ = arguments[0],
              v = arguments[1],
              m = arguments[2],
              x = _.closestPoint(v);
            m.setMinimum(x, v);
          }
        });
      var mi = function (t) {
          (this._maxPtDist = new _i()), (this._inputGeom = t || null);
        },
        xi = {
          MaxPointDistanceFilter: { configurable: !0 },
          MaxMidpointDistanceFilter: { configurable: !0 },
        };
      (mi.prototype.computeMaxMidpointDistance = function (t) {
        var e = new bi(this._inputGeom);
        t.apply(e), this._maxPtDist.setMaximum(e.getMaxPointDistance());
      }),
        (mi.prototype.computeMaxVertexDistance = function (t) {
          var e = new Ei(this._inputGeom);
          t.apply(e), this._maxPtDist.setMaximum(e.getMaxPointDistance());
        }),
        (mi.prototype.findDistance = function (t) {
          return (
            this.computeMaxVertexDistance(t),
            this.computeMaxMidpointDistance(t),
            this._maxPtDist.getDistance()
          );
        }),
        (mi.prototype.getDistancePoints = function () {
          return this._maxPtDist;
        }),
        (mi.prototype.interfaces_ = function () {
          return [];
        }),
        (mi.prototype.getClass = function () {
          return mi;
        }),
        (xi.MaxPointDistanceFilter.get = function () {
          return Ei;
        }),
        (xi.MaxMidpointDistanceFilter.get = function () {
          return bi;
        }),
        Object.defineProperties(mi, xi);
      var Ei = function (t) {
        (this._maxPtDist = new _i()),
          (this._minPtDist = new _i()),
          (this._geom = t || null);
      };
      (Ei.prototype.filter = function (t) {
        this._minPtDist.initialize(),
          vi.computeDistance(this._geom, t, this._minPtDist),
          this._maxPtDist.setMaximum(this._minPtDist);
      }),
        (Ei.prototype.getMaxPointDistance = function () {
          return this._maxPtDist;
        }),
        (Ei.prototype.interfaces_ = function () {
          return [ft];
        }),
        (Ei.prototype.getClass = function () {
          return Ei;
        });
      var bi = function (t) {
        (this._maxPtDist = new _i()),
          (this._minPtDist = new _i()),
          (this._geom = t || null);
      };
      (bi.prototype.filter = function (t, e) {
        if (0 === e) return null;
        var n = t.getCoordinate(e - 1),
          i = t.getCoordinate(e),
          r = new I((n.x + i.x) / 2, (n.y + i.y) / 2);
        this._minPtDist.initialize(),
          vi.computeDistance(this._geom, r, this._minPtDist),
          this._maxPtDist.setMaximum(this._minPtDist);
      }),
        (bi.prototype.isDone = function () {
          return !1;
        }),
        (bi.prototype.isGeometryChanged = function () {
          return !1;
        }),
        (bi.prototype.getMaxPointDistance = function () {
          return this._maxPtDist;
        }),
        (bi.prototype.interfaces_ = function () {
          return [Ut];
        }),
        (bi.prototype.getClass = function () {
          return bi;
        });
      var wi = function (t) {
        this._comps = t || null;
      };
      (wi.prototype.filter = function (t) {
        t instanceof $t && this._comps.add(t);
      }),
        (wi.prototype.interfaces_ = function () {
          return [Bt];
        }),
        (wi.prototype.getClass = function () {
          return wi;
        }),
        (wi.getPolygons = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return wi.getPolygons(t, new wt());
          }
          if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            return (
              e instanceof $t
                ? n.add(e)
                : e instanceof Yt && e.apply(new wi(n)),
              n
            );
          }
        });
      var Ii = function () {
        if (
          ((this._lines = null),
          (this._isForcedToLineString = !1),
          1 === arguments.length)
        ) {
          var t = arguments[0];
          this._lines = t;
        } else if (2 === arguments.length) {
          var e = arguments[0],
            n = arguments[1];
          (this._lines = e), (this._isForcedToLineString = n);
        }
      };
      (Ii.prototype.filter = function (t) {
        if (this._isForcedToLineString && t instanceof ee) {
          var e = t.getFactory().createLineString(t.getCoordinateSequence());
          return this._lines.add(e), null;
        }
        t instanceof Kt && this._lines.add(t);
      }),
        (Ii.prototype.setForceToLineString = function (t) {
          this._isForcedToLineString = t;
        }),
        (Ii.prototype.interfaces_ = function () {
          return [ct];
        }),
        (Ii.prototype.getClass = function () {
          return Ii;
        }),
        (Ii.getGeometry = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return t.getFactory().buildGeometry(Ii.getLines(t));
          }
          if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            return e.getFactory().buildGeometry(Ii.getLines(e, n));
          }
        }),
        (Ii.getLines = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return Ii.getLines(t, !1);
          }
          if (2 === arguments.length) {
            if (L(arguments[0], xt) && L(arguments[1], xt)) {
              for (
                var e = arguments[0], n = arguments[1], i = e.iterator();
                i.hasNext();

              ) {
                var r = i.next();
                Ii.getLines(r, n);
              }
              return n;
            }
            if (
              arguments[0] instanceof ht &&
              "boolean" == typeof arguments[1]
            ) {
              var o = arguments[0],
                s = arguments[1],
                a = new wt();
              return o.apply(new Ii(a, s)), a;
            }
            if (arguments[0] instanceof ht && L(arguments[1], xt)) {
              var u = arguments[0],
                c = arguments[1];
              return u instanceof Kt ? c.add(u) : u.apply(new Ii(c)), c;
            }
          } else if (3 === arguments.length) {
            if (
              "boolean" == typeof arguments[2] &&
              L(arguments[0], xt) &&
              L(arguments[1], xt)
            ) {
              for (
                var h = arguments[0],
                  l = arguments[1],
                  p = arguments[2],
                  f = h.iterator();
                f.hasNext();

              ) {
                var d = f.next();
                Ii.getLines(d, l, p);
              }
              return l;
            }
            if (
              "boolean" == typeof arguments[2] &&
              arguments[0] instanceof ht &&
              L(arguments[1], xt)
            ) {
              var g = arguments[0],
                y = arguments[1],
                _ = arguments[2];
              return g.apply(new Ii(y, _)), y;
            }
          }
        });
      var Si = function () {
        if (
          ((this._boundaryRule = dt.OGC_SFS_BOUNDARY_RULE),
          (this._isIn = null),
          (this._numBoundaries = null),
          0 === arguments.length)
        );
        else if (1 === arguments.length) {
          var t = arguments[0];
          if (null === t) throw new v("Rule must be non-null");
          this._boundaryRule = t;
        }
      };
      (Si.prototype.locateInternal = function () {
        if (arguments[0] instanceof I && arguments[1] instanceof $t) {
          var t = arguments[0],
            e = arguments[1];
          if (e.isEmpty()) return O.EXTERIOR;
          var n = e.getExteriorRing(),
            i = this.locateInPolygonRing(t, n);
          if (i === O.EXTERIOR) return O.EXTERIOR;
          if (i === O.BOUNDARY) return O.BOUNDARY;
          for (var r = 0; r < e.getNumInteriorRing(); r++) {
            var o = e.getInteriorRingN(r),
              s = this.locateInPolygonRing(t, o);
            if (s === O.INTERIOR) return O.EXTERIOR;
            if (s === O.BOUNDARY) return O.BOUNDARY;
          }
          return O.INTERIOR;
        }
        if (arguments[0] instanceof I && arguments[1] instanceof Kt) {
          var a = arguments[0],
            u = arguments[1];
          if (!u.getEnvelopeInternal().intersects(a)) return O.EXTERIOR;
          var c = u.getCoordinates();
          return u.isClosed() || (!a.equals(c[0]) && !a.equals(c[c.length - 1]))
            ? at.isOnLine(a, c)
              ? O.INTERIOR
              : O.EXTERIOR
            : O.BOUNDARY;
        }
        if (arguments[0] instanceof I && arguments[1] instanceof Jt) {
          var h = arguments[0];
          return arguments[1].getCoordinate().equals2D(h)
            ? O.INTERIOR
            : O.EXTERIOR;
        }
      }),
        (Si.prototype.locateInPolygonRing = function (t, e) {
          return e.getEnvelopeInternal().intersects(t)
            ? at.locatePointInRing(t, e.getCoordinates())
            : O.EXTERIOR;
        }),
        (Si.prototype.intersects = function (t, e) {
          return this.locate(t, e) !== O.EXTERIOR;
        }),
        (Si.prototype.updateLocationInfo = function (t) {
          t === O.INTERIOR && (this._isIn = !0),
            t === O.BOUNDARY && this._numBoundaries++;
        }),
        (Si.prototype.computeLocation = function (t, e) {
          if (
            (e instanceof Jt &&
              this.updateLocationInfo(this.locateInternal(t, e)),
            e instanceof Kt)
          )
            this.updateLocationInfo(this.locateInternal(t, e));
          else if (e instanceof $t)
            this.updateLocationInfo(this.locateInternal(t, e));
          else if (e instanceof Xt)
            for (var n = e, i = 0; i < n.getNumGeometries(); i++) {
              var r = n.getGeometryN(i);
              this.updateLocationInfo(this.locateInternal(t, r));
            }
          else if (e instanceof ne)
            for (var o = e, s = 0; s < o.getNumGeometries(); s++) {
              var a = o.getGeometryN(s);
              this.updateLocationInfo(this.locateInternal(t, a));
            }
          else if (e instanceof Yt)
            for (var u = new Un(e); u.hasNext(); ) {
              var c = u.next();
              c !== e && this.computeLocation(t, c);
            }
        }),
        (Si.prototype.locate = function (t, e) {
          return e.isEmpty()
            ? O.EXTERIOR
            : e instanceof Kt
            ? this.locateInternal(t, e)
            : e instanceof $t
            ? this.locateInternal(t, e)
            : ((this._isIn = !1),
              (this._numBoundaries = 0),
              this.computeLocation(t, e),
              this._boundaryRule.isInBoundary(this._numBoundaries)
                ? O.BOUNDARY
                : this._numBoundaries > 0 || this._isIn
                ? O.INTERIOR
                : O.EXTERIOR);
        }),
        (Si.prototype.interfaces_ = function () {
          return [];
        }),
        (Si.prototype.getClass = function () {
          return Si;
        });
      var Ci = function t() {
          if (
            ((this._component = null),
            (this._segIndex = null),
            (this._pt = null),
            2 === arguments.length)
          ) {
            var e = arguments[0],
              n = arguments[1];
            t.call(this, e, t.INSIDE_AREA, n);
          } else if (3 === arguments.length) {
            var i = arguments[0],
              r = arguments[1],
              o = arguments[2];
            (this._component = i), (this._segIndex = r), (this._pt = o);
          }
        },
        Ti = { INSIDE_AREA: { configurable: !0 } };
      (Ci.prototype.isInsideArea = function () {
        return this._segIndex === Ci.INSIDE_AREA;
      }),
        (Ci.prototype.getCoordinate = function () {
          return this._pt;
        }),
        (Ci.prototype.getGeometryComponent = function () {
          return this._component;
        }),
        (Ci.prototype.getSegmentIndex = function () {
          return this._segIndex;
        }),
        (Ci.prototype.interfaces_ = function () {
          return [];
        }),
        (Ci.prototype.getClass = function () {
          return Ci;
        }),
        (Ti.INSIDE_AREA.get = function () {
          return -1;
        }),
        Object.defineProperties(Ci, Ti);
      var Oi = function (t) {
        this._pts = t || null;
      };
      (Oi.prototype.filter = function (t) {
        t instanceof Jt && this._pts.add(t);
      }),
        (Oi.prototype.interfaces_ = function () {
          return [Bt];
        }),
        (Oi.prototype.getClass = function () {
          return Oi;
        }),
        (Oi.getPoints = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return t instanceof Jt
              ? $e.singletonList(t)
              : Oi.getPoints(t, new wt());
          }
          if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            return (
              e instanceof Jt
                ? n.add(e)
                : e instanceof Yt && e.apply(new Oi(n)),
              n
            );
          }
        });
      var Ri = function () {
        this._locations = null;
        var t = arguments[0];
        this._locations = t;
      };
      (Ri.prototype.filter = function (t) {
        (t instanceof Jt || t instanceof Kt || t instanceof $t) &&
          this._locations.add(new Ci(t, 0, t.getCoordinate()));
      }),
        (Ri.prototype.interfaces_ = function () {
          return [Bt];
        }),
        (Ri.prototype.getClass = function () {
          return Ri;
        }),
        (Ri.getLocations = function (t) {
          var e = new wt();
          return t.apply(new Ri(e)), e;
        });
      var Li = function () {
        if (
          ((this._geom = null),
          (this._terminateDistance = 0),
          (this._ptLocator = new Si()),
          (this._minDistanceLocation = null),
          (this._minDistance = m.MAX_VALUE),
          2 === arguments.length)
        ) {
          var t = arguments[0],
            e = arguments[1];
          (this._geom = [t, e]), (this._terminateDistance = 0);
        } else if (3 === arguments.length) {
          var n = arguments[0],
            i = arguments[1],
            r = arguments[2];
          (this._geom = new Array(2).fill(null)),
            (this._geom[0] = n),
            (this._geom[1] = i),
            (this._terminateDistance = r);
        }
      };
      (Li.prototype.computeContainmentDistance = function () {
        if (0 === arguments.length) {
          var t = new Array(2).fill(null);
          if (
            (this.computeContainmentDistance(0, t),
            this._minDistance <= this._terminateDistance)
          )
            return null;
          this.computeContainmentDistance(1, t);
        } else if (2 === arguments.length) {
          var e = arguments[0],
            n = arguments[1],
            i = 1 - e,
            r = wi.getPolygons(this._geom[e]);
          if (r.size() > 0) {
            var o = Ri.getLocations(this._geom[i]);
            if (
              (this.computeContainmentDistance(o, r, n),
              this._minDistance <= this._terminateDistance)
            )
              return (
                (this._minDistanceLocation[i] = n[0]),
                (this._minDistanceLocation[e] = n[1]),
                null
              );
          }
        } else if (3 === arguments.length)
          if (
            arguments[2] instanceof Array &&
            L(arguments[0], bt) &&
            L(arguments[1], bt)
          ) {
            for (
              var s = arguments[0], a = arguments[1], u = arguments[2], c = 0;
              c < s.size();
              c++
            )
              for (var h = s.get(c), l = 0; l < a.size(); l++)
                if (
                  (this.computeContainmentDistance(h, a.get(l), u),
                  this._minDistance <= this._terminateDistance)
                )
                  return null;
          } else if (
            arguments[2] instanceof Array &&
            arguments[0] instanceof Ci &&
            arguments[1] instanceof $t
          ) {
            var p = arguments[0],
              f = arguments[1],
              d = arguments[2],
              g = p.getCoordinate();
            if (O.EXTERIOR !== this._ptLocator.locate(g, f))
              return (
                (this._minDistance = 0), (d[0] = p), (d[1] = new Ci(f, g)), null
              );
          }
      }),
        (Li.prototype.computeMinDistanceLinesPoints = function (t, e, n) {
          for (var i = 0; i < t.size(); i++)
            for (var r = t.get(i), o = 0; o < e.size(); o++) {
              var s = e.get(o);
              if (
                (this.computeMinDistance(r, s, n),
                this._minDistance <= this._terminateDistance)
              )
                return null;
            }
        }),
        (Li.prototype.computeFacetDistance = function () {
          var t = new Array(2).fill(null),
            e = Ii.getLines(this._geom[0]),
            n = Ii.getLines(this._geom[1]),
            i = Oi.getPoints(this._geom[0]),
            r = Oi.getPoints(this._geom[1]);
          return (
            this.computeMinDistanceLines(e, n, t),
            this.updateMinDistance(t, !1),
            this._minDistance <= this._terminateDistance
              ? null
              : ((t[0] = null),
                (t[1] = null),
                this.computeMinDistanceLinesPoints(e, r, t),
                this.updateMinDistance(t, !1),
                this._minDistance <= this._terminateDistance
                  ? null
                  : ((t[0] = null),
                    (t[1] = null),
                    this.computeMinDistanceLinesPoints(n, i, t),
                    this.updateMinDistance(t, !0),
                    this._minDistance <= this._terminateDistance
                      ? null
                      : ((t[0] = null),
                        (t[1] = null),
                        this.computeMinDistancePoints(i, r, t),
                        void this.updateMinDistance(t, !1))))
          );
        }),
        (Li.prototype.nearestLocations = function () {
          return this.computeMinDistance(), this._minDistanceLocation;
        }),
        (Li.prototype.updateMinDistance = function (t, e) {
          if (null === t[0]) return null;
          e
            ? ((this._minDistanceLocation[0] = t[1]),
              (this._minDistanceLocation[1] = t[0]))
            : ((this._minDistanceLocation[0] = t[0]),
              (this._minDistanceLocation[1] = t[1]));
        }),
        (Li.prototype.nearestPoints = function () {
          return (
            this.computeMinDistance(),
            [
              this._minDistanceLocation[0].getCoordinate(),
              this._minDistanceLocation[1].getCoordinate(),
            ]
          );
        }),
        (Li.prototype.computeMinDistance = function () {
          if (0 === arguments.length) {
            if (null !== this._minDistanceLocation) return null;
            if (
              ((this._minDistanceLocation = new Array(2).fill(null)),
              this.computeContainmentDistance(),
              this._minDistance <= this._terminateDistance)
            )
              return null;
            this.computeFacetDistance();
          } else if (3 === arguments.length)
            if (
              arguments[2] instanceof Array &&
              arguments[0] instanceof Kt &&
              arguments[1] instanceof Jt
            ) {
              var t = arguments[0],
                e = arguments[1],
                n = arguments[2];
              if (
                t.getEnvelopeInternal().distance(e.getEnvelopeInternal()) >
                this._minDistance
              )
                return null;
              for (
                var i = t.getCoordinates(), r = e.getCoordinate(), o = 0;
                o < i.length - 1;
                o++
              ) {
                var s = at.distancePointLine(r, i[o], i[o + 1]);
                if (s < this._minDistance) {
                  this._minDistance = s;
                  var a = new gn(i[o], i[o + 1]).closestPoint(r);
                  (n[0] = new Ci(t, o, a)), (n[1] = new Ci(e, 0, r));
                }
                if (this._minDistance <= this._terminateDistance) return null;
              }
            } else if (
              arguments[2] instanceof Array &&
              arguments[0] instanceof Kt &&
              arguments[1] instanceof Kt
            ) {
              var u = arguments[0],
                c = arguments[1],
                h = arguments[2];
              if (
                u.getEnvelopeInternal().distance(c.getEnvelopeInternal()) >
                this._minDistance
              )
                return null;
              for (
                var l = u.getCoordinates(), p = c.getCoordinates(), f = 0;
                f < l.length - 1;
                f++
              )
                for (var d = 0; d < p.length - 1; d++) {
                  var g = at.distanceLineLine(l[f], l[f + 1], p[d], p[d + 1]);
                  if (g < this._minDistance) {
                    this._minDistance = g;
                    var y = new gn(l[f], l[f + 1]),
                      _ = new gn(p[d], p[d + 1]),
                      v = y.closestPoints(_);
                    (h[0] = new Ci(u, f, v[0])), (h[1] = new Ci(c, d, v[1]));
                  }
                  if (this._minDistance <= this._terminateDistance) return null;
                }
            }
        }),
        (Li.prototype.computeMinDistancePoints = function (t, e, n) {
          for (var i = 0; i < t.size(); i++)
            for (var r = t.get(i), o = 0; o < e.size(); o++) {
              var s = e.get(o),
                a = r.getCoordinate().distance(s.getCoordinate());
              if (
                (a < this._minDistance &&
                  ((this._minDistance = a),
                  (n[0] = new Ci(r, 0, r.getCoordinate())),
                  (n[1] = new Ci(s, 0, s.getCoordinate()))),
                this._minDistance <= this._terminateDistance)
              )
                return null;
            }
        }),
        (Li.prototype.distance = function () {
          if (null === this._geom[0] || null === this._geom[1])
            throw new v("null geometries are not supported");
          return this._geom[0].isEmpty() || this._geom[1].isEmpty()
            ? 0
            : (this.computeMinDistance(), this._minDistance);
        }),
        (Li.prototype.computeMinDistanceLines = function (t, e, n) {
          for (var i = 0; i < t.size(); i++)
            for (var r = t.get(i), o = 0; o < e.size(); o++) {
              var s = e.get(o);
              if (
                (this.computeMinDistance(r, s, n),
                this._minDistance <= this._terminateDistance)
              )
                return null;
            }
        }),
        (Li.prototype.interfaces_ = function () {
          return [];
        }),
        (Li.prototype.getClass = function () {
          return Li;
        }),
        (Li.distance = function (t, e) {
          return new Li(t, e).distance();
        }),
        (Li.isWithinDistance = function (t, e, n) {
          return new Li(t, e, n).distance() <= n;
        }),
        (Li.nearestPoints = function (t, e) {
          return new Li(t, e).nearestPoints();
        });
      var Mi = function () {
        (this._pt = [new I(), new I()]),
          (this._distance = m.NaN),
          (this._isNull = !0);
      };
      (Mi.prototype.getCoordinates = function () {
        return this._pt;
      }),
        (Mi.prototype.getCoordinate = function (t) {
          return this._pt[t];
        }),
        (Mi.prototype.setMinimum = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            this.setMinimum(t._pt[0], t._pt[1]);
          } else if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            if (this._isNull) return this.initialize(e, n), null;
            var i = e.distance(n);
            i < this._distance && this.initialize(e, n, i);
          }
        }),
        (Mi.prototype.initialize = function () {
          if (0 === arguments.length) this._isNull = !0;
          else if (2 === arguments.length) {
            var t = arguments[0],
              e = arguments[1];
            this._pt[0].setCoordinate(t),
              this._pt[1].setCoordinate(e),
              (this._distance = t.distance(e)),
              (this._isNull = !1);
          } else if (3 === arguments.length) {
            var n = arguments[0],
              i = arguments[1],
              r = arguments[2];
            this._pt[0].setCoordinate(n),
              this._pt[1].setCoordinate(i),
              (this._distance = r),
              (this._isNull = !1);
          }
        }),
        (Mi.prototype.toString = function () {
          return Q.toLineString(this._pt[0], this._pt[1]);
        }),
        (Mi.prototype.getDistance = function () {
          return this._distance;
        }),
        (Mi.prototype.setMaximum = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            this.setMaximum(t._pt[0], t._pt[1]);
          } else if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            if (this._isNull) return this.initialize(e, n), null;
            var i = e.distance(n);
            i > this._distance && this.initialize(e, n, i);
          }
        }),
        (Mi.prototype.interfaces_ = function () {
          return [];
        }),
        (Mi.prototype.getClass = function () {
          return Mi;
        });
      var Ai = function () {};
      (Ai.prototype.interfaces_ = function () {
        return [];
      }),
        (Ai.prototype.getClass = function () {
          return Ai;
        }),
        (Ai.computeDistance = function () {
          if (
            arguments[2] instanceof Mi &&
            arguments[0] instanceof Kt &&
            arguments[1] instanceof I
          )
            for (
              var t = arguments[0],
                e = arguments[1],
                n = arguments[2],
                i = new gn(),
                r = t.getCoordinates(),
                o = 0;
              o < r.length - 1;
              o++
            ) {
              i.setCoordinates(r[o], r[o + 1]);
              var s = i.closestPoint(e);
              n.setMinimum(s, e);
            }
          else if (
            arguments[2] instanceof Mi &&
            arguments[0] instanceof $t &&
            arguments[1] instanceof I
          ) {
            var a = arguments[0],
              u = arguments[1],
              c = arguments[2];
            Ai.computeDistance(a.getExteriorRing(), u, c);
            for (var h = 0; h < a.getNumInteriorRing(); h++)
              Ai.computeDistance(a.getInteriorRingN(h), u, c);
          } else if (
            arguments[2] instanceof Mi &&
            arguments[0] instanceof ht &&
            arguments[1] instanceof I
          ) {
            var l = arguments[0],
              p = arguments[1],
              f = arguments[2];
            if (l instanceof Kt) Ai.computeDistance(l, p, f);
            else if (l instanceof $t) Ai.computeDistance(l, p, f);
            else if (l instanceof Yt)
              for (var d = l, g = 0; g < d.getNumGeometries(); g++) {
                var y = d.getGeometryN(g);
                Ai.computeDistance(y, p, f);
              }
            else f.setMinimum(l.getCoordinate(), p);
          } else if (
            arguments[2] instanceof Mi &&
            arguments[0] instanceof gn &&
            arguments[1] instanceof I
          ) {
            var _ = arguments[0],
              v = arguments[1],
              m = arguments[2],
              x = _.closestPoint(v);
            m.setMinimum(x, v);
          }
        });
      var Ni = function () {
          (this._g0 = null),
            (this._g1 = null),
            (this._ptDist = new Mi()),
            (this._densifyFrac = 0);
          var t = arguments[0],
            e = arguments[1];
          (this._g0 = t), (this._g1 = e);
        },
        Pi = {
          MaxPointDistanceFilter: { configurable: !0 },
          MaxDensifiedByFractionDistanceFilter: { configurable: !0 },
        };
      (Ni.prototype.getCoordinates = function () {
        return this._ptDist.getCoordinates();
      }),
        (Ni.prototype.setDensifyFraction = function (t) {
          if (t > 1 || t <= 0)
            throw new v("Fraction is not in range (0.0 - 1.0]");
          this._densifyFrac = t;
        }),
        (Ni.prototype.compute = function (t, e) {
          this.computeOrientedDistance(t, e, this._ptDist),
            this.computeOrientedDistance(e, t, this._ptDist);
        }),
        (Ni.prototype.distance = function () {
          return this.compute(this._g0, this._g1), this._ptDist.getDistance();
        }),
        (Ni.prototype.computeOrientedDistance = function (t, e, n) {
          var i = new Di(e);
          if (
            (t.apply(i),
            n.setMaximum(i.getMaxPointDistance()),
            this._densifyFrac > 0)
          ) {
            var r = new ki(e, this._densifyFrac);
            t.apply(r), n.setMaximum(r.getMaxPointDistance());
          }
        }),
        (Ni.prototype.orientedDistance = function () {
          return (
            this.computeOrientedDistance(this._g0, this._g1, this._ptDist),
            this._ptDist.getDistance()
          );
        }),
        (Ni.prototype.interfaces_ = function () {
          return [];
        }),
        (Ni.prototype.getClass = function () {
          return Ni;
        }),
        (Ni.distance = function () {
          if (2 === arguments.length) {
            var t = arguments[0],
              e = arguments[1];
            return new Ni(t, e).distance();
          }
          if (3 === arguments.length) {
            var n = arguments[0],
              i = arguments[1],
              r = arguments[2],
              o = new Ni(n, i);
            return o.setDensifyFraction(r), o.distance();
          }
        }),
        (Pi.MaxPointDistanceFilter.get = function () {
          return Di;
        }),
        (Pi.MaxDensifiedByFractionDistanceFilter.get = function () {
          return ki;
        }),
        Object.defineProperties(Ni, Pi);
      var Di = function () {
        (this._maxPtDist = new Mi()),
          (this._minPtDist = new Mi()),
          (this._euclideanDist = new Ai()),
          (this._geom = null);
        var t = arguments[0];
        this._geom = t;
      };
      (Di.prototype.filter = function (t) {
        this._minPtDist.initialize(),
          Ai.computeDistance(this._geom, t, this._minPtDist),
          this._maxPtDist.setMaximum(this._minPtDist);
      }),
        (Di.prototype.getMaxPointDistance = function () {
          return this._maxPtDist;
        }),
        (Di.prototype.interfaces_ = function () {
          return [ft];
        }),
        (Di.prototype.getClass = function () {
          return Di;
        });
      var ki = function () {
        (this._maxPtDist = new Mi()),
          (this._minPtDist = new Mi()),
          (this._geom = null),
          (this._numSubSegs = 0);
        var t = arguments[0],
          e = arguments[1];
        (this._geom = t), (this._numSubSegs = Math.trunc(Math.round(1 / e)));
      };
      (ki.prototype.filter = function (t, e) {
        if (0 === e) return null;
        for (
          var n = t.getCoordinate(e - 1),
            i = t.getCoordinate(e),
            r = (i.x - n.x) / this._numSubSegs,
            o = (i.y - n.y) / this._numSubSegs,
            s = 0;
          s < this._numSubSegs;
          s++
        ) {
          var a = n.x + s * r,
            u = n.y + s * o,
            c = new I(a, u);
          this._minPtDist.initialize(),
            Ai.computeDistance(this._geom, c, this._minPtDist),
            this._maxPtDist.setMaximum(this._minPtDist);
        }
      }),
        (ki.prototype.isDone = function () {
          return !1;
        }),
        (ki.prototype.isGeometryChanged = function () {
          return !1;
        }),
        (ki.prototype.getMaxPointDistance = function () {
          return this._maxPtDist;
        }),
        (ki.prototype.interfaces_ = function () {
          return [Ut];
        }),
        (ki.prototype.getClass = function () {
          return ki;
        });
      var Fi = function (t, e, n) {
          (this._minValidDistance = null),
            (this._maxValidDistance = null),
            (this._minDistanceFound = null),
            (this._maxDistanceFound = null),
            (this._isValid = !0),
            (this._errMsg = null),
            (this._errorLocation = null),
            (this._errorIndicator = null),
            (this._input = t || null),
            (this._bufDistance = e || null),
            (this._result = n || null);
        },
        Gi = {
          VERBOSE: { configurable: !0 },
          MAX_DISTANCE_DIFF_FRAC: { configurable: !0 },
        };
      (Fi.prototype.checkMaximumDistance = function (t, e, n) {
        var i = new Ni(e, t);
        if (
          (i.setDensifyFraction(0.25),
          (this._maxDistanceFound = i.orientedDistance()),
          this._maxDistanceFound > n)
        ) {
          this._isValid = !1;
          var r = i.getCoordinates();
          (this._errorLocation = r[1]),
            (this._errorIndicator = t.getFactory().createLineString(r)),
            (this._errMsg =
              "Distance between buffer curve and input is too large (" +
              this._maxDistanceFound +
              " at " +
              Q.toLineString(r[0], r[1]) +
              ")");
        }
      }),
        (Fi.prototype.isValid = function () {
          var t = Math.abs(this._bufDistance),
            e = Fi.MAX_DISTANCE_DIFF_FRAC * t;
          return (
            (this._minValidDistance = t - e),
            (this._maxValidDistance = t + e),
            !(!this._input.isEmpty() && !this._result.isEmpty()) ||
              (this._bufDistance > 0
                ? this.checkPositiveValid()
                : this.checkNegativeValid(),
              Fi.VERBOSE &&
                z.out.println(
                  "Min Dist= " +
                    this._minDistanceFound +
                    "  err= " +
                    (1 - this._minDistanceFound / this._bufDistance) +
                    "  Max Dist= " +
                    this._maxDistanceFound +
                    "  err= " +
                    (this._maxDistanceFound / this._bufDistance - 1)
                ),
              this._isValid)
          );
        }),
        (Fi.prototype.checkNegativeValid = function () {
          if (
            !(
              this._input instanceof $t ||
              this._input instanceof ne ||
              this._input instanceof Yt
            )
          )
            return null;
          var t = this.getPolygonLines(this._input);
          if (
            (this.checkMinimumDistance(t, this._result, this._minValidDistance),
            !this._isValid)
          )
            return null;
          this.checkMaximumDistance(t, this._result, this._maxValidDistance);
        }),
        (Fi.prototype.getErrorIndicator = function () {
          return this._errorIndicator;
        }),
        (Fi.prototype.checkMinimumDistance = function (t, e, n) {
          var i = new Li(t, e, n);
          if (
            ((this._minDistanceFound = i.distance()),
            this._minDistanceFound < n)
          ) {
            this._isValid = !1;
            var r = i.nearestPoints();
            (this._errorLocation = i.nearestPoints()[1]),
              (this._errorIndicator = t.getFactory().createLineString(r)),
              (this._errMsg =
                "Distance between buffer curve and input is too small (" +
                this._minDistanceFound +
                " at " +
                Q.toLineString(r[0], r[1]) +
                " )");
          }
        }),
        (Fi.prototype.checkPositiveValid = function () {
          var t = this._result.getBoundary();
          if (
            (this.checkMinimumDistance(this._input, t, this._minValidDistance),
            !this._isValid)
          )
            return null;
          this.checkMaximumDistance(this._input, t, this._maxValidDistance);
        }),
        (Fi.prototype.getErrorLocation = function () {
          return this._errorLocation;
        }),
        (Fi.prototype.getPolygonLines = function (t) {
          for (
            var e = new wt(), n = new Ii(e), i = wi.getPolygons(t).iterator();
            i.hasNext();

          )
            i.next().apply(n);
          return t.getFactory().buildGeometry(e);
        }),
        (Fi.prototype.getErrorMessage = function () {
          return this._errMsg;
        }),
        (Fi.prototype.interfaces_ = function () {
          return [];
        }),
        (Fi.prototype.getClass = function () {
          return Fi;
        }),
        (Gi.VERBOSE.get = function () {
          return !1;
        }),
        (Gi.MAX_DISTANCE_DIFF_FRAC.get = function () {
          return 0.012;
        }),
        Object.defineProperties(Fi, Gi);
      var ji = function (t, e, n) {
          (this._isValid = !0),
            (this._errorMsg = null),
            (this._errorLocation = null),
            (this._errorIndicator = null),
            (this._input = t || null),
            (this._distance = e || null),
            (this._result = n || null);
        },
        Bi = {
          VERBOSE: { configurable: !0 },
          MAX_ENV_DIFF_FRAC: { configurable: !0 },
        };
      (ji.prototype.isValid = function () {
        return (
          this.checkPolygonal(),
          this._isValid
            ? (this.checkExpectedEmpty(),
              this._isValid
                ? (this.checkEnvelope(),
                  this._isValid
                    ? (this.checkArea(),
                      this._isValid
                        ? (this.checkDistance(), this._isValid)
                        : this._isValid)
                    : this._isValid)
                : this._isValid)
            : this._isValid
        );
      }),
        (ji.prototype.checkEnvelope = function () {
          if (this._distance < 0) return null;
          var t = this._distance * ji.MAX_ENV_DIFF_FRAC;
          0 === t && (t = 0.001);
          var e = new q(this._input.getEnvelopeInternal());
          e.expandBy(this._distance);
          var n = new q(this._result.getEnvelopeInternal());
          n.expandBy(t),
            n.contains(e) ||
              ((this._isValid = !1),
              (this._errorMsg = "Buffer envelope is incorrect"),
              (this._errorIndicator = this._input.getFactory().toGeometry(n))),
            this.report("Envelope");
        }),
        (ji.prototype.checkDistance = function () {
          var t = new Fi(this._input, this._distance, this._result);
          t.isValid() ||
            ((this._isValid = !1),
            (this._errorMsg = t.getErrorMessage()),
            (this._errorLocation = t.getErrorLocation()),
            (this._errorIndicator = t.getErrorIndicator())),
            this.report("Distance");
        }),
        (ji.prototype.checkArea = function () {
          var t = this._input.getArea(),
            e = this._result.getArea();
          this._distance > 0 &&
            t > e &&
            ((this._isValid = !1),
            (this._errorMsg = "Area of positive buffer is smaller than input"),
            (this._errorIndicator = this._result)),
            this._distance < 0 &&
              t < e &&
              ((this._isValid = !1),
              (this._errorMsg = "Area of negative buffer is larger than input"),
              (this._errorIndicator = this._result)),
            this.report("Area");
        }),
        (ji.prototype.checkPolygonal = function () {
          this._result instanceof $t ||
            this._result instanceof ne ||
            (this._isValid = !1),
            (this._errorMsg = "Result is not polygonal"),
            (this._errorIndicator = this._result),
            this.report("Polygonal");
        }),
        (ji.prototype.getErrorIndicator = function () {
          return this._errorIndicator;
        }),
        (ji.prototype.getErrorLocation = function () {
          return this._errorLocation;
        }),
        (ji.prototype.checkExpectedEmpty = function () {
          return this._input.getDimension() >= 2
            ? null
            : this._distance > 0
            ? null
            : (this._result.isEmpty() ||
                ((this._isValid = !1),
                (this._errorMsg = "Result is non-empty"),
                (this._errorIndicator = this._result)),
              void this.report("ExpectedEmpty"));
        }),
        (ji.prototype.report = function (t) {
          if (!ji.VERBOSE) return null;
          z.out.println(
            "Check " + t + ": " + (this._isValid ? "passed" : "FAILED")
          );
        }),
        (ji.prototype.getErrorMessage = function () {
          return this._errorMsg;
        }),
        (ji.prototype.interfaces_ = function () {
          return [];
        }),
        (ji.prototype.getClass = function () {
          return ji;
        }),
        (ji.isValidMsg = function (t, e, n) {
          var i = new ji(t, e, n);
          return i.isValid() ? null : i.getErrorMessage();
        }),
        (ji.isValid = function (t, e, n) {
          return !!new ji(t, e, n).isValid();
        }),
        (Bi.VERBOSE.get = function () {
          return !1;
        }),
        (Bi.MAX_ENV_DIFF_FRAC.get = function () {
          return 0.012;
        }),
        Object.defineProperties(ji, Bi);
      var Ui = function () {
        (this._pts = null), (this._data = null);
        var t = arguments[0],
          e = arguments[1];
        (this._pts = t), (this._data = e);
      };
      (Ui.prototype.getCoordinates = function () {
        return this._pts;
      }),
        (Ui.prototype.size = function () {
          return this._pts.length;
        }),
        (Ui.prototype.getCoordinate = function (t) {
          return this._pts[t];
        }),
        (Ui.prototype.isClosed = function () {
          return this._pts[0].equals(this._pts[this._pts.length - 1]);
        }),
        (Ui.prototype.getSegmentOctant = function (t) {
          return t === this._pts.length - 1
            ? -1
            : ln.octant(this.getCoordinate(t), this.getCoordinate(t + 1));
        }),
        (Ui.prototype.setData = function (t) {
          this._data = t;
        }),
        (Ui.prototype.getData = function () {
          return this._data;
        }),
        (Ui.prototype.toString = function () {
          return Q.toLineString(new ue(this._pts));
        }),
        (Ui.prototype.interfaces_ = function () {
          return [pn];
        }),
        (Ui.prototype.getClass = function () {
          return Ui;
        });
      var Yi = function () {
        (this._findAllIntersections = !1),
          (this._isCheckEndSegmentsOnly = !1),
          (this._li = null),
          (this._interiorIntersection = null),
          (this._intSegments = null),
          (this._intersections = new wt()),
          (this._intersectionCount = 0),
          (this._keepIntersections = !0);
        var t = arguments[0];
        (this._li = t), (this._interiorIntersection = null);
      };
      (Yi.prototype.getInteriorIntersection = function () {
        return this._interiorIntersection;
      }),
        (Yi.prototype.setCheckEndSegmentsOnly = function (t) {
          this._isCheckEndSegmentsOnly = t;
        }),
        (Yi.prototype.getIntersectionSegments = function () {
          return this._intSegments;
        }),
        (Yi.prototype.count = function () {
          return this._intersectionCount;
        }),
        (Yi.prototype.getIntersections = function () {
          return this._intersections;
        }),
        (Yi.prototype.setFindAllIntersections = function (t) {
          this._findAllIntersections = t;
        }),
        (Yi.prototype.setKeepIntersections = function (t) {
          this._keepIntersections = t;
        }),
        (Yi.prototype.processIntersections = function (t, e, n, i) {
          if (!this._findAllIntersections && this.hasIntersection())
            return null;
          if (t === n && e === i) return null;
          if (
            this._isCheckEndSegmentsOnly &&
            !this.isEndSegment(t, e) &&
            !this.isEndSegment(n, i)
          )
            return null;
          var r = t.getCoordinates()[e],
            o = t.getCoordinates()[e + 1],
            s = n.getCoordinates()[i],
            a = n.getCoordinates()[i + 1];
          this._li.computeIntersection(r, o, s, a),
            this._li.hasIntersection() &&
              this._li.isInteriorIntersection() &&
              ((this._intSegments = new Array(4).fill(null)),
              (this._intSegments[0] = r),
              (this._intSegments[1] = o),
              (this._intSegments[2] = s),
              (this._intSegments[3] = a),
              (this._interiorIntersection = this._li.getIntersection(0)),
              this._keepIntersections &&
                this._intersections.add(this._interiorIntersection),
              this._intersectionCount++);
        }),
        (Yi.prototype.isEndSegment = function (t, e) {
          return 0 === e || e >= t.size() - 2;
        }),
        (Yi.prototype.hasIntersection = function () {
          return null !== this._interiorIntersection;
        }),
        (Yi.prototype.isDone = function () {
          return (
            !this._findAllIntersections && null !== this._interiorIntersection
          );
        }),
        (Yi.prototype.interfaces_ = function () {
          return [Hn];
        }),
        (Yi.prototype.getClass = function () {
          return Yi;
        }),
        (Yi.createAllIntersectionsFinder = function (t) {
          var e = new Yi(t);
          return e.setFindAllIntersections(!0), e;
        }),
        (Yi.createAnyIntersectionFinder = function (t) {
          return new Yi(t);
        }),
        (Yi.createIntersectionCounter = function (t) {
          var e = new Yi(t);
          return e.setFindAllIntersections(!0), e.setKeepIntersections(!1), e;
        });
      var Xi = function () {
        (this._li = new rt()),
          (this._segStrings = null),
          (this._findAllIntersections = !1),
          (this._segInt = null),
          (this._isValid = !0);
        var t = arguments[0];
        this._segStrings = t;
      };
      (Xi.prototype.execute = function () {
        if (null !== this._segInt) return null;
        this.checkInteriorIntersections();
      }),
        (Xi.prototype.getIntersections = function () {
          return this._segInt.getIntersections();
        }),
        (Xi.prototype.isValid = function () {
          return this.execute(), this._isValid;
        }),
        (Xi.prototype.setFindAllIntersections = function (t) {
          this._findAllIntersections = t;
        }),
        (Xi.prototype.checkInteriorIntersections = function () {
          (this._isValid = !0),
            (this._segInt = new Yi(this._li)),
            this._segInt.setFindAllIntersections(this._findAllIntersections);
          var t = new bn();
          if (
            (t.setSegmentIntersector(this._segInt),
            t.computeNodes(this._segStrings),
            this._segInt.hasIntersection())
          )
            return (this._isValid = !1), null;
        }),
        (Xi.prototype.checkValid = function () {
          if ((this.execute(), !this._isValid))
            throw new Oe(
              this.getErrorMessage(),
              this._segInt.getInteriorIntersection()
            );
        }),
        (Xi.prototype.getErrorMessage = function () {
          if (this._isValid) return "no intersections found";
          var t = this._segInt.getIntersectionSegments();
          return (
            "found non-noded intersection between " +
            Q.toLineString(t[0], t[1]) +
            " and " +
            Q.toLineString(t[2], t[3])
          );
        }),
        (Xi.prototype.interfaces_ = function () {
          return [];
        }),
        (Xi.prototype.getClass = function () {
          return Xi;
        }),
        (Xi.computeIntersections = function (t) {
          var e = new Xi(t);
          return (
            e.setFindAllIntersections(!0), e.isValid(), e.getIntersections()
          );
        });
      var zi = function t() {
        this._nv = null;
        var e = arguments[0];
        this._nv = new Xi(t.toSegmentStrings(e));
      };
      (zi.prototype.checkValid = function () {
        this._nv.checkValid();
      }),
        (zi.prototype.interfaces_ = function () {
          return [];
        }),
        (zi.prototype.getClass = function () {
          return zi;
        }),
        (zi.toSegmentStrings = function (t) {
          for (var e = new wt(), n = t.iterator(); n.hasNext(); ) {
            var i = n.next();
            e.add(new Ui(i.getCoordinates(), i));
          }
          return e;
        }),
        (zi.checkValid = function (t) {
          new zi(t).checkValid();
        });
      var Vi = function (t) {
        this._mapOp = t;
      };
      (Vi.prototype.map = function (t) {
        for (var e = new wt(), n = 0; n < t.getNumGeometries(); n++) {
          var i = this._mapOp.map(t.getGeometryN(n));
          i.isEmpty() || e.add(i);
        }
        return t.getFactory().createGeometryCollection(_e.toGeometryArray(e));
      }),
        (Vi.prototype.interfaces_ = function () {
          return [];
        }),
        (Vi.prototype.getClass = function () {
          return Vi;
        }),
        (Vi.map = function (t, e) {
          return new Vi(e).map(t);
        });
      var qi = function () {
        (this._op = null),
          (this._geometryFactory = null),
          (this._ptLocator = null),
          (this._lineEdgesList = new wt()),
          (this._resultLineList = new wt());
        var t = arguments[0],
          e = arguments[1],
          n = arguments[2];
        (this._op = t), (this._geometryFactory = e), (this._ptLocator = n);
      };
      (qi.prototype.collectLines = function (t) {
        for (
          var e = this._op.getGraph().getEdgeEnds().iterator();
          e.hasNext();

        ) {
          var n = e.next();
          this.collectLineEdge(n, t, this._lineEdgesList),
            this.collectBoundaryTouchEdge(n, t, this._lineEdgesList);
        }
      }),
        (qi.prototype.labelIsolatedLine = function (t, e) {
          var n = this._ptLocator.locate(
            t.getCoordinate(),
            this._op.getArgGeometry(e)
          );
          t.getLabel().setLocation(e, n);
        }),
        (qi.prototype.build = function (t) {
          return (
            this.findCoveredLineEdges(),
            this.collectLines(t),
            this.buildLines(t),
            this._resultLineList
          );
        }),
        (qi.prototype.collectLineEdge = function (t, e, n) {
          var i = t.getLabel(),
            r = t.getEdge();
          t.isLineEdge() &&
            (t.isVisited() ||
              !Cr.isResultOfOp(i, e) ||
              r.isCovered() ||
              (n.add(r), t.setVisitedEdge(!0)));
        }),
        (qi.prototype.findCoveredLineEdges = function () {
          for (var t = this._op.getGraph().getNodes().iterator(); t.hasNext(); )
            t.next().getEdges().findCoveredLineEdges();
          for (
            var e = this._op.getGraph().getEdgeEnds().iterator();
            e.hasNext();

          ) {
            var n = e.next(),
              i = n.getEdge();
            if (n.isLineEdge() && !i.isCoveredSet()) {
              var r = this._op.isCoveredByA(n.getCoordinate());
              i.setCovered(r);
            }
          }
        }),
        (qi.prototype.labelIsolatedLines = function (t) {
          for (var e = t.iterator(); e.hasNext(); ) {
            var n = e.next(),
              i = n.getLabel();
            n.isIsolated() &&
              (i.isNull(0)
                ? this.labelIsolatedLine(n, 0)
                : this.labelIsolatedLine(n, 1));
          }
        }),
        (qi.prototype.buildLines = function (t) {
          for (var e = this._lineEdgesList.iterator(); e.hasNext(); ) {
            var n = e.next(),
              i = this._geometryFactory.createLineString(n.getCoordinates());
            this._resultLineList.add(i), n.setInResult(!0);
          }
        }),
        (qi.prototype.collectBoundaryTouchEdge = function (t, e, n) {
          var i = t.getLabel();
          return t.isLineEdge()
            ? null
            : t.isVisited()
            ? null
            : t.isInteriorAreaEdge()
            ? null
            : t.getEdge().isInResult()
            ? null
            : (et.isTrue(
                !(t.isInResult() || t.getSym().isInResult()) ||
                  !t.getEdge().isInResult()
              ),
              void (
                Cr.isResultOfOp(i, e) &&
                e === Cr.INTERSECTION &&
                (n.add(t.getEdge()), t.setVisitedEdge(!0))
              ));
        }),
        (qi.prototype.interfaces_ = function () {
          return [];
        }),
        (qi.prototype.getClass = function () {
          return qi;
        });
      var Wi = function () {
        (this._op = null),
          (this._geometryFactory = null),
          (this._resultPointList = new wt());
        var t = arguments[0],
          e = arguments[1];
        (this._op = t), (this._geometryFactory = e);
      };
      (Wi.prototype.filterCoveredNodeToPoint = function (t) {
        var e = t.getCoordinate();
        if (!this._op.isCoveredByLA(e)) {
          var n = this._geometryFactory.createPoint(e);
          this._resultPointList.add(n);
        }
      }),
        (Wi.prototype.extractNonCoveredResultNodes = function (t) {
          for (
            var e = this._op.getGraph().getNodes().iterator();
            e.hasNext();

          ) {
            var n = e.next();
            if (
              !(
                n.isInResult() ||
                n.isIncidentEdgeInResult() ||
                (0 !== n.getEdges().getDegree() && t !== Cr.INTERSECTION)
              )
            ) {
              var i = n.getLabel();
              Cr.isResultOfOp(i, t) && this.filterCoveredNodeToPoint(n);
            }
          }
        }),
        (Wi.prototype.build = function (t) {
          return this.extractNonCoveredResultNodes(t), this._resultPointList;
        }),
        (Wi.prototype.interfaces_ = function () {
          return [];
        }),
        (Wi.prototype.getClass = function () {
          return Wi;
        });
      var Hi = function () {
        (this._inputGeom = null),
          (this._factory = null),
          (this._pruneEmptyGeometry = !0),
          (this._preserveGeometryCollectionType = !0),
          (this._preserveCollections = !1),
          (this._preserveType = !1);
      };
      (Hi.prototype.transformPoint = function (t, e) {
        return this._factory.createPoint(
          this.transformCoordinates(t.getCoordinateSequence(), t)
        );
      }),
        (Hi.prototype.transformPolygon = function (t, e) {
          var n = !0,
            i = this.transformLinearRing(t.getExteriorRing(), t);
          (null !== i && i instanceof ee && !i.isEmpty()) || (n = !1);
          for (var r = new wt(), o = 0; o < t.getNumInteriorRing(); o++) {
            var s = this.transformLinearRing(t.getInteriorRingN(o), t);
            null === s ||
              s.isEmpty() ||
              (s instanceof ee || (n = !1), r.add(s));
          }
          if (n) return this._factory.createPolygon(i, r.toArray([]));
          var a = new wt();
          return (
            null !== i && a.add(i), a.addAll(r), this._factory.buildGeometry(a)
          );
        }),
        (Hi.prototype.createCoordinateSequence = function (t) {
          return this._factory.getCoordinateSequenceFactory().create(t);
        }),
        (Hi.prototype.getInputGeometry = function () {
          return this._inputGeom;
        }),
        (Hi.prototype.transformMultiLineString = function (t, e) {
          for (var n = new wt(), i = 0; i < t.getNumGeometries(); i++) {
            var r = this.transformLineString(t.getGeometryN(i), t);
            null !== r && (r.isEmpty() || n.add(r));
          }
          return this._factory.buildGeometry(n);
        }),
        (Hi.prototype.transformCoordinates = function (t, e) {
          return this.copy(t);
        }),
        (Hi.prototype.transformLineString = function (t, e) {
          return this._factory.createLineString(
            this.transformCoordinates(t.getCoordinateSequence(), t)
          );
        }),
        (Hi.prototype.transformMultiPoint = function (t, e) {
          for (var n = new wt(), i = 0; i < t.getNumGeometries(); i++) {
            var r = this.transformPoint(t.getGeometryN(i), t);
            null !== r && (r.isEmpty() || n.add(r));
          }
          return this._factory.buildGeometry(n);
        }),
        (Hi.prototype.transformMultiPolygon = function (t, e) {
          for (var n = new wt(), i = 0; i < t.getNumGeometries(); i++) {
            var r = this.transformPolygon(t.getGeometryN(i), t);
            null !== r && (r.isEmpty() || n.add(r));
          }
          return this._factory.buildGeometry(n);
        }),
        (Hi.prototype.copy = function (t) {
          return t.copy();
        }),
        (Hi.prototype.transformGeometryCollection = function (t, e) {
          for (var n = new wt(), i = 0; i < t.getNumGeometries(); i++) {
            var r = this.transform(t.getGeometryN(i));
            null !== r &&
              ((this._pruneEmptyGeometry && r.isEmpty()) || n.add(r));
          }
          return this._preserveGeometryCollectionType
            ? this._factory.createGeometryCollection(_e.toGeometryArray(n))
            : this._factory.buildGeometry(n);
        }),
        (Hi.prototype.transform = function (t) {
          if (
            ((this._inputGeom = t),
            (this._factory = t.getFactory()),
            t instanceof Jt)
          )
            return this.transformPoint(t, null);
          if (t instanceof te) return this.transformMultiPoint(t, null);
          if (t instanceof ee) return this.transformLinearRing(t, null);
          if (t instanceof Kt) return this.transformLineString(t, null);
          if (t instanceof Xt) return this.transformMultiLineString(t, null);
          if (t instanceof $t) return this.transformPolygon(t, null);
          if (t instanceof ne) return this.transformMultiPolygon(t, null);
          if (t instanceof Yt) return this.transformGeometryCollection(t, null);
          throw new v("Unknown Geometry subtype: " + t.getClass().getName());
        }),
        (Hi.prototype.transformLinearRing = function (t, e) {
          var n = this.transformCoordinates(t.getCoordinateSequence(), t);
          if (null === n) return this._factory.createLinearRing(null);
          var i = n.size();
          return i > 0 && i < 4 && !this._preserveType
            ? this._factory.createLineString(n)
            : this._factory.createLinearRing(n);
        }),
        (Hi.prototype.interfaces_ = function () {
          return [];
        }),
        (Hi.prototype.getClass = function () {
          return Hi;
        });
      var Ki = function t() {
        if (
          ((this._snapTolerance = 0),
          (this._srcPts = null),
          (this._seg = new gn()),
          (this._allowSnappingToSourceVertices = !1),
          (this._isClosed = !1),
          arguments[0] instanceof Kt && "number" == typeof arguments[1])
        ) {
          var e = arguments[0],
            n = arguments[1];
          t.call(this, e.getCoordinates(), n);
        } else if (
          arguments[0] instanceof Array &&
          "number" == typeof arguments[1]
        ) {
          var i = arguments[0],
            r = arguments[1];
          (this._srcPts = i),
            (this._isClosed = t.isClosed(i)),
            (this._snapTolerance = r);
        }
      };
      (Ki.prototype.snapVertices = function (t, e) {
        for (
          var n = this._isClosed ? t.size() - 1 : t.size(), i = 0;
          i < n;
          i++
        ) {
          var r = t.get(i),
            o = this.findSnapForVertex(r, e);
          null !== o &&
            (t.set(i, new I(o)),
            0 === i && this._isClosed && t.set(t.size() - 1, new I(o)));
        }
      }),
        (Ki.prototype.findSnapForVertex = function (t, e) {
          for (var n = 0; n < e.length; n++) {
            if (t.equals2D(e[n])) return null;
            if (t.distance(e[n]) < this._snapTolerance) return e[n];
          }
          return null;
        }),
        (Ki.prototype.snapTo = function (t) {
          var e = new St(this._srcPts);
          return (
            this.snapVertices(e, t),
            this.snapSegments(e, t),
            e.toCoordinateArray()
          );
        }),
        (Ki.prototype.snapSegments = function (t, e) {
          if (0 === e.length) return null;
          var n = e.length;
          e[0].equals2D(e[e.length - 1]) && (n = e.length - 1);
          for (var i = 0; i < n; i++) {
            var r = e[i],
              o = this.findSegmentIndexToSnap(r, t);
            o >= 0 && t.add(o + 1, new I(r), !1);
          }
        }),
        (Ki.prototype.findSegmentIndexToSnap = function (t, e) {
          for (var n = m.MAX_VALUE, i = -1, r = 0; r < e.size() - 1; r++) {
            if (
              ((this._seg.p0 = e.get(r)),
              (this._seg.p1 = e.get(r + 1)),
              this._seg.p0.equals2D(t) || this._seg.p1.equals2D(t))
            ) {
              if (this._allowSnappingToSourceVertices) continue;
              return -1;
            }
            var o = this._seg.distance(t);
            o < this._snapTolerance && o < n && ((n = o), (i = r));
          }
          return i;
        }),
        (Ki.prototype.setAllowSnappingToSourceVertices = function (t) {
          this._allowSnappingToSourceVertices = t;
        }),
        (Ki.prototype.interfaces_ = function () {
          return [];
        }),
        (Ki.prototype.getClass = function () {
          return Ki;
        }),
        (Ki.isClosed = function (t) {
          return !(t.length <= 1) && t[0].equals2D(t[t.length - 1]);
        });
      var Zi = function (t) {
          this._srcGeom = t || null;
        },
        Ji = { SNAP_PRECISION_FACTOR: { configurable: !0 } };
      (Zi.prototype.snapTo = function (t, e) {
        var n = this.extractTargetCoordinates(t);
        return new Qi(e, n).transform(this._srcGeom);
      }),
        (Zi.prototype.snapToSelf = function (t, e) {
          var n = this.extractTargetCoordinates(this._srcGeom),
            i = new Qi(t, n, !0).transform(this._srcGeom),
            r = i;
          return e && L(r, Qt) && (r = i.buffer(0)), r;
        }),
        (Zi.prototype.computeSnapTolerance = function (t) {
          return this.computeMinimumSegmentLength(t) / 10;
        }),
        (Zi.prototype.extractTargetCoordinates = function (t) {
          for (
            var e = new f(), n = t.getCoordinates(), i = 0;
            i < n.length;
            i++
          )
            e.add(n[i]);
          return e.toArray(new Array(0).fill(null));
        }),
        (Zi.prototype.computeMinimumSegmentLength = function (t) {
          for (var e = m.MAX_VALUE, n = 0; n < t.length - 1; n++) {
            var i = t[n].distance(t[n + 1]);
            i < e && (e = i);
          }
          return e;
        }),
        (Zi.prototype.interfaces_ = function () {
          return [];
        }),
        (Zi.prototype.getClass = function () {
          return Zi;
        }),
        (Zi.snap = function (t, e, n) {
          var i = new Array(2).fill(null),
            r = new Zi(t);
          i[0] = r.snapTo(e, n);
          var o = new Zi(e);
          return (i[1] = o.snapTo(i[0], n)), i;
        }),
        (Zi.computeOverlaySnapTolerance = function () {
          if (1 === arguments.length) {
            var t = arguments[0],
              e = Zi.computeSizeBasedSnapTolerance(t),
              n = t.getPrecisionModel();
            if (n.getType() === fe.FIXED) {
              var i = ((1 / n.getScale()) * 2) / 1.415;
              i > e && (e = i);
            }
            return e;
          }
          if (2 === arguments.length) {
            var r = arguments[0],
              o = arguments[1];
            return Math.min(
              Zi.computeOverlaySnapTolerance(r),
              Zi.computeOverlaySnapTolerance(o)
            );
          }
        }),
        (Zi.computeSizeBasedSnapTolerance = function (t) {
          var e = t.getEnvelopeInternal();
          return (
            Math.min(e.getHeight(), e.getWidth()) * Zi.SNAP_PRECISION_FACTOR
          );
        }),
        (Zi.snapToSelf = function (t, e, n) {
          return new Zi(t).snapToSelf(e, n);
        }),
        (Ji.SNAP_PRECISION_FACTOR.get = function () {
          return 1e-9;
        }),
        Object.defineProperties(Zi, Ji);
      var Qi = (function (t) {
          function e(e, n, i) {
            t.call(this),
              (this._snapTolerance = e || null),
              (this._snapPts = n || null),
              (this._isSelfSnap = void 0 !== i && i);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.snapLine = function (t, e) {
              var n = new Ki(t, this._snapTolerance);
              return (
                n.setAllowSnappingToSourceVertices(this._isSelfSnap),
                n.snapTo(e)
              );
            }),
            (e.prototype.transformCoordinates = function (t, e) {
              var n = t.toCoordinateArray(),
                i = this.snapLine(n, this._snapPts);
              return this._factory.getCoordinateSequenceFactory().create(i);
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            e
          );
        })(Hi),
        $i = function () {
          (this._isFirst = !0),
            (this._commonMantissaBitsCount = 53),
            (this._commonBits = 0),
            (this._commonSignExp = null);
        };
      ($i.prototype.getCommon = function () {
        return m.longBitsToDouble(this._commonBits);
      }),
        ($i.prototype.add = function (t) {
          var e = m.doubleToLongBits(t);
          return this._isFirst
            ? ((this._commonBits = e),
              (this._commonSignExp = $i.signExpBits(this._commonBits)),
              (this._isFirst = !1),
              null)
            : $i.signExpBits(e) !== this._commonSignExp
            ? ((this._commonBits = 0), null)
            : ((this._commonMantissaBitsCount = $i.numCommonMostSigMantissaBits(
                this._commonBits,
                e
              )),
              void (this._commonBits = $i.zeroLowerBits(
                this._commonBits,
                64 - (12 + this._commonMantissaBitsCount)
              )));
        }),
        ($i.prototype.toString = function () {
          if (1 === arguments.length) {
            var t = arguments[0],
              e = m.longBitsToDouble(t),
              n =
                "0000000000000000000000000000000000000000000000000000000000000000" +
                m.toBinaryString(t),
              i = n.substring(n.length - 64);
            return (
              i.substring(0, 1) +
              "  " +
              i.substring(1, 12) +
              "(exp) " +
              i.substring(12) +
              " [ " +
              e +
              " ]"
            );
          }
        }),
        ($i.prototype.interfaces_ = function () {
          return [];
        }),
        ($i.prototype.getClass = function () {
          return $i;
        }),
        ($i.getBit = function (t, e) {
          return 0 != (t & (1 << e)) ? 1 : 0;
        }),
        ($i.signExpBits = function (t) {
          return t >> 52;
        }),
        ($i.zeroLowerBits = function (t, e) {
          return t & ~((1 << e) - 1);
        }),
        ($i.numCommonMostSigMantissaBits = function (t, e) {
          for (var n = 0, i = 52; i >= 0; i--) {
            if ($i.getBit(t, i) !== $i.getBit(e, i)) return n;
            n++;
          }
          return 52;
        });
      var tr = function () {
          (this._commonCoord = null), (this._ccFilter = new nr());
        },
        er = {
          CommonCoordinateFilter: { configurable: !0 },
          Translater: { configurable: !0 },
        };
      (tr.prototype.addCommonBits = function (t) {
        var e = new ir(this._commonCoord);
        t.apply(e), t.geometryChanged();
      }),
        (tr.prototype.removeCommonBits = function (t) {
          if (0 === this._commonCoord.x && 0 === this._commonCoord.y) return t;
          var e = new I(this._commonCoord);
          (e.x = -e.x), (e.y = -e.y);
          var n = new ir(e);
          return t.apply(n), t.geometryChanged(), t;
        }),
        (tr.prototype.getCommonCoordinate = function () {
          return this._commonCoord;
        }),
        (tr.prototype.add = function (t) {
          t.apply(this._ccFilter),
            (this._commonCoord = this._ccFilter.getCommonCoordinate());
        }),
        (tr.prototype.interfaces_ = function () {
          return [];
        }),
        (tr.prototype.getClass = function () {
          return tr;
        }),
        (er.CommonCoordinateFilter.get = function () {
          return nr;
        }),
        (er.Translater.get = function () {
          return ir;
        }),
        Object.defineProperties(tr, er);
      var nr = function () {
        (this._commonBitsX = new $i()), (this._commonBitsY = new $i());
      };
      (nr.prototype.filter = function (t) {
        this._commonBitsX.add(t.x), this._commonBitsY.add(t.y);
      }),
        (nr.prototype.getCommonCoordinate = function () {
          return new I(
            this._commonBitsX.getCommon(),
            this._commonBitsY.getCommon()
          );
        }),
        (nr.prototype.interfaces_ = function () {
          return [ft];
        }),
        (nr.prototype.getClass = function () {
          return nr;
        });
      var ir = function () {
        this.trans = null;
        var t = arguments[0];
        this.trans = t;
      };
      (ir.prototype.filter = function (t, e) {
        var n = t.getOrdinate(e, 0) + this.trans.x,
          i = t.getOrdinate(e, 1) + this.trans.y;
        t.setOrdinate(e, 0, n), t.setOrdinate(e, 1, i);
      }),
        (ir.prototype.isDone = function () {
          return !1;
        }),
        (ir.prototype.isGeometryChanged = function () {
          return !0;
        }),
        (ir.prototype.interfaces_ = function () {
          return [Ut];
        }),
        (ir.prototype.getClass = function () {
          return ir;
        });
      var rr = function (t, e) {
        (this._geom = new Array(2).fill(null)),
          (this._snapTolerance = null),
          (this._cbr = null),
          (this._geom[0] = t),
          (this._geom[1] = e),
          this.computeSnapTolerance();
      };
      (rr.prototype.selfSnap = function (t) {
        return new Zi(t).snapTo(t, this._snapTolerance);
      }),
        (rr.prototype.removeCommonBits = function (t) {
          (this._cbr = new tr()), this._cbr.add(t[0]), this._cbr.add(t[1]);
          var e = new Array(2).fill(null);
          return (
            (e[0] = this._cbr.removeCommonBits(t[0].copy())),
            (e[1] = this._cbr.removeCommonBits(t[1].copy())),
            e
          );
        }),
        (rr.prototype.prepareResult = function (t) {
          return this._cbr.addCommonBits(t), t;
        }),
        (rr.prototype.getResultGeometry = function (t) {
          var e = this.snap(this._geom),
            n = Cr.overlayOp(e[0], e[1], t);
          return this.prepareResult(n);
        }),
        (rr.prototype.checkValid = function (t) {
          t.isValid() || z.out.println("Snapped geometry is invalid");
        }),
        (rr.prototype.computeSnapTolerance = function () {
          this._snapTolerance = Zi.computeOverlaySnapTolerance(
            this._geom[0],
            this._geom[1]
          );
        }),
        (rr.prototype.snap = function (t) {
          var e = this.removeCommonBits(t);
          return Zi.snap(e[0], e[1], this._snapTolerance);
        }),
        (rr.prototype.interfaces_ = function () {
          return [];
        }),
        (rr.prototype.getClass = function () {
          return rr;
        }),
        (rr.overlayOp = function (t, e, n) {
          return new rr(t, e).getResultGeometry(n);
        }),
        (rr.union = function (t, e) {
          return rr.overlayOp(t, e, Cr.UNION);
        }),
        (rr.intersection = function (t, e) {
          return rr.overlayOp(t, e, Cr.INTERSECTION);
        }),
        (rr.symDifference = function (t, e) {
          return rr.overlayOp(t, e, Cr.SYMDIFFERENCE);
        }),
        (rr.difference = function (t, e) {
          return rr.overlayOp(t, e, Cr.DIFFERENCE);
        });
      var or = function (t, e) {
        (this._geom = new Array(2).fill(null)),
          (this._geom[0] = t),
          (this._geom[1] = e);
      };
      (or.prototype.getResultGeometry = function (t) {
        var e = null,
          n = !1,
          i = null;
        try {
          (e = Cr.overlayOp(this._geom[0], this._geom[1], t)), (n = !0);
        } catch (t) {
          if (!(t instanceof $)) throw t;
          i = t;
        }
        if (!n)
          try {
            e = rr.overlayOp(this._geom[0], this._geom[1], t);
          } catch (t) {
            throw t instanceof $ ? i : t;
          }
        return e;
      }),
        (or.prototype.interfaces_ = function () {
          return [];
        }),
        (or.prototype.getClass = function () {
          return or;
        }),
        (or.overlayOp = function (t, e, n) {
          return new or(t, e).getResultGeometry(n);
        }),
        (or.union = function (t, e) {
          return or.overlayOp(t, e, Cr.UNION);
        }),
        (or.intersection = function (t, e) {
          return or.overlayOp(t, e, Cr.INTERSECTION);
        }),
        (or.symDifference = function (t, e) {
          return or.overlayOp(t, e, Cr.SYMDIFFERENCE);
        }),
        (or.difference = function (t, e) {
          return or.overlayOp(t, e, Cr.DIFFERENCE);
        });
      var sr = function () {
        (this.mce = null), (this.chainIndex = null);
        var t = arguments[0],
          e = arguments[1];
        (this.mce = t), (this.chainIndex = e);
      };
      (sr.prototype.computeIntersections = function (t, e) {
        this.mce.computeIntersectsForChain(
          this.chainIndex,
          t.mce,
          t.chainIndex,
          e
        );
      }),
        (sr.prototype.interfaces_ = function () {
          return [];
        }),
        (sr.prototype.getClass = function () {
          return sr;
        });
      var ar = function t() {
          if (
            ((this._label = null),
            (this._xValue = null),
            (this._eventType = null),
            (this._insertEvent = null),
            (this._deleteEventIndex = null),
            (this._obj = null),
            2 === arguments.length)
          ) {
            var e = arguments[0],
              n = arguments[1];
            (this._eventType = t.DELETE),
              (this._xValue = e),
              (this._insertEvent = n);
          } else if (3 === arguments.length) {
            var i = arguments[0],
              r = arguments[1],
              o = arguments[2];
            (this._eventType = t.INSERT),
              (this._label = i),
              (this._xValue = r),
              (this._obj = o);
          }
        },
        ur = { INSERT: { configurable: !0 }, DELETE: { configurable: !0 } };
      (ar.prototype.isDelete = function () {
        return this._eventType === ar.DELETE;
      }),
        (ar.prototype.setDeleteEventIndex = function (t) {
          this._deleteEventIndex = t;
        }),
        (ar.prototype.getObject = function () {
          return this._obj;
        }),
        (ar.prototype.compareTo = function (t) {
          var e = t;
          return this._xValue < e._xValue
            ? -1
            : this._xValue > e._xValue
            ? 1
            : this._eventType < e._eventType
            ? -1
            : this._eventType > e._eventType
            ? 1
            : 0;
        }),
        (ar.prototype.getInsertEvent = function () {
          return this._insertEvent;
        }),
        (ar.prototype.isInsert = function () {
          return this._eventType === ar.INSERT;
        }),
        (ar.prototype.isSameLabel = function (t) {
          return null !== this._label && this._label === t._label;
        }),
        (ar.prototype.getDeleteEventIndex = function () {
          return this._deleteEventIndex;
        }),
        (ar.prototype.interfaces_ = function () {
          return [E];
        }),
        (ar.prototype.getClass = function () {
          return ar;
        }),
        (ur.INSERT.get = function () {
          return 1;
        }),
        (ur.DELETE.get = function () {
          return 2;
        }),
        Object.defineProperties(ar, ur);
      var cr = function () {};
      (cr.prototype.interfaces_ = function () {
        return [];
      }),
        (cr.prototype.getClass = function () {
          return cr;
        });
      var hr = function () {
        (this._hasIntersection = !1),
          (this._hasProper = !1),
          (this._hasProperInterior = !1),
          (this._properIntersectionPoint = null),
          (this._li = null),
          (this._includeProper = null),
          (this._recordIsolated = null),
          (this._isSelfIntersection = null),
          (this._numIntersections = 0),
          (this.numTests = 0),
          (this._bdyNodes = null),
          (this._isDone = !1),
          (this._isDoneWhenProperInt = !1);
        var t = arguments[0],
          e = arguments[1],
          n = arguments[2];
        (this._li = t), (this._includeProper = e), (this._recordIsolated = n);
      };
      (hr.prototype.isTrivialIntersection = function (t, e, n, i) {
        if (t === n && 1 === this._li.getIntersectionNum()) {
          if (hr.isAdjacentSegments(e, i)) return !0;
          if (t.isClosed()) {
            var r = t.getNumPoints() - 1;
            if ((0 === e && i === r) || (0 === i && e === r)) return !0;
          }
        }
        return !1;
      }),
        (hr.prototype.getProperIntersectionPoint = function () {
          return this._properIntersectionPoint;
        }),
        (hr.prototype.setIsDoneIfProperInt = function (t) {
          this._isDoneWhenProperInt = t;
        }),
        (hr.prototype.hasProperInteriorIntersection = function () {
          return this._hasProperInterior;
        }),
        (hr.prototype.isBoundaryPointInternal = function (t, e) {
          for (var n = e.iterator(); n.hasNext(); ) {
            var i = n.next().getCoordinate();
            if (t.isIntersection(i)) return !0;
          }
          return !1;
        }),
        (hr.prototype.hasProperIntersection = function () {
          return this._hasProper;
        }),
        (hr.prototype.hasIntersection = function () {
          return this._hasIntersection;
        }),
        (hr.prototype.isDone = function () {
          return this._isDone;
        }),
        (hr.prototype.isBoundaryPoint = function (t, e) {
          return !(
            null === e ||
            (!this.isBoundaryPointInternal(t, e[0]) &&
              !this.isBoundaryPointInternal(t, e[1]))
          );
        }),
        (hr.prototype.setBoundaryNodes = function (t, e) {
          (this._bdyNodes = new Array(2).fill(null)),
            (this._bdyNodes[0] = t),
            (this._bdyNodes[1] = e);
        }),
        (hr.prototype.addIntersections = function (t, e, n, i) {
          if (t === n && e === i) return null;
          this.numTests++;
          var r = t.getCoordinates()[e],
            o = t.getCoordinates()[e + 1],
            s = n.getCoordinates()[i],
            a = n.getCoordinates()[i + 1];
          this._li.computeIntersection(r, o, s, a),
            this._li.hasIntersection() &&
              (this._recordIsolated && (t.setIsolated(!1), n.setIsolated(!1)),
              this._numIntersections++,
              this.isTrivialIntersection(t, e, n, i) ||
                ((this._hasIntersection = !0),
                (!this._includeProper && this._li.isProper()) ||
                  (t.addIntersections(this._li, e, 0),
                  n.addIntersections(this._li, i, 1)),
                this._li.isProper() &&
                  ((this._properIntersectionPoint = this._li
                    .getIntersection(0)
                    .copy()),
                  (this._hasProper = !0),
                  this._isDoneWhenProperInt && (this._isDone = !0),
                  this.isBoundaryPoint(this._li, this._bdyNodes) ||
                    (this._hasProperInterior = !0))));
        }),
        (hr.prototype.interfaces_ = function () {
          return [];
        }),
        (hr.prototype.getClass = function () {
          return hr;
        }),
        (hr.isAdjacentSegments = function (t, e) {
          return 1 === Math.abs(t - e);
        });
      var lr = (function (t) {
          function e() {
            t.call(this), (this.events = new wt()), (this.nOverlaps = null);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.prepareEvents = function () {
              $e.sort(this.events);
              for (var t = 0; t < this.events.size(); t++) {
                var e = this.events.get(t);
                e.isDelete() && e.getInsertEvent().setDeleteEventIndex(t);
              }
            }),
            (e.prototype.computeIntersections = function () {
              if (1 === arguments.length) {
                var t = arguments[0];
                (this.nOverlaps = 0), this.prepareEvents();
                for (var e = 0; e < this.events.size(); e++) {
                  var n = this.events.get(e);
                  if (
                    (n.isInsert() &&
                      this.processOverlaps(e, n.getDeleteEventIndex(), n, t),
                    t.isDone())
                  )
                    break;
                }
              } else if (3 === arguments.length)
                if (
                  arguments[2] instanceof hr &&
                  L(arguments[0], bt) &&
                  L(arguments[1], bt)
                ) {
                  var i = arguments[0],
                    r = arguments[1],
                    o = arguments[2];
                  this.addEdges(i, i),
                    this.addEdges(r, r),
                    this.computeIntersections(o);
                } else if (
                  "boolean" == typeof arguments[2] &&
                  L(arguments[0], bt) &&
                  arguments[1] instanceof hr
                ) {
                  var s = arguments[0],
                    a = arguments[1];
                  arguments[2] ? this.addEdges(s, null) : this.addEdges(s),
                    this.computeIntersections(a);
                }
            }),
            (e.prototype.addEdge = function (t, e) {
              for (
                var n = t.getMonotoneChainEdge(),
                  i = n.getStartIndexes(),
                  r = 0;
                r < i.length - 1;
                r++
              ) {
                var o = new sr(n, r),
                  s = new ar(e, n.getMinX(r), o);
                this.events.add(s), this.events.add(new ar(n.getMaxX(r), s));
              }
            }),
            (e.prototype.processOverlaps = function (t, e, n, i) {
              for (var r = n.getObject(), o = t; o < e; o++) {
                var s = this.events.get(o);
                if (s.isInsert()) {
                  var a = s.getObject();
                  n.isSameLabel(s) ||
                    (r.computeIntersections(a, i), this.nOverlaps++);
                }
              }
            }),
            (e.prototype.addEdges = function () {
              if (1 === arguments.length)
                for (var t = arguments[0].iterator(); t.hasNext(); ) {
                  var e = t.next();
                  this.addEdge(e, e);
                }
              else if (2 === arguments.length)
                for (
                  var n = arguments[0], i = arguments[1], r = n.iterator();
                  r.hasNext();

                ) {
                  var o = r.next();
                  this.addEdge(o, i);
                }
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            e
          );
        })(cr),
        pr = function () {
          (this._min = m.POSITIVE_INFINITY), (this._max = m.NEGATIVE_INFINITY);
        },
        fr = { NodeComparator: { configurable: !0 } };
      (pr.prototype.getMin = function () {
        return this._min;
      }),
        (pr.prototype.intersects = function (t, e) {
          return !(this._min > e || this._max < t);
        }),
        (pr.prototype.getMax = function () {
          return this._max;
        }),
        (pr.prototype.toString = function () {
          return Q.toLineString(new I(this._min, 0), new I(this._max, 0));
        }),
        (pr.prototype.interfaces_ = function () {
          return [];
        }),
        (pr.prototype.getClass = function () {
          return pr;
        }),
        (fr.NodeComparator.get = function () {
          return dr;
        }),
        Object.defineProperties(pr, fr);
      var dr = function () {};
      (dr.prototype.compare = function (t, e) {
        var n = t,
          i = e,
          r = (n._min + n._max) / 2,
          o = (i._min + i._max) / 2;
        return r < o ? -1 : r > o ? 1 : 0;
      }),
        (dr.prototype.interfaces_ = function () {
          return [w];
        }),
        (dr.prototype.getClass = function () {
          return dr;
        });
      var gr = (function (t) {
          function e() {
            t.call(this), (this._item = null);
            var e = arguments[0],
              n = arguments[1],
              i = arguments[2];
            (this._min = e), (this._max = n), (this._item = i);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.query = function (t, e, n) {
              if (!this.intersects(t, e)) return null;
              n.visitItem(this._item);
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            e
          );
        })(pr),
        yr = (function (t) {
          function e() {
            t.call(this), (this._node1 = null), (this._node2 = null);
            var e = arguments[0],
              n = arguments[1];
            (this._node1 = e),
              (this._node2 = n),
              this.buildExtent(this._node1, this._node2);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.buildExtent = function (t, e) {
              (this._min = Math.min(t._min, e._min)),
                (this._max = Math.max(t._max, e._max));
            }),
            (e.prototype.query = function (t, e, n) {
              if (!this.intersects(t, e)) return null;
              null !== this._node1 && this._node1.query(t, e, n),
                null !== this._node2 && this._node2.query(t, e, n);
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            e
          );
        })(pr),
        _r = function () {
          (this._leaves = new wt()), (this._root = null), (this._level = 0);
        };
      (_r.prototype.buildTree = function () {
        $e.sort(this._leaves, new pr.NodeComparator());
        for (var t = this._leaves, e = null, n = new wt(); ; ) {
          if ((this.buildLevel(t, n), 1 === n.size())) return n.get(0);
          (e = t), (t = n), (n = e);
        }
      }),
        (_r.prototype.insert = function (t, e, n) {
          if (null !== this._root)
            throw new Error(
              "Index cannot be added to once it has been queried"
            );
          this._leaves.add(new gr(t, e, n));
        }),
        (_r.prototype.query = function (t, e, n) {
          this.init(), this._root.query(t, e, n);
        }),
        (_r.prototype.buildRoot = function () {
          if (null !== this._root) return null;
          this._root = this.buildTree();
        }),
        (_r.prototype.printNode = function (t) {
          z.out.println(
            Q.toLineString(
              new I(t._min, this._level),
              new I(t._max, this._level)
            )
          );
        }),
        (_r.prototype.init = function () {
          if (null !== this._root) return null;
          this.buildRoot();
        }),
        (_r.prototype.buildLevel = function (t, e) {
          this._level++, e.clear();
          for (var n = 0; n < t.size(); n += 2) {
            var i = t.get(n);
            if (null === (n + 1 < t.size() ? t.get(n) : null)) e.add(i);
            else {
              var r = new yr(t.get(n), t.get(n + 1));
              e.add(r);
            }
          }
        }),
        (_r.prototype.interfaces_ = function () {
          return [];
        }),
        (_r.prototype.getClass = function () {
          return _r;
        });
      var vr = function () {
        this._items = new wt();
      };
      (vr.prototype.visitItem = function (t) {
        this._items.add(t);
      }),
        (vr.prototype.getItems = function () {
          return this._items;
        }),
        (vr.prototype.interfaces_ = function () {
          return [Ke];
        }),
        (vr.prototype.getClass = function () {
          return vr;
        });
      var mr = function () {
          this._index = null;
          var t = arguments[0];
          if (!L(t, Qt)) throw new v("Argument must be Polygonal");
          this._index = new br(t);
        },
        xr = {
          SegmentVisitor: { configurable: !0 },
          IntervalIndexedGeometry: { configurable: !0 },
        };
      (mr.prototype.locate = function (t) {
        var e = new st(t),
          n = new Er(e);
        return this._index.query(t.y, t.y, n), e.getLocation();
      }),
        (mr.prototype.interfaces_ = function () {
          return [Bn];
        }),
        (mr.prototype.getClass = function () {
          return mr;
        }),
        (xr.SegmentVisitor.get = function () {
          return Er;
        }),
        (xr.IntervalIndexedGeometry.get = function () {
          return br;
        }),
        Object.defineProperties(mr, xr);
      var Er = function () {
        this._counter = null;
        var t = arguments[0];
        this._counter = t;
      };
      (Er.prototype.visitItem = function (t) {
        var e = t;
        this._counter.countSegment(e.getCoordinate(0), e.getCoordinate(1));
      }),
        (Er.prototype.interfaces_ = function () {
          return [Ke];
        }),
        (Er.prototype.getClass = function () {
          return Er;
        });
      var br = function () {
        this._index = new _r();
        var t = arguments[0];
        this.init(t);
      };
      (br.prototype.init = function (t) {
        for (var e = Ii.getLines(t).iterator(); e.hasNext(); ) {
          var n = e.next().getCoordinates();
          this.addLine(n);
        }
      }),
        (br.prototype.addLine = function (t) {
          for (var e = 1; e < t.length; e++) {
            var n = new gn(t[e - 1], t[e]),
              i = Math.min(n.p0.y, n.p1.y),
              r = Math.max(n.p0.y, n.p1.y);
            this._index.insert(i, r, n);
          }
        }),
        (br.prototype.query = function () {
          if (2 === arguments.length) {
            var t = arguments[0],
              e = arguments[1],
              n = new vr();
            return this._index.query(t, e, n), n.getItems();
          }
          if (3 === arguments.length) {
            var i = arguments[0],
              r = arguments[1],
              o = arguments[2];
            this._index.query(i, r, o);
          }
        }),
        (br.prototype.interfaces_ = function () {
          return [];
        }),
        (br.prototype.getClass = function () {
          return br;
        });
      var wr = (function (t) {
          function e() {
            if (
              (t.call(this),
              (this._parentGeom = null),
              (this._lineEdgeMap = new pe()),
              (this._boundaryNodeRule = null),
              (this._useBoundaryDeterminationRule = !0),
              (this._argIndex = null),
              (this._boundaryNodes = null),
              (this._hasTooFewPoints = !1),
              (this._invalidPoint = null),
              (this._areaPtLocator = null),
              (this._ptLocator = new Si()),
              2 === arguments.length)
            ) {
              var e = arguments[0],
                n = arguments[1],
                i = dt.OGC_SFS_BOUNDARY_RULE;
              (this._argIndex = e),
                (this._parentGeom = n),
                (this._boundaryNodeRule = i),
                null !== n && this.add(n);
            } else if (3 === arguments.length) {
              var r = arguments[0],
                o = arguments[1],
                s = arguments[2];
              (this._argIndex = r),
                (this._parentGeom = o),
                (this._boundaryNodeRule = s),
                null !== o && this.add(o);
            }
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.insertBoundaryPoint = function (t, n) {
              var i = this._nodes.addNode(n).getLabel(),
                r = 1;
              O.NONE, i.getLocation(t, Se.ON) === O.BOUNDARY && r++;
              var o = e.determineBoundary(this._boundaryNodeRule, r);
              i.setLocation(t, o);
            }),
            (e.prototype.computeSelfNodes = function () {
              if (2 === arguments.length) {
                var t = arguments[0],
                  e = arguments[1];
                return this.computeSelfNodes(t, e, !1);
              }
              if (3 === arguments.length) {
                var n = arguments[0],
                  i = arguments[1],
                  r = arguments[2],
                  o = new hr(n, !0, !1);
                o.setIsDoneIfProperInt(r);
                var s = this.createEdgeSetIntersector(),
                  a =
                    this._parentGeom instanceof ee ||
                    this._parentGeom instanceof $t ||
                    this._parentGeom instanceof ne,
                  u = i || !a;
                return (
                  s.computeIntersections(this._edges, o, u),
                  this.addSelfIntersectionNodes(this._argIndex),
                  o
                );
              }
            }),
            (e.prototype.computeSplitEdges = function (t) {
              for (var e = this._edges.iterator(); e.hasNext(); )
                e.next().eiList.addSplitEdges(t);
            }),
            (e.prototype.computeEdgeIntersections = function (t, e, n) {
              var i = new hr(e, n, !0);
              return (
                i.setBoundaryNodes(
                  this.getBoundaryNodes(),
                  t.getBoundaryNodes()
                ),
                this.createEdgeSetIntersector().computeIntersections(
                  this._edges,
                  t._edges,
                  i
                ),
                i
              );
            }),
            (e.prototype.getGeometry = function () {
              return this._parentGeom;
            }),
            (e.prototype.getBoundaryNodeRule = function () {
              return this._boundaryNodeRule;
            }),
            (e.prototype.hasTooFewPoints = function () {
              return this._hasTooFewPoints;
            }),
            (e.prototype.addPoint = function () {
              if (arguments[0] instanceof Jt) {
                var t = arguments[0].getCoordinate();
                this.insertPoint(this._argIndex, t, O.INTERIOR);
              } else if (arguments[0] instanceof I) {
                var e = arguments[0];
                this.insertPoint(this._argIndex, e, O.INTERIOR);
              }
            }),
            (e.prototype.addPolygon = function (t) {
              this.addPolygonRing(t.getExteriorRing(), O.EXTERIOR, O.INTERIOR);
              for (var e = 0; e < t.getNumInteriorRing(); e++) {
                var n = t.getInteriorRingN(e);
                this.addPolygonRing(n, O.INTERIOR, O.EXTERIOR);
              }
            }),
            (e.prototype.addEdge = function (t) {
              this.insertEdge(t);
              var e = t.getCoordinates();
              this.insertPoint(this._argIndex, e[0], O.BOUNDARY),
                this.insertPoint(this._argIndex, e[e.length - 1], O.BOUNDARY);
            }),
            (e.prototype.addLineString = function (t) {
              var e = Ct.removeRepeatedPoints(t.getCoordinates());
              if (e.length < 2)
                return (
                  (this._hasTooFewPoints = !0),
                  (this._invalidPoint = e[0]),
                  null
                );
              var n = new ni(e, new Ae(this._argIndex, O.INTERIOR));
              this._lineEdgeMap.put(t, n),
                this.insertEdge(n),
                et.isTrue(e.length >= 2, "found LineString with single point"),
                this.insertBoundaryPoint(this._argIndex, e[0]),
                this.insertBoundaryPoint(this._argIndex, e[e.length - 1]);
            }),
            (e.prototype.getInvalidPoint = function () {
              return this._invalidPoint;
            }),
            (e.prototype.getBoundaryPoints = function () {
              for (
                var t = this.getBoundaryNodes(),
                  e = new Array(t.size()).fill(null),
                  n = 0,
                  i = t.iterator();
                i.hasNext();

              ) {
                var r = i.next();
                e[n++] = r.getCoordinate().copy();
              }
              return e;
            }),
            (e.prototype.getBoundaryNodes = function () {
              return (
                null === this._boundaryNodes &&
                  (this._boundaryNodes = this._nodes.getBoundaryNodes(
                    this._argIndex
                  )),
                this._boundaryNodes
              );
            }),
            (e.prototype.addSelfIntersectionNode = function (t, e, n) {
              if (this.isBoundaryNode(t, e)) return null;
              n === O.BOUNDARY && this._useBoundaryDeterminationRule
                ? this.insertBoundaryPoint(t, e)
                : this.insertPoint(t, e, n);
            }),
            (e.prototype.addPolygonRing = function (t, e, n) {
              if (t.isEmpty()) return null;
              var i = Ct.removeRepeatedPoints(t.getCoordinates());
              if (i.length < 4)
                return (
                  (this._hasTooFewPoints = !0),
                  (this._invalidPoint = i[0]),
                  null
                );
              var r = e,
                o = n;
              at.isCCW(i) && ((r = n), (o = e));
              var s = new ni(i, new Ae(this._argIndex, O.BOUNDARY, r, o));
              this._lineEdgeMap.put(t, s),
                this.insertEdge(s),
                this.insertPoint(this._argIndex, i[0], O.BOUNDARY);
            }),
            (e.prototype.insertPoint = function (t, e, n) {
              var i = this._nodes.addNode(e),
                r = i.getLabel();
              null === r ? (i._label = new Ae(t, n)) : r.setLocation(t, n);
            }),
            (e.prototype.createEdgeSetIntersector = function () {
              return new lr();
            }),
            (e.prototype.addSelfIntersectionNodes = function (t) {
              for (var e = this._edges.iterator(); e.hasNext(); )
                for (
                  var n = e.next(),
                    i = n.getLabel().getLocation(t),
                    r = n.eiList.iterator();
                  r.hasNext();

                ) {
                  var o = r.next();
                  this.addSelfIntersectionNode(t, o.coord, i);
                }
            }),
            (e.prototype.add = function () {
              if (1 !== arguments.length)
                return t.prototype.add.apply(this, arguments);
              var e = arguments[0];
              if (e.isEmpty()) return null;
              if (
                (e instanceof ne && (this._useBoundaryDeterminationRule = !1),
                e instanceof $t)
              )
                this.addPolygon(e);
              else if (e instanceof Kt) this.addLineString(e);
              else if (e instanceof Jt) this.addPoint(e);
              else if (e instanceof te) this.addCollection(e);
              else if (e instanceof Xt) this.addCollection(e);
              else if (e instanceof ne) this.addCollection(e);
              else {
                if (!(e instanceof Yt)) throw new Error(e.getClass().getName());
                this.addCollection(e);
              }
            }),
            (e.prototype.addCollection = function (t) {
              for (var e = 0; e < t.getNumGeometries(); e++) {
                var n = t.getGeometryN(e);
                this.add(n);
              }
            }),
            (e.prototype.locate = function (t) {
              return L(this._parentGeom, Qt) &&
                this._parentGeom.getNumGeometries() > 50
                ? (null === this._areaPtLocator &&
                    (this._areaPtLocator = new mr(this._parentGeom)),
                  this._areaPtLocator.locate(t))
                : this._ptLocator.locate(t, this._parentGeom);
            }),
            (e.prototype.findEdge = function () {
              if (1 === arguments.length) {
                var e = arguments[0];
                return this._lineEdgeMap.get(e);
              }
              return t.prototype.findEdge.apply(this, arguments);
            }),
            (e.prototype.interfaces_ = function () {
              return [];
            }),
            (e.prototype.getClass = function () {
              return e;
            }),
            (e.determineBoundary = function (t, e) {
              return t.isInBoundary(e) ? O.BOUNDARY : O.INTERIOR;
            }),
            e
          );
        })(ze),
        Ir = function () {
          if (
            ((this._li = new rt()),
            (this._resultPrecisionModel = null),
            (this._arg = null),
            1 === arguments.length)
          ) {
            var t = arguments[0];
            this.setComputationPrecision(t.getPrecisionModel()),
              (this._arg = new Array(1).fill(null)),
              (this._arg[0] = new wr(0, t));
          } else if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1],
              i = dt.OGC_SFS_BOUNDARY_RULE;
            e.getPrecisionModel().compareTo(n.getPrecisionModel()) >= 0
              ? this.setComputationPrecision(e.getPrecisionModel())
              : this.setComputationPrecision(n.getPrecisionModel()),
              (this._arg = new Array(2).fill(null)),
              (this._arg[0] = new wr(0, e, i)),
              (this._arg[1] = new wr(1, n, i));
          } else if (3 === arguments.length) {
            var r = arguments[0],
              o = arguments[1],
              s = arguments[2];
            r.getPrecisionModel().compareTo(o.getPrecisionModel()) >= 0
              ? this.setComputationPrecision(r.getPrecisionModel())
              : this.setComputationPrecision(o.getPrecisionModel()),
              (this._arg = new Array(2).fill(null)),
              (this._arg[0] = new wr(0, r, s)),
              (this._arg[1] = new wr(1, o, s));
          }
        };
      (Ir.prototype.getArgGeometry = function (t) {
        return this._arg[t].getGeometry();
      }),
        (Ir.prototype.setComputationPrecision = function (t) {
          (this._resultPrecisionModel = t),
            this._li.setPrecisionModel(this._resultPrecisionModel);
        }),
        (Ir.prototype.interfaces_ = function () {
          return [];
        }),
        (Ir.prototype.getClass = function () {
          return Ir;
        });
      var Sr = function () {};
      (Sr.prototype.interfaces_ = function () {
        return [];
      }),
        (Sr.prototype.getClass = function () {
          return Sr;
        }),
        (Sr.map = function () {
          if (arguments[0] instanceof ht && L(arguments[1], Sr.MapOp)) {
            for (
              var t = arguments[0], e = arguments[1], n = new wt(), i = 0;
              i < t.getNumGeometries();
              i++
            ) {
              var r = e.map(t.getGeometryN(i));
              null !== r && n.add(r);
            }
            return t.getFactory().buildGeometry(n);
          }
          if (L(arguments[0], xt) && L(arguments[1], Sr.MapOp)) {
            for (
              var o = arguments[0],
                s = arguments[1],
                a = new wt(),
                u = o.iterator();
              u.hasNext();

            ) {
              var c = u.next(),
                h = s.map(c);
              null !== h && a.add(h);
            }
            return a;
          }
        }),
        (Sr.MapOp = function () {});
      var Cr = (function (t) {
        function e() {
          var e = arguments[0],
            n = arguments[1];
          t.call(this, e, n),
            (this._ptLocator = new Si()),
            (this._geomFact = null),
            (this._resultGeom = null),
            (this._graph = null),
            (this._edgeList = new Wn()),
            (this._resultPolyList = new wt()),
            (this._resultLineList = new wt()),
            (this._resultPointList = new wt()),
            (this._graph = new ze(new Vn())),
            (this._geomFact = e.getFactory());
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.insertUniqueEdge = function (t) {
            var e = this._edgeList.findEqualEdge(t);
            if (null !== e) {
              var n = e.getLabel(),
                i = t.getLabel();
              e.isPointwiseEqual(t) || (i = new Ae(t.getLabel())).flip();
              var r = e.getDepth();
              r.isNull() && r.add(n), r.add(i), n.merge(i);
            } else this._edgeList.add(t);
          }),
          (e.prototype.getGraph = function () {
            return this._graph;
          }),
          (e.prototype.cancelDuplicateResultEdges = function () {
            for (var t = this._graph.getEdgeEnds().iterator(); t.hasNext(); ) {
              var e = t.next(),
                n = e.getSym();
              e.isInResult() &&
                n.isInResult() &&
                (e.setInResult(!1), n.setInResult(!1));
            }
          }),
          (e.prototype.isCoveredByLA = function (t) {
            return (
              !!this.isCovered(t, this._resultLineList) ||
              !!this.isCovered(t, this._resultPolyList)
            );
          }),
          (e.prototype.computeGeometry = function (t, n, i, r) {
            var o = new wt();
            return (
              o.addAll(t),
              o.addAll(n),
              o.addAll(i),
              o.isEmpty()
                ? e.createEmptyResult(
                    r,
                    this._arg[0].getGeometry(),
                    this._arg[1].getGeometry(),
                    this._geomFact
                  )
                : this._geomFact.buildGeometry(o)
            );
          }),
          (e.prototype.mergeSymLabels = function () {
            for (var t = this._graph.getNodes().iterator(); t.hasNext(); )
              t.next().getEdges().mergeSymLabels();
          }),
          (e.prototype.isCovered = function (t, e) {
            for (var n = e.iterator(); n.hasNext(); ) {
              var i = n.next();
              if (this._ptLocator.locate(t, i) !== O.EXTERIOR) return !0;
            }
            return !1;
          }),
          (e.prototype.replaceCollapsedEdges = function () {
            for (
              var t = new wt(), e = this._edgeList.iterator();
              e.hasNext();

            ) {
              var n = e.next();
              n.isCollapsed() && (e.remove(), t.add(n.getCollapsedEdge()));
            }
            this._edgeList.addAll(t);
          }),
          (e.prototype.updateNodeLabelling = function () {
            for (var t = this._graph.getNodes().iterator(); t.hasNext(); ) {
              var e = t.next(),
                n = e.getEdges().getLabel();
              e.getLabel().merge(n);
            }
          }),
          (e.prototype.getResultGeometry = function (t) {
            return this.computeOverlay(t), this._resultGeom;
          }),
          (e.prototype.insertUniqueEdges = function (t) {
            for (var e = t.iterator(); e.hasNext(); ) {
              var n = e.next();
              this.insertUniqueEdge(n);
            }
          }),
          (e.prototype.computeOverlay = function (t) {
            this.copyPoints(0),
              this.copyPoints(1),
              this._arg[0].computeSelfNodes(this._li, !1),
              this._arg[1].computeSelfNodes(this._li, !1),
              this._arg[0].computeEdgeIntersections(this._arg[1], this._li, !0);
            var e = new wt();
            this._arg[0].computeSplitEdges(e),
              this._arg[1].computeSplitEdges(e),
              this.insertUniqueEdges(e),
              this.computeLabelsFromDepths(),
              this.replaceCollapsedEdges(),
              zi.checkValid(this._edgeList.getEdges()),
              this._graph.addEdges(this._edgeList.getEdges()),
              this.computeLabelling(),
              this.labelIncompleteNodes(),
              this.findResultAreaEdges(t),
              this.cancelDuplicateResultEdges();
            var n = new Ve(this._geomFact);
            n.add(this._graph), (this._resultPolyList = n.getPolygons());
            var i = new qi(this, this._geomFact, this._ptLocator);
            this._resultLineList = i.build(t);
            var r = new Wi(this, this._geomFact, this._ptLocator);
            (this._resultPointList = r.build(t)),
              (this._resultGeom = this.computeGeometry(
                this._resultPointList,
                this._resultLineList,
                this._resultPolyList,
                t
              ));
          }),
          (e.prototype.labelIncompleteNode = function (t, e) {
            var n = this._ptLocator.locate(
              t.getCoordinate(),
              this._arg[e].getGeometry()
            );
            t.getLabel().setLocation(e, n);
          }),
          (e.prototype.copyPoints = function (t) {
            for (var e = this._arg[t].getNodeIterator(); e.hasNext(); ) {
              var n = e.next();
              this._graph
                .addNode(n.getCoordinate())
                .setLabel(t, n.getLabel().getLocation(t));
            }
          }),
          (e.prototype.findResultAreaEdges = function (t) {
            for (var n = this._graph.getEdgeEnds().iterator(); n.hasNext(); ) {
              var i = n.next(),
                r = i.getLabel();
              r.isArea() &&
                !i.isInteriorAreaEdge() &&
                e.isResultOfOp(
                  r.getLocation(0, Se.RIGHT),
                  r.getLocation(1, Se.RIGHT),
                  t
                ) &&
                i.setInResult(!0);
            }
          }),
          (e.prototype.computeLabelsFromDepths = function () {
            for (var t = this._edgeList.iterator(); t.hasNext(); ) {
              var e = t.next(),
                n = e.getLabel(),
                i = e.getDepth();
              if (!i.isNull()) {
                i.normalize();
                for (var r = 0; r < 2; r++)
                  n.isNull(r) ||
                    !n.isArea() ||
                    i.isNull(r) ||
                    (0 === i.getDelta(r)
                      ? n.toLine(r)
                      : (et.isTrue(
                          !i.isNull(r, Se.LEFT),
                          "depth of LEFT side has not been initialized"
                        ),
                        n.setLocation(r, Se.LEFT, i.getLocation(r, Se.LEFT)),
                        et.isTrue(
                          !i.isNull(r, Se.RIGHT),
                          "depth of RIGHT side has not been initialized"
                        ),
                        n.setLocation(
                          r,
                          Se.RIGHT,
                          i.getLocation(r, Se.RIGHT)
                        )));
              }
            }
          }),
          (e.prototype.computeLabelling = function () {
            for (var t = this._graph.getNodes().iterator(); t.hasNext(); )
              t.next().getEdges().computeLabelling(this._arg);
            this.mergeSymLabels(), this.updateNodeLabelling();
          }),
          (e.prototype.labelIncompleteNodes = function () {
            for (var t = this._graph.getNodes().iterator(); t.hasNext(); ) {
              var e = t.next(),
                n = e.getLabel();
              e.isIsolated() &&
                (n.isNull(0)
                  ? this.labelIncompleteNode(e, 0)
                  : this.labelIncompleteNode(e, 1)),
                e.getEdges().updateLabelling(n);
            }
          }),
          (e.prototype.isCoveredByA = function (t) {
            return !!this.isCovered(t, this._resultPolyList);
          }),
          (e.prototype.interfaces_ = function () {
            return [];
          }),
          (e.prototype.getClass = function () {
            return e;
          }),
          e
        );
      })(Ir);
      (Cr.overlayOp = function (t, e, n) {
        return new Cr(t, e).getResultGeometry(n);
      }),
        (Cr.intersection = function (t, e) {
          if (t.isEmpty() || e.isEmpty())
            return Cr.createEmptyResult(Cr.INTERSECTION, t, e, t.getFactory());
          if (t.isGeometryCollection()) {
            var n = e;
            return Vi.map(t, {
              interfaces_: function () {
                return [Sr.MapOp];
              },
              map: function (t) {
                return t.intersection(n);
              },
            });
          }
          return (
            t.checkNotGeometryCollection(t),
            t.checkNotGeometryCollection(e),
            or.overlayOp(t, e, Cr.INTERSECTION)
          );
        }),
        (Cr.symDifference = function (t, e) {
          if (t.isEmpty() || e.isEmpty()) {
            if (t.isEmpty() && e.isEmpty())
              return Cr.createEmptyResult(
                Cr.SYMDIFFERENCE,
                t,
                e,
                t.getFactory()
              );
            if (t.isEmpty()) return e.copy();
            if (e.isEmpty()) return t.copy();
          }
          return (
            t.checkNotGeometryCollection(t),
            t.checkNotGeometryCollection(e),
            or.overlayOp(t, e, Cr.SYMDIFFERENCE)
          );
        }),
        (Cr.resultDimension = function (t, e, n) {
          var i = e.getDimension(),
            r = n.getDimension(),
            o = -1;
          switch (t) {
            case Cr.INTERSECTION:
              o = Math.min(i, r);
              break;
            case Cr.UNION:
              o = Math.max(i, r);
              break;
            case Cr.DIFFERENCE:
              o = i;
              break;
            case Cr.SYMDIFFERENCE:
              o = Math.max(i, r);
          }
          return o;
        }),
        (Cr.createEmptyResult = function (t, e, n, i) {
          var r = null;
          switch (Cr.resultDimension(t, e, n)) {
            case -1:
              r = i.createGeometryCollection(new Array(0).fill(null));
              break;
            case 0:
              r = i.createPoint();
              break;
            case 1:
              r = i.createLineString();
              break;
            case 2:
              r = i.createPolygon();
          }
          return r;
        }),
        (Cr.difference = function (t, e) {
          return t.isEmpty()
            ? Cr.createEmptyResult(Cr.DIFFERENCE, t, e, t.getFactory())
            : e.isEmpty()
            ? t.copy()
            : (t.checkNotGeometryCollection(t),
              t.checkNotGeometryCollection(e),
              or.overlayOp(t, e, Cr.DIFFERENCE));
        }),
        (Cr.isResultOfOp = function () {
          if (2 === arguments.length) {
            var t = arguments[0],
              e = arguments[1],
              n = t.getLocation(0),
              i = t.getLocation(1);
            return Cr.isResultOfOp(n, i, e);
          }
          if (3 === arguments.length) {
            var r = arguments[0],
              o = arguments[1],
              s = arguments[2];
            switch (
              (r === O.BOUNDARY && (r = O.INTERIOR),
              o === O.BOUNDARY && (o = O.INTERIOR),
              s)
            ) {
              case Cr.INTERSECTION:
                return r === O.INTERIOR && o === O.INTERIOR;
              case Cr.UNION:
                return r === O.INTERIOR || o === O.INTERIOR;
              case Cr.DIFFERENCE:
                return r === O.INTERIOR && o !== O.INTERIOR;
              case Cr.SYMDIFFERENCE:
                return (
                  (r === O.INTERIOR && o !== O.INTERIOR) ||
                  (r !== O.INTERIOR && o === O.INTERIOR)
                );
            }
            return !1;
          }
        }),
        (Cr.INTERSECTION = 1),
        (Cr.UNION = 2),
        (Cr.DIFFERENCE = 3),
        (Cr.SYMDIFFERENCE = 4);
      var Tr = function () {
        (this._g = null),
          (this._boundaryDistanceTolerance = null),
          (this._linework = null),
          (this._ptLocator = new Si()),
          (this._seg = new gn());
        var t = arguments[0],
          e = arguments[1];
        (this._g = t),
          (this._boundaryDistanceTolerance = e),
          (this._linework = this.extractLinework(t));
      };
      (Tr.prototype.isWithinToleranceOfBoundary = function (t) {
        for (var e = 0; e < this._linework.getNumGeometries(); e++)
          for (
            var n = this._linework.getGeometryN(e).getCoordinateSequence(),
              i = 0;
            i < n.size() - 1;
            i++
          )
            if (
              (n.getCoordinate(i, this._seg.p0),
              n.getCoordinate(i + 1, this._seg.p1),
              this._seg.distance(t) <= this._boundaryDistanceTolerance)
            )
              return !0;
        return !1;
      }),
        (Tr.prototype.getLocation = function (t) {
          return this.isWithinToleranceOfBoundary(t)
            ? O.BOUNDARY
            : this._ptLocator.locate(t, this._g);
        }),
        (Tr.prototype.extractLinework = function (t) {
          var e = new Or();
          t.apply(e);
          var n = e.getLinework(),
            i = _e.toLineStringArray(n);
          return t.getFactory().createMultiLineString(i);
        }),
        (Tr.prototype.interfaces_ = function () {
          return [];
        }),
        (Tr.prototype.getClass = function () {
          return Tr;
        });
      var Or = function () {
        (this._linework = null), (this._linework = new wt());
      };
      (Or.prototype.getLinework = function () {
        return this._linework;
      }),
        (Or.prototype.filter = function (t) {
          if (t instanceof $t) {
            var e = t;
            this._linework.add(e.getExteriorRing());
            for (var n = 0; n < e.getNumInteriorRing(); n++)
              this._linework.add(e.getInteriorRingN(n));
          }
        }),
        (Or.prototype.interfaces_ = function () {
          return [Bt];
        }),
        (Or.prototype.getClass = function () {
          return Or;
        });
      var Rr = function () {
        (this._g = null), (this._doLeft = !0), (this._doRight = !0);
        var t = arguments[0];
        this._g = t;
      };
      (Rr.prototype.extractPoints = function (t, e, n) {
        for (var i = t.getCoordinates(), r = 0; r < i.length - 1; r++)
          this.computeOffsetPoints(i[r], i[r + 1], e, n);
      }),
        (Rr.prototype.setSidesToGenerate = function (t, e) {
          (this._doLeft = t), (this._doRight = e);
        }),
        (Rr.prototype.getPoints = function (t) {
          for (
            var e = new wt(), n = Ii.getLines(this._g).iterator();
            n.hasNext();

          ) {
            var i = n.next();
            this.extractPoints(i, t, e);
          }
          return e;
        }),
        (Rr.prototype.computeOffsetPoints = function (t, e, n, i) {
          var r = e.x - t.x,
            o = e.y - t.y,
            s = Math.sqrt(r * r + o * o),
            a = (n * r) / s,
            u = (n * o) / s,
            c = (e.x + t.x) / 2,
            h = (e.y + t.y) / 2;
          if (this._doLeft) {
            var l = new I(c - u, h + a);
            i.add(l);
          }
          if (this._doRight) {
            var p = new I(c + u, h - a);
            i.add(p);
          }
        }),
        (Rr.prototype.interfaces_ = function () {
          return [];
        }),
        (Rr.prototype.getClass = function () {
          return Rr;
        });
      var Lr = function t() {
          (this._geom = null),
            (this._locFinder = null),
            (this._location = new Array(3).fill(null)),
            (this._invalidLocation = null),
            (this._boundaryDistanceTolerance = t.TOLERANCE),
            (this._testCoords = new wt());
          var e = arguments[0],
            n = arguments[1],
            i = arguments[2];
          (this._boundaryDistanceTolerance = t.computeBoundaryDistanceTolerance(
            e,
            n
          )),
            (this._geom = [e, n, i]),
            (this._locFinder = [
              new Tr(this._geom[0], this._boundaryDistanceTolerance),
              new Tr(this._geom[1], this._boundaryDistanceTolerance),
              new Tr(this._geom[2], this._boundaryDistanceTolerance),
            ]);
        },
        Mr = { TOLERANCE: { configurable: !0 } };
      (Lr.prototype.reportResult = function (t, e, n) {
        z.out.println(
          "Overlay result invalid - A:" +
            O.toLocationSymbol(e[0]) +
            " B:" +
            O.toLocationSymbol(e[1]) +
            " expected:" +
            (n ? "i" : "e") +
            " actual:" +
            O.toLocationSymbol(e[2])
        );
      }),
        (Lr.prototype.isValid = function (t) {
          return (
            this.addTestPts(this._geom[0]),
            this.addTestPts(this._geom[1]),
            this.checkValid(t)
          );
        }),
        (Lr.prototype.checkValid = function () {
          if (1 === arguments.length) {
            for (
              var t = arguments[0], e = 0;
              e < this._testCoords.size();
              e++
            ) {
              var n = this._testCoords.get(e);
              if (!this.checkValid(t, n))
                return (this._invalidLocation = n), !1;
            }
            return !0;
          }
          if (2 === arguments.length) {
            var i = arguments[0],
              r = arguments[1];
            return (
              (this._location[0] = this._locFinder[0].getLocation(r)),
              (this._location[1] = this._locFinder[1].getLocation(r)),
              (this._location[2] = this._locFinder[2].getLocation(r)),
              !!Lr.hasLocation(this._location, O.BOUNDARY) ||
                this.isValidResult(i, this._location)
            );
          }
        }),
        (Lr.prototype.addTestPts = function (t) {
          var e = new Rr(t);
          this._testCoords.addAll(
            e.getPoints(5 * this._boundaryDistanceTolerance)
          );
        }),
        (Lr.prototype.isValidResult = function (t, e) {
          var n = Cr.isResultOfOp(e[0], e[1], t),
            i = !(n ^ (e[2] === O.INTERIOR));
          return i || this.reportResult(t, e, n), i;
        }),
        (Lr.prototype.getInvalidLocation = function () {
          return this._invalidLocation;
        }),
        (Lr.prototype.interfaces_ = function () {
          return [];
        }),
        (Lr.prototype.getClass = function () {
          return Lr;
        }),
        (Lr.hasLocation = function (t, e) {
          for (var n = 0; n < 3; n++) if (t[n] === e) return !0;
          return !1;
        }),
        (Lr.computeBoundaryDistanceTolerance = function (t, e) {
          return Math.min(
            Zi.computeSizeBasedSnapTolerance(t),
            Zi.computeSizeBasedSnapTolerance(e)
          );
        }),
        (Lr.isValid = function (t, e, n, i) {
          return new Lr(t, e, i).isValid(n);
        }),
        (Mr.TOLERANCE.get = function () {
          return 1e-6;
        }),
        Object.defineProperties(Lr, Mr);
      var Ar = function t(e) {
        (this._geomFactory = null),
          (this._skipEmpty = !1),
          (this._inputGeoms = null),
          (this._geomFactory = t.extractFactory(e)),
          (this._inputGeoms = e);
      };
      (Ar.prototype.extractElements = function (t, e) {
        if (null === t) return null;
        for (var n = 0; n < t.getNumGeometries(); n++) {
          var i = t.getGeometryN(n);
          (this._skipEmpty && i.isEmpty()) || e.add(i);
        }
      }),
        (Ar.prototype.combine = function () {
          for (
            var t = new wt(), e = this._inputGeoms.iterator();
            e.hasNext();

          ) {
            var n = e.next();
            this.extractElements(n, t);
          }
          return 0 === t.size()
            ? null !== this._geomFactory
              ? this._geomFactory.createGeometryCollection(null)
              : null
            : this._geomFactory.buildGeometry(t);
        }),
        (Ar.prototype.interfaces_ = function () {
          return [];
        }),
        (Ar.prototype.getClass = function () {
          return Ar;
        }),
        (Ar.combine = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return new Ar(t).combine();
          }
          if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            return new Ar(Ar.createList(e, n)).combine();
          }
          if (3 === arguments.length) {
            var i = arguments[0],
              r = arguments[1],
              o = arguments[2];
            return new Ar(Ar.createList(i, r, o)).combine();
          }
        }),
        (Ar.extractFactory = function (t) {
          return t.isEmpty() ? null : t.iterator().next().getFactory();
        }),
        (Ar.createList = function () {
          if (2 === arguments.length) {
            var t = arguments[0],
              e = arguments[1],
              n = new wt();
            return n.add(t), n.add(e), n;
          }
          if (3 === arguments.length) {
            var i = arguments[0],
              r = arguments[1],
              o = arguments[2],
              s = new wt();
            return s.add(i), s.add(r), s.add(o), s;
          }
        });
      var Nr = function () {
          (this._inputPolys = null), (this._geomFactory = null);
          var t = arguments[0];
          (this._inputPolys = t),
            null === this._inputPolys && (this._inputPolys = new wt());
        },
        Pr = { STRTREE_NODE_CAPACITY: { configurable: !0 } };
      (Nr.prototype.reduceToGeometries = function (t) {
        for (var e = new wt(), n = t.iterator(); n.hasNext(); ) {
          var i = n.next(),
            r = null;
          L(i, bt) ? (r = this.unionTree(i)) : i instanceof ht && (r = i),
            e.add(r);
        }
        return e;
      }),
        (Nr.prototype.extractByEnvelope = function (t, e, n) {
          for (var i = new wt(), r = 0; r < e.getNumGeometries(); r++) {
            var o = e.getGeometryN(r);
            o.getEnvelopeInternal().intersects(t) ? i.add(o) : n.add(o);
          }
          return this._geomFactory.buildGeometry(i);
        }),
        (Nr.prototype.unionOptimized = function (t, e) {
          var n = t.getEnvelopeInternal(),
            i = e.getEnvelopeInternal();
          if (!n.intersects(i)) return Ar.combine(t, e);
          if (t.getNumGeometries() <= 1 && e.getNumGeometries() <= 1)
            return this.unionActual(t, e);
          var r = n.intersection(i);
          return this.unionUsingEnvelopeIntersection(t, e, r);
        }),
        (Nr.prototype.union = function () {
          if (null === this._inputPolys)
            throw new Error("union() method cannot be called twice");
          if (this._inputPolys.isEmpty()) return null;
          this._geomFactory = this._inputPolys.iterator().next().getFactory();
          for (
            var t = new sn(Nr.STRTREE_NODE_CAPACITY),
              e = this._inputPolys.iterator();
            e.hasNext();

          ) {
            var n = e.next();
            t.insert(n.getEnvelopeInternal(), n);
          }
          this._inputPolys = null;
          var i = t.itemsTree();
          return this.unionTree(i);
        }),
        (Nr.prototype.binaryUnion = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return this.binaryUnion(t, 0, t.size());
          }
          if (3 === arguments.length) {
            var e = arguments[0],
              n = arguments[1],
              i = arguments[2];
            if (i - n <= 1) {
              var r = Nr.getGeometry(e, n);
              return this.unionSafe(r, null);
            }
            if (i - n == 2)
              return this.unionSafe(
                Nr.getGeometry(e, n),
                Nr.getGeometry(e, n + 1)
              );
            var o = Math.trunc((i + n) / 2),
              s = this.binaryUnion(e, n, o),
              a = this.binaryUnion(e, o, i);
            return this.unionSafe(s, a);
          }
        }),
        (Nr.prototype.repeatedUnion = function (t) {
          for (var e = null, n = t.iterator(); n.hasNext(); ) {
            var i = n.next();
            e = null === e ? i.copy() : e.union(i);
          }
          return e;
        }),
        (Nr.prototype.unionSafe = function (t, e) {
          return null === t && null === e
            ? null
            : null === t
            ? e.copy()
            : null === e
            ? t.copy()
            : this.unionOptimized(t, e);
        }),
        (Nr.prototype.unionActual = function (t, e) {
          return Nr.restrictToPolygons(t.union(e));
        }),
        (Nr.prototype.unionTree = function (t) {
          var e = this.reduceToGeometries(t);
          return this.binaryUnion(e);
        }),
        (Nr.prototype.unionUsingEnvelopeIntersection = function (t, e, n) {
          var i = new wt(),
            r = this.extractByEnvelope(n, t, i),
            o = this.extractByEnvelope(n, e, i),
            s = this.unionActual(r, o);
          return i.add(s), Ar.combine(i);
        }),
        (Nr.prototype.bufferUnion = function () {
          if (1 === arguments.length) {
            var t = arguments[0];
            return t.get(0).getFactory().buildGeometry(t).buffer(0);
          }
          if (2 === arguments.length) {
            var e = arguments[0],
              n = arguments[1];
            return e.getFactory().createGeometryCollection([e, n]).buffer(0);
          }
        }),
        (Nr.prototype.interfaces_ = function () {
          return [];
        }),
        (Nr.prototype.getClass = function () {
          return Nr;
        }),
        (Nr.restrictToPolygons = function (t) {
          if (L(t, Qt)) return t;
          var e = wi.getPolygons(t);
          return 1 === e.size()
            ? e.get(0)
            : t.getFactory().createMultiPolygon(_e.toPolygonArray(e));
        }),
        (Nr.getGeometry = function (t, e) {
          return e >= t.size() ? null : t.get(e);
        }),
        (Nr.union = function (t) {
          return new Nr(t).union();
        }),
        (Pr.STRTREE_NODE_CAPACITY.get = function () {
          return 4;
        }),
        Object.defineProperties(Nr, Pr);
      var Dr = function () {};
      (Dr.prototype.interfaces_ = function () {
        return [];
      }),
        (Dr.prototype.getClass = function () {
          return Dr;
        }),
        (Dr.union = function (t, e) {
          if (t.isEmpty() || e.isEmpty()) {
            if (t.isEmpty() && e.isEmpty())
              return Cr.createEmptyResult(Cr.UNION, t, e, t.getFactory());
            if (t.isEmpty()) return e.copy();
            if (e.isEmpty()) return t.copy();
          }
          return (
            t.checkNotGeometryCollection(t),
            t.checkNotGeometryCollection(e),
            or.overlayOp(t, e, Cr.UNION)
          );
        }),
        (t.GeoJSONReader = we),
        (t.GeoJSONWriter = Ie),
        (t.OverlayOp = Cr),
        (t.UnionOp = Dr),
        (t.BufferOp = gi),
        Object.defineProperty(t, "__esModule", { value: !0 });
    })(e);
  },
  function (t, e) {
    t.exports = function (t) {
      if (null == t) throw TypeError("Can't call method on " + t);
      return t;
    };
  },
  function (t, e) {
    var n = Math.ceil,
      i = Math.floor;
    t.exports = function (t) {
      return isNaN((t = +t)) ? 0 : (t > 0 ? i : n)(t);
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(25),
      r = n(126),
      o = n(57),
      s = n(36),
      a = n(127),
      u = s.set,
      c = s.getterFor("Array Iterator");
    (t.exports = a(
      Array,
      "Array",
      function (t, e) {
        u(this, { type: "Array Iterator", target: i(t), index: 0, kind: e });
      },
      function () {
        var t = c(this),
          e = t.target,
          n = t.kind,
          i = t.index++;
        return !e || i >= e.length
          ? ((t.target = void 0), { value: void 0, done: !0 })
          : "keys" == n
          ? { value: i, done: !1 }
          : "values" == n
          ? { value: e[i], done: !1 }
          : { value: [i, e[i]], done: !1 };
      },
      "values"
    )),
      (o.Arguments = o.Array),
      r("keys"),
      r("values"),
      r("entries");
  },
  function (t, e, n) {
    "use strict";
    var i = n(7);
    function r(t, e, n) {
      var i = !1;
      e[0][0] === e[e.length - 1][0] &&
        e[0][1] === e[e.length - 1][1] &&
        (e = e.slice(0, e.length - 1));
      for (var r = 0, o = e.length - 1; r < e.length; o = r++) {
        var s = e[r][0],
          a = e[r][1],
          u = e[o][0],
          c = e[o][1];
        if (
          t[1] * (s - u) + a * (u - t[0]) + c * (t[0] - s) == 0 &&
          (s - t[0]) * (u - t[0]) <= 0 &&
          (a - t[1]) * (c - t[1]) <= 0
        )
          return !n;
        a > t[1] != c > t[1] &&
          t[0] < ((u - s) * (t[1] - a)) / (c - a) + s &&
          (i = !i);
      }
      return i;
    }
    e.a = function (t, e, n) {
      if ("object" != typeof (n = n || {}))
        throw new Error("options is invalid");
      var o = n.ignoreBoundary;
      if (!t) throw new Error("point is required");
      if (!e) throw new Error("polygon is required");
      var s = Object(i.a)(t),
        a = Object(i.b)(e),
        u = e.geometry ? e.geometry.type : e.type,
        c = e.bbox;
      if (
        c &&
        !1 ===
          (function (t, e) {
            return e[0] <= t[0] && e[1] <= t[1] && e[2] >= t[0] && e[3] >= t[1];
          })(s, c)
      )
        return !1;
      "Polygon" === u && (a = [a]);
      for (var h = 0, l = !1; h < a.length && !l; h++)
        if (r(s, a[h][0], o)) {
          for (var p = !1, f = 1; f < a[h].length && !p; )
            r(s, a[h][f], !o) && (p = !0), f++;
          p || (l = !0);
        }
      return l;
    };
  },
  function (t, e, n) {
    var i = n(17),
      r = n(162),
      o = Object.prototype;
    r !== o.toString && i(o, "toString", r, { unsafe: !0 });
  },
  function (t, e) {
    var n = {}.toString;
    t.exports = function (t) {
      return n.call(t).slice(8, -1);
    };
  },
  function (t, e, n) {
    var i = n(55),
      r = n(19);
    t.exports = function (t) {
      return i(r(t));
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(2),
      o = n(54),
      s = n(9),
      a = n(116),
      u = n(3),
      c = n(16),
      h = n(44),
      l = n(10),
      p = n(11),
      f = n(12),
      d = n(25),
      g = n(35),
      y = n(41),
      _ = n(45),
      v = n(72),
      m = n(37),
      x = n(171),
      E = n(95),
      b = n(43),
      w = n(13),
      I = n(92),
      S = n(15),
      C = n(17),
      T = n(53),
      O = n(64),
      R = n(66),
      L = n(65),
      M = n(5),
      A = n(124),
      N = n(125),
      P = n(56),
      D = n(36),
      k = n(14).forEach,
      F = O("hidden"),
      G = M("toPrimitive"),
      j = D.set,
      B = D.getterFor("Symbol"),
      U = Object.prototype,
      Y = r.Symbol,
      X = r.JSON,
      z = X && X.stringify,
      V = b.f,
      q = w.f,
      W = x.f,
      H = I.f,
      K = T("symbols"),
      Z = T("op-symbols"),
      J = T("string-to-symbol-registry"),
      Q = T("symbol-to-string-registry"),
      $ = T("wks"),
      tt = r.QObject,
      et = !tt || !tt.prototype || !tt.prototype.findChild,
      nt =
        s &&
        u(function () {
          return (
            7 !=
            _(
              q({}, "a", {
                get: function () {
                  return q(this, "a", { value: 7 }).a;
                },
              })
            ).a
          );
        })
          ? function (t, e, n) {
              var i = V(U, e);
              i && delete U[e], q(t, e, n), i && t !== U && q(U, e, i);
            }
          : q,
      it = function (t, e) {
        var n = (K[t] = _(Y.prototype));
        return (
          j(n, { type: "Symbol", tag: t, description: e }),
          s || (n.description = e),
          n
        );
      },
      rt =
        a && "symbol" == typeof Y.iterator
          ? function (t) {
              return "symbol" == typeof t;
            }
          : function (t) {
              return Object(t) instanceof Y;
            },
      ot = function (t, e, n) {
        t === U && ot(Z, e, n), p(t);
        var i = g(e, !0);
        return (
          p(n),
          c(K, i)
            ? (n.enumerable
                ? (c(t, F) && t[F][i] && (t[F][i] = !1),
                  (n = _(n, { enumerable: y(0, !1) })))
                : (c(t, F) || q(t, F, y(1, {})), (t[F][i] = !0)),
              nt(t, i, n))
            : q(t, i, n)
        );
      },
      st = function (t, e) {
        p(t);
        var n = d(e),
          i = v(n).concat(ht(n));
        return (
          k(i, function (e) {
            (s && !at.call(n, e)) || ot(t, e, n[e]);
          }),
          t
        );
      },
      at = function (t) {
        var e = g(t, !0),
          n = H.call(this, e);
        return (
          !(this === U && c(K, e) && !c(Z, e)) &&
          (!(n || !c(this, e) || !c(K, e) || (c(this, F) && this[F][e])) || n)
        );
      },
      ut = function (t, e) {
        var n = d(t),
          i = g(e, !0);
        if (n !== U || !c(K, i) || c(Z, i)) {
          var r = V(n, i);
          return (
            !r || !c(K, i) || (c(n, F) && n[F][i]) || (r.enumerable = !0), r
          );
        }
      },
      ct = function (t) {
        var e = W(d(t)),
          n = [];
        return (
          k(e, function (t) {
            c(K, t) || c(R, t) || n.push(t);
          }),
          n
        );
      },
      ht = function (t) {
        var e = t === U,
          n = W(e ? Z : d(t)),
          i = [];
        return (
          k(n, function (t) {
            !c(K, t) || (e && !c(U, t)) || i.push(K[t]);
          }),
          i
        );
      };
    a ||
      (C(
        (Y = function () {
          if (this instanceof Y) throw TypeError("Symbol is not a constructor");
          var t =
              arguments.length && void 0 !== arguments[0]
                ? String(arguments[0])
                : void 0,
            e = L(t),
            n = function (t) {
              this === U && n.call(Z, t),
                c(this, F) && c(this[F], e) && (this[F][e] = !1),
                nt(this, e, y(1, t));
            };
          return s && et && nt(U, e, { configurable: !0, set: n }), it(e, t);
        }).prototype,
        "toString",
        function () {
          return B(this).tag;
        }
      ),
      (I.f = at),
      (w.f = ot),
      (b.f = ut),
      (m.f = x.f = ct),
      (E.f = ht),
      s &&
        (q(Y.prototype, "description", {
          configurable: !0,
          get: function () {
            return B(this).description;
          },
        }),
        o || C(U, "propertyIsEnumerable", at, { unsafe: !0 })),
      (A.f = function (t) {
        return it(M(t), t);
      })),
      i({ global: !0, wrap: !0, forced: !a, sham: !a }, { Symbol: Y }),
      k(v($), function (t) {
        N(t);
      }),
      i(
        { target: "Symbol", stat: !0, forced: !a },
        {
          for: function (t) {
            var e = String(t);
            if (c(J, e)) return J[e];
            var n = Y(e);
            return (J[e] = n), (Q[n] = e), n;
          },
          keyFor: function (t) {
            if (!rt(t)) throw TypeError(t + " is not a symbol");
            if (c(Q, t)) return Q[t];
          },
          useSetter: function () {
            et = !0;
          },
          useSimple: function () {
            et = !1;
          },
        }
      ),
      i(
        { target: "Object", stat: !0, forced: !a, sham: !s },
        {
          create: function (t, e) {
            return void 0 === e ? _(t) : st(_(t), e);
          },
          defineProperty: ot,
          defineProperties: st,
          getOwnPropertyDescriptor: ut,
        }
      ),
      i(
        { target: "Object", stat: !0, forced: !a },
        { getOwnPropertyNames: ct, getOwnPropertySymbols: ht }
      ),
      i(
        {
          target: "Object",
          stat: !0,
          forced: u(function () {
            E.f(1);
          }),
        },
        {
          getOwnPropertySymbols: function (t) {
            return E.f(f(t));
          },
        }
      ),
      X &&
        i(
          {
            target: "JSON",
            stat: !0,
            forced:
              !a ||
              u(function () {
                var t = Y();
                return (
                  "[null]" != z([t]) ||
                  "{}" != z({ a: t }) ||
                  "{}" != z(Object(t))
                );
              }),
          },
          {
            stringify: function (t) {
              for (var e, n, i = [t], r = 1; arguments.length > r; )
                i.push(arguments[r++]);
              if (((n = e = i[1]), (l(e) || void 0 !== t) && !rt(t)))
                return (
                  h(e) ||
                    (e = function (t, e) {
                      if (
                        ("function" == typeof n && (e = n.call(this, t, e)),
                        !rt(e))
                      )
                        return e;
                    }),
                  (i[1] = e),
                  z.apply(X, i)
                );
            },
          }
        ),
      Y.prototype[G] || S(Y.prototype, G, Y.prototype.valueOf),
      P(Y, "Symbol"),
      (R[F] = !0);
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(9),
      o = n(2),
      s = n(16),
      a = n(10),
      u = n(13).f,
      c = n(117),
      h = o.Symbol;
    if (
      r &&
      "function" == typeof h &&
      (!("description" in h.prototype) || void 0 !== h().description)
    ) {
      var l = {},
        p = function () {
          var t =
              arguments.length < 1 || void 0 === arguments[0]
                ? void 0
                : String(arguments[0]),
            e = this instanceof p ? new h(t) : void 0 === t ? h() : h(t);
          return "" === t && (l[e] = !0), e;
        };
      c(p, h);
      var f = (p.prototype = h.prototype);
      f.constructor = p;
      var d = f.toString,
        g = "Symbol(test)" == String(h("test")),
        y = /^Symbol\((.*)\)[^)]+$/;
      u(f, "description", {
        configurable: !0,
        get: function () {
          var t = a(this) ? this.valueOf() : this,
            e = d.call(t);
          if (s(l, t)) return "";
          var n = g ? e.slice(7, -1) : e.replace(y, "$1");
          return "" === n ? void 0 : n;
        },
      }),
        i({ global: !0, forced: !0 }, { Symbol: p });
    }
  },
  function (t, e, n) {
    n(125)("iterator");
  },
  function (t, e, n) {
    "use strict";
    var i = n(131).charAt,
      r = n(36),
      o = n(127),
      s = r.set,
      a = r.getterFor("String Iterator");
    o(
      String,
      "String",
      function (t) {
        s(this, { type: "String Iterator", string: String(t), index: 0 });
      },
      function () {
        var t,
          e = a(this),
          n = e.string,
          r = e.index;
        return r >= n.length
          ? { value: void 0, done: !0 }
          : ((t = i(n, r)), (e.index += t.length), { value: t, done: !1 });
      }
    );
  },
  function (t, e, n) {
    var i = n(2),
      r = n(132),
      o = n(21),
      s = n(15),
      a = n(5),
      u = a("iterator"),
      c = a("toStringTag"),
      h = o.values;
    for (var l in r) {
      var p = i[l],
        f = p && p.prototype;
      if (f) {
        if (f[u] !== h)
          try {
            s(f, u, h);
          } catch (t) {
            f[u] = h;
          }
        if ((f[c] || s(f, c, l), r[l]))
          for (var d in o)
            if (f[d] !== o[d])
              try {
                s(f, d, o[d]);
              } catch (t) {
                f[d] = o[d];
              }
      }
    }
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(3),
      o = n(44),
      s = n(10),
      a = n(12),
      u = n(6),
      c = n(73),
      h = n(101),
      l = n(59),
      p = n(5)("isConcatSpreadable"),
      f = !r(function () {
        var t = [];
        return (t[p] = !1), t.concat()[0] !== t;
      }),
      d = l("concat"),
      g = function (t) {
        if (!s(t)) return !1;
        var e = t[p];
        return void 0 !== e ? !!e : o(t);
      };
    i(
      { target: "Array", proto: !0, forced: !f || !d },
      {
        concat: function (t) {
          var e,
            n,
            i,
            r,
            o,
            s = a(this),
            l = h(s, 0),
            p = 0;
          for (e = -1, i = arguments.length; e < i; e++)
            if (((o = -1 === e ? s : arguments[e]), g(o))) {
              if (p + (r = u(o.length)) > 9007199254740991)
                throw TypeError("Maximum allowed index exceeded");
              for (n = 0; n < r; n++, p++) n in o && c(l, p, o[n]);
            } else {
              if (p >= 9007199254740991)
                throw TypeError("Maximum allowed index exceeded");
              c(l, p++, o);
            }
          return (l.length = p), l;
        },
      }
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(3);
    t.exports = function (t, e) {
      var n = [][t];
      return (
        !n ||
        !i(function () {
          n.call(
            null,
            e ||
              function () {
                throw 1;
              },
            1
          );
        })
      );
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(14).map;
    i(
      { target: "Array", proto: !0, forced: !n(59)("map") },
      {
        map: function (t) {
          return r(this, t, arguments.length > 1 ? arguments[1] : void 0);
        },
      }
    );
  },
  function (t, e, n) {
    var i = n(1),
      r = n(9);
    i(
      { target: "Object", stat: !0, forced: !r, sham: !r },
      { defineProperty: n(13).f }
    );
  },
  function (t, e, n) {
    var i = n(10);
    t.exports = function (t, e) {
      if (!i(t)) return t;
      var n, r;
      if (e && "function" == typeof (n = t.toString) && !i((r = n.call(t))))
        return r;
      if ("function" == typeof (n = t.valueOf) && !i((r = n.call(t)))) return r;
      if (!e && "function" == typeof (n = t.toString) && !i((r = n.call(t))))
        return r;
      throw TypeError("Can't convert object to primitive value");
    };
  },
  function (t, e, n) {
    var i,
      r,
      o,
      s = n(161),
      a = n(2),
      u = n(10),
      c = n(15),
      h = n(16),
      l = n(64),
      p = n(66),
      f = a.WeakMap;
    if (s) {
      var d = new f(),
        g = d.get,
        y = d.has,
        _ = d.set;
      (i = function (t, e) {
        return _.call(d, t, e), e;
      }),
        (r = function (t) {
          return g.call(d, t) || {};
        }),
        (o = function (t) {
          return y.call(d, t);
        });
    } else {
      var v = l("state");
      (p[v] = !0),
        (i = function (t, e) {
          return c(t, v, e), e;
        }),
        (r = function (t) {
          return h(t, v) ? t[v] : {};
        }),
        (o = function (t) {
          return h(t, v);
        });
    }
    t.exports = {
      set: i,
      get: r,
      has: o,
      enforce: function (t) {
        return o(t) ? r(t) : i(t, {});
      },
      getterFor: function (t) {
        return function (e) {
          var n;
          if (!u(e) || (n = r(e)).type !== t)
            throw TypeError("Incompatible receiver, " + t + " required");
          return n;
        };
      },
    };
  },
  function (t, e, n) {
    var i = n(118),
      r = n(94).concat("length", "prototype");
    e.f =
      Object.getOwnPropertyNames ||
      function (t) {
        return i(t, r);
      };
  },
  function (t, e, n) {
    var i = n(20),
      r = Math.max,
      o = Math.min;
    t.exports = function (t, e) {
      var n = i(t);
      return n < 0 ? r(n + e, 0) : o(n, e);
    };
  },
  function (t, e) {
    t.exports = function (t) {
      if ("function" != typeof t)
        throw TypeError(String(t) + " is not a function");
      return t;
    };
  },
  function (t, e, n) {
    var i = n(11),
      r = n(39),
      o = n(5)("species");
    t.exports = function (t, e) {
      var n,
        s = i(t).constructor;
      return void 0 === s || null == (n = i(s)[o]) ? e : r(n);
    };
  },
  function (t, e) {
    t.exports = function (t, e) {
      return {
        enumerable: !(1 & t),
        configurable: !(2 & t),
        writable: !(4 & t),
        value: e,
      };
    };
  },
  function (t, e, n) {
    "use strict";
    var i,
      r,
      o,
      s,
      a = n(1),
      u = n(54),
      c = n(2),
      h = n(93),
      l = n(164),
      p = n(17),
      f = n(119),
      d = n(56),
      g = n(71),
      y = n(10),
      _ = n(39),
      v = n(96),
      m = n(24),
      x = n(165),
      E = n(99),
      b = n(40),
      w = n(121).set,
      I = n(166),
      S = n(167),
      C = n(168),
      T = n(123),
      O = n(169),
      R = n(100),
      L = n(36),
      M = n(70),
      A = n(5)("species"),
      N = "Promise",
      P = L.get,
      D = L.set,
      k = L.getterFor(N),
      F = l,
      G = c.TypeError,
      j = c.document,
      B = c.process,
      U = c.fetch,
      Y = B && B.versions,
      X = (Y && Y.v8) || "",
      z = T.f,
      V = z,
      q = "process" == m(B),
      W = !!(j && j.createEvent && c.dispatchEvent),
      H = M(N, function () {
        var t = F.resolve(1),
          e = function () {},
          n = ((t.constructor = {})[A] = function (t) {
            t(e, e);
          });
        return !(
          (q || "function" == typeof PromiseRejectionEvent) &&
          (!u || t.finally) &&
          t.then(e) instanceof n &&
          0 !== X.indexOf("6.6") &&
          -1 === R.indexOf("Chrome/66")
        );
      }),
      K =
        H ||
        !E(function (t) {
          F.all(t).catch(function () {});
        }),
      Z = function (t) {
        var e;
        return !(!y(t) || "function" != typeof (e = t.then)) && e;
      },
      J = function (t, e, n) {
        if (!e.notified) {
          e.notified = !0;
          var i = e.reactions;
          I(function () {
            for (var r = e.value, o = 1 == e.state, s = 0; i.length > s; ) {
              var a,
                u,
                c,
                h = i[s++],
                l = o ? h.ok : h.fail,
                p = h.resolve,
                f = h.reject,
                d = h.domain;
              try {
                l
                  ? (o || (2 === e.rejection && et(t, e), (e.rejection = 1)),
                    !0 === l
                      ? (a = r)
                      : (d && d.enter(), (a = l(r)), d && (d.exit(), (c = !0))),
                    a === h.promise
                      ? f(G("Promise-chain cycle"))
                      : (u = Z(a))
                      ? u.call(a, p, f)
                      : p(a))
                  : f(r);
              } catch (t) {
                d && !c && d.exit(), f(t);
              }
            }
            (e.reactions = []), (e.notified = !1), n && !e.rejection && $(t, e);
          });
        }
      },
      Q = function (t, e, n) {
        var i, r;
        W
          ? (((i = j.createEvent("Event")).promise = e),
            (i.reason = n),
            i.initEvent(t, !1, !0),
            c.dispatchEvent(i))
          : (i = { promise: e, reason: n }),
          (r = c["on" + t])
            ? r(i)
            : "unhandledrejection" === t && C("Unhandled promise rejection", n);
      },
      $ = function (t, e) {
        w.call(c, function () {
          var n,
            i = e.value;
          if (
            tt(e) &&
            ((n = O(function () {
              q
                ? B.emit("unhandledRejection", i, t)
                : Q("unhandledrejection", t, i);
            })),
            (e.rejection = q || tt(e) ? 2 : 1),
            n.error)
          )
            throw n.value;
        });
      },
      tt = function (t) {
        return 1 !== t.rejection && !t.parent;
      },
      et = function (t, e) {
        w.call(c, function () {
          q ? B.emit("rejectionHandled", t) : Q("rejectionhandled", t, e.value);
        });
      },
      nt = function (t, e, n, i) {
        return function (r) {
          t(e, n, r, i);
        };
      },
      it = function (t, e, n, i) {
        e.done ||
          ((e.done = !0),
          i && (e = i),
          (e.value = n),
          (e.state = 2),
          J(t, e, !0));
      },
      rt = function (t, e, n, i) {
        if (!e.done) {
          (e.done = !0), i && (e = i);
          try {
            if (t === n) throw G("Promise can't be resolved itself");
            var r = Z(n);
            r
              ? I(function () {
                  var i = { done: !1 };
                  try {
                    r.call(n, nt(rt, t, i, e), nt(it, t, i, e));
                  } catch (n) {
                    it(t, i, n, e);
                  }
                })
              : ((e.value = n), (e.state = 1), J(t, e, !1));
          } catch (n) {
            it(t, { done: !1 }, n, e);
          }
        }
      };
    H &&
      ((F = function (t) {
        v(this, F, N), _(t), i.call(this);
        var e = P(this);
        try {
          t(nt(rt, this, e), nt(it, this, e));
        } catch (t) {
          it(this, e, t);
        }
      }),
      ((i = function (t) {
        D(this, {
          type: N,
          done: !1,
          notified: !1,
          parent: !1,
          reactions: [],
          rejection: !1,
          state: 0,
          value: void 0,
        });
      }).prototype = f(F.prototype, {
        then: function (t, e) {
          var n = k(this),
            i = z(b(this, F));
          return (
            (i.ok = "function" != typeof t || t),
            (i.fail = "function" == typeof e && e),
            (i.domain = q ? B.domain : void 0),
            (n.parent = !0),
            n.reactions.push(i),
            0 != n.state && J(this, n, !1),
            i.promise
          );
        },
        catch: function (t) {
          return this.then(void 0, t);
        },
      })),
      (r = function () {
        var t = new i(),
          e = P(t);
        (this.promise = t),
          (this.resolve = nt(rt, t, e)),
          (this.reject = nt(it, t, e));
      }),
      (T.f = z = function (t) {
        return t === F || t === o ? new r(t) : V(t);
      }),
      u ||
        "function" != typeof l ||
        ((s = l.prototype.then),
        p(l.prototype, "then", function (t, e) {
          var n = this;
          return new F(function (t, e) {
            s.call(n, t, e);
          }).then(t, e);
        }),
        "function" == typeof U &&
          a(
            { global: !0, enumerable: !0, forced: !0 },
            {
              fetch: function (t) {
                return S(F, U.apply(c, arguments));
              },
            }
          ))),
      a({ global: !0, wrap: !0, forced: H }, { Promise: F }),
      d(F, N, !1, !0),
      g(N),
      (o = h.Promise),
      a(
        { target: N, stat: !0, forced: H },
        {
          reject: function (t) {
            var e = z(this);
            return e.reject.call(void 0, t), e.promise;
          },
        }
      ),
      a(
        { target: N, stat: !0, forced: u || H },
        {
          resolve: function (t) {
            return S(u && this === o ? F : this, t);
          },
        }
      ),
      a(
        { target: N, stat: !0, forced: K },
        {
          all: function (t) {
            var e = this,
              n = z(e),
              i = n.resolve,
              r = n.reject,
              o = O(function () {
                var n = _(e.resolve),
                  o = [],
                  s = 0,
                  a = 1;
                x(t, function (t) {
                  var u = s++,
                    c = !1;
                  o.push(void 0),
                    a++,
                    n.call(e, t).then(function (t) {
                      c || ((c = !0), (o[u] = t), --a || i(o));
                    }, r);
                }),
                  --a || i(o);
              });
            return o.error && r(o.value), n.promise;
          },
          race: function (t) {
            var e = this,
              n = z(e),
              i = n.reject,
              r = O(function () {
                var r = _(e.resolve);
                x(t, function (t) {
                  r.call(e, t).then(n.resolve, i);
                });
              });
            return r.error && i(r.value), n.promise;
          },
        }
      );
  },
  function (t, e, n) {
    var i = n(9),
      r = n(92),
      o = n(41),
      s = n(25),
      a = n(35),
      u = n(16),
      c = n(114),
      h = Object.getOwnPropertyDescriptor;
    e.f = i
      ? h
      : function (t, e) {
          if (((t = s(t)), (e = a(e, !0)), c))
            try {
              return h(t, e);
            } catch (t) {}
          if (u(t, e)) return o(!r.f.call(t, e), t[e]);
        };
  },
  function (t, e, n) {
    var i = n(24);
    t.exports =
      Array.isArray ||
      function (t) {
        return "Array" == i(t);
      };
  },
  function (t, e, n) {
    var i = n(11),
      r = n(170),
      o = n(94),
      s = n(66),
      a = n(122),
      u = n(91),
      c = n(64)("IE_PROTO"),
      h = function () {},
      l = function () {
        var t,
          e = u("iframe"),
          n = o.length;
        for (
          e.style.display = "none",
            a.appendChild(e),
            e.src = String("javascript:"),
            (t = e.contentWindow.document).open(),
            t.write("<script>document.F=Object</script>"),
            t.close(),
            l = t.F;
          n--;

        )
          delete l.prototype[o[n]];
        return l();
      };
    (t.exports =
      Object.create ||
      function (t, e) {
        var n;
        return (
          null !== t
            ? ((h.prototype = i(t)),
              (n = new h()),
              (h.prototype = null),
              (n[c] = t))
            : (n = l()),
          void 0 === e ? n : r(n, e)
        );
      }),
      (s[c] = !0);
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(14).filter;
    i(
      { target: "Array", proto: !0, forced: !n(59)("filter") },
      {
        filter: function (t) {
          return r(this, t, arguments.length > 1 ? arguments[1] : void 0);
        },
      }
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(103).left;
    i(
      { target: "Array", proto: !0, forced: n(32)("reduce") },
      {
        reduce: function (t) {
          return r(
            this,
            t,
            arguments.length,
            arguments.length > 1 ? arguments[1] : void 0
          );
        },
      }
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(39),
      o = n(12),
      s = n(3),
      a = n(32),
      u = [].sort,
      c = [1, 2, 3],
      h = s(function () {
        c.sort(void 0);
      }),
      l = s(function () {
        c.sort(null);
      }),
      p = a("sort");
    i(
      { target: "Array", proto: !0, forced: h || !l || p },
      {
        sort: function (t) {
          return void 0 === t ? u.call(o(this)) : u.call(o(this), r(t));
        },
      }
    );
  },
  function (t, e, n) {
    n(1)({ target: "Object", stat: !0, sham: !n(9) }, { create: n(45) });
  },
  function (t, e, n) {
    var i = n(1),
      r = n(3),
      o = n(12),
      s = n(76),
      a = n(129);
    i(
      {
        target: "Object",
        stat: !0,
        forced: r(function () {
          s(1);
        }),
        sham: !a,
      },
      {
        getPrototypeOf: function (t) {
          return s(o(t));
        },
      }
    );
  },
  function (t, e, n) {
    n(1)({ target: "Object", stat: !0 }, { setPrototypeOf: n(60) });
  },
  function (t, e, n) {
    "use strict";
    (t.exports = r), (t.exports.default = r);
    var i = n(179);
    function r(t, e) {
      if (!(this instanceof r)) return new r(t, e);
      (this._maxEntries = Math.max(4, t || 9)),
        (this._minEntries = Math.max(2, Math.ceil(0.4 * this._maxEntries))),
        e && this._initFormat(e),
        this.clear();
    }
    function o(t, e, n) {
      if (!n) return e.indexOf(t);
      for (var i = 0; i < e.length; i++) if (n(t, e[i])) return i;
      return -1;
    }
    function s(t, e) {
      a(t, 0, t.children.length, e, t);
    }
    function a(t, e, n, i, r) {
      r || (r = g(null)),
        (r.minX = 1 / 0),
        (r.minY = 1 / 0),
        (r.maxX = -1 / 0),
        (r.maxY = -1 / 0);
      for (var o, s = e; s < n; s++)
        (o = t.children[s]), u(r, t.leaf ? i(o) : o);
      return r;
    }
    function u(t, e) {
      return (
        (t.minX = Math.min(t.minX, e.minX)),
        (t.minY = Math.min(t.minY, e.minY)),
        (t.maxX = Math.max(t.maxX, e.maxX)),
        (t.maxY = Math.max(t.maxY, e.maxY)),
        t
      );
    }
    function c(t, e) {
      return t.minX - e.minX;
    }
    function h(t, e) {
      return t.minY - e.minY;
    }
    function l(t) {
      return (t.maxX - t.minX) * (t.maxY - t.minY);
    }
    function p(t) {
      return t.maxX - t.minX + (t.maxY - t.minY);
    }
    function f(t, e) {
      return (
        t.minX <= e.minX &&
        t.minY <= e.minY &&
        e.maxX <= t.maxX &&
        e.maxY <= t.maxY
      );
    }
    function d(t, e) {
      return (
        e.minX <= t.maxX &&
        e.minY <= t.maxY &&
        e.maxX >= t.minX &&
        e.maxY >= t.minY
      );
    }
    function g(t) {
      return {
        children: t,
        height: 1,
        leaf: !0,
        minX: 1 / 0,
        minY: 1 / 0,
        maxX: -1 / 0,
        maxY: -1 / 0,
      };
    }
    function y(t, e, n, r, o) {
      for (var s, a = [e, n]; a.length; )
        (n = a.pop()) - (e = a.pop()) <= r ||
          ((s = e + Math.ceil((n - e) / r / 2) * r),
          i(t, s, e, n, o),
          a.push(e, s, s, n));
    }
    r.prototype = {
      all: function () {
        return this._all(this.data, []);
      },
      search: function (t) {
        var e = this.data,
          n = [],
          i = this.toBBox;
        if (!d(t, e)) return n;
        for (var r, o, s, a, u = []; e; ) {
          for (r = 0, o = e.children.length; r < o; r++)
            (s = e.children[r]),
              d(t, (a = e.leaf ? i(s) : s)) &&
                (e.leaf ? n.push(s) : f(t, a) ? this._all(s, n) : u.push(s));
          e = u.pop();
        }
        return n;
      },
      collides: function (t) {
        var e = this.data,
          n = this.toBBox;
        if (!d(t, e)) return !1;
        for (var i, r, o, s, a = []; e; ) {
          for (i = 0, r = e.children.length; i < r; i++)
            if (((o = e.children[i]), d(t, (s = e.leaf ? n(o) : o)))) {
              if (e.leaf || f(t, s)) return !0;
              a.push(o);
            }
          e = a.pop();
        }
        return !1;
      },
      load: function (t) {
        if (!t || !t.length) return this;
        if (t.length < this._minEntries) {
          for (var e = 0, n = t.length; e < n; e++) this.insert(t[e]);
          return this;
        }
        var i = this._build(t.slice(), 0, t.length - 1, 0);
        if (this.data.children.length)
          if (this.data.height === i.height) this._splitRoot(this.data, i);
          else {
            if (this.data.height < i.height) {
              var r = this.data;
              (this.data = i), (i = r);
            }
            this._insert(i, this.data.height - i.height - 1, !0);
          }
        else this.data = i;
        return this;
      },
      insert: function (t) {
        return t && this._insert(t, this.data.height - 1), this;
      },
      clear: function () {
        return (this.data = g([])), this;
      },
      remove: function (t, e) {
        if (!t) return this;
        for (
          var n, i, r, s, a = this.data, u = this.toBBox(t), c = [], h = [];
          a || c.length;

        ) {
          if (
            (a ||
              ((a = c.pop()), (i = c[c.length - 1]), (n = h.pop()), (s = !0)),
            a.leaf && -1 !== (r = o(t, a.children, e)))
          )
            return a.children.splice(r, 1), c.push(a), this._condense(c), this;
          s || a.leaf || !f(a, u)
            ? i
              ? (n++, (a = i.children[n]), (s = !1))
              : (a = null)
            : (c.push(a), h.push(n), (n = 0), (i = a), (a = a.children[0]));
        }
        return this;
      },
      toBBox: function (t) {
        return t;
      },
      compareMinX: c,
      compareMinY: h,
      toJSON: function () {
        return this.data;
      },
      fromJSON: function (t) {
        return (this.data = t), this;
      },
      _all: function (t, e) {
        for (var n = []; t; )
          t.leaf ? e.push.apply(e, t.children) : n.push.apply(n, t.children),
            (t = n.pop());
        return e;
      },
      _build: function (t, e, n, i) {
        var r,
          o = n - e + 1,
          a = this._maxEntries;
        if (o <= a) return s((r = g(t.slice(e, n + 1))), this.toBBox), r;
        i ||
          ((i = Math.ceil(Math.log(o) / Math.log(a))),
          (a = Math.ceil(o / Math.pow(a, i - 1)))),
          ((r = g([])).leaf = !1),
          (r.height = i);
        var u,
          c,
          h,
          l,
          p = Math.ceil(o / a),
          f = p * Math.ceil(Math.sqrt(a));
        for (y(t, e, n, f, this.compareMinX), u = e; u <= n; u += f)
          for (
            y(t, u, (h = Math.min(u + f - 1, n)), p, this.compareMinY), c = u;
            c <= h;
            c += p
          )
            (l = Math.min(c + p - 1, h)),
              r.children.push(this._build(t, c, l, i - 1));
        return s(r, this.toBBox), r;
      },
      _chooseSubtree: function (t, e, n, i) {
        for (
          var r, o, s, a, u, c, h, p, f, d;
          i.push(e), !e.leaf && i.length - 1 !== n;

        ) {
          for (h = p = 1 / 0, r = 0, o = e.children.length; r < o; r++)
            (u = l((s = e.children[r]))),
              (f = t),
              (d = s),
              (c =
                (Math.max(d.maxX, f.maxX) - Math.min(d.minX, f.minX)) *
                  (Math.max(d.maxY, f.maxY) - Math.min(d.minY, f.minY)) -
                u) < p
                ? ((p = c), (h = u < h ? u : h), (a = s))
                : c === p && u < h && ((h = u), (a = s));
          e = a || e.children[0];
        }
        return e;
      },
      _insert: function (t, e, n) {
        var i = this.toBBox,
          r = n ? t : i(t),
          o = [],
          s = this._chooseSubtree(r, this.data, e, o);
        for (
          s.children.push(t), u(s, r);
          e >= 0 && o[e].children.length > this._maxEntries;

        )
          this._split(o, e), e--;
        this._adjustParentBBoxes(r, o, e);
      },
      _split: function (t, e) {
        var n = t[e],
          i = n.children.length,
          r = this._minEntries;
        this._chooseSplitAxis(n, r, i);
        var o = this._chooseSplitIndex(n, r, i),
          a = g(n.children.splice(o, n.children.length - o));
        (a.height = n.height),
          (a.leaf = n.leaf),
          s(n, this.toBBox),
          s(a, this.toBBox),
          e ? t[e - 1].children.push(a) : this._splitRoot(n, a);
      },
      _splitRoot: function (t, e) {
        (this.data = g([t, e])),
          (this.data.height = t.height + 1),
          (this.data.leaf = !1),
          s(this.data, this.toBBox);
      },
      _chooseSplitIndex: function (t, e, n) {
        var i, r, o, s, u, c, h, p, f, d, g, y, _, v;
        for (c = h = 1 / 0, i = e; i <= n - e; i++)
          (r = a(t, 0, i, this.toBBox)),
            (o = a(t, i, n, this.toBBox)),
            (f = r),
            (d = o),
            (g = void 0),
            (y = void 0),
            (_ = void 0),
            (v = void 0),
            (g = Math.max(f.minX, d.minX)),
            (y = Math.max(f.minY, d.minY)),
            (_ = Math.min(f.maxX, d.maxX)),
            (v = Math.min(f.maxY, d.maxY)),
            (s = Math.max(0, _ - g) * Math.max(0, v - y)),
            (u = l(r) + l(o)),
            s < c
              ? ((c = s), (p = i), (h = u < h ? u : h))
              : s === c && u < h && ((h = u), (p = i));
        return p;
      },
      _chooseSplitAxis: function (t, e, n) {
        var i = t.leaf ? this.compareMinX : c,
          r = t.leaf ? this.compareMinY : h;
        this._allDistMargin(t, e, n, i) < this._allDistMargin(t, e, n, r) &&
          t.children.sort(i);
      },
      _allDistMargin: function (t, e, n, i) {
        t.children.sort(i);
        var r,
          o,
          s = this.toBBox,
          c = a(t, 0, e, s),
          h = a(t, n - e, n, s),
          l = p(c) + p(h);
        for (r = e; r < n - e; r++)
          (o = t.children[r]), u(c, t.leaf ? s(o) : o), (l += p(c));
        for (r = n - e - 1; r >= e; r--)
          (o = t.children[r]), u(h, t.leaf ? s(o) : o), (l += p(h));
        return l;
      },
      _adjustParentBBoxes: function (t, e, n) {
        for (var i = n; i >= 0; i--) u(e[i], t);
      },
      _condense: function (t) {
        for (var e, n = t.length - 1; n >= 0; n--)
          0 === t[n].children.length
            ? n > 0
              ? (e = t[n - 1].children).splice(e.indexOf(t[n]), 1)
              : this.clear()
            : s(t[n], this.toBBox);
      },
      _initFormat: function (t) {
        var e = ["return a", " - b", ";"];
        (this.compareMinX = new Function("a", "b", e.join(t[0]))),
          (this.compareMinY = new Function("a", "b", e.join(t[1]))),
          (this.toBBox = new Function(
            "a",
            "return {minX: a" +
              t[0] +
              ", minY: a" +
              t[1] +
              ", maxX: a" +
              t[2] +
              ", maxY: a" +
              t[3] +
              "};"
          ));
      },
    };
  },
  function (t, e, n) {
    var i = n(2),
      r = n(90),
      o = n(54),
      s = i["__core-js_shared__"] || r("__core-js_shared__", {});
    (t.exports = function (t, e) {
      return s[t] || (s[t] = void 0 !== e ? e : {});
    })("versions", []).push({
      version: "3.2.1",
      mode: o ? "pure" : "global",
      copyright: "© 2019 Denis Pushkarev (zloirock.ru)",
    });
  },
  function (t, e) {
    t.exports = !1;
  },
  function (t, e, n) {
    var i = n(3),
      r = n(24),
      o = "".split;
    t.exports = i(function () {
      return !Object("z").propertyIsEnumerable(0);
    })
      ? function (t) {
          return "String" == r(t) ? o.call(t, "") : Object(t);
        }
      : Object;
  },
  function (t, e, n) {
    var i = n(13).f,
      r = n(16),
      o = n(5)("toStringTag");
    t.exports = function (t, e, n) {
      t &&
        !r((t = n ? t : t.prototype), o) &&
        i(t, o, { configurable: !0, value: e });
    };
  },
  function (t, e) {
    t.exports = {};
  },
  function (t, e, n) {
    var i = n(39);
    t.exports = function (t, e, n) {
      if ((i(t), void 0 === e)) return t;
      switch (n) {
        case 0:
          return function () {
            return t.call(e);
          };
        case 1:
          return function (n) {
            return t.call(e, n);
          };
        case 2:
          return function (n, i) {
            return t.call(e, n, i);
          };
        case 3:
          return function (n, i, r) {
            return t.call(e, n, i, r);
          };
      }
      return function () {
        return t.apply(e, arguments);
      };
    };
  },
  function (t, e, n) {
    var i = n(3),
      r = n(5)("species");
    t.exports = function (t) {
      return !i(function () {
        var e = [];
        return (
          ((e.constructor = {})[r] = function () {
            return { foo: 1 };
          }),
          1 !== e[t](Boolean).foo
        );
      });
    };
  },
  function (t, e, n) {
    var i = n(11),
      r = n(173);
    t.exports =
      Object.setPrototypeOf ||
      ("__proto__" in {}
        ? (function () {
            var t,
              e = !1,
              n = {};
            try {
              (t = Object.getOwnPropertyDescriptor(
                Object.prototype,
                "__proto__"
              ).set).call(n, []),
                (e = n instanceof Array);
            } catch (t) {}
            return function (n, o) {
              return i(n), r(o), e ? t.call(n, o) : (n.__proto__ = o), n;
            };
          })()
        : void 0);
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(81);
    i({ target: "RegExp", proto: !0, forced: /./.exec !== r }, { exec: r });
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(2),
      o = n(9),
      s = n(219),
      a = n(4),
      u = n(85),
      c = n(96),
      h = n(41),
      l = n(15),
      p = n(6),
      f = n(140),
      d = n(145),
      g = n(35),
      y = n(16),
      _ = n(67),
      v = n(10),
      m = n(45),
      x = n(60),
      E = n(37).f,
      b = n(220),
      w = n(14).forEach,
      I = n(71),
      S = n(13),
      C = n(43),
      T = n(36),
      O = T.get,
      R = T.set,
      L = S.f,
      M = C.f,
      A = Math.round,
      N = r.RangeError,
      P = u.ArrayBuffer,
      D = u.DataView,
      k = a.NATIVE_ARRAY_BUFFER_VIEWS,
      F = a.TYPED_ARRAY_TAG,
      G = a.TypedArray,
      j = a.TypedArrayPrototype,
      B = a.aTypedArrayConstructor,
      U = a.isTypedArray,
      Y = function (t, e) {
        for (var n = 0, i = e.length, r = new (B(t))(i); i > n; ) r[n] = e[n++];
        return r;
      },
      X = function (t, e) {
        L(t, e, {
          get: function () {
            return O(this)[e];
          },
        });
      },
      z = function (t) {
        var e;
        return (
          t instanceof P ||
          "ArrayBuffer" == (e = _(t)) ||
          "SharedArrayBuffer" == e
        );
      },
      V = function (t, e) {
        return (
          U(t) && "symbol" != typeof e && e in t && String(+e) == String(e)
        );
      },
      q = function (t, e) {
        return V(t, (e = g(e, !0))) ? h(2, t[e]) : M(t, e);
      },
      W = function (t, e, n) {
        return !(V(t, (e = g(e, !0))) && v(n) && y(n, "value")) ||
          y(n, "get") ||
          y(n, "set") ||
          n.configurable ||
          (y(n, "writable") && !n.writable) ||
          (y(n, "enumerable") && !n.enumerable)
          ? L(t, e, n)
          : ((t[e] = n.value), t);
      };
    o
      ? (k ||
          ((C.f = q),
          (S.f = W),
          X(j, "buffer"),
          X(j, "byteOffset"),
          X(j, "byteLength"),
          X(j, "length")),
        i(
          { target: "Object", stat: !0, forced: !k },
          { getOwnPropertyDescriptor: q, defineProperty: W }
        ),
        (t.exports = function (t, e, n, o) {
          var a = t + (o ? "Clamped" : "") + "Array",
            u = "get" + t,
            h = "set" + t,
            g = r[a],
            y = g,
            _ = y && y.prototype,
            S = {},
            C = function (t, n) {
              L(t, n, {
                get: function () {
                  return (function (t, n) {
                    var i = O(t);
                    return i.view[u](n * e + i.byteOffset, !0);
                  })(this, n);
                },
                set: function (t) {
                  return (function (t, n, i) {
                    var r = O(t);
                    o && (i = (i = A(i)) < 0 ? 0 : i > 255 ? 255 : 255 & i),
                      r.view[h](n * e + r.byteOffset, i, !0);
                  })(this, n, t);
                },
                enumerable: !0,
              });
            };
          k
            ? s &&
              ((y = n(function (t, n, i, r) {
                return (
                  c(t, y, a),
                  v(n)
                    ? z(n)
                      ? void 0 !== r
                        ? new g(n, d(i, e), r)
                        : void 0 !== i
                        ? new g(n, d(i, e))
                        : new g(n)
                      : U(n)
                      ? Y(y, n)
                      : b.call(y, n)
                    : new g(f(n))
                );
              })),
              x && x(y, G),
              w(E(g), function (t) {
                t in y || l(y, t, g[t]);
              }),
              (y.prototype = _))
            : ((y = n(function (t, n, i, r) {
                c(t, y, a);
                var o,
                  s,
                  u,
                  h = 0,
                  l = 0;
                if (v(n)) {
                  if (!z(n)) return U(n) ? Y(y, n) : b.call(y, n);
                  (o = n), (l = d(i, e));
                  var g = n.byteLength;
                  if (void 0 === r) {
                    if (g % e) throw N("Wrong length");
                    if ((s = g - l) < 0) throw N("Wrong length");
                  } else if ((s = p(r) * e) + l > g) throw N("Wrong length");
                  u = s / e;
                } else (u = f(n)), (o = new P((s = u * e)));
                for (
                  R(t, {
                    buffer: o,
                    byteOffset: l,
                    byteLength: s,
                    length: u,
                    view: new D(o),
                  });
                  h < u;

                )
                  C(t, h++);
              })),
              x && x(y, G),
              (_ = y.prototype = m(j))),
            _.constructor !== y && l(_, "constructor", y),
            F && l(_, F, a),
            (S[a] = y),
            i({ global: !0, forced: y != g, sham: !k }, S),
            "BYTES_PER_ELEMENT" in y || l(y, "BYTES_PER_ELEMENT", e),
            "BYTES_PER_ELEMENT" in _ || l(_, "BYTES_PER_ELEMENT", e),
            I(a);
        }))
      : (t.exports = function () {});
  },
  function (t, e, n) {
    "use strict";
    n(26),
      n(27),
      n(28),
      n(31),
      n(74),
      n(75),
      n(21),
      n(33),
      n(47),
      n(48),
      n(139),
      n(143),
      n(34),
      n(23),
      n(29),
      n(254),
      n(30);
    var i = n(0);
    function r(t) {
      return (r =
        "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
          ? function (t) {
              return typeof t;
            }
          : function (t) {
              return t &&
                "function" == typeof Symbol &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
                ? "symbol"
                : typeof t;
            })(t);
    }
    function o(t, e) {
      for (var n = 0; n < e.length; n++) {
        var i = e[n];
        (i.enumerable = i.enumerable || !1),
          (i.configurable = !0),
          "value" in i && (i.writable = !0),
          Object.defineProperty(t, i.key, i);
      }
    }
    var s = (function () {
      function t(e, n) {
        !(function (t, e) {
          if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function");
        })(this, t),
          (this.x = e),
          (this.y = n);
      }
      var e, n, i;
      return (
        (e = t),
        (n = [
          {
            key: "dot",
            value: function (t) {
              return this.x * t.x + this.y * t.y;
            },
          },
          {
            key: "add",
            value: function (e) {
              return new t(this.x + e.x, this.y + e.y);
            },
          },
          {
            key: "sub",
            value: function (e) {
              return new t(this.x - e.x, this.y - e.y);
            },
          },
          {
            key: "scale",
            value: function (e) {
              return new t(this.x * e, this.y * e);
            },
          },
          {
            key: "sqDistanceTo",
            value: function (t) {
              return (
                (this.x - t.x) * (this.x - t.x) +
                (this.y - t.y) * (this.y - t.y)
              );
            },
          },
          {
            key: "toStr",
            value: function () {
              return "("
                .concat(this.x.toFixed(3), ", ")
                .concat(this.y.toFixed(3), ")");
            },
          },
          {
            key: "copyFrom",
            value: function (t) {
              (this.x = t.x), (this.y = t.y);
            },
          },
        ]) && o(e.prototype, n),
        i && o(e, i),
        t
      );
    })();
    function a(t, e) {
      return t.x * e.y - t.y * e.x;
    }
    function u(t, e) {
      return a(t[1].sub(t[0]), e.sub(t[0]));
    }
    var c = new s(0, 0),
      h = 1,
      l = 1e3;
    function p(t, e) {
      return t.bin == e.bin ? 0 : t.bin < e.bin ? -1 : 1;
    }
    function f(t, e) {
      var n = t[1].sub(t[0]),
        i = e[0].sub(t[0]),
        r = e[1].sub(t[0]),
        o = a(n, i),
        s = a(n, r);
      if ((o > 0 && s > 0) || (o < 0 && s < 0)) return !1;
      var u = e[1].sub(e[0]),
        c = t[0].sub(e[0]),
        h = t[1].sub(e[0]),
        l = a(u, c),
        p = a(u, h);
      if ((l > 0 && p > 0) || (l < 0 && p < 0)) return !1;
      if (Math.abs(o) < 1e-14 && Math.abs(s) < 1e-14) {
        if (
          Math.max(e[0].x, e[1].x) < Math.min(t[0].x, t[1].x) ||
          Math.min(e[0].x, e[1].x) > Math.max(t[0].x, t[1].x)
        )
          return !1;
        if (
          Math.max(e[0].y, e[1].y) < Math.min(t[0].y, t[1].y) ||
          Math.min(e[0].y, e[1].y) > Math.max(t[0].y, t[1].y)
        )
          return !1;
      }
      return !0;
    }
    function d(t) {
      !(function (t) {
        for (
          var e = t.vert.length,
            n = Math.round(Math.pow(e, 0.25)),
            i = [],
            r = [],
            o = 0;
          o < e;
          o++
        ) {
          var a = (t.vert[o].x - c.x) / h,
            u = (t.vert[o].y - c.y) / h;
          i.push(new s(a, u));
          var f = Math.round((n - 1) * a),
            d = Math.round((n - 1) * u),
            g = void 0;
          (g = d % 2 == 0 ? d * n + f : (d + 1) * n - f - 1),
            r.push({ ind: o, bin: g });
        }
        var y = l;
        i.push(new s(0.5 - y, -y / Math.sqrt(3) + 0.5)),
          i.push(new s(y + 0.5, -y / Math.sqrt(3) + 0.5)),
          i.push(new s(0.5, (2 * y) / Math.sqrt(3) + 0.5));
        for (var _ = e; _ < e + 3; _++)
          t.vert.push(new s(h * i[_].x + c.x, h * i[_].y + c.y));
        r.sort(p),
          (t.scaled_vert = i),
          (t.bin = r),
          (t.tri = [[e, e + 1, e + 2]]),
          (t.adj = [[-1, -1, -1]]),
          (t.vert_to_tri = []);
      })(t);
      for (
        var e = t.scaled_vert,
          n = t.bin,
          i = t.tri,
          r = t.adj,
          o = e.length - 3,
          a = 0,
          u = 0;
        u < o;
        u++
      ) {
        var f = n[u].ind;
        if (-1 === (a = g(e[f], t, a)[0]))
          throw "Could not find a triangle containing the new vertex!";
        var d = i[a],
          _ = [d[0], d[1], f],
          v = [f, d[1], d[2]],
          m = [d[0], f, d[2]];
        i[a] = _;
        var x = i.length,
          E = r[a];
        (r[a] = [x, x + 1, E[2]]),
          i.push(v),
          i.push(m),
          r.push([E[0], x + 1, a]),
          r.push([x, E[1], a]);
        var b = [];
        if (E[2] >= 0) {
          var w = r[E[2]].indexOf(a);
          b.push([E[2], w]);
        }
        if (E[0] >= 0) {
          var I = r[E[0]].indexOf(a);
          (r[E[0]][I] = x), b.push([E[0], I]);
        }
        if (E[1] >= 0) {
          var S = r[E[1]].indexOf(a);
          (r[E[1]][S] = x + 1), b.push([E[1], S]);
        }
        y(f, t, b);
      }
      !(function (t) {
        for (
          var e = t.scaled_vert,
            n = t.tri,
            i = t.adj,
            r = e.length - 3,
            o = 0,
            s = [],
            a = 0;
          a < n.length;
          a++
        ) {
          for (var u = o, c = a; c < n.length; c++) {
            if (n[c][0] < r && n[c][1] < r && n[c][2] < r) {
              s[a + o] = a;
              break;
            }
            (s[a + o] = -1), o++;
          }
          var h = o - u;
          h > 0 && (n.splice(a, h), i.splice(a, h));
        }
        for (var l = 0; l < i.length; l++)
          for (var p = 0; p < 3; p++) i[l][p] = s[i[l][p]];
        t.scaled_vert.splice(-3, 3), t.vert.splice(-3, 3);
      })(t);
    }
    function g(t, e, n) {
      for (
        var i = e.scaled_vert,
          r = e.tri,
          o = e.adj,
          s = Math.max(10, o.length),
          a = 0,
          c = [];
        a < s;

      ) {
        if (-1 === n) return [n, a];
        var h = r[n],
          l = [
            u([i[h[1]], i[h[2]]], t),
            u([i[h[2]], i[h[0]]], t),
            u([i[h[0]], i[h[1]]], t),
          ];
        if (l[0] >= 0 && l[1] >= 0 && l[2] >= 0) return [n, a];
        for (var p = -1, f = 0; f < 3; f++)
          if (l[f] >= 0) {
            p = f;
            break;
          }
        var d = (p + 1) % 3,
          g = (p + 2) % 3;
        if (l[d] >= 0 && l[g] < 0)
          (n = o[n][g]), (c[a] = i[h[p]].add(i[h[d]]).scale(0.5));
        else if (l[d] < 0 && l[g] >= 0)
          (n = o[n][d]), (c[a] = i[h[g]].add(i[h[p]]).scale(0.5));
        else {
          var y = i[h[d]].sub(i[h[p]]),
            _ = t.sub(i[h[p]]);
          y.dot(_) > 0
            ? ((n = o[n][g]), (c[a] = i[h[p]].add(i[h[d]]).scale(0.5)))
            : ((n = o[n][d]), (c[a] = i[h[g]].add(i[h[p]]).scale(0.5)));
        }
        a++;
      }
      throw "Could not locate the triangle that encloses ("
        .concat(t.x, ", ")
        .concat(t.y, ")!");
    }
    function y(t, e, n) {
      for (
        var i = e.scaled_vert, r = e.tri, o = e.adj, s = i[t];
        n.length > 0;

      ) {
        for (var a = n.pop(), u = a[0], c = r[u], h = [], l = 0; l < 3; l++)
          h[l] = i[c[l]];
        if (!v(h, s)) {
          var p = a[1],
            f = o[u][p];
          if (f < 0) throw "negative index";
          _(e, u, f);
          var d = r[u].indexOf(t),
            g = o[u][d];
          if (g >= 0) {
            var y = o[g].indexOf(u);
            n.push([g, y]);
          }
          var m = r[f].indexOf(t),
            x = o[f][m];
          if (x >= 0) {
            var E = o[x].indexOf(f);
            n.push([x, E]);
          }
        }
      }
    }
    function _(t, e, n) {
      var i = t.tri,
        r = t.adj,
        o = t.vert_to_tri,
        s = r[e].indexOf(n),
        a = r[n].indexOf(e),
        u = (s + 1) % 3,
        c = (s + 2) % 3,
        h = (a + 1) % 3,
        l = (a + 2) % 3;
      (i[e][c] = i[n][a]),
        (i[n][l] = i[e][s]),
        (r[e][s] = r[n][h]),
        (r[n][a] = r[e][u]);
      var p = r[e][u];
      if (p >= 0) {
        var f = r[p].indexOf(e);
        r[p][f] = n;
      }
      var d = r[n][h];
      if (d >= 0) {
        var g = r[d].indexOf(n);
        r[d][g] = e;
      }
      if (((r[e][u] = n), (r[n][h] = e), o.length > 0)) {
        o[i[e][s]].push(n), o[i[n][a]].push(e);
        var y = o[i[e][u]].indexOf(n);
        o[i[e][u]].splice(y, 1),
          (y = o[i[n][h]].indexOf(e)),
          o[i[n][h]].splice(y, 1);
      }
    }
    function v(t, e) {
      var n = t[0].sub(e),
        i = t[1].sub(e),
        r = t[2].sub(e),
        o = n.x * n.x + n.y * n.y,
        s = i.x * i.x + i.y * i.y,
        a = r.x * r.x + r.y * r.y;
      return !(
        n.x * (i.y * a - s * r.y) -
          n.y * (i.x * a - s * r.x) +
          o * (i.x * r.y - i.y * r.x) >
        0
      );
    }
    function m(t) {
      if (0 != t.con_edge.length) {
        !(function (t) {
          var e = t.tri;
          t.vert_to_tri = [];
          for (var n = t.vert_to_tri, i = 0; i < e.length; i++)
            for (var r = 0; r < 3; r++)
              null == n[e[i][r]] ? (n[e[i][r]] = [i]) : n[e[i][r]].push(i);
        })(t);
        for (
          var e,
            n,
            i = t.con_edge,
            r = t.tri,
            o = t.scaled_vert,
            s = t.adj,
            a = t.vert_to_tri,
            u = [],
            c = 0;
          c < i.length;
          c++
        ) {
          for (
            var h = x(t, c), l = 0, p = Math.max(h.length, 1);
            h.length > 0 && l < p;

          )
            E(t, h, c, u), (h = x(t, c)), l++;
          if (h.length > 0)
            throw "Could not add edge "
              .concat(c, " to triangulation after ")
              .concat(p, " iterations!");
        }
        for (;;) {
          for (var f = 0, d = 0; d < u.length; d++) {
            for (var g = u[d], y = !1, m = 0; m < i.length; m++)
              if (
                ((e = g),
                (n = i[m]),
                (e[0] == n[0] && e[1] == n[1]) ||
                  (e[1] == n[0] && e[0] == n[1]))
              ) {
                y = !0;
                break;
              }
            if (!y) {
              for (
                var b = a[g[0]], w = 0, I = [-1, -1], S = 0;
                S < b.length;
                S++
              ) {
                var C = r[b[S]];
                if (
                  (C[0] == g[1] || C[1] == g[1] || C[2] == g[1]) &&
                  ((I[w] = b[S]), 2 == ++w)
                )
                  break;
              }
              if (-1 != I[0]) {
                var T = [o[r[I[0]][0]], o[r[I[0]][1]], o[r[I[0]][2]]],
                  O = s[I[1]].indexOf(I[0]);
                if (!v(T, o[r[I[1]][O]])) {
                  var R = s[I[0]].indexOf(I[1]);
                  _(t, I[0], I[1]), f++, (u[d] = [r[I[0]][R], r[I[1]][O]]);
                }
              }
            }
          }
          if (0 == f) break;
        }
      }
    }
    function x(t, e) {
      for (
        var n = t.tri,
          i = t.scaled_vert,
          r = t.adj,
          o = t.con_edge,
          s = t.vert_to_tri,
          a = o[e][0],
          u = o[e][1],
          c = [i[a], i[u]],
          h = s[a],
          l = !1,
          p = [],
          d = 0;
        d < h.length;
        d++
      ) {
        var g = n[h[d]],
          y = g.indexOf(a),
          _ = (y + 1) % 3,
          v = (y + 2) % 3;
        if (u == g[_]) {
          l = !0;
          break;
        }
        if (u == g[v]) {
          l = !0;
          break;
        }
        if (f(c, [i[g[_]], i[g[v]]])) {
          p.push([h[d], y]);
          break;
        }
      }
      if (!l) {
        if (0 == p.length) throw "Cannot have no intersections!";
        for (;;) {
          var m = p[p.length - 1],
            x = r[m[0]][m[1]];
          if (n[x][0] == u || n[x][1] == u || n[x][2] == u) break;
          var E = r[x].indexOf(m[0]);
          if (-1 == E) throw "Could not find edge!";
          for (var b = n[x], w = 1; w < 3; w++) {
            var I = (E + w + 2) % 3;
            if (f(c, [i[b[(E + w + 1) % 3]], i[b[I]]])) {
              p.push([x, (E + w) % 3]);
              break;
            }
          }
        }
      }
      return p;
    }
    function E(t, e, n, i) {
      for (
        var r = t.tri,
          o = t.scaled_vert,
          s = t.adj,
          a = t.con_edge[n],
          u = [o[a[0]], o[a[1]]],
          c = e.length,
          h = 0;
        h < c;
        h++
      ) {
        var l = e[c - 1 - h][0],
          p = e[c - 1 - h][1],
          d = s[l][p],
          g = s[d].indexOf(l),
          y = o[r[l][p]],
          v = o[r[l][(p + 1) % 3]],
          m = o[r[d][g]],
          x = o[r[l][(p + 2) % 3]];
        if (f([y, m], [v, x])) {
          _(t, l, d);
          var E = [r[l][p], r[d][g]],
            b = [y, m];
          (!(E[0] == a[0] || E[0] == a[1] || E[1] == a[0] || E[1] == a[1]) &&
            f(u, b)) ||
            i.push([E[0], E[1]]);
        }
      }
    }
    function b(t, e, n) {
      for (var i = [n[t[0]], n[t[1]]], r = 0; r < e.length; r++) {
        if (
          (e[r][0] == t[0] && e[r][1] == t[1]) ||
          (e[r][0] == t[1] && e[r][1] == t[0])
        )
          return !1;
        var o =
            e[r][0] == t[0] ||
            e[r][0] == t[1] ||
            e[r][1] == t[0] ||
            e[r][1] == t[1],
          s = [n[e[r][0]], n[e[r][1]]];
        if (!o && f(s, i)) return !1;
      }
      return !0;
    }
    e.a = function (t, e, n) {
      if ((e || (e = []), "object" !== r(t) || "FeatureCollection" !== t.type))
        throw "Argument points must be FeatureCollection";
      if (!Array.isArray(e)) throw "Argument points must be Array of Array";
      if (n && "string" != typeof n) throw "Argument z must be string";
      var o = !1,
        a = t.features.reduce(
          function (t, e) {
            var i = e.geometry.coordinates;
            return (
              t[0].push(i[0]),
              t[1].push(i[1]),
              n
                ? t[2].push(e.properties[n])
                : 3 === i.length &&
                  ((o = !0), t[2].push(e.geometry.coordinates[2])),
              t
            );
          },
          [[], [], []]
        ),
        u = Math.max.apply(null, a[0]),
        c = Math.min.apply(null, a[0]),
        h = Math.max.apply(null, a[1]),
        l = Math.min.apply(null, a[1]),
        p = u - c,
        f = (u + c) / 2,
        g = h - l,
        y = (h + l) / 2,
        _ = 1.1 * Math.max(p, g),
        v = {
          vert: t.features.map(function (t) {
            var e = t.geometry.coordinates,
              n = [(e[0] - f) / _ + 0.5, (e[1] - y) / _ + 0.5];
            return new s(n[0], n[1]);
          }),
        };
      !(function (t, e) {
        var n = t.vert.length;
        t.con_edge = [];
        for (var i = 0; i < e.length; i++) {
          var r = e[i];
          if (r[0] < 0 || r[0] >= n || r[1] < 0 || r[1] >= n)
            throw "Vertex indices of edge ".concat(
              i,
              " need to be non-negative and less than the number of input vertices."
            );
          if (r[0] === r[1]) throw "Edge ".concat(i, " is degenerate!");
          if (!b(r, t.con_edge, t.vert))
            throw "Edge ".concat(
              i,
              " already exists or intersects with an existing edge!"
            );
          t.con_edge.push([r[0], r[1]]);
        }
      })(v, e),
        d(v),
        m(v);
      var x = ["a", "b", "c"];
      return Object(i.b)(
        v.tri.map(function (t) {
          var e = {},
            n = t.map(function (t, n) {
              var i = [a[0][t], a[1][t]];
              return (
                void 0 !== a[2][t] &&
                  (o ? (i[2] = a[2][t]) : (e[x[n]] = a[2][t])),
                i
              );
            });
          return (n[3] = n[0]), Object(i.g)([n], e);
        })
      );
    };
  },
  function (t, e, n) {
    var i = n(53),
      r = n(65),
      o = i("keys");
    t.exports = function (t) {
      return o[t] || (o[t] = r(t));
    };
  },
  function (t, e) {
    var n = 0,
      i = Math.random();
    t.exports = function (t) {
      return (
        "Symbol(" +
        String(void 0 === t ? "" : t) +
        ")_" +
        (++n + i).toString(36)
      );
    };
  },
  function (t, e) {
    t.exports = {};
  },
  function (t, e, n) {
    var i = n(24),
      r = n(5)("toStringTag"),
      o =
        "Arguments" ==
        i(
          (function () {
            return arguments;
          })()
        );
    t.exports = function (t) {
      var e, n, s;
      return void 0 === t
        ? "Undefined"
        : null === t
        ? "Null"
        : "string" ==
          typeof (n = (function (t, e) {
            try {
              return t[e];
            } catch (t) {}
          })((e = Object(t)), r))
        ? n
        : o
        ? i(e)
        : "Object" == (s = i(e)) && "function" == typeof e.callee
        ? "Arguments"
        : s;
    };
  },
  function (t, e, n) {
    var i = n(93),
      r = n(2),
      o = function (t) {
        return "function" == typeof t ? t : void 0;
      };
    t.exports = function (t, e) {
      return arguments.length < 2
        ? o(i[t]) || o(r[t])
        : (i[t] && i[t][e]) || (r[t] && r[t][e]);
    };
  },
  function (t, e, n) {
    var i = n(25),
      r = n(6),
      o = n(38),
      s = function (t) {
        return function (e, n, s) {
          var a,
            u = i(e),
            c = r(u.length),
            h = o(s, c);
          if (t && n != n) {
            for (; c > h; ) if ((a = u[h++]) != a) return !0;
          } else
            for (; c > h; h++)
              if ((t || h in u) && u[h] === n) return t || h || 0;
          return !t && -1;
        };
      };
    t.exports = { includes: s(!0), indexOf: s(!1) };
  },
  function (t, e, n) {
    var i = n(3),
      r = /#|\.prototype\./,
      o = function (t, e) {
        var n = a[s(t)];
        return n == c || (n != u && ("function" == typeof e ? i(e) : !!e));
      },
      s = (o.normalize = function (t) {
        return String(t).replace(r, ".").toLowerCase();
      }),
      a = (o.data = {}),
      u = (o.NATIVE = "N"),
      c = (o.POLYFILL = "P");
    t.exports = o;
  },
  function (t, e, n) {
    "use strict";
    var i = n(68),
      r = n(13),
      o = n(5),
      s = n(9),
      a = o("species");
    t.exports = function (t) {
      var e = i(t),
        n = r.f;
      s &&
        e &&
        !e[a] &&
        n(e, a, {
          configurable: !0,
          get: function () {
            return this;
          },
        });
    };
  },
  function (t, e, n) {
    var i = n(118),
      r = n(94);
    t.exports =
      Object.keys ||
      function (t) {
        return i(t, r);
      };
  },
  function (t, e, n) {
    "use strict";
    var i = n(35),
      r = n(13),
      o = n(41);
    t.exports = function (t, e, n) {
      var s = i(e);
      s in t ? r.f(t, s, o(0, n)) : (t[s] = n);
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(69).indexOf,
      o = n(32),
      s = [].indexOf,
      a = !!s && 1 / [1].indexOf(1, -0) < 0,
      u = o("indexOf");
    i(
      { target: "Array", proto: !0, forced: a || u },
      {
        indexOf: function (t) {
          return a
            ? s.apply(this, arguments) || 0
            : r(this, t, arguments.length > 1 ? arguments[1] : void 0);
        },
      }
    );
  },
  function (t, e, n) {
    n(1)({ target: "Array", stat: !0 }, { isArray: n(44) });
  },
  function (t, e, n) {
    var i = n(16),
      r = n(12),
      o = n(64),
      s = n(129),
      a = o("IE_PROTO"),
      u = Object.prototype;
    t.exports = s
      ? Object.getPrototypeOf
      : function (t) {
          return (
            (t = r(t)),
            i(t, a)
              ? t[a]
              : "function" == typeof t.constructor && t instanceof t.constructor
              ? t.constructor.prototype
              : t instanceof Object
              ? u
              : null
          );
        };
  },
  function (t, e, n) {
    var i = n(1),
      r = n(174);
    i(
      { target: "Object", stat: !0, forced: Object.assign !== r },
      { assign: r }
    );
  },
  function (t, e, n) {
    var i = n(1),
      r = n(12),
      o = n(72);
    i(
      {
        target: "Object",
        stat: !0,
        forced: n(3)(function () {
          o(1);
        }),
      },
      {
        keys: function (t) {
          return o(r(t));
        },
      }
    );
  },
  function (t, e, n) {
    var i = n(19),
      r = "[" + n(80) + "]",
      o = RegExp("^" + r + r + "*"),
      s = RegExp(r + r + "*$"),
      a = function (t) {
        return function (e) {
          var n = String(i(e));
          return (
            1 & t && (n = n.replace(o, "")), 2 & t && (n = n.replace(s, "")), n
          );
        };
      };
    t.exports = { start: a(1), end: a(2), trim: a(3) };
  },
  function (t, e) {
    t.exports = "\t\n\v\f\r                　\u2028\u2029\ufeff";
  },
  function (t, e, n) {
    "use strict";
    var i,
      r,
      o = n(107),
      s = RegExp.prototype.exec,
      a = String.prototype.replace,
      u = s,
      c =
        ((i = /a/),
        (r = /b*/g),
        s.call(i, "a"),
        s.call(r, "a"),
        0 !== i.lastIndex || 0 !== r.lastIndex),
      h = void 0 !== /()??/.exec("")[1];
    (c || h) &&
      (u = function (t) {
        var e,
          n,
          i,
          r,
          u = this;
        return (
          h && (n = new RegExp("^" + u.source + "$(?!\\s)", o.call(u))),
          c && (e = u.lastIndex),
          (i = s.call(u, t)),
          c && i && (u.lastIndex = u.global ? i.index + i[0].length : e),
          h &&
            i &&
            i.length > 1 &&
            a.call(i[0], n, function () {
              for (r = 1; r < arguments.length - 2; r++)
                void 0 === arguments[r] && (i[r] = void 0);
            }),
          i
        );
      }),
      (t.exports = u);
  },
  function (t, e, n) {
    "use strict";
    var i = n(15),
      r = n(17),
      o = n(3),
      s = n(5),
      a = n(81),
      u = s("species"),
      c = !o(function () {
        var t = /./;
        return (
          (t.exec = function () {
            var t = [];
            return (t.groups = { a: "7" }), t;
          }),
          "7" !== "".replace(t, "$<a>")
        );
      }),
      h = !o(function () {
        var t = /(?:)/,
          e = t.exec;
        t.exec = function () {
          return e.apply(this, arguments);
        };
        var n = "ab".split(t);
        return 2 !== n.length || "a" !== n[0] || "b" !== n[1];
      });
    t.exports = function (t, e, n, l) {
      var p = s(t),
        f = !o(function () {
          var e = {};
          return (
            (e[p] = function () {
              return 7;
            }),
            7 != ""[t](e)
          );
        }),
        d =
          f &&
          !o(function () {
            var e = !1,
              n = /a/;
            return (
              (n.exec = function () {
                return (e = !0), null;
              }),
              "split" === t &&
                ((n.constructor = {}),
                (n.constructor[u] = function () {
                  return n;
                })),
              n[p](""),
              !e
            );
          });
      if (!f || !d || ("replace" === t && !c) || ("split" === t && !h)) {
        var g = /./[p],
          y = n(p, ""[t], function (t, e, n, i, r) {
            return e.exec === a
              ? f && !r
                ? { done: !0, value: g.call(e, n, i) }
                : { done: !0, value: t.call(n, e, i) }
              : { done: !1 };
          }),
          _ = y[0],
          v = y[1];
        r(String.prototype, t, _),
          r(
            RegExp.prototype,
            p,
            2 == e
              ? function (t, e) {
                  return v.call(t, this, e);
                }
              : function (t) {
                  return v.call(t, this);
                }
          ),
          l && i(RegExp.prototype[p], "sham", !0);
      }
    };
  },
  function (t, e, n) {
    var i = n(24),
      r = n(81);
    t.exports = function (t, e) {
      var n = t.exec;
      if ("function" == typeof n) {
        var o = n.call(t, e);
        if ("object" != typeof o)
          throw TypeError(
            "RegExp exec method returned something other than an Object or null"
          );
        return o;
      }
      if ("RegExp" !== i(t))
        throw TypeError("RegExp#exec called on incompatible receiver");
      return r.call(t, e);
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(82),
      r = n(110),
      o = n(11),
      s = n(19),
      a = n(40),
      u = n(109),
      c = n(6),
      h = n(83),
      l = n(81),
      p = n(3),
      f = [].push,
      d = Math.min,
      g = !p(function () {
        return !RegExp(4294967295, "y");
      });
    i(
      "split",
      2,
      function (t, e, n) {
        var i;
        return (
          (i =
            "c" == "abbc".split(/(b)*/)[1] ||
            4 != "test".split(/(?:)/, -1).length ||
            2 != "ab".split(/(?:ab)*/).length ||
            4 != ".".split(/(.?)(.?)/).length ||
            ".".split(/()()/).length > 1 ||
            "".split(/.?/).length
              ? function (t, n) {
                  var i = String(s(this)),
                    o = void 0 === n ? 4294967295 : n >>> 0;
                  if (0 === o) return [];
                  if (void 0 === t) return [i];
                  if (!r(t)) return e.call(i, t, o);
                  for (
                    var a,
                      u,
                      c,
                      h = [],
                      p =
                        (t.ignoreCase ? "i" : "") +
                        (t.multiline ? "m" : "") +
                        (t.unicode ? "u" : "") +
                        (t.sticky ? "y" : ""),
                      d = 0,
                      g = new RegExp(t.source, p + "g");
                    (a = l.call(g, i)) &&
                    !(
                      (u = g.lastIndex) > d &&
                      (h.push(i.slice(d, a.index)),
                      a.length > 1 &&
                        a.index < i.length &&
                        f.apply(h, a.slice(1)),
                      (c = a[0].length),
                      (d = u),
                      h.length >= o)
                    );

                  )
                    g.lastIndex === a.index && g.lastIndex++;
                  return (
                    d === i.length
                      ? (!c && g.test("")) || h.push("")
                      : h.push(i.slice(d)),
                    h.length > o ? h.slice(0, o) : h
                  );
                }
              : "0".split(void 0, 0).length
              ? function (t, n) {
                  return void 0 === t && 0 === n ? [] : e.call(this, t, n);
                }
              : e),
          [
            function (e, n) {
              var r = s(this),
                o = null == e ? void 0 : e[t];
              return void 0 !== o ? o.call(e, r, n) : i.call(String(r), e, n);
            },
            function (t, r) {
              var s = n(i, t, this, r, i !== e);
              if (s.done) return s.value;
              var l = o(t),
                p = String(this),
                f = a(l, RegExp),
                y = l.unicode,
                _ =
                  (l.ignoreCase ? "i" : "") +
                  (l.multiline ? "m" : "") +
                  (l.unicode ? "u" : "") +
                  (g ? "y" : "g"),
                v = new f(g ? l : "^(?:" + l.source + ")", _),
                m = void 0 === r ? 4294967295 : r >>> 0;
              if (0 === m) return [];
              if (0 === p.length) return null === h(v, p) ? [p] : [];
              for (var x = 0, E = 0, b = []; E < p.length; ) {
                v.lastIndex = g ? E : 0;
                var w,
                  I = h(v, g ? p : p.slice(E));
                if (
                  null === I ||
                  (w = d(c(v.lastIndex + (g ? 0 : E)), p.length)) === x
                )
                  E = u(p, E, y);
                else {
                  if ((b.push(p.slice(x, E)), b.length === m)) return b;
                  for (var S = 1; S <= I.length - 1; S++)
                    if ((b.push(I[S]), b.length === m)) return b;
                  E = x = w;
                }
              }
              return b.push(p.slice(x)), b;
            },
          ]
        );
      },
      !g
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(2),
      r = n(9),
      o = n(4).NATIVE_ARRAY_BUFFER,
      s = n(15),
      a = n(119),
      u = n(3),
      c = n(96),
      h = n(20),
      l = n(6),
      p = n(140),
      f = n(37).f,
      d = n(13).f,
      g = n(141),
      y = n(56),
      _ = n(36),
      v = _.get,
      m = _.set,
      x = i.ArrayBuffer,
      E = x,
      b = i.DataView,
      w = i.Math,
      I = i.RangeError,
      S = w.abs,
      C = w.pow,
      T = w.floor,
      O = w.log,
      R = w.LN2,
      L = function (t, e, n) {
        var i,
          r,
          o,
          s = new Array(n),
          a = 8 * n - e - 1,
          u = (1 << a) - 1,
          c = u >> 1,
          h = 23 === e ? C(2, -24) - C(2, -77) : 0,
          l = t < 0 || (0 === t && 1 / t < 0) ? 1 : 0,
          p = 0;
        for (
          (t = S(t)) != t || t === 1 / 0
            ? ((r = t != t ? 1 : 0), (i = u))
            : ((i = T(O(t) / R)),
              t * (o = C(2, -i)) < 1 && (i--, (o *= 2)),
              (t += i + c >= 1 ? h / o : h * C(2, 1 - c)) * o >= 2 &&
                (i++, (o /= 2)),
              i + c >= u
                ? ((r = 0), (i = u))
                : i + c >= 1
                ? ((r = (t * o - 1) * C(2, e)), (i += c))
                : ((r = t * C(2, c - 1) * C(2, e)), (i = 0)));
          e >= 8;
          s[p++] = 255 & r, r /= 256, e -= 8
        );
        for (
          i = (i << e) | r, a += e;
          a > 0;
          s[p++] = 255 & i, i /= 256, a -= 8
        );
        return (s[--p] |= 128 * l), s;
      },
      M = function (t, e) {
        var n,
          i = t.length,
          r = 8 * i - e - 1,
          o = (1 << r) - 1,
          s = o >> 1,
          a = r - 7,
          u = i - 1,
          c = t[u--],
          h = 127 & c;
        for (c >>= 7; a > 0; h = 256 * h + t[u], u--, a -= 8);
        for (
          n = h & ((1 << -a) - 1), h >>= -a, a += e;
          a > 0;
          n = 256 * n + t[u], u--, a -= 8
        );
        if (0 === h) h = 1 - s;
        else {
          if (h === o) return n ? NaN : c ? -1 / 0 : 1 / 0;
          (n += C(2, e)), (h -= s);
        }
        return (c ? -1 : 1) * n * C(2, h - e);
      },
      A = function (t) {
        return (t[3] << 24) | (t[2] << 16) | (t[1] << 8) | t[0];
      },
      N = function (t) {
        return [255 & t];
      },
      P = function (t) {
        return [255 & t, (t >> 8) & 255];
      },
      D = function (t) {
        return [255 & t, (t >> 8) & 255, (t >> 16) & 255, (t >> 24) & 255];
      },
      k = function (t) {
        return L(t, 23, 4);
      },
      F = function (t) {
        return L(t, 52, 8);
      },
      G = function (t, e) {
        d(t.prototype, e, {
          get: function () {
            return v(this)[e];
          },
        });
      },
      j = function (t, e, n, i) {
        var r = p(+n),
          o = v(t);
        if (r + e > o.byteLength) throw I("Wrong index");
        var s = v(o.buffer).bytes,
          a = r + o.byteOffset,
          u = s.slice(a, a + e);
        return i ? u : u.reverse();
      },
      B = function (t, e, n, i, r, o) {
        var s = p(+n),
          a = v(t);
        if (s + e > a.byteLength) throw I("Wrong index");
        for (
          var u = v(a.buffer).bytes, c = s + a.byteOffset, h = i(+r), l = 0;
          l < e;
          l++
        )
          u[c + l] = h[o ? l : e - l - 1];
      };
    if (o) {
      if (
        !u(function () {
          x(1);
        }) ||
        !u(function () {
          new x(-1);
        }) ||
        u(function () {
          return new x(), new x(1.5), new x(NaN), "ArrayBuffer" != x.name;
        })
      ) {
        for (
          var U,
            Y = ((E = function (t) {
              return c(this, E), new x(p(t));
            }).prototype = x.prototype),
            X = f(x),
            z = 0;
          X.length > z;

        )
          (U = X[z++]) in E || s(E, U, x[U]);
        Y.constructor = E;
      }
      var V = new b(new E(2)),
        q = b.prototype.setInt8;
      V.setInt8(0, 2147483648),
        V.setInt8(1, 2147483649),
        (!V.getInt8(0) && V.getInt8(1)) ||
          a(
            b.prototype,
            {
              setInt8: function (t, e) {
                q.call(this, t, (e << 24) >> 24);
              },
              setUint8: function (t, e) {
                q.call(this, t, (e << 24) >> 24);
              },
            },
            { unsafe: !0 }
          );
    } else
      (E = function (t) {
        c(this, E, "ArrayBuffer");
        var e = p(t);
        m(this, { bytes: g.call(new Array(e), 0), byteLength: e }),
          r || (this.byteLength = e);
      }),
        (b = function (t, e, n) {
          c(this, b, "DataView"), c(t, E, "DataView");
          var i = v(t).byteLength,
            o = h(e);
          if (o < 0 || o > i) throw I("Wrong offset");
          if (o + (n = void 0 === n ? i - o : l(n)) > i)
            throw I("Wrong length");
          m(this, { buffer: t, byteLength: n, byteOffset: o }),
            r ||
              ((this.buffer = t), (this.byteLength = n), (this.byteOffset = o));
        }),
        r &&
          (G(E, "byteLength"),
          G(b, "buffer"),
          G(b, "byteLength"),
          G(b, "byteOffset")),
        a(b.prototype, {
          getInt8: function (t) {
            return (j(this, 1, t)[0] << 24) >> 24;
          },
          getUint8: function (t) {
            return j(this, 1, t)[0];
          },
          getInt16: function (t) {
            var e = j(this, 2, t, arguments.length > 1 ? arguments[1] : void 0);
            return (((e[1] << 8) | e[0]) << 16) >> 16;
          },
          getUint16: function (t) {
            var e = j(this, 2, t, arguments.length > 1 ? arguments[1] : void 0);
            return (e[1] << 8) | e[0];
          },
          getInt32: function (t) {
            return A(
              j(this, 4, t, arguments.length > 1 ? arguments[1] : void 0)
            );
          },
          getUint32: function (t) {
            return (
              A(j(this, 4, t, arguments.length > 1 ? arguments[1] : void 0)) >>>
              0
            );
          },
          getFloat32: function (t) {
            return M(
              j(this, 4, t, arguments.length > 1 ? arguments[1] : void 0),
              23
            );
          },
          getFloat64: function (t) {
            return M(
              j(this, 8, t, arguments.length > 1 ? arguments[1] : void 0),
              52
            );
          },
          setInt8: function (t, e) {
            B(this, 1, t, N, e);
          },
          setUint8: function (t, e) {
            B(this, 1, t, N, e);
          },
          setInt16: function (t, e) {
            B(this, 2, t, P, e, arguments.length > 2 ? arguments[2] : void 0);
          },
          setUint16: function (t, e) {
            B(this, 2, t, P, e, arguments.length > 2 ? arguments[2] : void 0);
          },
          setInt32: function (t, e) {
            B(this, 4, t, D, e, arguments.length > 2 ? arguments[2] : void 0);
          },
          setUint32: function (t, e) {
            B(this, 4, t, D, e, arguments.length > 2 ? arguments[2] : void 0);
          },
          setFloat32: function (t, e) {
            B(this, 4, t, k, e, arguments.length > 2 ? arguments[2] : void 0);
          },
          setFloat64: function (t, e) {
            B(this, 8, t, F, e, arguments.length > 2 ? arguments[2] : void 0);
          },
        });
    y(E, "ArrayBuffer"),
      y(b, "DataView"),
      (e.ArrayBuffer = E),
      (e.DataView = b);
  },
  function (t, e, n) {
    "use strict";
    var i = n(8),
      r = n(0);
    e.a = function (t, e) {
      var n = 0,
        o = 0,
        s = 0;
      return (
        Object(i.a)(
          t,
          function (t) {
            (n += t[0]), (o += t[1]), s++;
          },
          !0
        ),
        Object(r.f)([n / s, o / s], e)
      );
    };
  },
  function (t, e, n) {
    "use strict";
    function i(t, e, n) {
      var i = t[e];
      (t[e] = t[n]), (t[n] = i);
    }
    function r(t, e) {
      return t < e ? -1 : t > e ? 1 : 0;
    }
    var o = function (t, e, n, o, s) {
      !(function t(e, n, r, o, s) {
        for (; o > r; ) {
          if (o - r > 600) {
            var a = o - r + 1,
              u = n - r + 1,
              c = Math.log(a),
              h = 0.5 * Math.exp((2 * c) / 3),
              l =
                0.5 *
                Math.sqrt((c * h * (a - h)) / a) *
                (u - a / 2 < 0 ? -1 : 1),
              p = Math.max(r, Math.floor(n - (u * h) / a + l)),
              f = Math.min(o, Math.floor(n + ((a - u) * h) / a + l));
            t(e, n, p, f, s);
          }
          var d = e[n],
            g = r,
            y = o;
          for (i(e, r, n), s(e[o], d) > 0 && i(e, r, o); g < y; ) {
            for (i(e, g, y), g++, y--; s(e[g], d) < 0; ) g++;
            for (; s(e[y], d) > 0; ) y--;
          }
          0 === s(e[r], d) ? i(e, r, y) : i(e, ++y, o),
            y <= n && (r = y + 1),
            n <= y && (o = y - 1);
        }
      })(t, e, n || 0, o || t.length - 1, s || r);
    };
    function s(t, e) {
      if (!(this instanceof s)) return new s(t, e);
      (this._maxEntries = Math.max(4, t || 9)),
        (this._minEntries = Math.max(2, Math.ceil(0.4 * this._maxEntries))),
        e && this._initFormat(e),
        this.clear();
    }
    function a(t, e, n) {
      if (!n) return e.indexOf(t);
      for (var i = 0; i < e.length; i++) if (n(t, e[i])) return i;
      return -1;
    }
    function u(t, e) {
      c(t, 0, t.children.length, e, t);
    }
    function c(t, e, n, i, r) {
      r || (r = _(null)),
        (r.minX = 1 / 0),
        (r.minY = 1 / 0),
        (r.maxX = -1 / 0),
        (r.maxY = -1 / 0);
      for (var o, s = e; s < n; s++)
        (o = t.children[s]), h(r, t.leaf ? i(o) : o);
      return r;
    }
    function h(t, e) {
      return (
        (t.minX = Math.min(t.minX, e.minX)),
        (t.minY = Math.min(t.minY, e.minY)),
        (t.maxX = Math.max(t.maxX, e.maxX)),
        (t.maxY = Math.max(t.maxY, e.maxY)),
        t
      );
    }
    function l(t, e) {
      return t.minX - e.minX;
    }
    function p(t, e) {
      return t.minY - e.minY;
    }
    function f(t) {
      return (t.maxX - t.minX) * (t.maxY - t.minY);
    }
    function d(t) {
      return t.maxX - t.minX + (t.maxY - t.minY);
    }
    function g(t, e) {
      return (
        t.minX <= e.minX &&
        t.minY <= e.minY &&
        e.maxX <= t.maxX &&
        e.maxY <= t.maxY
      );
    }
    function y(t, e) {
      return (
        e.minX <= t.maxX &&
        e.minY <= t.maxY &&
        e.maxX >= t.minX &&
        e.maxY >= t.minY
      );
    }
    function _(t) {
      return {
        children: t,
        height: 1,
        leaf: !0,
        minX: 1 / 0,
        minY: 1 / 0,
        maxX: -1 / 0,
        maxY: -1 / 0,
      };
    }
    function v(t, e, n, i, r) {
      for (var s, a = [e, n]; a.length; )
        (n = a.pop()) - (e = a.pop()) <= i ||
          ((s = e + Math.ceil((n - e) / i / 2) * i),
          o(t, s, e, n, r),
          a.push(e, s, s, n));
    }
    s.prototype = {
      all: function () {
        return this._all(this.data, []);
      },
      search: function (t) {
        var e = this.data,
          n = [],
          i = this.toBBox;
        if (!y(t, e)) return n;
        for (var r, o, s, a, u = []; e; ) {
          for (r = 0, o = e.children.length; r < o; r++)
            (s = e.children[r]),
              y(t, (a = e.leaf ? i(s) : s)) &&
                (e.leaf ? n.push(s) : g(t, a) ? this._all(s, n) : u.push(s));
          e = u.pop();
        }
        return n;
      },
      collides: function (t) {
        var e = this.data,
          n = this.toBBox;
        if (!y(t, e)) return !1;
        for (var i, r, o, s, a = []; e; ) {
          for (i = 0, r = e.children.length; i < r; i++)
            if (((o = e.children[i]), y(t, (s = e.leaf ? n(o) : o)))) {
              if (e.leaf || g(t, s)) return !0;
              a.push(o);
            }
          e = a.pop();
        }
        return !1;
      },
      load: function (t) {
        if (!t || !t.length) return this;
        if (t.length < this._minEntries) {
          for (var e = 0, n = t.length; e < n; e++) this.insert(t[e]);
          return this;
        }
        var i = this._build(t.slice(), 0, t.length - 1, 0);
        if (this.data.children.length)
          if (this.data.height === i.height) this._splitRoot(this.data, i);
          else {
            if (this.data.height < i.height) {
              var r = this.data;
              (this.data = i), (i = r);
            }
            this._insert(i, this.data.height - i.height - 1, !0);
          }
        else this.data = i;
        return this;
      },
      insert: function (t) {
        return t && this._insert(t, this.data.height - 1), this;
      },
      clear: function () {
        return (this.data = _([])), this;
      },
      remove: function (t, e) {
        if (!t) return this;
        for (
          var n, i, r, o, s = this.data, u = this.toBBox(t), c = [], h = [];
          s || c.length;

        ) {
          if (
            (s ||
              ((s = c.pop()), (i = c[c.length - 1]), (n = h.pop()), (o = !0)),
            s.leaf && -1 !== (r = a(t, s.children, e)))
          )
            return s.children.splice(r, 1), c.push(s), this._condense(c), this;
          o || s.leaf || !g(s, u)
            ? i
              ? (n++, (s = i.children[n]), (o = !1))
              : (s = null)
            : (c.push(s), h.push(n), (n = 0), (i = s), (s = s.children[0]));
        }
        return this;
      },
      toBBox: function (t) {
        return t;
      },
      compareMinX: l,
      compareMinY: p,
      toJSON: function () {
        return this.data;
      },
      fromJSON: function (t) {
        return (this.data = t), this;
      },
      _all: function (t, e) {
        for (var n = []; t; )
          t.leaf ? e.push.apply(e, t.children) : n.push.apply(n, t.children),
            (t = n.pop());
        return e;
      },
      _build: function (t, e, n, i) {
        var r,
          o = n - e + 1,
          s = this._maxEntries;
        if (o <= s) return u((r = _(t.slice(e, n + 1))), this.toBBox), r;
        i ||
          ((i = Math.ceil(Math.log(o) / Math.log(s))),
          (s = Math.ceil(o / Math.pow(s, i - 1)))),
          ((r = _([])).leaf = !1),
          (r.height = i);
        var a,
          c,
          h,
          l,
          p = Math.ceil(o / s),
          f = p * Math.ceil(Math.sqrt(s));
        for (v(t, e, n, f, this.compareMinX), a = e; a <= n; a += f)
          for (
            v(t, a, (h = Math.min(a + f - 1, n)), p, this.compareMinY), c = a;
            c <= h;
            c += p
          )
            (l = Math.min(c + p - 1, h)),
              r.children.push(this._build(t, c, l, i - 1));
        return u(r, this.toBBox), r;
      },
      _chooseSubtree: function (t, e, n, i) {
        for (
          var r, o, s, a, u, c, h, l, p, d;
          i.push(e), !e.leaf && i.length - 1 !== n;

        ) {
          for (h = l = 1 / 0, r = 0, o = e.children.length; r < o; r++)
            (u = f((s = e.children[r]))),
              (p = t),
              (d = s),
              (c =
                (Math.max(d.maxX, p.maxX) - Math.min(d.minX, p.minX)) *
                  (Math.max(d.maxY, p.maxY) - Math.min(d.minY, p.minY)) -
                u) < l
                ? ((l = c), (h = u < h ? u : h), (a = s))
                : c === l && u < h && ((h = u), (a = s));
          e = a || e.children[0];
        }
        return e;
      },
      _insert: function (t, e, n) {
        var i = this.toBBox,
          r = n ? t : i(t),
          o = [],
          s = this._chooseSubtree(r, this.data, e, o);
        for (
          s.children.push(t), h(s, r);
          e >= 0 && o[e].children.length > this._maxEntries;

        )
          this._split(o, e), e--;
        this._adjustParentBBoxes(r, o, e);
      },
      _split: function (t, e) {
        var n = t[e],
          i = n.children.length,
          r = this._minEntries;
        this._chooseSplitAxis(n, r, i);
        var o = this._chooseSplitIndex(n, r, i),
          s = _(n.children.splice(o, n.children.length - o));
        (s.height = n.height),
          (s.leaf = n.leaf),
          u(n, this.toBBox),
          u(s, this.toBBox),
          e ? t[e - 1].children.push(s) : this._splitRoot(n, s);
      },
      _splitRoot: function (t, e) {
        (this.data = _([t, e])),
          (this.data.height = t.height + 1),
          (this.data.leaf = !1),
          u(this.data, this.toBBox);
      },
      _chooseSplitIndex: function (t, e, n) {
        var i, r, o, s, a, u, h, l, p, d, g, y, _, v;
        for (u = h = 1 / 0, i = e; i <= n - e; i++)
          (r = c(t, 0, i, this.toBBox)),
            (o = c(t, i, n, this.toBBox)),
            (p = r),
            (d = o),
            (g = void 0),
            (y = void 0),
            (_ = void 0),
            (v = void 0),
            (g = Math.max(p.minX, d.minX)),
            (y = Math.max(p.minY, d.minY)),
            (_ = Math.min(p.maxX, d.maxX)),
            (v = Math.min(p.maxY, d.maxY)),
            (s = Math.max(0, _ - g) * Math.max(0, v - y)),
            (a = f(r) + f(o)),
            s < u
              ? ((u = s), (l = i), (h = a < h ? a : h))
              : s === u && a < h && ((h = a), (l = i));
        return l;
      },
      _chooseSplitAxis: function (t, e, n) {
        var i = t.leaf ? this.compareMinX : l,
          r = t.leaf ? this.compareMinY : p;
        this._allDistMargin(t, e, n, i) < this._allDistMargin(t, e, n, r) &&
          t.children.sort(i);
      },
      _allDistMargin: function (t, e, n, i) {
        t.children.sort(i);
        var r,
          o,
          s = this.toBBox,
          a = c(t, 0, e, s),
          u = c(t, n - e, n, s),
          l = d(a) + d(u);
        for (r = e; r < n - e; r++)
          (o = t.children[r]), h(a, t.leaf ? s(o) : o), (l += d(a));
        for (r = n - e - 1; r >= e; r--)
          (o = t.children[r]), h(u, t.leaf ? s(o) : o), (l += d(u));
        return l;
      },
      _adjustParentBBoxes: function (t, e, n) {
        for (var i = n; i >= 0; i--) h(e[i], t);
      },
      _condense: function (t) {
        for (var e, n = t.length - 1; n >= 0; n--)
          0 === t[n].children.length
            ? n > 0
              ? (e = t[n - 1].children).splice(e.indexOf(t[n]), 1)
              : this.clear()
            : u(t[n], this.toBBox);
      },
      _initFormat: function (t) {
        var e = ["return a", " - b", ";"];
        (this.compareMinX = new Function("a", "b", e.join(t[0]))),
          (this.compareMinY = new Function("a", "b", e.join(t[1]))),
          (this.toBBox = new Function(
            "a",
            "return {minX: a" +
              t[0] +
              ", minY: a" +
              t[1] +
              ", maxX: a" +
              t[2] +
              ", maxY: a" +
              t[3] +
              "};"
          ));
      },
    };
    var m = s,
      x = n(8);
    function E(t) {
      var e = [t[0], t[1]],
        n = [t[0], t[3]],
        i = [t[2], t[3]];
      return {
        type: "Feature",
        bbox: t,
        properties: {},
        geometry: {
          type: "Polygon",
          coordinates: [[e, [t[2], t[1]], i, n, e]],
        },
      };
    }
    function b(t) {
      var e = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
      return (
        Object(x.a)(t, function (t) {
          e[0] > t[0] && (e[0] = t[0]),
            e[1] > t[1] && (e[1] = t[1]),
            e[2] < t[0] && (e[2] = t[0]),
            e[3] < t[1] && (e[3] = t[1]);
        }),
        e
      );
    }
    var w = function (t) {
        var e = m(t);
        return (
          (e.insert = function (t) {
            if (Array.isArray(t)) {
              var e = t;
              (t = E(e)).bbox = e;
            } else t.bbox = t.bbox ? t.bbox : b(t);
            return m.prototype.insert.call(this, t);
          }),
          (e.load = function (t) {
            var e = [];
            return (
              Array.isArray(t)
                ? t.forEach(function (t) {
                    var n = E(t);
                    (n.bbox = t), e.push(n);
                  })
                : Object(x.b)(t, function (t) {
                    (t.bbox = t.bbox ? t.bbox : b(t)), e.push(t);
                  }),
              m.prototype.load.call(this, e)
            );
          }),
          (e.remove = function (t) {
            if (Array.isArray(t)) {
              var e = t;
              (t = E(e)).bbox = e;
            }
            return m.prototype.remove.call(this, t);
          }),
          (e.clear = function () {
            return m.prototype.clear.call(this);
          }),
          (e.search = function (t) {
            return {
              type: "FeatureCollection",
              features: m.prototype.search.call(this, this.toBBox(t)),
            };
          }),
          (e.collides = function (t) {
            return m.prototype.collides.call(this, this.toBBox(t));
          }),
          (e.all = function () {
            return {
              type: "FeatureCollection",
              features: m.prototype.all.call(this),
            };
          }),
          (e.toJSON = function () {
            return m.prototype.toJSON.call(this);
          }),
          (e.fromJSON = function (t) {
            return m.prototype.fromJSON.call(this, t);
          }),
          (e.toBBox = function (t) {
            var e;
            return {
              minX: (e = t.bbox
                ? t.bbox
                : Array.isArray(t) && 4 === t.length
                ? t
                : b(t))[0],
              minY: e[1],
              maxX: e[2],
              maxY: e[3],
            };
          }),
          e
        );
      },
      I = n(0),
      S = n(7);
    var C = function (t) {
      if (!t) throw new Error("geojson is required");
      var e = [];
      return (
        Object(x.c)(t, function (t) {
          !(function (t, e) {
            var n = [],
              i = t.geometry;
            switch (i.type) {
              case "Polygon":
                n = Object(S.b)(i);
                break;
              case "LineString":
                n = [Object(S.b)(i)];
            }
            n.forEach(function (n) {
              (function (t, e) {
                var n = [];
                return (
                  t.reduce(function (t, i) {
                    var r,
                      o,
                      s,
                      a,
                      u,
                      c,
                      h = Object(I.e)([t, i], e);
                    return (
                      (h.bbox =
                        ((o = i),
                        (s = (r = t)[0]),
                        (a = r[1]),
                        (u = o[0]),
                        (c = o[1]),
                        [
                          s < u ? s : u,
                          a < c ? a : c,
                          s > u ? s : u,
                          a > c ? a : c,
                        ])),
                      n.push(h),
                      i
                    );
                  }),
                  n
                );
              })(n, t.properties).forEach(function (t) {
                (t.id = e.length), e.push(t);
              });
            });
          })(t, e);
        }),
        Object(I.b)(e)
      );
    };
    function T(t, e) {
      var n = Object(S.b)(t),
        i = Object(S.b)(e);
      if (2 !== n.length)
        throw new Error("<intersects> line1 must only contain 2 coordinates");
      if (2 !== i.length)
        throw new Error("<intersects> line2 must only contain 2 coordinates");
      var r = n[0][0],
        o = n[0][1],
        s = n[1][0],
        a = n[1][1],
        u = i[0][0],
        c = i[0][1],
        h = i[1][0],
        l = i[1][1],
        p = (l - c) * (s - r) - (h - u) * (a - o),
        f = (h - u) * (o - c) - (l - c) * (r - u),
        d = (s - r) * (o - c) - (a - o) * (r - u);
      if (0 === p) return null;
      var g = f / p,
        y = d / p;
      if (g >= 0 && g <= 1 && y >= 0 && y <= 1) {
        var _ = r + g * (s - r),
          v = o + g * (a - o);
        return Object(I.f)([_, v]);
      }
      return null;
    }
    e.a = function (t, e) {
      var n = {},
        i = [];
      if (
        ("LineString" === t.type && (t = Object(I.a)(t)),
        "LineString" === e.type && (e = Object(I.a)(e)),
        "Feature" === t.type &&
          "Feature" === e.type &&
          "LineString" === t.geometry.type &&
          "LineString" === e.geometry.type &&
          2 === t.geometry.coordinates.length &&
          2 === e.geometry.coordinates.length)
      ) {
        var r = T(t, e);
        return r && i.push(r), Object(I.b)(i);
      }
      var o = w();
      return (
        o.load(C(e)),
        Object(x.b)(C(t), function (t) {
          Object(x.b)(o.search(t), function (e) {
            var r = T(t, e);
            if (r) {
              var o = Object(S.b)(r).join(",");
              n[o] || ((n[o] = !0), i.push(r));
            }
          });
        }),
        Object(I.b)(i)
      );
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(147),
      r = n.n(i),
      o = n(8),
      s = n(0);
    e.a = function (t, e) {
      if (((e = e || {}), !Object(s.d)(e)))
        throw new Error("options is invalid");
      var n = e.concavity || 1 / 0,
        i = [];
      if (
        (Object(o.a)(t, function (t) {
          i.push([t[0], t[1]]);
        }),
        !i.length)
      )
        return null;
      var a = r()(i, n);
      return a.length > 3 ? Object(s.g)([a]) : null;
    };
  },
  function (t, e, n) {
    "use strict";
    (function (t, i) {
      var r;
      n(26),
        n(27),
        n(28),
        n(31),
        n(194),
        n(46),
        n(195),
        n(196),
        n(197),
        n(74),
        n(75),
        n(21),
        n(102),
        n(33),
        n(47),
        n(199),
        n(134),
        n(200),
        n(48),
        n(139),
        n(201),
        n(202),
        n(203),
        n(204),
        n(104),
        n(133),
        n(105),
        n(205),
        n(143),
        n(78),
        n(23),
        n(130),
        n(106),
        n(207),
        n(61),
        n(208),
        n(209),
        n(29),
        n(212),
        n(213),
        n(214),
        n(84),
        n(216),
        n(218),
        n(221),
        n(222),
        n(223),
        n(224),
        n(225),
        n(227),
        n(228),
        n(229),
        n(230),
        n(231),
        n(232),
        n(233),
        n(234),
        n(235),
        n(236),
        n(237),
        n(239),
        n(240),
        n(241),
        n(242),
        n(243),
        n(244),
        n(245),
        n(246),
        n(247),
        n(248),
        n(249),
        n(250),
        n(30),
        n(251);
      function o(t) {
        return (o =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              })(t);
      }
      function s(t) {
        return (
          (function (t) {
            if (Array.isArray(t)) {
              for (var e = 0, n = new Array(t.length); e < t.length; e++)
                n[e] = t[e];
              return n;
            }
          })(t) ||
          (function (t) {
            if (
              Symbol.iterator in Object(t) ||
              "[object Arguments]" === Object.prototype.toString.call(t)
            )
              return Array.from(t);
          })(t) ||
          (function () {
            throw new TypeError(
              "Invalid attempt to spread non-iterable instance"
            );
          })()
        );
      }
      !(function () {
        var e = {
            getUniqueName: function (t) {
              var e = a.__uniqcount || 0;
              return (a.__uniqcount = e + 1), (t || "__id_") + e;
            },
            isFunction: function (t) {
              return "function" == typeof t;
            },
            isObject: function (t) {
              return t === Object(t);
            },
            clamp: function (t, e, n) {
              return t < e ? e : t > n ? n : t;
            },
            interpolate: function (t, e, n) {
              return t * (1 - n) + e * n;
            },
            isArray: function (t) {
              return Array.isArray(t);
            },
            isNumber: function (t) {
              return null != t && t.constructor == Number;
            },
            isInteger: function (t) {
              return a.isNumber(t) && (0 | t) === t;
            },
            isString: function (t) {
              return null != t && t.toString === String.prototype.toString;
            },
            isBoolean: function (t) {
              return !0 === t || !1 === t;
            },
            toArray: function (t) {
              var e;
              a.isArrayLike(t) ||
                y("Utils.toArray() requires an array-like object");
              try {
                e = Array.prototype.slice.call(t, 0);
              } catch (r) {
                e = [];
                for (var n = 0, i = t.length; n < i; n++) e[n] = t[n];
              }
              return e;
            },
            isArrayLike: function (t) {
              return (
                !!t &&
                (!!a.isArray(t) ||
                  (!a.isString(t) && (0 === t.length || t.length > 0)))
              );
            },
            addslashes: function (t) {
              return ""
                .concat(t)
                .replace(/[\\"']/g, "\\$&")
                .replace(/\u0000/g, "\\0");
            },
            regexEscape: function (t) {
              return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
            },
            defaults: function (t) {
              for (
                var e = 0, n = arguments.length <= 1 ? 0 : arguments.length - 1;
                e < n;
                e++
              ) {
                var i =
                  (e + 1 < 1 || arguments.length <= e + 1
                    ? void 0
                    : arguments[e + 1]) || {};
                for (var r in i)
                  r in t == !1 &&
                    Object.prototype.hasOwnProperty.call(i, r) &&
                    (t[r] = i[r]);
              }
              return t;
            },
            extend: function (t) {
              for (
                var e = arguments.length,
                  n = new Array(e > 1 ? e - 1 : 0),
                  i = 1;
                i < e;
                i++
              )
                n[i - 1] = arguments[i];
              var r,
                o,
                s,
                a = t || {},
                u = n.length;
              for (o = 0; o < u; o++)
                for (r in (s = n[o] || {}))
                  Object.prototype.hasOwnProperty.call(s, r) && (a[r] = s[r]);
              return a;
            },
            inherit: function (t, e) {
              var n = function t() {
                if (this.__super__ == t) {
                  this.__super__ = e.prototype.__super__;
                  for (
                    var n = arguments.length, i = new Array(n), r = 0;
                    r < n;
                    r++
                  )
                    i[r] = arguments[r];
                  e.apply.apply(e, [this].concat(i)), delete this.__super__;
                }
              };
              (n.prototype = e.prototype || e),
                (t.prototype = a.extend(new n(), t.prototype)),
                (t.prototype.constructor = t),
                (t.prototype.__super__ = n);
            },
            subclass: function (t) {
              for (
                var e = arguments.length,
                  n = new Array(e > 1 ? e - 1 : 0),
                  i = 1;
                i < e;
                i++
              )
                n[i - 1] = arguments[i];
              var r = function () {
                this.__super__.apply(this, [t].concat(s(a.toArray(n))));
              };
              a.inherit(r, t);
              for (var o = 0; o < arguments.length; o++)
                a.extend(r.prototype, n[o]);
              return r;
            },
          },
          a = e;
        (e.merge = function (t, n) {
          (e.isArray(t) && e.isArray(n)) ||
            y("Usage: utils.merge(destArray, srcArray);");
          for (var i = 0, r = n.length; i < r; i++) t.push(n[i]);
          return t;
        }),
          (e.difference = function (t, n) {
            var i = e.arrayToIndex(n);
            return t.filter(function (t) {
              return !Object.prototype.hasOwnProperty.call(i, t);
            });
          }),
          (e.contains = function (t, n) {
            return e.isString(t)
              ? -1 != t.indexOf(n)
              : e.isArrayLike(t)
              ? -1 != e.indexOf(t, n)
              : void y("Expected Array or String argument");
          }),
          (e.some = function (t, e) {
            return t.reduce(function (t, n) {
              return t || e(n);
            }, !1);
          }),
          (e.every = function (t, e) {
            return t.reduce(function (t, n) {
              return t && e(n);
            }, !0);
          }),
          (e.find = function (t, e, n) {
            var i = t.filter(e, n);
            return 0 === i.length ? null : i[0];
          }),
          (e.indexOf = function (t, e, n) {
            n && y("utils.indexOf() No longer supports property argument");
            for (var i = e != e, r = 0, o = t.length || 0; r < o; r++) {
              if (t[r] === e) return r;
              if (i && t[r] != t[r]) return r;
            }
            return -1;
          }),
          (e.range = function (t, e, n) {
            for (
              var i = [], r = void 0 === e ? 0 : e, o = void 0 === n ? 1 : n;
              t--;

            )
              i.push(r), (r += o);
            return i;
          }),
          (e.repeat = function (t, e) {
            for (var n, i = [], r = 0; r < t; r++)
              void 0 !== (n = e(r)) && (i[r] = n);
            return i.length > 0 ? i : void 0;
          }),
          (e.sum = function (t, n) {
            e.isArrayLike(t) || y("utils.sum() expects an array, received:", t);
            for (var i, r = 0, o = 0, s = 0, a = t.length; s < a; s++)
              (i = t[s]) ? (r += i) : isNaN(i) && o++;
            return n && (n.nan = o), r;
          }),
          (e.getArrayBounds = function (t) {
            for (
              var e, n = 1 / 0, i = -1 / 0, r = 0, o = 0, s = t.length;
              o < s;
              o++
            )
              (e = t[o]) != e && r++, e < n && (n = e), e > i && (i = e);
            return { min: n, max: i, nan: r };
          }),
          (e.uniq = function (t) {
            var e = {};
            return t.reduce(function (t, n) {
              return n in e == !1 && ((e[n] = !0), t.push(n)), t;
            }, []);
          }),
          (e.pluck = function (t, e) {
            return t.map(function (t) {
              return t[e];
            });
          }),
          (e.countValues = function (t) {
            return t.reduce(function (t, e) {
              return (t[e] = e in t ? t[e] + 1 : 1), t;
            }, {});
          }),
          (e.indexOn = function (t, e) {
            return t.reduce(function (t, n) {
              return (t[n[e]] = n), t;
            }, {});
          }),
          (e.groupBy = function (t, e) {
            return t.reduce(function (t, n) {
              var i = n[e];
              return i in t ? t[i].push(n) : (t[i] = [n]), t;
            }, {});
          }),
          (e.arrayToIndex = function (t, e) {
            var n = arguments.length > 1;
            return t.reduce(function (t, i) {
              return (t[i] = !n || e), t;
            }, {});
          }),
          (e.forEach = function (t, n, i) {
            if (!e.isArrayLike(t))
              throw new Error(
                "#forEach() takes an array-like argument. ".concat(t)
              );
            for (var r = 0, o = t.length; r < o; r++) n.call(i, t[r], r);
          }),
          (e.forEachProperty = function (t, e, n) {
            Object.keys(t).forEach(function (i) {
              e.call(n, t[i], i);
            });
          }),
          (e.initializeArray = function (t, e) {
            for (var n = 0, i = t.length; n < i; n++) t[n] = e;
            return t;
          }),
          (e.replaceArray = function (t, e) {
            t.splice(0, t.length);
            for (var n = 0, i = e.length; n < i; n++) t.push(e[n]);
          }),
          (a.repeatString = function (t, e) {
            for (var n = "", i = 0; i < e; i++) n += t;
            return n;
          }),
          (a.pluralSuffix = function (t) {
            return 1 != t ? "s" : "";
          }),
          (a.endsWith = function (t, e) {
            return -1 !== t.indexOf(e, t.length - e.length);
          }),
          (a.lpad = function (t, e, n) {
            return (
              (n = n || " "),
              (t = String(t)),
              a.repeatString(n, e - t.length) + t
            );
          }),
          (a.rpad = function (t, e, n) {
            return (
              (n = n || " "), (t = String(t)) + a.repeatString(n, e - t.length)
            );
          }),
          (a.trim = function (t) {
            return a.ltrim(a.rtrim(t));
          });
        var u = /^\s+/;
        a.ltrim = function (t) {
          return t.replace(u, "");
        };
        var c = /\s+$/;
        function h() {
          (this.mx = this.my = 1), (this.bx = this.by = 0);
        }
        function l() {
          arguments.length > 0 && this.setBounds.apply(this, arguments);
        }
        function p(e, n) {
          a.isNumber(e)
            ? (e = new ArrayBuffer(e))
            : "function" == typeof t &&
              e instanceof t &&
              (e = p.toArrayBuffer(e)),
            e instanceof ArrayBuffer == 0 &&
              y(
                "BinArray constructor takes an integer, ArrayBuffer or Buffer argument"
              ),
            (this._buffer = e),
            (this._bytes = new Uint8Array(e)),
            (this._view = new DataView(e)),
            (this._idx = 0),
            (this._le = !1 !== n);
        }
        function f(t, e) {
          var n,
            i,
            r,
            o = e[1],
            s = e[2],
            u = e[3] ? parseInt(e[3].substr(1)) : void 0,
            c = e[4],
            h = "s" == c,
            l = "x" == c || "X" == c,
            p = "d" == c || "i" == c,
            f = !h,
            d = "",
            g = 0,
            y = !1,
            _ = !1;
          if (
            (h
              ? (n = String(t))
              : l
              ? ((n = t.toString(16)), "X" == c && (n = n.toUpperCase()))
              : f &&
                ("-" == (n = a.numToStr(t, p ? 0 : u))[0] &&
                  ((_ = !0), (n = n.substr(1))),
                (y = 0 == parseFloat(n)),
                (-1 == o.indexOf("'") && -1 == o.indexOf(",")) ||
                  (n = a.addThousandsSep(n)),
                y || (_ ? (d = "−") : -1 != o.indexOf("+") && (d = "+"))),
            s)
          ) {
            var v = n.length + d.length,
              m = parseInt(s, 10);
            v < m &&
              ((g = m - v),
              (i = -1 == o.indexOf("0") ? " " : "0"),
              (r = a.repeatString(i, g)));
          }
          return (n = 0 == g ? d + n : "0" == i ? d + r + n : r + d + n);
        }
        (a.rtrim = function (t) {
          return t.replace(c, "");
        }),
          (a.addThousandsSep = function (t) {
            for (
              var e = "",
                n = "-" == t[0] ? 1 : 0,
                i = t.indexOf("."),
                r = t.length,
                o = (-1 == i ? r : i) - 3;
              o > n;

            )
              (e = ",".concat(t.substring(o, r)).concat(e)), (r = o), (o -= 3);
            return t.substring(0, r) + e;
          }),
          (a.numToStr = function (t, e) {
            return e >= 0 ? t.toFixed(e) : String(t);
          }),
          (a.formatNumber = function (t, e, n, i) {
            var r;
            return (
              isNaN(t)
                ? (r = n || "-")
                : ((r = a.numToStr(t, e)),
                  (r = a.addThousandsSep(r)),
                  i && parseFloat(r) > 0 && (r = "+".concat(r))),
              r
            );
          }),
          (h.prototype.isNull = function () {
            return !this.mx || !this.my || isNaN(this.bx) || isNaN(this.by);
          }),
          (h.prototype.invert = function () {
            var t = new h();
            return (
              (t.mx = 1 / this.mx),
              (t.my = 1 / this.my),
              (t.bx = -this.bx / this.mx),
              (t.by = -this.by / this.my),
              t
            );
          }),
          (h.prototype.transform = function (t, e, n) {
            return (
              ((n = n || [])[0] = t * this.mx + this.bx),
              (n[1] = e * this.my + this.by),
              n
            );
          }),
          (h.prototype.toString = function () {
            return JSON.stringify(a.extend({}, this));
          }),
          (l.prototype.toString = function () {
            return JSON.stringify({
              xmin: this.xmin,
              xmax: this.xmax,
              ymin: this.ymin,
              ymax: this.ymax,
            });
          }),
          (l.prototype.toArray = function () {
            return this.hasBounds()
              ? [this.xmin, this.ymin, this.xmax, this.ymax]
              : [];
          }),
          (l.prototype.hasBounds = function () {
            return this.xmin <= this.xmax && this.ymin <= this.ymax;
          }),
          (l.prototype.sameBounds = l.prototype.equals = function (t) {
            return (
              t &&
              this.xmin === t.xmin &&
              this.xmax === t.xmax &&
              this.ymin === t.ymin &&
              this.ymax === t.ymax
            );
          }),
          (l.prototype.width = function () {
            return this.xmax - this.xmin || 0;
          }),
          (l.prototype.height = function () {
            return this.ymax - this.ymin || 0;
          }),
          (l.prototype.area = function () {
            return this.width() * this.height() || 0;
          }),
          (l.prototype.empty = function () {
            return (
              (this.xmin = this.ymin = this.xmax = this.ymax = void 0), this
            );
          }),
          (l.prototype.setBounds = function (t, e, n, i) {
            return (
              1 == arguments.length &&
                (a.isArrayLike(t)
                  ? ((e = t[1]), (n = t[2]), (i = t[3]), (t = t[0]))
                  : ((e = t.ymin), (n = t.xmax), (i = t.ymax), (t = t.xmin))),
              (this.xmin = t),
              (this.ymin = e),
              (this.xmax = n),
              (this.ymax = i),
              (t > n || e > i) && this.update(),
              this
            );
          }),
          (l.prototype.centerX = function () {
            return 0.5 * (this.xmin + this.xmax);
          }),
          (l.prototype.centerY = function () {
            return 0.5 * (this.ymax + this.ymin);
          }),
          (l.prototype.containsPoint = function (t, e) {
            return (
              t >= this.xmin &&
              t <= this.xmax &&
              e <= this.ymax &&
              e >= this.ymin
            );
          }),
          (l.prototype.containsBufferedPoint = l.prototype.containsCircle = function (
            t,
            e,
            n
          ) {
            return (
              t + n > this.xmin &&
              t - n < this.xmax &&
              e - n < this.ymax &&
              e + n > this.ymin
            );
          }),
          (l.prototype.intersects = function (t) {
            return (
              t.xmin <= this.xmax &&
              t.xmax >= this.xmin &&
              t.ymax >= this.ymin &&
              t.ymin <= this.ymax
            );
          }),
          (l.prototype.contains = function (t) {
            return (
              t.xmin >= this.xmin &&
              t.ymax <= this.ymax &&
              t.xmax <= this.xmax &&
              t.ymin >= this.ymin
            );
          }),
          (l.prototype.shift = function (t, e) {
            this.setBounds(
              this.xmin + t,
              this.ymin + e,
              this.xmax + t,
              this.ymax + e
            );
          }),
          (l.prototype.padBounds = function (t, e, n, i) {
            (this.xmin -= t),
              (this.ymin -= e),
              (this.xmax += n),
              (this.ymax += i);
          }),
          (l.prototype.scale = function (t, e) {
            var n = 0.5 * (this.xmax - this.xmin),
              i = 0.5 * (this.ymax - this.ymin),
              r = t - 1,
              o = void 0 === e ? r : e - 1;
            (this.xmin -= n * r),
              (this.ymin -= i * o),
              (this.xmax += n * r),
              (this.ymax += i * o);
          }),
          (l.prototype.cloneBounds = l.prototype.clone = function () {
            return new l(this.xmin, this.ymin, this.xmax, this.ymax);
          }),
          (l.prototype.clearBounds = function () {
            this.setBounds(new l());
          }),
          (l.prototype.mergePoint = function (t, e) {
            void 0 === this.xmin
              ? this.setBounds(t, e, t, e)
              : (t < this.xmin
                  ? (this.xmin = t)
                  : t > this.xmax && (this.xmax = t),
                e < this.ymin
                  ? (this.ymin = e)
                  : e > this.ymax && (this.ymax = e));
          }),
          (l.prototype.fillOut = function (t, e, n) {
            arguments.length < 3 && ((e = 0.5), (n = 0.5));
            var i,
              r = this.width(),
              o = this.height(),
              s = r / o;
            return (
              isNaN(t) ||
                t <= 0 ||
                (s < t
                  ? ((i = o * t - r),
                    (this.xmin -= (1 - e) * i),
                    (this.xmax += e * i))
                  : ((i = r / t - o),
                    (this.ymin -= (1 - n) * i),
                    (this.ymax += n * i))),
              this
            );
          }),
          (l.prototype.update = function () {
            var t;
            this.xmin > this.xmax &&
              ((t = this.xmin), (this.xmin = this.xmax), (this.xmax = t)),
              this.ymin > this.ymax &&
                ((t = this.ymin), (this.ymin = this.ymax), (this.ymax = t));
          }),
          (l.prototype.transform = function (t) {
            return (
              (this.xmin = this.xmin * t.mx + t.bx),
              (this.xmax = this.xmax * t.mx + t.bx),
              (this.ymin = this.ymin * t.my + t.by),
              (this.ymax = this.ymax * t.my + t.by),
              this.update(),
              this
            );
          }),
          (l.prototype.getTransform = function (t, e) {
            var n = new h();
            return (
              (n.mx = t.width() / this.width() || 1),
              (n.bx = t.xmin - n.mx * this.xmin),
              e
                ? ((n.my = -t.height() / this.height() || 1),
                  (n.by = t.ymax - n.my * this.ymin))
                : ((n.my = t.height() / this.height() || 1),
                  (n.by = t.ymin - n.my * this.ymin)),
              n
            );
          }),
          (l.prototype.mergeCircle = function (t, e, n) {
            n < 0 && (n = -n), this.mergeBounds([t - n, e - n, t + n, e + n]);
          }),
          (l.prototype.mergeBounds = function (t) {
            var e, n, i, r;
            return (
              t instanceof l
                ? ((e = t.xmin), (n = t.ymin), (i = t.xmax), (r = t.ymax))
                : 3 == (arguments.length <= 1 ? 0 : arguments.length - 1)
                ? ((e = t),
                  (n = arguments.length <= 1 ? void 0 : arguments[1]),
                  (i = arguments.length <= 2 ? void 0 : arguments[2]),
                  (r = arguments.length <= 3 ? void 0 : arguments[3]))
                : 4 == t.length
                ? ((e = t[0]), (n = t[1]), (i = t[2]), (r = t[3]))
                : y("Bounds#mergeBounds() invalid argument:", t),
              void 0 === this.xmin
                ? this.setBounds(e, n, i, r)
                : (e < this.xmin && (this.xmin = e),
                  n < this.ymin && (this.ymin = n),
                  i > this.xmax && (this.xmax = i),
                  r > this.ymax && (this.ymax = r)),
              this
            );
          }),
          (a.sortOn = function (t) {
            for (
              var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), i = 1;
              i < e;
              i++
            )
              n[i - 1] = arguments[i];
            for (var r = [], o = 0; o < arguments.length; o += 2)
              r.push(a.getKeyComparator(n[o], n[o + 1]));
            return (
              t.sort(function (t, e) {
                for (var n = 0, i = 0, o = r.length; i < o && 0 === n; )
                  (n = r[i](t, e)), i++;
                return n;
              }),
              t
            );
          }),
          (a.genericSort = function (t, e) {
            var n = a.getGenericComparator(e);
            return Array.prototype.sort.call(t, n), t;
          }),
          (a.sortOnKey = function (t, e, n) {
            var i = a.getGenericComparator(!1 !== n);
            t.sort(function (t, n) {
              return i(e(t), e(n));
            });
          }),
          (a.sortOnKey2 = function (t, e, n) {
            a.sortArrayByKeys(t, t.map(e), n);
          }),
          (a.sortArrayByKeys = function (t, e, n) {
            var i = a.getSortedIds(e, n);
            a.reorderArray(t, i);
          }),
          (a.getSortedIds = function (t, e) {
            var n = a.range(t.length);
            return a.sortArrayIndex(n, t, e), n;
          }),
          (a.sortArrayIndex = function (t, e, n) {
            var i = a.getGenericComparator(n);
            t.sort(function (t, n) {
              var r = i(e[t], e[n]);
              return r > 0 || (0 === r && t > n) ? 1 : -1;
            });
          }),
          (a.reorderArray = function (t, e) {
            for (var n = e.length, i = [], r = 0; r < n; r++) {
              var o = e[r];
              (o < 0 || o >= n) && y("Out-of-bounds array idx"), (i[r] = t[o]);
            }
            a.replaceArray(t, i);
          }),
          (a.getKeyComparator = function (t, e) {
            var n = a.getGenericComparator(e);
            return function (e, i) {
              return n(e[t], i[t]);
            };
          }),
          (a.getGenericComparator = function (t) {
            return (
              (t = !1 !== t),
              function (e, n) {
                var i = 0;
                return (
                  null == n
                    ? (i = null == e ? 0 : -1)
                    : null == e
                    ? (i = 1)
                    : e < n
                    ? (i = t ? -1 : 1)
                    : e > n
                    ? (i = t ? 1 : -1)
                    : e != e
                    ? (i = 1)
                    : n != n && (i = -1),
                  i
                );
              }
            );
          }),
          (a.quicksort = function (t, e) {
            return (
              a.quicksortPartition(t, 0, t.length - 1),
              !1 === e && Array.prototype.reverse.call(t),
              t
            );
          }),
          (a.quicksortPartition = function (t, e, n) {
            for (var i, r, o = e, s = n; o < n; ) {
              for (i = t[(e + n) >> 1]; o <= s; ) {
                for (; t[o] < i; ) o++;
                for (; t[s] > i; ) s--;
                o <= s && ((r = t[o]), (t[o] = t[s]), (t[s] = r), o++, s--);
              }
              e < s && a.quicksortPartition(t, e, s), (e = o), (s = n);
            }
          }),
          (a.findRankByValue = function (t, e) {
            if (isNaN(e)) return t.length;
            for (var n = 1, i = 0, r = t.length; i < r; i++) e > t[i] && n++;
            return n;
          }),
          (a.findValueByPct = function (t, e) {
            var n = Math.ceil((1 - e) * t.length);
            return a.findValueByRank(t, n);
          }),
          (a.findValueByRank = function (t, e) {
            (!t.length || e < 1 || e > t.length) &&
              y("[findValueByRank()] invalid input");
            for (
              var n,
                i,
                r,
                o,
                s = (e = a.clamp(0 | e, 1, t.length)) - 1,
                u = 0,
                c = t.length - 1;
              u < c;

            ) {
              (r = t[s]), (n = u), (i = c);
              do {
                for (; t[n] < r; ) n++;
                for (; r < t[i]; ) i--;
                n <= i && ((o = t[n]), (t[n] = t[i]), (t[i] = o), n++, i--);
              } while (n <= i);
              i < s && (u = n), s < n && (c = i);
            }
            return t[s];
          }),
          (a.findMedian = function (t) {
            var e = t.length,
              n = Math.floor(e / 2) + 1,
              i = a.findValueByRank(t, n);
            return (
              0 == (1 & e) && (i = (i + a.findValueByRank(t, n - 1)) / 2), i
            );
          }),
          (a.mean = function (t) {
            for (var e, n = 0, i = NaN, r = 0, o = t.length; r < o; r++)
              (e = t[r]),
                isNaN(e) || (i = 1 == ++n ? e : e / n + ((n - 1) / n) * i);
            return i;
          }),
          (p.bufferToUintArray = function (t, e) {
            return 4 == e
              ? new Uint32Array(t)
              : 2 == e
              ? new Uint16Array(t)
              : 1 == e
              ? new Uint8Array(t)
              : void y("BinArray.bufferToUintArray() invalid word length:", e);
          }),
          (p.uintSize = function (t) {
            return 1 & t || 2 & t || 4;
          }),
          (p.bufferCopy = function (t, e, n, i, r) {
            (i = i || 0),
              (r = r || n.byteLength - i),
              t.byteLength - e < r && y("Buffer overflow; tried to write:", r);
            for (
              var o = Math.min(
                  p.uintSize(r),
                  p.uintSize(i),
                  p.uintSize(t.byteLength),
                  p.uintSize(e),
                  p.uintSize(n.byteLength)
                ),
                s = p.bufferToUintArray(n, o),
                a = p.bufferToUintArray(t, o),
                u = r / o,
                c = i / o,
                h = e / o;
              u--;

            )
              a[h++] = s[c++];
            return r;
          }),
          (p.toArrayBuffer = function (t) {
            for (
              var e = t.length,
                n = new ArrayBuffer(e),
                i = new Uint8Array(n),
                r = 0;
              r < e;
              r++
            )
              i[r] = t[r];
            return n;
          }),
          (p.bufferSize = function (t) {
            return t instanceof ArrayBuffer ? t.byteLength : 0 | t.length;
          }),
          (a.buffersAreIdentical = function (t, e) {
            var n = p.bufferSize(t);
            if (n != p.bufferSize(e)) return !1;
            for (var i = 0; i < n; i++) if (t[i] !== e[i]) return !1;
            return !0;
          }),
          (p.prototype = {
            size: function () {
              return this._buffer.byteLength;
            },
            littleEndian: function () {
              return (this._le = !0), this;
            },
            bigEndian: function () {
              return (this._le = !1), this;
            },
            buffer: function () {
              return this._buffer;
            },
            bytesLeft: function () {
              return this._buffer.byteLength - this._idx;
            },
            skipBytes: function (t) {
              return (this._idx += t + 0), this;
            },
            readUint8: function () {
              return this._bytes[this._idx++];
            },
            writeUint8: function (t) {
              return (this._bytes[this._idx++] = t), this;
            },
            readInt8: function () {
              return this._view.getInt8(this._idx++);
            },
            writeInt8: function (t) {
              return this._view.setInt8(this._idx++, t), this;
            },
            readUint16: function () {
              var t = this._view.getUint16(this._idx, this._le);
              return (this._idx += 2), t;
            },
            writeUint16: function (t) {
              return (
                this._view.setUint16(this._idx, t, this._le),
                (this._idx += 2),
                this
              );
            },
            readUint32: function () {
              var t = this._view.getUint32(this._idx, this._le);
              return (this._idx += 4), t;
            },
            writeUint32: function (t) {
              return (
                this._view.setUint32(this._idx, t, this._le),
                (this._idx += 4),
                this
              );
            },
            readInt32: function () {
              var t = this._view.getInt32(this._idx, this._le);
              return (this._idx += 4), t;
            },
            writeInt32: function (t) {
              return (
                this._view.setInt32(this._idx, t, this._le),
                (this._idx += 4),
                this
              );
            },
            readFloat64: function () {
              var t = this._view.getFloat64(this._idx, this._le);
              return (this._idx += 8), t;
            },
            writeFloat64: function (t) {
              return (
                this._view.setFloat64(this._idx, t, this._le),
                (this._idx += 8),
                this
              );
            },
            readFloat64Array: function (t) {
              var e,
                n = 8 * t,
                i = this._idx,
                r = this._buffer;
              if (i % 8 == 0) e = new Float64Array(r, i, t);
              else if (r.slice) e = new Float64Array(r.slice(i, i + n));
              else {
                var o = new ArrayBuffer(n);
                p.bufferCopy(o, 0, r, i, n), (e = new Float64Array(o));
              }
              return (this._idx += n), e;
            },
            readUint32Array: function (t) {
              for (var e = [], n = 0; n < t; n++) e.push(this.readUint32());
              return e;
            },
            peek: function (t) {
              return this._view.getUint8(t >= 0 ? t : this._idx);
            },
            position: function (t) {
              return null != t ? ((this._idx = t), this) : this._idx;
            },
            readCString: function (t, e) {
              for (var n = "", i = t >= 0 ? t : this.bytesLeft(); i > 0; ) {
                var r = this.readUint8();
                if ((i--, 0 == r)) break;
                if (r > 127 && e) {
                  n = null;
                  break;
                }
                n += String.fromCharCode(r);
              }
              return t > 0 && i > 0 && this.skipBytes(i), n;
            },
            writeString: function (t, e) {
              var n,
                i = 0,
                r = t.length;
              e && (r = Math.min(r, e));
              for (var o = 0; o < r; o++)
                (n = t.charCodeAt(o)) > 127 &&
                  (y("#writeCString() Unicode value beyond ascii range"),
                  (n = "?".charCodeAt(0))),
                  this.writeUint8(n),
                  i++;
              return i;
            },
            writeCString: function (t, e) {
              var n = e ? e - 1 : null,
                i = this.writeString(t, n);
              if ((this.writeUint8(0), i++, e))
                for (; i < e; ) this.writeUint8(0), i++;
              return this;
            },
            writeBuffer: function (t, e, n) {
              return (
                (this._idx += p.bufferCopy(this._buffer, this._idx, t, n, e)),
                this
              );
            },
          }),
          (a.format = function (t) {
            for (
              var e = a.formatter(t),
                n = arguments.length,
                i = new Array(n > 1 ? n - 1 : 0),
                r = 1;
              r < n;
              r++
            )
              i[r - 1] = arguments[r];
            var o = e.apply(void 0, i);
            return o;
          }),
          (a.formatter = function (t) {
            for (
              var e,
                n = /%([',+0]*)([1-9]?)((?:\.[1-9])?)([sdifxX%])/g,
                i = [],
                r = [],
                o = 0,
                s = "",
                a = n.exec(t);
              a;

            )
              (e = t.substring(o, n.lastIndex - a[0].length)),
                "%%" == a[0]
                  ? (s += "".concat(e, "%"))
                  : (i.push(s + e), (s = ""), r.push(a)),
                (o = n.lastIndex),
                (a = n.exec(t));
            return (
              i.push(s + t.substr(o)),
              function () {
                for (
                  var e = i[0], n = arguments.length, o = new Array(n), s = 0;
                  s < n;
                  s++
                )
                  o[s] = arguments[s];
                var a = o.length;
                a != r.length &&
                  y(
                    "[format()] Data does not match format string; format:",
                    t,
                    "data:",
                    o
                  );
                for (var u = 0; u < a; u++) e += f(o[u], r[u]) + i[u + 1];
                return e;
              }
            );
          }),
          (e.wildcardToRegExp = function (t) {
            var n = t
              .split("*")
              .map(function (t) {
                return e.regexEscape(t);
              })
              .join(".*");
            return new RegExp("^".concat(n, "$"));
          }),
          (e.expandoBuffer = function (t, e) {
            var n,
              i = 0,
              r = e >= 1 ? e : 1.2;
            return function (e) {
              return e > i && ((i = Math.ceil(e * r)), (n = new t(i))), n;
            };
          }),
          (e.copyElements = function (t, e, n, i, r, o) {
            t === n && i > e && y("copy error");
            var s = 1,
              a = 0;
            o && ((s = -1), (a = r - 1));
            for (var u = 0; u < r; u++, a += s) n[u + i] = t[e + a];
          }),
          (e.extendBuffer = function (t, n, i) {
            var r = Math.max(t.length, n),
              o = i || t.length,
              s = new t.constructor(r);
            return e.copyElements(t, 0, s, 0, o), s;
          }),
          (e.mergeNames = function (t, n) {
            var i;
            return (
              t && n && (i = e.findStringPrefix(t, n).replace(/[-_]$/, "")),
              i || ""
            );
          }),
          (e.findStringPrefix = function (t, e) {
            for (var n = 0, i = t.length; n < i && t[n] === e[n]; n++);
            return t.substr(0, n);
          }),
          (e.isFiniteNumber = function (t) {
            return (
              0 === t ||
              (!!t && t.constructor == Number && t !== 1 / 0 && t !== -1 / 0)
            );
          }),
          (e.isNonNegNumber = function (t) {
            return 0 === t || (t > 0 && t.constructor == Number);
          }),
          (e.parsePercent = function (t) {
            var n,
              i = String(t);
            return (
              ((n =
                i.indexOf("%") > 0
                  ? Number(i.replace("%", "")) / 100
                  : Number(i)) >= 0 &&
                n <= 1) ||
                _(e.format("Invalid percentage: %s", i)),
              n
            );
          });
        var d = {},
          g = {
            VERSION: "0.4.87",
            LOGGING: !1,
            context: {
              DEBUG: !1,
              QUIET: !1,
              VERBOSE: !1,
              defs: {},
              input_files: [],
            },
          };
        function y() {
          for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
            e[n] = arguments[n];
          g.error.apply(null, e);
        }
        function _() {
          for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
            e[n] = arguments[n];
          g.stop.apply(null, e);
        }
        function v(t) {
          var e = new Error(t);
          return (e.name = "UserError"), e;
        }
        function m(t) {
          var n = e.toArray(t),
            i = g.getStateVar("current_command");
          return i && "help" != i && n.unshift("[".concat(i, "]")), n;
        }
        function x() {
          if (g.getStateVar("DEBUG")) {
            for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
              e[n] = arguments[n];
            g.logArgs(e);
          }
        }
        function E(t) {
          return t >= 0 ? t : ~t;
        }
        new Float64Array(1),
          (g.runningInBrowser = function () {
            return !!d.gui;
          }),
          (g.getStateVar = function (t) {
            return g.context[t];
          }),
          (g.setStateVar = function (t, e) {
            g.context[t] = e;
          }),
          (d.enableLogging = function () {
            return (g.LOGGING = !0), d;
          }),
          (d.printError = function (t) {
            var n;
            if (
              (e.isString(t) && (t = new v(t)),
              !g.LOGGING || "UserError" != t.name)
            )
              throw t;
            (n = t.message),
              /Error/.test(n) || (n = "Error: ".concat(n)),
              console.error(m([n]).join(" ")),
              g.message("Run mapshaper -h to view help");
          }),
          (g.error = function () {
            for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
              e[n] = arguments[n];
            var i = e.join(" ");
            throw new Error(i);
          }),
          (g.stop = function () {
            for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
              e[n] = arguments[n];
            throw new v(g.formatLogArgs(e));
          }),
          (g.message = function () {
            for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)
              e[n] = arguments[n];
            g.logArgs(e);
          }),
          (g.formatLogArgs = function (t) {
            return t.join(" ");
          }),
          (g.formatStringsAsGrid = function (t) {
            var n =
                t.reduce(function (t, e) {
                  return Math.max(t, e.length);
                }, 0) + 2,
              i = Math.floor(80 / n) || 1;
            return t.reduce(function (t, r, o) {
              var s = o % i;
              return (
                o > 0 && 0 === s && (t += "\n"),
                s < i - 1 && (r = e.rpad(r, n - 2, " ")),
                "".concat(t, "  ").concat(r)
              );
            }, "");
          }),
          (g.logArgs = function (t) {
            g.LOGGING &&
              !g.getStateVar("QUIET") &&
              e.isArrayLike(t) &&
              (console.error || console.log).call(console, g.formatLogArgs(t));
          }),
          (g.getWorldBounds = function (t) {
            return [
              -180 + (t = e.isFiniteNumber(t) ? t : 1e-10),
              -90 + t,
              180 - t,
              90 - t,
            ];
          }),
          (g.probablyDecimalDegreeBounds = function (t) {
            return (function (t, e) {
              return (
                t[0] <= e[0] && t[2] >= e[2] && t[1] <= e[1] && t[3] >= e[3]
              );
            })(g.getWorldBounds(-1), t instanceof l ? t.toArray() : t);
          }),
          (g.clampToWorldBounds = function (t) {
            var e = t instanceof l ? t.toArray() : t;
            return new l().setBounds(
              Math.max(e[0], -180),
              Math.max(e[1], -90),
              Math.min(e[2], 180),
              Math.min(e[3], 90)
            );
          }),
          (g.layerHasGeometry = function (t) {
            return g.layerHasPaths(t) || g.layerHasPoints(t);
          }),
          (g.layerHasPaths = function (t) {
            return (
              ("polygon" == t.geometry_type || "polyline" == t.geometry_type) &&
              g.layerHasNonNullShapes(t)
            );
          }),
          (g.layerHasPoints = function (t) {
            return "point" == t.geometry_type && g.layerHasNonNullShapes(t);
          }),
          (g.layerHasNonNullShapes = function (t) {
            return e.some(t.shapes || [], function (t) {
              return !!t;
            });
          }),
          (g.requireDataFields = function (t, n) {
            t || _("Missing attribute data");
            var i = t.getFields(),
              r = e.difference(n, i);
            r.length > 0 &&
              _(
                "Table is missing one or more fields:\n",
                r,
                "\nExisting fields:",
                "\n".concat(g.formatStringsAsGrid(i))
              );
          }),
          (g.requirePolylineLayer = function (t, e) {
            (t && "polyline" === t.geometry_type) ||
              _(e || "Expected a polyline layer");
          }),
          (g.requirePolygonLayer = function (t, e) {
            (t && "polygon" === t.geometry_type) ||
              _(e || "Expected a polygon layer");
          }),
          (g.requirePathLayer = function (t, e) {
            (t && g.layerHasPaths(t)) ||
              _(e || "Expected a polygon or polyline layer");
          });
        var b = 6378137,
          w = Math.PI / 180;
        function I(t, e, n, i, r, o) {
          var s = t - i,
            a = e - r,
            u = n - o;
          return Math.sqrt(s * s + a * a + u * u);
        }
        function S(t, e, n, i) {
          var r = t - n,
            o = e - i;
          return r * r + o * o;
        }
        function C(t, e, n, i) {
          var r = t - n,
            o = e - i;
          return Math.sqrt(r * r + o * o);
        }
        function T(t, e, n, i, r, o) {
          var s = t - i,
            a = e - r,
            u = n - o;
          return s * s + a * a + u * u;
        }
        function O(t) {
          for (var e = 2 * Math.PI; t < 0; ) t += e;
          for (; t >= e; ) t -= e;
          return t;
        }
        function R(t, e, n, i) {
          var r = Math.PI / 180;
          (t *= r), (n *= r), (e *= r), (i *= r);
          var o = Math.sin(n - t) * Math.cos(i),
            s =
              Math.cos(e) * Math.sin(i) -
              Math.sin(e) * Math.cos(i) * Math.cos(n - t);
          return Math.atan2(o, s);
        }
        function L(t, e, n) {
          (t *= w), (e *= w);
          var i = Math.cos(e);
          (n[0] = Math.cos(t) * i * b),
            (n[1] = Math.sin(t) * i * b),
            (n[2] = Math.sin(e) * b);
        }
        function M(t, e, n, i) {
          var r = n - t,
            o = i - e,
            s =
              Math.sin(o / 2) * Math.sin(o / 2) +
              Math.cos(e) * Math.cos(i) * Math.sin(r / 2) * Math.sin(r / 2);
          return 2 * Math.atan2(Math.sqrt(s), Math.sqrt(1 - s));
        }
        function A(t, e, n, i, r, o) {
          var s = t * i - t * o + n * o - n * e + r * e - r * i;
          return s * s;
        }
        function N(t, e, n) {
          var i;
          if (0 === n) i = t;
          else if (t >= e + n) i = e;
          else if (e >= t + n) i = t;
          else {
            var r = t + n - e;
            i = t - ((r * r) / n) * 0.25;
          }
          return i < 0 && (i = 0), i;
        }
        (g.calcArcBounds = function (t, e, n, i) {
          var r,
            o,
            s,
            a,
            u,
            c,
            h = 0 | n,
            l = isNaN(i) ? t.length - h : i + h;
          for (l > 0 && ((s = u = t[h]), (a = c = e[h])), h++; h < l; h++)
            (r = t[h]) < s && (s = r),
              r > u && (u = r),
              (o = e[h]) < a && (a = o),
              o > c && (c = o);
          return [s, a, u, c];
        }),
          (g.reversePathCoords = function (t, e, n) {
            for (var i, r = e, o = e + n - 1; r < o; )
              (i = t[r]), (t[r] = t[o]), (t[o] = i), r++, o--;
          });
        var P,
          D = {
            R: b,
            D2R: w,
            degreesToMeters: function (t) {
              return t * w * b;
            },
            segmentHit: V,
            segmentIntersection: B,
            distanceSq: S,
            distance2D: C,
            distance3D: I,
            innerAngle: function (t, e, n, i, r, o) {
              var s,
                a = C(t, e, n, i),
                u = C(n, i, r, o);
              return 0 === a || 0 === u
                ? 0
                : (s = ((t - n) * (r - n) + (e - i) * (o - i)) / (a * u)) >=
                  1 - 1e-14
                ? 0
                : s <= 1e-14 - 1
                ? Math.PI
                : Math.acos(s);
            },
            innerAngle2: function (t, e, n, i, r, o) {
              var s = Math.atan2(e - i, t - n),
                a = Math.atan2(o - i, r - n),
                u = Math.abs(s - a);
              return u > Math.PI && (u = 2 * Math.PI - u), u;
            },
            signedAngle: function (t, e, n, i, r, o) {
              if ((t == n && e == i) || (n == r && i == o)) return NaN;
              var s = t - n,
                a = e - i,
                u = r - n,
                c = o - i,
                h = s * u + a * c,
                l = s * c - a * u;
              return O(Math.atan2(l, h));
            },
            bearing: R,
            signedAngleSph: function (t, e, n, i, r, o) {
              if ((t == n && e == i) || (n == r && i == o)) return NaN;
              var s = R(n, i, t, e),
                a = R(n, i, r, o);
              return O(2 * Math.PI + s - a);
            },
            standardAngle: O,
            convLngLatToSph: function (t, e, n, i, r) {
              for (var o = [], s = 0, a = t.length; s < a; s++)
                L(t[s], e[s], o), (n[s] = o[0]), (i[s] = o[1]), (r[s] = o[2]);
            },
            lngLatToXYZ: L,
            xyzToLngLat: function (t, e, n, i) {
              var r = I(0, 0, 0, t, e, n),
                o = Math.asin(n / r) / w,
                s = Math.atan2(e / r, t / r) / w;
              (i[0] = s), (i[1] = o);
            },
            sphericalDistance: M,
            greatCircleDistance: function (t, e, n, i) {
              var r = Math.PI / 180;
              return M(t * r, e * r, n * r, i * r) * b;
            },
            pointSegDistSq: function (t, e, n, i, r, o) {
              return N(S(t, e, n, i), S(t, e, r, o), S(n, i, r, o));
            },
            pointSegDistSq3D: function (t, e, n, i, r, o, s, a, u) {
              return N(
                T(t, e, n, i, r, o),
                T(t, e, n, s, a, u),
                T(i, r, o, s, a, u)
              );
            },
            innerAngle3D: function (t, e, n, i, r, o, s, a, u) {
              var c,
                h = I(t, e, n, i, r, o),
                l = I(i, r, o, s, a, u);
              return 0 === h || 0 === l
                ? 0
                : (c =
                    ((t - i) * (s - i) +
                      (e - r) * (a - r) +
                      (n - o) * (u - o)) /
                    (h * l)) >= 1
                ? 0
                : c <= -1
                ? Math.PI
                : Math.acos(c);
            },
            triangleArea: function (t, e, n, i, r, o) {
              return Math.abs(((e - o) * (n - r) + (i - o) * (r - t)) / 2);
            },
            triangleArea3D: function (t, e, n, i, r, o, s, a, u) {
              return (
                0.5 *
                Math.sqrt(
                  A(t, e, i, r, s, a) +
                    A(t, n, i, o, s, u) +
                    A(e, n, r, o, a, u)
                )
              );
            },
            cosine: function (t, e, n, i, r, o) {
              var s = C(t, e, n, i) * C(n, i, r, o),
                a = 0;
              return (
                s > 0 &&
                  ((a = ((t - n) * (r - n) + (e - i) * (o - i)) / s) > 1
                    ? (a = 1)
                    : a < -1 && (a = -1)),
                a
              );
            },
            cosine3D: function (t, e, n, i, r, o, s, a, u) {
              var c = I(t, e, n, i, r, o) * I(i, r, o, s, a, u),
                h = 0;
              return (
                c > 0 &&
                  ((h =
                    ((t - i) * (s - i) +
                      (e - r) * (a - r) +
                      (n - o) * (u - o)) /
                    c) > 1
                    ? (h = 1)
                    : h < -1 && (h = -1)),
                h
              );
            },
          };
        function k(t, e) {
          (this._i = 0),
            (this._n = 0),
            (this._inc = 1),
            (this._xx = t),
            (this._yy = e),
            (this.i = 0),
            (this.x = 0),
            (this.y = 0);
        }
        function F(t, e, n) {
          var i = 0,
            r = 0,
            o = 1,
            s = 0;
          (this.init = function (t, e, n, a) {
            return (
              (i = a || 0),
              n
                ? ((r = t), (o = 1), (s = t + e))
                : ((r = t + e - 1), (o = -1), (s = t - 1)),
              this
            );
          }),
            (this.hasNext = function () {
              var a = n,
                u = r,
                c = u,
                h = i,
                l = s,
                p = o;
              if (u == l) return !1;
              do {
                c += p;
              } while (c != l && a[c] < h);
              return (
                (r = c), (this.x = t[u]), (this.y = e[u]), (this.i = u), !0
              );
            });
        }
        function G(t) {
          (this._arcs = t),
            (this._i = 0),
            (this._n = 0),
            (this.x = 0),
            (this.y = 0);
        }
        function j() {
          for (
            var t,
              n,
              i,
              r,
              o,
              s,
              a,
              u,
              c,
              h,
              p,
              f,
              d = 0,
              _ = arguments.length,
              v = new Array(_),
              m = 0;
            m < _;
            m++
          )
            v[m] = arguments[m];
          function x(e, s, a) {
            var h,
              l,
              p = e.length;
            for (
              e instanceof Array && (e = new Uint32Array(e)),
                s instanceof Array && (s = new Float64Array(s)),
                a instanceof Array && (a = new Float64Array(a)),
                t = s,
                n = a,
                r = e,
                o = null,
                d = 0,
                c = null,
                i = new Uint32Array(p),
                h = 0,
                l = 0;
              l < p;
              l++
            )
              (i[l] = h), (h += e[l]);
            return (
              (h == t.length && t.length == n.length) ||
                y("ArcCollection#initXYData() Counting error"),
              w(),
              (u = new k(t, n)),
              this
            );
          }
          function b(e) {
            e
              ? (e.length != t.length &&
                  y("ArcCollection#initZData() mismatched arrays"),
                e instanceof Array && (e = new Float64Array(e)),
                (c = new F(t, n, (o = e))))
              : ((o = null), (d = 0), (c = null));
          }
          function w() {
            var e = (function (t, e, n) {
              for (
                var i,
                  r,
                  o,
                  s = n.length,
                  a = new Float64Array(4 * s),
                  u = new l(),
                  c = 0,
                  h = 0;
                h < s;
                h++
              )
                (i = n[h]) > 0 &&
                  ((r = 4 * h),
                  (o = g.calcArcBounds(t, e, c, i)),
                  (a[r++] = o[0]),
                  (a[r++] = o[1]),
                  (a[r++] = o[2]),
                  (a[r] = o[3]),
                  (c += i),
                  u.mergeBounds(o));
              return { bb: a, bounds: u };
            })(t, n, r);
            (s = e.bb), (a = e.bounds);
          }
          function I() {
            for (
              var e,
                i = (function () {
                  var t = o,
                    e = d;
                  if (!t || !e) return this.getPointCount();
                  for (var n = 0, i = 0, r = t.length; i < r; i++)
                    t[i] >= e && n++;
                  return n;
                })(),
                s = r.length,
                a = new Float64Array(i),
                u = new Float64Array(i),
                c = new Float64Array(i),
                h = new Int32Array(s),
                l = 0,
                p = 0,
                f = 0;
              f < s;
              f++
            ) {
              e = 0;
              for (var g = l + r[f]; l < g; l++)
                o[l] >= d &&
                  ((a[p] = t[l]), (u[p] = n[l]), (c[p] = o[l]), p++, e++);
              e < 2 && y("Collapsed arc"), (h[f] = e);
            }
            return { xx: a, yy: u, zz: c, nn: h };
          }
          1 == v.length
            ? ((h = v[0]),
              (p = []),
              (f = []),
              x(
                h.map(function (t) {
                  for (var e = t ? t.length : 0, n = 0; n < e; n++)
                    p.push(t[n][0]), f.push(t[n][1]);
                  return e;
                }),
                p,
                f
              ))
            : 3 == v.length
            ? x.apply(this, v)
            : y("ArcCollection() Invalid arguments"),
            (this.updateVertexData = function (t, e, n, i) {
              x(t, e, n), b(i || null);
            }),
            (this.getVertexData = function () {
              return { xx: t, yy: n, zz: o, bb: s, nn: r, ii: i };
            }),
            (this.getCopy = function () {
              var e = new j(
                new Int32Array(r),
                new Float64Array(t),
                new Float64Array(n)
              );
              return (
                o &&
                  (e.setThresholds(new Float64Array(o)),
                  e.setRetainedInterval(d)),
                e
              );
            }),
            (this.getFilteredCopy = function () {
              if (!o || 0 === d) return this.getCopy();
              var t = I(),
                e = new j(t.nn, t.xx, t.yy);
              return e.setThresholds(t.zz), e;
            }),
            (this.toArray = function () {
              var t = [];
              return (
                this.forEach(function (e) {
                  for (var n = []; e.hasNext(); ) n.push([e.x, e.y]);
                  t.push(n);
                }),
                t
              );
            }),
            (this.toJSON = function () {
              return this.toArray();
            }),
            (this.forEachArcSegment = function (e, s) {
              for (
                var a = e >= 0,
                  u = a ? e : ~e,
                  c = this.getRetainedInterval(),
                  h = r[u],
                  l = a ? 1 : -1,
                  p = a ? i[u] : i[u] + h - 1,
                  f = p,
                  d = 0,
                  g = 1;
                g < h;
                g++
              )
                (f += l),
                  (0 === c || o[f] >= c) && (s(p, f, t, n), (p = f), d++);
              return d;
            }),
            (this.forEachSegment = function (t) {
              for (var e = 0, n = 0, i = this.size(); n < i; n++)
                e += this.forEachArcSegment(n, t);
              return e;
            }),
            (this.transformPoints = function (e) {
              for (
                var i, o = t, s = n, a = -1, u = 0, c = 0, h = o.length;
                c < h;
                c++, u--
              ) {
                for (; 0 === u; ) u = r[++a];
                (i = e(o[c], s[c], a)) && ((o[c] = i[0]), (s[c] = i[1]));
              }
              w();
            }),
            (this.forEach = function (t) {
              for (var e = 0, n = this.size(); e < n; e++)
                t(this.getArcIter(e), e);
            }),
            (this.forEach2 = function (e) {
              for (var s = 0, a = this.size(); s < a; s++)
                e(i[s], r[s], t, n, o, s);
            }),
            (this.forEach3 = function (e) {
              for (var s, a, u, c, h, l = 0, p = this.size(); l < p; l++)
                (a = (s = i[l]) + r[l]),
                  (u = t.subarray(s, a)),
                  (c = n.subarray(s, a)),
                  o && (h = o.subarray(s, a)),
                  e(u, c, h, l);
            }),
            (this.filter = function (t) {
              var e = function (e) {
                return t(this.getArcIter(e), e);
              }.bind(this);
              return this.deleteArcs(e);
            }),
            (this.deleteArcs = function (s) {
              for (
                var a = this.size(), u = new Int32Array(a), c = 0, h = 0;
                h < a;
                h++
              )
                s(h) ? (u[h] = c++) : (u[h] = -1);
              return (
                c < a &&
                  (function (s) {
                    for (
                      var a,
                        u,
                        c = 0,
                        h = 0,
                        l = e.copyElements,
                        p = 0,
                        f = s.length;
                      p < f;
                      p++
                    )
                      (a = s[p]),
                        (u = r[p]),
                        a > -1 &&
                          (l(t, i[p], t, c, u),
                          l(n, i[p], n, c, u),
                          o && l(o, i[p], o, c, u),
                          (r[a] = u),
                          (c += u),
                          h++);
                    x(r.subarray(0, h), t.subarray(0, c), n.subarray(0, c)),
                      o && b(o.subarray(0, c));
                  })(u),
                u
              );
            }),
            (this.dedupCoords = function () {
              for (
                var e, i, s = 0, a = 0, u = 0, c = this.size(), h = o;
                s < c;

              )
                (e = r[s]),
                  (i = g.dedupArcCoords(a, u, e, t, n, h)),
                  (r[s] = i),
                  (a += e),
                  (u += i),
                  s++;
              return (
                a > u &&
                  (x(r, t.subarray(0, u), n.subarray(0, u)),
                  h && b(h.subarray(0, u))),
                a - u
              );
            }),
            (this.getVertex = function (e, i) {
              var r = this.indexOfVertex(e, i);
              return { x: t[r], y: n[r] };
            }),
            (this.indexOfVertex = function (t, e) {
              var n = t < 0 ? ~t : t,
                o = r[n];
              return (
                e < 0 && (e = o + e),
                n != t && (e = o - e - 1),
                (e < 0 || e >= o) &&
                  y("[ArcCollection] out-of-range vertex id"),
                i[n] + e
              );
            }),
            (this.pointIsEndpoint = function (t) {
              for (var e = i, n = r, o = 0, s = e.length; o < s; o++)
                if (t === e[o] || t === e[o] + n[o] - 1) return !0;
              return !1;
            }),
            (this.arcIsClosed = function (e) {
              var i = this.indexOfVertex(e, 0),
                r = this.indexOfVertex(e, -1);
              return i != r && t[i] == t[r] && n[i] == n[r];
            }),
            (this.arcIsLollipop = function (e) {
              if (this.getArcLength(e) <= 2 || !this.arcIsClosed(e)) return !1;
              var i = this.indexOfVertex(e, 1),
                r = this.indexOfVertex(e, -2);
              return t[i] == t[r] && n[i] == n[r];
            }),
            (this.arcIsDegenerate = function (t) {
              for (var e, n, i = this.getArcIter(t), r = 0; i.hasNext(); ) {
                if (r > 0 && (e != i.x || n != i.y)) return !1;
                (e = i.x), (n = i.y), r++;
              }
              return !0;
            }),
            (this.getArcLength = function (t) {
              return r[E(t)];
            }),
            (this.getArcIter = function (t) {
              var e = t >= 0,
                n = e ? t : ~t,
                s = o && d ? c : u;
              return (
                n >= r.length && y("#getArcId() out-of-range arc id:", t),
                s.init(i[n], r[n], e, d)
              );
            }),
            (this.getShapeIter = function (t) {
              return new G(this).init(t);
            }),
            (this.setThresholds = function (t) {
              var e = this.getPointCount(),
                n = null;
              return (
                t &&
                  (t.length == e
                    ? (n = t)
                    : t.length == this.size()
                    ? (n = (function (t, e) {
                        var n = new Float64Array(e),
                          i = 0;
                        t.forEach(function (t) {
                          for (var e = 0, r = t.length; e < r; i++, e++)
                            n[i] = t[e];
                        }),
                          i != e && y("Mismatched thresholds");
                        return n;
                      })(t, e))
                    : y("Invalid threshold data")),
                b(n),
                this
              );
            }),
            (this.flatten = function () {
              if (d > 0) {
                var t = I();
                this.updateVertexData(t.nn, t.xx, t.yy), (d = 0);
              } else o = null;
            }),
            (this.getRetainedInterval = function () {
              return d;
            }),
            (this.setRetainedInterval = function (t) {
              return (d = t), this;
            }),
            (this.getRetainedPct = function () {
              return this.getPctByThreshold(d);
            }),
            (this.setRetainedPct = function (t) {
              return (
                t >= 1
                  ? (d = 0)
                  : ((d = this.getThresholdByPct(t)),
                    (d = g.clampIntervalByPct(d, t))),
                this
              );
            }),
            (this.getRemovableThresholds = function (t) {
              o || y("[arcs] Missing simplification data.");
              var e,
                n,
                i,
                r,
                s = 1 | t,
                a = new Float64Array(Math.ceil(o.length / s));
              for (n = 0, i = 0, r = this.getPointCount(); n < r; n += s)
                (e = o[n]) != 1 / 0 && (a[i++] = e);
              return a.subarray(0, i);
            }),
            (this.getArcThresholds = function (t) {
              (t >= 0 && t < this.size()) || y("[arcs] Invalid arc id:", t);
              var e = i[t],
                n = e + r[t];
              return o.subarray(e, n);
            }),
            (this.getPctByThreshold = function (t, n) {
              var i, r, o;
              return (
                t > 0
                  ? ((i = this.getRemovableThresholds(n)),
                    (r = e.findRankByValue(i, t)),
                    (o = i.length > 0 ? 1 - (r - 1) / i.length : 1))
                  : (o = 1),
                o
              );
            }),
            (this.getThresholdByPct = function (t, n) {
              var i,
                r = this.getRemovableThresholds(n);
              return (i =
                0 === r.length ? 0 : Math.floor((1 - t) * (r.length + 2))) <= 0
                ? 0
                : i > r.length
                ? 1 / 0
                : e.findValueByRank(r, i);
            }),
            (this.arcIntersectsBBox = function (t, e) {
              var n = s,
                i = 4 * t;
              return (
                n[i] <= e[2] &&
                n[i + 2] >= e[0] &&
                n[i + 3] >= e[1] &&
                n[i + 1] <= e[3]
              );
            }),
            (this.arcIsContained = function (t, e) {
              var n = s,
                i = 4 * t;
              return (
                n[i] >= e[0] &&
                n[i + 2] <= e[2] &&
                n[i + 1] >= e[1] &&
                n[i + 3] <= e[3]
              );
            }),
            (this.arcIsSmaller = function (t, e) {
              var n = s,
                i = 4 * t;
              return n[i + 2] - n[i] < e && n[i + 3] - n[i + 1] < e;
            }),
            (this.isPlanar = function () {
              return !g.probablyDecimalDegreeBounds(this.getBounds());
            }),
            (this.size = function () {
              return (i && i.length) || 0;
            }),
            (this.getPointCount = function () {
              return (t && t.length) || 0;
            }),
            (this.getBounds = function () {
              return a.clone();
            }),
            (this.getSimpleShapeBounds = function (t, e) {
              e = e || new l();
              for (var n = 0, i = t.length; n < i; n++)
                this.mergeArcBounds(t[n], e);
              return e;
            }),
            (this.getSimpleShapeBounds2 = function (t, e) {
              var n = e || [],
                i = s,
                r = 4 * E(t[0]);
              (n[0] = i[r]), (n[1] = i[++r]), (n[2] = i[++r]), (n[3] = i[++r]);
              for (var o = 1, a = t.length; o < a; o++)
                i[(r = 4 * E(t[o]))] < n[0] && (n[0] = i[r]),
                  i[++r] < n[1] && (n[1] = i[r]),
                  i[++r] > n[2] && (n[2] = i[r]),
                  i[++r] > n[3] && (n[3] = i[r]);
              return n;
            }),
            (this.getMultiShapeBounds = function (t, e) {
              if (((e = e || new l()), t))
                for (var n = 0, i = t.length; n < i; n++)
                  this.getSimpleShapeBounds(t[n], e);
              return e;
            }),
            (this.mergeArcBounds = function (t, e) {
              t < 0 && (t = ~t);
              var n = 4 * t;
              e.mergeBounds(s[n], s[n + 1], s[n + 2], s[n + 3]);
            });
        }
        function B(t, e, n, i, r, o, s, a) {
          var u = null;
          return (
            V(t, e, n, i, r, o, s, a) &&
              ((u = (function (t, e, n, i, r, o, s, a) {
                var u,
                  c = U(t, e, n, i, r, o, s, a);
                c &&
                  (1 ==
                  (u = (function (t, e) {
                    for (
                      var n,
                        i = -1,
                        r = 1 / 0,
                        o = 0,
                        s = 0,
                        a = arguments.length <= 2 ? 0 : arguments.length - 2;
                      s < a;
                      o++, s += 2
                    )
                      (n = S(
                        t,
                        e,
                        s + 2 < 2 || arguments.length <= s + 2
                          ? void 0
                          : arguments[s + 2],
                        s + 1 + 2 < 2 || arguments.length <= s + 1 + 2
                          ? void 0
                          : arguments[s + 1 + 2]
                      )) < r && ((r = n), (i = o));
                    return i;
                  })(c[0], c[1], t, e, n, i, r, o, s, a))
                    ? (c = U(n, i, t, e, r, o, s, a))
                    : 2 == u
                    ? (c = U(r, o, s, a, t, e, n, i))
                    : 3 == u && (c = U(s, a, r, o, t, e, n, i)));
                c &&
                  (function (t, e, n, i, r, o, s, a, u) {
                    var c = t[0],
                      h = t[1];
                    (c = D.clampToCloseRange(c, e, i)),
                      (c = D.clampToCloseRange(c, o, a)),
                      (h = D.clampToCloseRange(h, n, r)),
                      (h = D.clampToCloseRange(h, s, u)),
                      (t[0] = c),
                      (t[1] = h);
                  })(c, t, e, n, i, r, o, s, a);
                return c;
              })(t, e, n, i, r, o, s, a))
                ? (function (t, e, n, i, r, o, s, a) {
                    return (
                      (t == r && e == o) ||
                      (t == s && e == a) ||
                      (n == r && i == o) ||
                      (n == s && i == a)
                    );
                  })(t, e, n, i, r, o, s, a) && (u = null)
                : (u = (function (t, e, n, i, r, o, s, a) {
                    var u = Math.min(t, n, r, s),
                      c = Math.max(t, n, r, s),
                      h = Math.min(e, i, o, a),
                      l = Math.max(e, i, o, a),
                      p = l - h > c - u,
                      f = [];
                    (p ? q(e, h, l) : q(t, u, c)) && f.push(t, e);
                    (p ? q(i, h, l) : q(n, u, c)) && f.push(n, i);
                    (p ? q(o, h, l) : q(r, u, c)) && f.push(r, o);
                    (p ? q(a, h, l) : q(s, u, c)) && f.push(s, a);
                    2 != f.length && 4 != f.length
                      ? x("Invalid collinear segment intersection", (f = null))
                      : 4 == f.length &&
                        f[0] == f[2] &&
                        f[1] == f[3] &&
                        (f = null);
                    return f;
                  })(t, e, n, i, r, o, s, a))),
            u
          );
        }
        function U(t, e, n, i, r, o, s, a) {
          var u,
            c = X(n - t, i - e, s - r, a - o);
          if (0 === c) return null;
          var h = z(r, o, s, a, t, e) / c;
          return (
            c <= 1e-18 && c >= -1e-18
              ? (u = (function (t, e, n, i, r, o, s, a) {
                  var u = null;
                  Y(t, r, s) || Y(e, o, a)
                    ? Y(n, r, s) || Y(i, o, a)
                      ? Y(r, t, n) || Y(o, e, i)
                        ? Y(s, t, n) || Y(a, e, i) || (u = [s, a])
                        : (u = [r, o])
                      : (u = [n, i])
                    : (u = [t, e]);
                  return u;
                })(t, e, n, i, r, o, s, a)) ||
                (x("[lineIntersection()]"),
                D.debugSegmentIntersection([], t, e, n, i, r, o, s, a))
              : (u = [t + h * (n - t), e + h * (i - e)]),
            u
          );
        }
        function Y(t, e, n) {
          return e < n ? t < e || t > n : e > n ? t > e || t < n : t != e;
        }
        function X(t, e, n, i) {
          return t * i - e * n;
        }
        function z(t, e, n, i, r, o) {
          return X(t - r, e - o, n - r, i - o);
        }
        function V(t, e, n, i, r, o, s, a) {
          return (
            z(t, e, n, i, r, o) * z(t, e, n, i, s, a) <= 0 &&
            z(r, o, s, a, t, e) * z(r, o, s, a, n, i) <= 0
          );
        }
        function q(t, e, n) {
          return t > e && t < n;
        }
        (k.prototype.init = function (t, e, n) {
          return (
            n
              ? ((this._i = t), (this._inc = 1))
              : ((this._i = t + e - 1), (this._inc = -1)),
            (this._n = e),
            this
          );
        }),
          (k.prototype.hasNext = function () {
            var t = this._i;
            return (
              this._n > 0 &&
              ((this._i = t + this._inc),
              (this.x = this._xx[t]),
              (this.y = this._yy[t]),
              (this.i = t),
              this._n--,
              !0)
            );
          }),
          (G.prototype.hasNext = function () {
            var t = this._arc;
            return (
              this._i < this._n != !1 &&
              (t.hasNext()
                ? ((this.x = t.x), (this.y = t.y), !0)
                : (this.nextArc(), this.hasNext()))
            );
          }),
          (G.prototype.init = function (t) {
            return (this._ids = t), (this._n = t.length), this.reset(), this;
          }),
          (G.prototype.nextArc = function () {
            var t = this._i + 1;
            t < this._n &&
              ((this._arc = this._arcs.getArcIter(this._ids[t])),
              t > 0 && this._arc.hasNext()),
              (this._i = t);
          }),
          (G.prototype.reset = function () {
            (this._i = -1), this.nextArc();
          }),
          (j.prototype.inspect = function () {
            return this.getPointCount() < 50
              ? JSON.stringify(this.toArray())
              : "[ArcCollection (".concat(this.size(), ")]");
          }),
          (g.dedupArcCoords = function (t, e, n, i, r, o) {
            for (var s, a, u, c, h, l = 0, p = 0; l < n; )
              (s = i[(c = t + l)]),
                (a = r[c]),
                (h =
                  s == s &&
                  a == a &&
                  (0 === p || s != i[c - 1] || a != r[c - 1])) &&
                  ((i[(u = e + p)] = s), (r[u] = a), p++),
                o && p > 0 && (h || o[c] > o[u]) && (o[u] = o[c]),
                l++;
            return p > 1 ? p : 0;
          }),
          (D.segmentIntersection = B),
          (D.segmentHit = V),
          (D.lineIntersection = U),
          (D.orient2D = z),
          (D.outsideRange = Y),
          (D.debugSegmentIntersection = function (t, e, n, i, r, o, s, a, u) {
            x("[debugSegmentIntersection()]"),
              x("  s1\n  dx:", Math.abs(e - i), "\n  dy:", Math.abs(n - r)),
              x("  s2\n  dx:", Math.abs(o - a), "\n  dy:", Math.abs(s - u)),
              x("  s1 xx:", e, i),
              x("  s2 xx:", o, a),
              x("  s1 yy:", n, r),
              x("  s2 yy:", s, u),
              x("  angle:", D.signedAngle(e, n, i, r, a - o + i, u - s + r));
          }),
          (D.clampToCloseRange = function (t, e, n) {
            var i;
            return (
              D.outsideRange(t, e, n) &&
                ((i = Math.abs(t - e) < Math.abs(t - n) ? e : n),
                Math.abs(t - i) > 1e-15 &&
                  x("[clampToCloseRange()] large clamping interval", t, e, n),
                (t = i)),
              t
            );
          }),
          (D.findClosestPointOnSeg = function (t, e, n, i, r, o) {
            var s = r - n,
              a = o - i,
              u = s * s + a * a,
              c = 0 === u ? -1 : ((t - n) * s + (e - i) * a) / u;
            return c <= 0.1
              ? [n, i]
              : c >= 0.9
              ? [r, o]
              : [n + c * s, i + c * a];
          }),
          (g.sortSegmentIds = function (t, e) {
            g.orderSegmentIds(t, e),
              g.quicksortSegmentIds(t, e, 0, e.length - 2);
          }),
          (g.orderSegmentIds = function (t, e) {
            function n(t, n) {
              var i = e[t];
              (e[t] = e[n]), (e[n] = i);
            }
            for (var i = 0, r = e.length; i < r; i += 2)
              t[e[i]] > t[e[i + 1]] && n(i, i + 1);
          }),
          (g.insertionSortSegmentIds = function (t, e, n, i) {
            for (var r, o, s = n + 2; s <= i; s += 2) {
              (r = e[s]), (o = e[s + 1]);
              var a = void 0;
              for (a = s - 2; a >= n && t[r] < t[e[a]]; a -= 2)
                (e[a + 2] = e[a]), (e[a + 3] = e[a + 1]);
              (e[a + 2] = r), (e[a + 3] = o);
            }
          }),
          (g.quicksortSegmentIds = function (t, e, n, i) {
            for (var r, o, s = n, a = i; s < i; ) {
              for (r = t[e[((n + i) >> 2) << 1]]; s <= a; ) {
                for (; t[e[s]] < r; ) s += 2;
                for (; t[e[a]] > r; ) a -= 2;
                s <= a &&
                  ((o = e[s]),
                  (e[s] = e[a]),
                  (e[a] = o),
                  (o = e[s + 1]),
                  (e[s + 1] = e[a + 1]),
                  (e[a + 1] = o),
                  (s += 2),
                  (a -= 2));
              }
              if (
                (a - n < 40
                  ? g.insertionSortSegmentIds(t, e, n, a)
                  : g.quicksortSegmentIds(t, e, n, a),
                i - s < 40)
              )
                return void g.insertionSortSegmentIds(t, e, s, i);
              (n = s), (a = i);
            }
          }),
          (g.getIntersectionPoints = function (t) {
            return t.map(function (t) {
              return [t.x, t.y];
            });
          }),
          (g.findSegmentIntersections = function (t) {
            var n,
              i,
              r = t.getBounds(),
              o = r.ymin,
              s = r.ymax - o,
              a = g.calcSegmentIntersectionStripeCount(t),
              u = new Uint32Array(a),
              c =
                a > 1
                  ? function (t) {
                      return Math.floor(((a - 1) * (t - o)) / s);
                    }
                  : function () {
                      return 0;
                    };
            t.forEachSegment(function (t, e, n, i) {
              for (var r = c(i[t]), o = c(i[e]); (u[r] = u[r] + 2), r != o; )
                r += o > r ? 1 : -1;
            });
            var h,
              l,
              p =
                ((h = e.sum(u)),
                (l = 4 * h),
                (!P || P.byteLength < l) && (P = new ArrayBuffer(l)),
                new Uint32Array(P, 0, h)),
              f = 0,
              d = [];
            e.forEach(u, function (t) {
              var e = f;
              (f += t), d.push(p.subarray(e, f));
            }),
              e.initializeArray(u, 0),
              t.forEachSegment(function (t, e, n, i) {
                for (
                  var r, o, s = c(i[t]), a = c(i[e]);
                  (r = u[s]),
                    (u[s] = r + 2),
                    ((o = d[s])[r] = t),
                    (o[r + 1] = e),
                    s != a;

                )
                  s += a > s ? 1 : -1;
              });
            var y,
              _ = t.getVertexData(),
              v = [];
            for (n = 0; n < a; n++)
              for (
                y = g.intersectSegments(d[n], _.xx, _.yy), i = 0;
                i < y.length;
                i++
              )
                v.push(y[i]);
            return g.dedupIntersections(v);
          }),
          (g.sortIntersections = function (t) {
            t.sort(function (t, e) {
              return t.x - e.x || t.y - e.y;
            });
          }),
          (g.dedupIntersections = function (t) {
            var e = {};
            return t.filter(function (t) {
              var n = g.getIntersectionKey(t);
              return !(n in e) && ((e[n] = !0), !0);
            });
          }),
          (g.getIntersectionKey = function (t) {
            return "".concat(t.a.join(","), ";").concat(t.b.join(","));
          }),
          (g.calcSegmentIntersectionStripeCount = function (t) {
            var e = t.getBounds().height(),
              n = g.getAvgSegment2(t)[1],
              i = 1;
            return n > 0 && e > 0 && (i = Math.ceil(e / n / 20)), i || 1;
          }),
          (g.intersectSegments = function (t, e, n) {
            var i,
              r,
              o,
              s,
              a,
              u,
              c,
              h,
              l,
              p,
              f,
              d,
              y,
              _,
              v,
              m,
              x,
              E = t.length - 2,
              b = [];
            for (g.sortSegmentIds(e, t), m = 0; m < E; ) {
              for (
                i = t[m],
                  r = t[m + 1],
                  a = e[i],
                  u = e[r],
                  l = n[i],
                  p = n[r],
                  x = m;
                x < E && !(u < (c = e[(o = t[(x += 2)])]));

              ) {
                if (((f = n[o]), (h = e[(s = t[x + 1])]), (d = n[s]), l >= f)) {
                  if (l > d && p > f && p > d) continue;
                } else if (l < d && p < f && p < d) continue;
                i != o &&
                  i != s &&
                  r != o &&
                  r != s &&
                  (y = B(a, l, u, p, c, f, h, d)) &&
                  ((_ = [i, r]),
                  (v = [o, s]),
                  b.push(g.formatIntersection(y, _, v, e, n)),
                  4 == y.length &&
                    b.push(g.formatIntersection(y.slice(2), _, v, e, n)));
              }
              m += 2;
            }
            return b;
          }),
          (g.formatIntersection = function (t, e, n, i, r) {
            var o = t[0],
              s = t[1];
            (e = g.formatIntersectingSegment(o, s, e[0], e[1], i, r)),
              (n = g.formatIntersectingSegment(o, s, n[0], n[1], i, r));
            var a = e[0] < n[0] ? e : n;
            return { x: o, y: s, a: a, b: a == e ? n : e };
          }),
          (g.formatIntersectingSegment = function (t, e, n, i, r, o) {
            var s = n < i ? n : i,
              a = s === n ? i : n;
            return (
              r[s] == t && o[s] == e
                ? (a = s)
                : r[a] == t && o[a] == e && (s = a),
              [s, a]
            );
          }),
          (g.getAvgSegment = function (t) {
            var e = 0,
              n = t.forEachSegment(function (t, n, i, r) {
                var o = i[t] - i[n],
                  s = r[t] - r[n];
                e += Math.sqrt(o * o + s * s);
              });
            return e / n || 0;
          }),
          (g.getAvgSegment2 = function (t) {
            var e = 0,
              n = 0,
              i = t.forEachSegment(function (t, i, r, o) {
                (e += Math.abs(r[t] - r[i])), (n += Math.abs(o[t] - o[i]));
              });
            return [e / i || 0, n / i || 0];
          }),
          (g.getDirectedArcPresenceTest = function (t, e) {
            var n = new Uint8Array(e);
            return (
              g.forEachArcId(t, function (t) {
                var i = E(t);
                i < e == !1 && y("index error"), (n[i] |= t < 0 ? 2 : 1);
              }),
              function (t) {
                var e = E(t);
                return t < 0 ? 2 == (2 & n[e]) : 1 == (1 & n[e]);
              }
            );
          }),
          (g.getArcPresenceTest = function (t, e) {
            var n = new Uint8Array(e.size());
            return (
              g.countArcsInShapes(t, n),
              function (t) {
                return t < 0 && (t = ~t), n[t] > 0;
              }
            );
          }),
          (g.getArcPresenceTest2 = function (t, e) {
            var n = g.countArcsInLayers(t, e);
            return function (t) {
              return n[E(t)] > 0;
            };
          }),
          (g.countArcsInShapes = function (t, e) {
            g.traversePaths(t, null, function (t) {
              for (var n, i = t.arcs, r = 0; r < i.length; r++)
                (n = i[r]) < 0 && (n = ~n), e[n]++;
            });
          }),
          (g.countArcsInLayers = function (t, e) {
            var n = new Uint32Array(e.size());
            return (
              t.forEach(function (t) {
                g.countArcsInShapes(t.shapes, n);
              }),
              n
            );
          }),
          (g.findShapesByArcId = function (t, e, n) {
            var i = n ? new Uint8Array(n) : [],
              r = [];
            return (
              e.forEach(function (t) {
                i[E(t)] = 1;
              }),
              t.forEach(function (t, e) {
                var n = !1;
                g.forEachArcId(t || [], function (t) {
                  n = n || 1 == i[E(t)];
                }),
                  n && r.push(e);
              }),
              r
            );
          }),
          (g.reversePath = function (t) {
            t.reverse();
            for (var e = 0, n = t.length; e < n; e++) t[e] = ~t[e];
          }),
          (g.clampIntervalByPct = function (t, e) {
            return e <= 0 ? (t = 1 / 0) : e >= 1 && (t = 0), t;
          }),
          (g.findNextRemovableVertices = function (t, e, n, i) {
            var r,
              o,
              s = g.findNextRemovableVertex(t, e, n, i);
            if (s > -1)
              for (o = t[s], r = [s]; ++s < i; ) t[s] == o && r.push(s);
            return r || null;
          }),
          (g.findNextRemovableVertex = function (t, e, n, i) {
            var r,
              o,
              s = 0,
              a = -1;
            n > i && ((r = n), (n = i), (i = r));
            for (var u = n + 1; u < i; u++)
              (o = t[u]) < e && o > s && ((a = u), (s = o));
            return a;
          }),
          (g.forEachArcId = function (t, n) {
            for (var i, r = 0; r < t.length; r++)
              if ((i = t[r]) instanceof Array) g.forEachArcId(i, n);
              else if (e.isInteger(i)) {
                var o = n(i);
                void 0 !== o && (t[r] = o);
              } else i && y("Non-integer arc id in:", t);
          }),
          (g.forEachSegmentInShape = function (t, e, n) {
            for (var i = 0, r = t ? t.length : 0; i < r; i++)
              g.forEachSegmentInPath(t[i], e, n);
          }),
          (g.forEachSegmentInPath = function (t, e, n) {
            for (var i = 0, r = t.length; i < r; i++)
              e.forEachArcSegment(t[i], n);
          }),
          (g.traversePaths = function (t, e, n, i) {
            var r = 0;
            t.forEach(function (t, o) {
              if (t && 0 !== t.length) {
                var s, a;
                i && i(o);
                for (var u = 0, c = t.length; u < c; u++)
                  if (
                    ((s = t[u]),
                    n && n({ i: u, shapeId: o, shape: t, arcs: s }),
                    e)
                  )
                    for (var h = 0, l = s.length; h < l; h++, r++)
                      (a = s[h]),
                        e({ i: h, shapeId: o, partId: u, arcId: a, segId: r });
              }
            });
          }),
          (g.arcHasLength = function (t, e) {
            var n,
              i,
              r = e.getArcIter(t);
            if (r.hasNext())
              for (n = r.x, i = r.y; r.hasNext(); )
                if (r.x != n || r.y != i) return !0;
            return !1;
          }),
          (g.filterEmptyArcs = function (t, e) {
            if (!t) return null;
            var n = [];
            return (
              t.forEach(function (t) {
                for (var i = [], r = 0; r < t.length; r++)
                  g.arcHasLength(t[r], e) && i.push(t[r]);
                i.length > 0 && n.push(i);
              }),
              n.length > 0 ? n : null
            );
          }),
          (g.groupPolygonRings = function (t, e) {
            var i = [],
              r = [],
              o = e ? -1 : 1;
            if (
              ((t || []).forEach(function (t) {
                t.area * o > 0 ? r.push([t]) : t.area * o < 0 && i.push(t);
              }),
              0 === i.length)
            )
              return r;
            var s = n(252)();
            return (
              s.load(
                r.map(function (t, e) {
                  var n = t[0].bounds;
                  return {
                    minX: n.xmin,
                    minY: n.ymin,
                    maxX: n.xmax,
                    maxY: n.ymax,
                    idx: e,
                  };
                })
              ),
              i.forEach(function (t) {
                for (
                  var e,
                    n,
                    i,
                    a = -1,
                    u = 0,
                    c = t.area * -o,
                    h = s.search({
                      minX: t.bounds.xmin,
                      minY: t.bounds.ymin,
                      maxX: t.bounds.xmax,
                      maxY: t.bounds.ymax,
                    }),
                    l = 0,
                    p = h.length;
                  l < p;
                  l++
                )
                  (n = h[l].idx),
                    (i = (e = r[n][0]).area * o),
                    e.bounds.contains(t.bounds) &&
                      i > c &&
                      (0 === u || i < u) &&
                      ((u = i), (a = n));
                -1 == a
                  ? x(
                      "[groupPolygonRings()] polygon hole is missing a containing ring, dropping."
                    )
                  : r[a].push(t);
              }),
              r
            );
          }),
          (g.getPathMetadata = function (t, e, n) {
            for (var i, r = [], o = 0, s = t && t.length; o < s; o++)
              (i = t[o]),
                r.push({
                  ids: i,
                  area: "polygon" == n ? D.getPlanarPathArea(i, e) : 0,
                  bounds: e.getSimpleShapeBounds(i),
                });
            return r;
          }),
          (g.quantizeArcs = function (t, e) {
            var n = t.getBounds(),
              i = new l(0, 0, e - 1, e - 1),
              r = n.getTransform(i),
              o = r.invert();
            t.transformPoints(function (t, e) {
              var n = r.transform(t, e);
              return o.transform(Math.round(n[0]), Math.round(n[1]));
            });
          }),
          (d.internal = g),
          (r = g),
          e.extend(d.internal, { ArcCollection: j, ArcIter: k }),
          "function" == typeof define && n(253)
            ? define([], function () {
                return r;
              })
            : "object" === o(i) && i.exports && (i.exports = r);
      })(),
        (e.a = r);
    }.call(this, n(190).Buffer, n(135)(t)));
  },
  function (t, e, n) {
    var i = n(2),
      r = n(15);
    t.exports = function (t, e) {
      try {
        r(i, t, e);
      } catch (n) {
        i[t] = e;
      }
      return e;
    };
  },
  function (t, e, n) {
    var i = n(2),
      r = n(10),
      o = i.document,
      s = r(o) && r(o.createElement);
    t.exports = function (t) {
      return s ? o.createElement(t) : {};
    };
  },
  function (t, e, n) {
    "use strict";
    var i = {}.propertyIsEnumerable,
      r = Object.getOwnPropertyDescriptor,
      o = r && !i.call({ 1: 2 }, 1);
    e.f = o
      ? function (t) {
          var e = r(this, t);
          return !!e && e.enumerable;
        }
      : i;
  },
  function (t, e, n) {
    t.exports = n(2);
  },
  function (t, e) {
    t.exports = [
      "constructor",
      "hasOwnProperty",
      "isPrototypeOf",
      "propertyIsEnumerable",
      "toLocaleString",
      "toString",
      "valueOf",
    ];
  },
  function (t, e) {
    e.f = Object.getOwnPropertySymbols;
  },
  function (t, e) {
    t.exports = function (t, e, n) {
      if (!(t instanceof e))
        throw TypeError("Incorrect " + (n ? n + " " : "") + "invocation");
      return t;
    };
  },
  function (t, e, n) {
    var i = n(5),
      r = n(57),
      o = i("iterator"),
      s = Array.prototype;
    t.exports = function (t) {
      return void 0 !== t && (r.Array === t || s[o] === t);
    };
  },
  function (t, e, n) {
    var i = n(67),
      r = n(57),
      o = n(5)("iterator");
    t.exports = function (t) {
      if (null != t) return t[o] || t["@@iterator"] || r[i(t)];
    };
  },
  function (t, e, n) {
    var i = n(5)("iterator"),
      r = !1;
    try {
      var o = 0,
        s = {
          next: function () {
            return { done: !!o++ };
          },
          return: function () {
            r = !0;
          },
        };
      (s[i] = function () {
        return this;
      }),
        Array.from(s, function () {
          throw 2;
        });
    } catch (t) {}
    t.exports = function (t, e) {
      if (!e && !r) return !1;
      var n = !1;
      try {
        var o = {};
        (o[i] = function () {
          return {
            next: function () {
              return { done: (n = !0) };
            },
          };
        }),
          t(o);
      } catch (t) {}
      return n;
    };
  },
  function (t, e, n) {
    var i = n(68);
    t.exports = i("navigator", "userAgent") || "";
  },
  function (t, e, n) {
    var i = n(10),
      r = n(44),
      o = n(5)("species");
    t.exports = function (t, e) {
      var n;
      return (
        r(t) &&
          ("function" != typeof (n = t.constructor) ||
          (n !== Array && !r(n.prototype))
            ? i(n) && null === (n = n[o]) && (n = void 0)
            : (n = void 0)),
        new (void 0 === n ? Array : n)(0 === e ? 0 : e)
      );
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(55),
      o = n(25),
      s = n(32),
      a = [].join,
      u = r != Object,
      c = s("join", ",");
    i(
      { target: "Array", proto: !0, forced: u || c },
      {
        join: function (t) {
          return a.call(o(this), void 0 === t ? "," : t);
        },
      }
    );
  },
  function (t, e, n) {
    var i = n(39),
      r = n(12),
      o = n(55),
      s = n(6),
      a = function (t) {
        return function (e, n, a, u) {
          i(n);
          var c = r(e),
            h = o(c),
            l = s(c.length),
            p = t ? l - 1 : 0,
            f = t ? -1 : 1;
          if (a < 2)
            for (;;) {
              if (p in h) {
                (u = h[p]), (p += f);
                break;
              }
              if (((p += f), t ? p < 0 : l <= p))
                throw TypeError("Reduce of empty array with no initial value");
            }
          for (; t ? p >= 0 : l > p; p += f) p in h && (u = n(u, h[p], p, c));
          return u;
        };
      };
    t.exports = { left: a(!1), right: a(!0) };
  },
  function (t, e, n) {
    var i = n(17),
      r = Date.prototype,
      o = r.toString,
      s = r.getTime;
    new Date(NaN) + "" != "Invalid Date" &&
      i(r, "toString", function () {
        var t = s.call(this);
        return t == t ? o.call(this) : "Invalid Date";
      });
  },
  function (t, e, n) {
    var i = n(9),
      r = n(13).f,
      o = Function.prototype,
      s = o.toString,
      a = /^\s*function ([^ (]*)/;
    !i ||
      "name" in o ||
      r(o, "name", {
        configurable: !0,
        get: function () {
          try {
            return s.call(this).match(a)[1];
          } catch (t) {
            return "";
          }
        },
      });
  },
  function (t, e, n) {
    var i = n(1),
      r = n(176);
    i({ global: !0, forced: parseInt != r }, { parseInt: r });
  },
  function (t, e, n) {
    "use strict";
    var i = n(11);
    t.exports = function () {
      var t = i(this),
        e = "";
      return (
        t.global && (e += "g"),
        t.ignoreCase && (e += "i"),
        t.multiline && (e += "m"),
        t.dotAll && (e += "s"),
        t.unicode && (e += "u"),
        t.sticky && (e += "y"),
        e
      );
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(82),
      r = n(11),
      o = n(6),
      s = n(19),
      a = n(109),
      u = n(83);
    i("match", 1, function (t, e, n) {
      return [
        function (e) {
          var n = s(this),
            i = null == e ? void 0 : e[t];
          return void 0 !== i ? i.call(e, n) : new RegExp(e)[t](String(n));
        },
        function (t) {
          var i = n(e, t, this);
          if (i.done) return i.value;
          var s = r(t),
            c = String(this);
          if (!s.global) return u(s, c);
          var h = s.unicode;
          s.lastIndex = 0;
          for (var l, p = [], f = 0; null !== (l = u(s, c)); ) {
            var d = String(l[0]);
            (p[f] = d),
              "" === d && (s.lastIndex = a(c, o(s.lastIndex), h)),
              f++;
          }
          return 0 === f ? null : p;
        },
      ];
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(131).charAt;
    t.exports = function (t, e, n) {
      return e + (n ? i(t, e).length : 1);
    };
  },
  function (t, e, n) {
    var i = n(10),
      r = n(24),
      o = n(5)("match");
    t.exports = function (t) {
      var e;
      return i(t) && (void 0 !== (e = t[o]) ? !!e : "RegExp" == r(t));
    };
  },
  function (t, e, n) {
    "use strict";
    (function (t) {
      n(26),
        n(27),
        n(28),
        n(31),
        n(46),
        n(21),
        n(102),
        n(33),
        n(47),
        n(48),
        n(77),
        n(34),
        n(78),
        n(23),
        n(106),
        n(42),
        n(61),
        n(29),
        n(108),
        n(84),
        n(30);
      var i = n(0),
        r = n(146),
        o = n(88),
        s = n(149),
        a = n(22),
        u = n(86),
        c = n(87),
        h = n(148),
        l = n(89),
        p = n(63);
      function f(t) {
        return (f =
          "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
            ? function (t) {
                return typeof t;
              }
            : function (t) {
                return t &&
                  "function" == typeof Symbol &&
                  t.constructor === Symbol &&
                  t !== Symbol.prototype
                  ? "symbol"
                  : typeof t;
              })(t);
      }
      function d(t, e) {
        for (var n = 0; n < e.length; n++) {
          var i = e[n];
          (i.enumerable = i.enumerable || !1),
            (i.configurable = !0),
            "value" in i && (i.writable = !0),
            Object.defineProperty(t, i.key, i);
        }
      }
      var g = (function () {
        function t(e) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t),
            (e = e || {}).bounds
              ? this.setBounds(e.bounds)
              : (this.setWh(e.wh),
                (this.vertexMode = e.vertexMode || t.VERTEX_PLAIN)),
            (this.strictMode = e.strictMode || t.MODE_AUTO),
            (this.yaxisMode = e.yaxisMode || t.YAXIS_INVERT),
            (this.importance = e.importance || 0),
            (this.priority = e.priority || 0),
            e.points && this.setPoints(e.points),
            e.edges && this.setEdges(e.edges);
        }
        var e, n, h;
        return (
          (e = t),
          (n = [
            {
              key: "setPoints",
              value: function (e) {
                this.yaxisMode == t.YAXIS_FOLLOW &&
                  (e = e.map(function (t) {
                    t[0], t[1][0], t[1][1];
                  })),
                  (this.points = e),
                  (this.tins = void 0);
              },
            },
            {
              key: "setEdges",
              value: function (t) {
                t || (t = []),
                  (this.edges = t),
                  (this.edgeNodes = void 0),
                  (this.tins = void 0);
              },
            },
            {
              key: "setBounds",
              value: function (e) {
                var n, r, o, s, a;
                this.bounds = e;
                for (var u = 0; u < e.length; u++) {
                  var c = e[u];
                  0 == u
                    ? ((n = o = c[0]), (r = s = c[1]), (a = [c]))
                    : (c[0] < n && (n = c[0]),
                      c[0] > o && (o = c[0]),
                      c[1] < r && (r = c[1]),
                      c[1] > s && (s = c[1]),
                      a.push(c));
                }
                a.push(e[0]),
                  (this.boundsPolygon = Object(i.g)([a])),
                  (this.xy = [n, r]),
                  (this.wh = [o - n, s - r]),
                  (this.vertexMode = t.VERTEX_PLAIN),
                  (this.tins = void 0);
              },
            },
            {
              key: "setCompiled",
              value: function (e) {
                var n = this;
                if (!e.tins && e.points && e.tins_points) {
                  (this.points = e.points),
                    (this.pointsWeightBuffer = e.weight_buffer),
                    e.strict_status
                      ? (this.strict_status = e.strict_status)
                      : e.kinks_points
                      ? (this.strict_status = t.STATUS_ERROR)
                      : 2 == e.tins_points.length
                      ? (this.strict_status = t.STATUS_LOOSE)
                      : (this.strict_status = t.STATUS_STRICT),
                    (this.vertices_params = {
                      forw: [e.vertices_params[0]],
                      bakw: [e.vertices_params[1]],
                    }),
                    (this.vertices_params.forw[1] = [0, 1, 2, 3].map(function (
                      t
                    ) {
                      var n = (t + 1) % 4,
                        r = S(
                          ["cent", "bbox".concat(t), "bbox".concat(n)],
                          e.points,
                          e.edgeNodes || [],
                          e.centroid_point,
                          e.vertices_points,
                          !1
                        );
                      return Object(i.b)([r]);
                    })),
                    (this.vertices_params.bakw[1] = [0, 1, 2, 3].map(function (
                      t
                    ) {
                      var n = (t + 1) % 4,
                        r = S(
                          ["cent", "bbox".concat(t), "bbox".concat(n)],
                          e.points,
                          e.edgeNodes || [],
                          e.centroid_point,
                          e.vertices_points,
                          !0
                        );
                      return Object(i.b)([r]);
                    })),
                    (this.centroid = {
                      forw: Object(i.f)(e.centroid_point[0], {
                        target: { geom: e.centroid_point[1], index: "cent" },
                      }),
                      bakw: Object(i.f)(e.centroid_point[1], {
                        target: { geom: e.centroid_point[0], index: "cent" },
                      }),
                    }),
                    (this.edges = e.edges || []),
                    (this.edgeNodes = e.edgeNodes || []);
                  var r = 1 == e.tins_points.length ? 0 : 1;
                  (this.tins = {
                    forw: Object(i.b)(
                      e.tins_points[0].map(function (t) {
                        return S(
                          t,
                          e.points,
                          e.edgeNodes || [],
                          e.centroid_point,
                          e.vertices_points,
                          !1
                        );
                      })
                    ),
                    bakw: Object(i.b)(
                      e.tins_points[r].map(function (t) {
                        return S(
                          t,
                          e.points,
                          e.edgeNodes || [],
                          e.centroid_point,
                          e.vertices_points,
                          !0
                        );
                      })
                    ),
                  }),
                    e.kinks_points &&
                      (this.kinks = {
                        bakw: Object(i.b)(
                          e.kinks_points.map(function (t) {
                            return Object(i.f)(t);
                          })
                        ),
                      }),
                    e.yaxisMode
                      ? (this.yaxisMode = e.yaxisMode)
                      : (this.yaxisMode = t.YAXIS_INVERT),
                    e.bounds
                      ? ((this.bounds = e.bounds),
                        (this.boundsPolygon = e.boundsPolygon),
                        (this.xy = e.xy),
                        (this.wh = e.wh))
                      : ((this.xy = [0, 0]),
                        e.xy && (this.wh = e.wh),
                        (this.bounds = void 0),
                        (this.boundsPolygon = void 0));
                } else
                  !(function () {
                    (n.tins = e.tins),
                      (n.strict_status = e.strict_status),
                      (n.pointsWeightBuffer = e.weight_buffer),
                      (n.vertices_params = e.vertices_params),
                      (n.centroid = e.centroid),
                      (n.kinks = e.kinks);
                    for (
                      var t = [],
                        i = function (e) {
                          var i = n.tins.forw.features[e];
                          ["a", "b", "c"].map(function (e, n) {
                            var r = i.geometry.coordinates[0][n],
                              o = i.properties[e].geom,
                              s = i.properties[e].index;
                            t[s] = [r, o];
                          });
                        },
                        r = 0;
                      r < n.tins.forw.features.length;
                      r++
                    )
                      i(r);
                    n.points = t;
                  })();
                return {
                  tins: this.tins,
                  strict_status: this.strict_status,
                  weight_buffer: this.pointsWeightBuffer,
                  vertices_params: this.vertices_params,
                  centroid: this.centroid,
                  kinks: this.kinks,
                };
              },
            },
            {
              key: "getCompiled",
              value: function () {
                var e = {};
                (e.points = this.points),
                  (e.weight_buffer = this.pointsWeightBuffer),
                  (e.centroid_point = [
                    this.centroid.forw.geometry.coordinates,
                    this.centroid.forw.properties.target.geom,
                  ]),
                  (e.vertices_params = [
                    this.vertices_params.forw[0],
                    this.vertices_params.bakw[0],
                  ]),
                  (e.vertices_points = []);
                var n = this.vertices_params.forw[1];
                return (
                  [0, 1, 2, 3].map(function (t) {
                    var i = n[t].features[0],
                      r = i.geometry.coordinates[0][1],
                      o = i.properties.b.geom;
                    e.vertices_points[t] = [r, o];
                  }),
                  (e.strict_status = this.strict_status),
                  (e.tins_points = [[]]),
                  this.tins.forw.features.map(function (t) {
                    e.tins_points[0].push(
                      ["a", "b", "c"].map(function (e) {
                        return t.properties[e].index;
                      })
                    );
                  }),
                  this.strict_status == t.STATUS_LOOSE
                    ? ((e.tins_points[1] = []),
                      this.tins.bakw.features.map(function (t) {
                        e.tins_points[1].push(
                          ["a", "b", "c"].map(function (e) {
                            return t.properties[e].index;
                          })
                        );
                      }))
                    : this.strict_status == t.STATUS_ERROR &&
                      (e.kinks_points = this.kinks.bakw.features.map(function (
                        t
                      ) {
                        return t.geometry.coordinates;
                      })),
                  this.yaxisMode == t.YAXIS_FOLLOW &&
                    (e.yaxisMode = t.YAXIS_FOLLOW),
                  this.bounds
                    ? ((e.bounds = this.bounds),
                      (e.boundsPolygon = this.boundsPolygon),
                      (e.xy = this.xy),
                      (e.wh = this.wh))
                    : (e.wh = this.wh),
                  (e.edges = this.edges),
                  (e.edgeNodes = this.edgeNodes),
                  e
                );
              },
            },
            {
              key: "setWh",
              value: function (t) {
                (this.wh = t),
                  (this.xy = [0, 0]),
                  (this.bounds = void 0),
                  (this.boundsPolygon = void 0),
                  (this.tins = void 0);
              },
            },
            {
              key: "setVertexMode",
              value: function (t) {
                (this.vertexMode = t), (this.tins = void 0);
              },
            },
            {
              key: "setStrictMode",
              value: function (t) {
                (this.strictMode = t), (this.tins = void 0);
              },
            },
            {
              key: "calcurateStrictTinAsync",
              value: function () {
                var e = this,
                  n = e.pointsSet.edges;
                return Promise.all(
                  e.tins.forw.features.map(function (t) {
                    return Promise.resolve(I(t));
                  })
                )
                  .then(function (t) {
                    e.tins.bakw = Object(i.b)(t);
                  })
                  .then(function () {
                    var t = {};
                    return Promise.all(
                      e.tins.forw.features.map(function (n, i) {
                        var r = e.tins.bakw.features[i];
                        return Promise.resolve(T(t, { forw: n, bakw: r }));
                      })
                    )
                      .then(function () {
                        return t;
                      })
                      .catch(function (t) {
                        throw t;
                      });
                  })
                  .then(function (t) {
                    return [C(t), t];
                  })
                  .then(function (a) {
                    var u = a[0],
                      c = a[1];
                    return (
                      u.bakw &&
                        Object.keys(u.bakw).map(function (t) {
                          if ("Not include case" != u.bakw[t]) {
                            var a = c[t],
                              h = Object(r.a)(a[0].forw, a[1].forw),
                              l = Object(o.a)(
                                Object(i.b)([a[0].forw, a[1].forw])
                              );
                            if (!Object(s.a)(l, h)) {
                              var p = t.split("-");
                              if (
                                p[0].match(/^[0-9]+$/) &&
                                p[1].match(/^[0-9]+$/)
                              )
                                for (
                                  var f = p
                                      .map(function (t) {
                                        return parseInt(t);
                                      })
                                      .sort(function (t, e) {
                                        return t < e ? -1 : 1;
                                      }),
                                    d = 0;
                                  d < n.length - 1;
                                  d++
                                )
                                  if (f[0] == n[d][0] && f[1] == n[d][1])
                                    return;
                              var g = p.map(function (t) {
                                  return ["a", "b", "c"]
                                    .map(function (t, e) {
                                      var n = a[0].bakw.properties[t];
                                      return {
                                        geom:
                                          a[0].bakw.geometry.coordinates[0][e],
                                        prop: n,
                                      };
                                    })
                                    .filter(function (e) {
                                      return e.prop.index == t;
                                    })[0];
                                }),
                                y = a.map(function (t) {
                                  return ["a", "b", "c"]
                                    .map(function (e, n) {
                                      var i = t.bakw.properties[e];
                                      return {
                                        geom: t.bakw.geometry.coordinates[0][n],
                                        prop: i,
                                      };
                                    })
                                    .filter(function (t) {
                                      return (
                                        t.prop.index != g[0].prop.index &&
                                        t.prop.index != g[1].prop.index
                                      );
                                    })[0];
                                });
                              O(c, a[0], e.tins),
                                O(c, a[1], e.tins),
                                g.map(function (t) {
                                  var n = [
                                      t.geom,
                                      y[0].geom,
                                      y[1].geom,
                                      t.geom,
                                    ],
                                    r = {
                                      a: t.prop,
                                      b: y[0].prop,
                                      c: y[1].prop,
                                    },
                                    o = Object(i.g)([n], r),
                                    s = I(o);
                                  T(c, { forw: s, bakw: o }, e.tins);
                                });
                            }
                          }
                        }),
                      Promise.all(
                        ["forw", "bakw"].map(function (t) {
                          return new Promise(function (n) {
                            var r = (function (t) {
                              var e = new l.a.ArcCollection(t);
                              return l.a.findSegmentIntersections(e);
                            })(
                              e.tins[t].features.map(function (t) {
                                return t.geometry.coordinates[0];
                              })
                            );
                            n(
                              l.a
                                .dedupIntersections(r)
                                .reduce(function (t, e, n, r) {
                                  return (
                                    t || (t = {}),
                                    (t["".concat(e.x, ":").concat(e.y)] = e),
                                    n != r.length - 1
                                      ? t
                                      : Object.keys(t).map(function (e) {
                                          return Object(i.f)([t[e].x, t[e].y]);
                                        })
                                  );
                                }, [])
                            );
                          }).catch(function (t) {
                            throw t;
                          });
                        })
                      )
                        .then(function (n) {
                          0 == n[0].length && 0 == n[1].length
                            ? ((e.strict_status = t.STATUS_STRICT),
                              delete e.kinks)
                            : ((e.strict_status = t.STATUS_ERROR),
                              (e.kinks = {}),
                              n[0].length > 0 &&
                                (e.kinks.forw = Object(i.b)(n[0])),
                              n[1].length > 0 &&
                                (e.kinks.bakw = Object(i.b)(n[1])));
                        })
                        .catch(function (t) {
                          throw t;
                        })
                    );
                  })
                  .catch(function (t) {
                    throw t;
                  });
              },
            },
            {
              key: "generatePointsSet",
              value: function () {
                for (
                  var t = this, e = { forw: [], bakw: [] }, n = 0;
                  n < t.points.length;
                  n++
                ) {
                  var r = m(t.points[n][0], t.points[n][1], n);
                  e.forw.push(r), e.bakw.push(x(r));
                }
                var o = [],
                  s = 0;
                (t.edgeNodes = []), t.edges || (t.edges = []);
                for (
                  var a = function (n) {
                      var i = t.edges[n].startEnd,
                        r = Object.assign([], t.edges[n].illstNodes),
                        a = Object.assign([], t.edges[n].mercNodes);
                      if (0 === r.length && 0 === a.length)
                        return o.push(i), "continue";
                      r.unshift(t.points[i[0]][0]),
                        r.push(t.points[i[1]][0]),
                        a.unshift(t.points[i[0]][1]),
                        a.push(t.points[i[1]][1]);
                      var u = [r, a].map(function (t) {
                        var e = t.map(function (t, e, n) {
                            if (0 === e) return 0;
                            var i = n[e - 1];
                            return Math.sqrt(
                              Math.pow(t[0] - i[0], 2) +
                                Math.pow(t[1] - i[1], 2)
                            );
                          }),
                          n = e.reduce(function (t, e, n) {
                            return 0 === n ? [0] : (t.push(t[n - 1] + e), t);
                          }, []);
                        return n.map(function (i, r, o) {
                          var s = i / o[o.length - 1];
                          return [t[r], e[r], n[r], s];
                        });
                      });
                      u.map(function (t, e) {
                        var n = u[e ? 0 : 1];
                        return t
                          .filter(function (e, n) {
                            return (
                              0 !== n &&
                              n !== t.length - 1 &&
                              "handled" !== e[4]
                            );
                          })
                          .map(function (t) {
                            var i = t[0],
                              r = t[3],
                              o = n.reduce(function (t, e, n, i) {
                                if (t) return t;
                                var o = i[n + 1];
                                return e[3] === r
                                  ? ((e[4] = "handled"), [e])
                                  : e[3] < r && o[3] > r
                                  ? [e, o]
                                  : void 0;
                              }, void 0);
                            if (1 === o.length)
                              return 0 === e
                                ? [i, o[0][0], r]
                                : [o[0][0], i, r];
                            var s = o[0],
                              a = o[1],
                              u = (r - s[3]) / (a[3] - s[3]),
                              c = [
                                (a[0][0] - s[0][0]) * u + s[0][0],
                                (a[0][1] - s[0][1]) * u + s[0][1],
                              ];
                            return 0 === e ? [i, c, r] : [c, i, r];
                          });
                      })
                        .reduce(function (t, e) {
                          return t.concat(e);
                        }, [])
                        .sort(function (t, e) {
                          return t[2] < e[2] ? -1 : 1;
                        })
                        .map(function (n, r, a) {
                          t.edgeNodes[s] = [n[0], n[1]];
                          var u = m(n[0], n[1], "edgeNode".concat(s));
                          s++,
                            e.forw.push(u),
                            e.bakw.push(x(u)),
                            0 === r
                              ? o.push([i[0], e.forw.length - 1])
                              : o.push([e.forw.length - 2, e.forw.length - 1]),
                            r === a.length - 1 &&
                              o.push([e.forw.length - 1, i[1]]);
                        });
                    },
                    u = 0;
                  u < t.edges.length;
                  u++
                )
                  a(u);
                return {
                  forw: Object(i.b)(e.forw),
                  bakw: Object(i.b)(e.bakw),
                  edges: o,
                };
              },
            },
            {
              key: "updateTinAsync",
              value: function () {
                var e = this,
                  n = this.strictMode,
                  r = e.xy[0] - 0.05 * e.wh[0],
                  s = e.xy[0] + 1.05 * e.wh[0],
                  h = e.xy[1] - 0.05 * e.wh[1],
                  l = e.xy[1] + 1.05 * e.wh[1],
                  f = this.bounds
                    ? function (t) {
                        return Object(a.a)(t, e.boundsPolygon);
                      }
                    : function (t) {
                        return (
                          t[0] >= e.xy[0] &&
                          t[0] <= e.xy[0] + e.wh[0] &&
                          t[1] >= e.xy[1] &&
                          t[1] <= e.xy[1] + e.wh[1]
                        );
                      };
                return this.points.reduce(function (t, e) {
                  return t && f(e[0]);
                }, !0)
                  ? new Promise(function (i) {
                      n != t.MODE_STRICT &&
                        n != t.MODE_LOOSE &&
                        (n = t.MODE_AUTO);
                      var o = [];
                      e.wh &&
                        (o = [
                          [r, h],
                          [s, h],
                          [r, l],
                          [s, l],
                        ]),
                        i([e.generatePointsSet(), o]);
                    })
                      .then(function (t) {
                        var e = t[0];
                        return Promise.all([
                          new Promise(function (t) {
                            t(Object(p.a)(e.forw, e.edges, "target"));
                          }),
                          new Promise(function (t) {
                            t(Object(p.a)(e.bakw, e.edges, "target"));
                          }),
                          new Promise(function (t) {
                            t(Object(u.a)(e.forw));
                          }),
                          Promise.resolve(t),
                        ]).catch(function (t) {
                          throw t;
                        });
                      })
                      .then(function (t) {
                        var n = t[0],
                          r = t[1],
                          s = t[2],
                          a = t[3],
                          u = a[0];
                        if (0 == n.features.length || 0 == r.features.length)
                          throw "TOO LINEAR1";
                        var c = { forw: s.geometry.coordinates };
                        (c.bakw = w(s, n)),
                          (e.centroid = { forw: m(c.forw, c.bakw, "cent") }),
                          (e.centroid.bakw = x(e.centroid.forw));
                        var h = {};
                        return Promise.all([
                          new Promise(function (t) {
                            var e,
                              r = Object(o.a)(u.forw).geometry.coordinates[0];
                            try {
                              e = r.map(function (t) {
                                return { forw: t, bakw: w(Object(i.f)(t), n) };
                              });
                            } catch (t) {
                              throw "TOO LINEAR2";
                            }
                            e.map(function (t) {
                              h[
                                "".concat(t.forw[0], ":").concat(t.forw[1])
                              ] = t;
                            }),
                              t();
                          }),
                          new Promise(function (t) {
                            var e,
                              n = Object(o.a)(u.bakw).geometry.coordinates[0];
                            try {
                              e = n.map(function (t) {
                                return { bakw: t, forw: w(Object(i.f)(t), r) };
                              });
                            } catch (t) {
                              throw "TOO LINEAR2";
                            }
                            e.map(function (t) {
                              h[
                                "".concat(t.forw[0], ":").concat(t.forw[1])
                              ] = t;
                            }),
                              t();
                          }),
                        ])
                          .then(function () {
                            return [c, h, a];
                          })
                          .catch(function (t) {
                            throw t;
                          });
                      })
                      .then(function (n) {
                        var i = n[0],
                          o = n[1],
                          a = n[2],
                          u = Object.keys(o).reduce(
                            function (t, e, n, a) {
                              var u = o[e].forw,
                                c = o[e].bakw,
                                p = {
                                  forw: [u[0] - i.forw[0], u[1] - i.forw[1]],
                                };
                              p.bakw = [c[0] - i.bakw[0], c[1] - i.bakw[1]];
                              var f =
                                  0 == p.forw[0]
                                    ? 1 / 0
                                    : ((p.forw[0] < 0 ? r : s) - i.forw[0]) /
                                      p.forw[0],
                                d =
                                  0 == p.forw[1]
                                    ? 1 / 0
                                    : ((p.forw[1] < 0 ? h : l) - i.forw[1]) /
                                      p.forw[1];
                              if (Math.abs(f) / Math.abs(d) < 1.1) {
                                var g = {
                                  forw: [
                                    p.forw[0] * f + i.forw[0],
                                    p.forw[1] * f + i.forw[1],
                                  ],
                                  bakw: [
                                    p.bakw[0] * f + i.bakw[0],
                                    p.bakw[1] * f + i.bakw[1],
                                  ],
                                };
                                p.forw[0] < 0 ? t[3].push(g) : t[1].push(g);
                              }
                              if (Math.abs(d) / Math.abs(f) < 1.1) {
                                var y = {
                                  forw: [
                                    p.forw[0] * d + i.forw[0],
                                    p.forw[1] * d + i.forw[1],
                                  ],
                                  bakw: [
                                    p.bakw[0] * d + i.bakw[0],
                                    p.bakw[1] * d + i.bakw[1],
                                  ],
                                };
                                p.forw[1] < 0 ? t[0].push(y) : t[2].push(y);
                              }
                              return t;
                            },
                            [[], [], [], []]
                          ),
                          c = Object.keys(o)
                            .reduce(
                              function (n, r, s, a) {
                                var u = o[r].forw,
                                  c = o[r].bakw,
                                  h = {
                                    forw: [u[0] - i.forw[0], u[1] - i.forw[1]],
                                  };
                                if (
                                  ((h.bakw = [
                                    c[0] - i.bakw[0],
                                    i.bakw[1] - c[1],
                                  ]),
                                  0 == h.forw[0] || 0 == h.forw[1])
                                )
                                  return n;
                                var l = 0;
                                return (
                                  h.forw[0] > 0 && (l += 1),
                                  h.forw[1] > 0 && (l += 2),
                                  n[l].push([h.forw, h.bakw]),
                                  s == a.length - 1
                                    ? n.length ==
                                        n.filter(function (t) {
                                          return t.length > 0;
                                        }).length &&
                                      e.vertexMode == t.VERTEX_BIRDEYE
                                      ? n
                                      : n.reduce(
                                          function (t, e) {
                                            return [t[0].concat(e)];
                                          },
                                          [[]]
                                        )
                                    : n
                                );
                              },
                              [[], [], [], []]
                            )
                            .map(function (t) {
                              return t.reduce(function (t, e, n, i) {
                                t || (t = [1 / 0, 0, 0]);
                                var r =
                                  Math.sqrt(
                                    Math.pow(e[0][0], 2) + Math.pow(e[0][1], 2)
                                  ) /
                                  Math.sqrt(
                                    Math.pow(e[1][0], 2) + Math.pow(e[1][1], 2)
                                  );
                                r = r < t[0] ? r : t[0];
                                var o =
                                    Math.atan2(e[0][0], e[0][1]) -
                                    Math.atan2(e[1][0], e[1][1]),
                                  s = t[1] + Math.cos(o),
                                  a = t[2] + Math.sin(o);
                                return n == i.length - 1
                                  ? [r, Math.atan2(a, s)]
                                  : [r, s, a];
                              }, null);
                            });
                        return (
                          1 == c.length && (c = [c[0], c[0], c[0], c[0]]),
                          [c, i, u, a]
                        );
                      })
                      .then(function (t) {
                        var e = t[0],
                          n = t[1],
                          r = t[2],
                          o = t[3][0],
                          s = t[3][1],
                          a = e.map(function (t, e) {
                            var i = s[e],
                              r = [i[0] - n.forw[0], i[1] - n.forw[1]],
                              o =
                                Math.sqrt(
                                  Math.pow(r[0], 2) + Math.pow(r[1], 2)
                                ) / t[0],
                              a = Math.atan2(r[0], r[1]) - t[1];
                            return {
                              forw: i,
                              bakw: [
                                n.bakw[0] + o * Math.sin(a),
                                n.bakw[1] - o * Math.cos(a),
                              ],
                            };
                          }),
                          u = a[2];
                        (a[2] = a[3]), (a[3] = u);
                        for (
                          var h = [1, 1, 1, 1],
                            l = function (t) {
                              var e = (t + 1) % 4,
                                o = Object(i.e)([a[t].bakw, a[e].bakw]);
                              r[t].map(function (r) {
                                var s = Object(i.e)([n.bakw, r.bakw]),
                                  a = Object(c.a)(o, s);
                                if (
                                  a.features.length > 0 &&
                                  a.features[0].geometry
                                ) {
                                  var u = a.features[0],
                                    l =
                                      Math.sqrt(
                                        Math.pow(r.bakw[0] - n.bakw[0], 2) +
                                          Math.pow(r.bakw[1] - n.bakw[1], 2)
                                      ) /
                                      Math.sqrt(
                                        Math.pow(
                                          u.geometry.coordinates[0] - n.bakw[0],
                                          2
                                        ) +
                                          Math.pow(
                                            u.geometry.coordinates[1] -
                                              n.bakw[1],
                                            2
                                          )
                                      );
                                  l > h[t] && (h[t] = l),
                                    l > h[e] && (h[e] = l);
                                }
                              });
                            },
                            p = 0;
                          p < 4;
                          p++
                        )
                          l(p);
                        return [
                          (a = a.map(function (t, e) {
                            var i = h[e],
                              r = [
                                (t.bakw[0] - n.bakw[0]) * i + n.bakw[0],
                                (t.bakw[1] - n.bakw[1]) * i + n.bakw[1],
                              ];
                            return { forw: t.forw, bakw: r };
                          })),
                          o,
                        ];
                      })
                      .then(function (i) {
                        for (
                          var r = i[0],
                            o = i[1],
                            s = { forw: [], bakw: [] },
                            a = 0;
                          a < r.length;
                          a++
                        ) {
                          var u = m(r[a].forw, r[a].bakw, "bbox".concat(a)),
                            c = x(u);
                          o.forw.features.push(u),
                            o.bakw.features.push(c),
                            s.forw.push(u),
                            s.bakw.push(c);
                        }
                        return (
                          (e.pointsSet = o),
                          (e.tins = {
                            forw: y(Object(p.a)(o.forw, o.edges, "target")),
                          }),
                          (n == t.MODE_STRICT || n == t.MODE_AUTO
                            ? e.calcurateStrictTinAsync()
                            : Promise.resolve()
                          )
                            .then(function () {
                              return (
                                (n == t.MODE_LOOSE ||
                                  (n == t.MODE_AUTO &&
                                    e.strict_status == t.STATUS_ERROR)) &&
                                  ((e.tins.bakw = y(
                                    Object(p.a)(o.bakw, o.edges, "target")
                                  )),
                                  delete e.kinks,
                                  (e.strict_status = t.STATUS_LOOSE)),
                                (e.vertices_params = {
                                  forw: _(s.forw, e.centroid.forw),
                                  bakw: _(s.bakw, e.centroid.bakw),
                                }),
                                e.calculatePointsWeightAsync()
                              );
                            })
                            .catch(function (t) {
                              throw t;
                            })
                        );
                      })
                      .catch(function (t) {
                        throw t;
                      })
                  : new Promise(function (t, e) {
                      e("SOME POINTS OUTSIDE");
                    });
              },
            },
            {
              key: "transform",
              value: function (e, n, r) {
                if (n && this.strict_status == t.STATUS_ERROR)
                  throw 'Backward transform is not allowed if strict_status == "strict_error"';
                this.yaxisMode == t.YAXIS_FOLLOW &&
                  n &&
                  (e = [e[0], -1 * e[1]]);
                var o = Object(i.f)(e);
                if (
                  this.bounds &&
                  !n &&
                  !r &&
                  !Object(a.a)(o, this.boundsPolygon)
                )
                  return !1;
                var s = w(
                  o,
                  n ? this.tins.bakw : this.tins.forw,
                  n ? this.vertices_params.bakw : this.vertices_params.forw,
                  n ? this.centroid.bakw : this.centroid.forw,
                  n
                    ? this.pointsWeightBuffer.bakw
                    : this.pointsWeightBuffer.forw
                );
                if (this.bounds && n && !r) {
                  var u = Object(i.f)(s);
                  if (!Object(a.a)(u, this.boundsPolygon)) return !1;
                } else
                  this.yaxisMode != t.YAXIS_FOLLOW ||
                    n ||
                    (s = [s[0], -1 * s[1]]);
                return s;
              },
            },
            {
              key: "calculatePointsWeightAsync",
              value: function () {
                var e = this,
                  n = ["forw"];
                e.strict_status == t.STATUS_LOOSE && n.push("bakw");
                var i = {};
                return Promise.all(
                  n.map(function (t) {
                    i[t] = {};
                    var n = {},
                      r = e.tins[t];
                    return Promise.all(
                      r.features.map(function (e) {
                        var r = ["a", "b", "c"];
                        return new Promise(function (o) {
                          for (var s = 0; s < 3; s++) {
                            var a = (s + 1) % 3,
                              u = r[s],
                              c = r[a],
                              h = e.properties[u].index,
                              l = e.properties[c].index,
                              p = [h, l].sort().join("-");
                            if (!n[p]) {
                              var f = e.geometry.coordinates[0][s],
                                d = e.geometry.coordinates[0][a],
                                g = e.properties[u].geom,
                                y = e.properties[c].geom;
                              n[p] = 1;
                              var _ =
                                Math.sqrt(
                                  Math.pow(g[0] - y[0], 2) +
                                    Math.pow(g[1] - y[1], 2)
                                ) /
                                Math.sqrt(
                                  Math.pow(f[0] - d[0], 2) +
                                    Math.pow(f[1] - d[1], 2)
                                );
                              i[t][h] || (i[t][h] = {}),
                                i[t][l] || (i[t][l] = {}),
                                (i[t][h][p] = _),
                                (i[t][l][p] = _);
                            }
                          }
                          o();
                        });
                      })
                    ).catch(function (t) {
                      throw t;
                    });
                  })
                )
                  .then(function () {
                    var r = {};
                    n.map(function (n) {
                      (r[n] = {}),
                        e.strict_status == t.STATUS_STRICT && (r.bakw = {}),
                        Object.keys(i[n]).map(function (o) {
                          (r[n][o] = Object.keys(i[n][o]).reduce(function (
                            t,
                            e,
                            r,
                            s
                          ) {
                            return (
                              (t += i[n][o][e]),
                              r == s.length - 1 ? t / s.length : t
                            );
                          },
                          0)),
                            e.strict_status == t.STATUS_STRICT &&
                              (r.bakw[o] = 1 / r[n][o]);
                        }),
                        (r[n].cent = [0, 1, 2, 3].reduce(function (t, e) {
                          var i = "bbox".concat(e);
                          return (t += r[n][i]), 3 == e ? t / 4 : t;
                        }, 0)),
                        e.strict_status == t.STATUS_STRICT &&
                          (r.bakw.cent = 1 / r[n].cent);
                    }),
                      (e.pointsWeightBuffer = r);
                  })
                  .catch(function (t) {
                    throw t;
                  });
              },
            },
          ]) && d(e.prototype, n),
          h && d(e, h),
          t
        );
      })();
      function y(t) {
        for (var e = t.features, n = 0; n < e.length; n++) {
          var i = e[n];
          "bbox" == "".concat(i.properties.a.index).substring(0, 4) &&
          "bbox" == "".concat(i.properties.b.index).substring(0, 4)
            ? (e[n] = {
                geometry: {
                  type: "Polygon",
                  coordinates: [
                    [
                      i.geometry.coordinates[0][2],
                      i.geometry.coordinates[0][0],
                      i.geometry.coordinates[0][1],
                      i.geometry.coordinates[0][2],
                    ],
                  ],
                },
                properties: {
                  a: { geom: i.properties.c.geom, index: i.properties.c.index },
                  b: { geom: i.properties.a.geom, index: i.properties.a.index },
                  c: { geom: i.properties.b.geom, index: i.properties.b.index },
                },
                type: "Feature",
              })
            : "bbox" == "".concat(i.properties.c.index).substring(0, 4) &&
              "bbox" == "".concat(i.properties.a.index).substring(0, 4) &&
              (e[n] = {
                geometry: {
                  type: "Polygon",
                  coordinates: [
                    [
                      i.geometry.coordinates[0][1],
                      i.geometry.coordinates[0][2],
                      i.geometry.coordinates[0][0],
                      i.geometry.coordinates[0][1],
                    ],
                  ],
                },
                properties: {
                  a: { geom: i.properties.b.geom, index: i.properties.b.index },
                  b: { geom: i.properties.c.geom, index: i.properties.c.index },
                  c: { geom: i.properties.a.geom, index: i.properties.a.index },
                },
                type: "Feature",
              });
        }
        return t;
      }
      function _(t, e) {
        var n = e.geometry.coordinates;
        return [0, 1, 2, 3]
          .map(function (r) {
            var o = (r + 1) % 4,
              s = t[r],
              a = t[o],
              u = s.geometry.coordinates,
              c = Math.atan2(u[0] - n[0], u[1] - n[1]),
              h = [e, s, a, e].map(function (t) {
                return t.geometry.coordinates;
              }),
              l = {
                a: {
                  geom: e.properties.target.geom,
                  index: e.properties.target.index,
                },
                b: {
                  geom: s.properties.target.geom,
                  index: s.properties.target.index,
                },
                c: {
                  geom: a.properties.target.geom,
                  index: a.properties.target.index,
                },
              };
            return [c, Object(i.b)([Object(i.g)([h], l)])];
          })
          .reduce(
            function (t, e) {
              return t[0].push(e[0]), t[1].push(e[1]), t;
            },
            [[], []]
          );
      }
      function v(t, e) {
        for (
          var n = e
            ? function (t) {
                return !(t >= 0 && t < 2 * Math.PI);
              }
            : function (t) {
                return !(t > -1 * Math.PI && t <= Math.PI);
              };
          n(t);

        )
          t += 2 * Math.PI * (t > 0 ? -1 : 1);
        return t;
      }
      function m(t, e, n) {
        return Object(i.f)(t, { target: { geom: e, index: n } });
      }
      function x(t) {
        return Object(i.f)(t.properties.target.geom, {
          target: {
            geom: t.geometry.coordinates,
            index: t.properties.target.index,
          },
        });
      }
      function E(t, e, n) {
        var i = e.geometry.coordinates[0][0],
          r = e.geometry.coordinates[0][1],
          o = e.geometry.coordinates[0][2],
          s = t.geometry.coordinates,
          a = e.properties.a.geom,
          u = e.properties.b.geom,
          c = e.properties.c.geom,
          h = [r[0] - i[0], r[1] - i[1]],
          l = [o[0] - i[0], o[1] - i[1]],
          p = [s[0] - i[0], s[1] - i[1]],
          f = [u[0] - a[0], u[1] - a[1]],
          d = [c[0] - a[0], c[1] - a[1]],
          g = (l[1] * p[0] - l[0] * p[1]) / (h[0] * l[1] - h[1] * l[0]),
          y = (h[0] * p[1] - h[1] * p[0]) / (h[0] * l[1] - h[1] * l[0]);
        if (n) {
          var _,
            v = n[e.properties.a.index],
            m = n[e.properties.b.index],
            x = n[e.properties.c.index];
          if (g < 0 || y < 0 || 1 - g - y < 0) {
            var E = g / (g + y),
              b = y / (g + y);
            (_ = g / m / (E / m + b / x)), (y = y / x / (E / m + b / x));
          } else
            (_ = g / m / (g / m + y / x + (1 - g - y) / v)),
              (y = y / x / (g / m + y / x + (1 - g - y) / v));
          g = _;
        }
        return [g * f[0] + y * d[0] + a[0], g * f[1] + y * d[1] + a[1]];
      }
      function b(t, e, n, i) {
        var r = t.geometry.coordinates,
          o = n.geometry.coordinates,
          s = (function (t, e) {
            for (
              var n, i = v(t - e[0]), r = 2 * Math.PI, o = 0;
              o < e.length;
              o++
            ) {
              var s = v(t - e[(o + 1) % e.length]),
                a = Math.min(Math.abs(i), Math.abs(s));
              i * s <= 0 && a < r && ((r = a), (n = o)), (i = s);
            }
            return n;
          })(Math.atan2(r[0] - o[0], r[1] - o[1]), e[0]);
        return E(t, e[1][s].features[0], i);
      }
      function w(t, e, n, i, r) {
        var o = (function (t, e) {
          for (var n = 0; n < e.features.length; n++) {
            if (Object(a.a)(t, e.features[n])) return e.features[n];
          }
        })(t, e);
        return o ? E(t, o, r) : b(t, n, i, r);
      }
      function I(t) {
        var e = ["a", "b", "c", "a"].map(function (e) {
            return t.properties[e].geom;
          }),
          n = t.geometry.coordinates[0],
          r = t.properties,
          o = {
            a: { geom: n[0], index: r.a.index },
            b: { geom: n[1], index: r.b.index },
            c: { geom: n[2], index: r.c.index },
          };
        return Object(i.g)([e], o);
      }
      function S(t, e, n, r, o, s) {
        return (function (t) {
          var e = [0, 1, 2, 0].map(function (e) {
              return t[e][0][0];
            }),
            n = {
              a: { geom: t[0][0][1], index: t[0][1] },
              b: { geom: t[1][0][1], index: t[1][1] },
              c: { geom: t[2][0][1], index: t[2][1] },
            };
          return Object(i.g)([e], n);
        })(
          t.map(function (t) {
            var i = isFinite(t)
              ? e[t]
              : "cent" == t
              ? r
              : "bbox0" == t
              ? o[0]
              : "bbox1" == t
              ? o[1]
              : "bbox2" == t
              ? o[2]
              : "bbox3" == t
              ? o[3]
              : (function () {
                  var e = t.match(/edgeNode(\d+)/);
                  if (e) {
                    var i = parseInt(e[1]);
                    return n[i];
                  }
                })();
            return s ? [[i[1], i[0]], t] : [[i[0], i[1]], t];
          })
        );
      }
      function C(t) {
        var e = { forw: {}, bakw: {} };
        return Promise.all(
          Object.keys(t).map(function (e) {
            return new Promise(function (n) {
              var i = t[e];
              if (i.length < 2) return n();
              ["forw", "bakw"].map(function (t) {
                var e = Object(h.a)(i[0][t], i[1][t]);
                if (
                  !e ||
                  "Point" == e.geometry.type ||
                  "LineString" == e.geometry.type
                )
                  return n();
                n();
              });
            });
          })
        )
          .then(function () {
            return (
              0 == Object.keys(e.forw).length && delete e.forw,
              0 == Object.keys(e.bakw).length && delete e.bakw,
              e
            );
          })
          .catch(function (t) {
            throw t;
          });
      }
      function T(t, e, n) {
        var i = R(e.forw),
          r = R(e.bakw);
        if (JSON.stringify(i) != JSON.stringify(r))
          throw ""
            .concat(JSON.stringify(e, null, 2), "\n")
            .concat(JSON.stringify(i), "\n")
            .concat(JSON.stringify(r));
        for (var o = 0; o < i.length; o++) {
          var s = i[o];
          t[s] || (t[s] = []), t[s].push(e);
        }
        n && (n.forw.features.push(e.forw), n.bakw.features.push(e.bakw));
      }
      function O(t, e, n) {
        var i = R(e.forw),
          r = R(e.bakw);
        if (JSON.stringify(i) != JSON.stringify(r))
          throw ""
            .concat(JSON.stringify(e, null, 2), "\n")
            .concat(JSON.stringify(i), "\n")
            .concat(JSON.stringify(r));
        for (var o = 0; o < i.length; o++) {
          var s = i[o],
            a = t[s].filter(function (t) {
              return t.forw != e.forw;
            });
          0 == a.length ? delete t[s] : (t[s] = a);
        }
        if (n) {
          var u = n.forw.features.filter(function (t) {
            return t != e.forw;
          });
          (n.forw.features = u),
            (u = n.bakw.features.filter(function (t) {
              return t != e.bakw;
            })),
            (n.bakw.features = u);
        }
      }
      function R(t) {
        var e = ["a", "b", "c"].map(function (e) {
          return t.properties[e].index;
        });
        return [
          [0, 1],
          [0, 2],
          [1, 2],
          [0, 1, 2],
        ]
          .map(function (t) {
            return t
              .map(function (t) {
                return e[t];
              })
              .sort()
              .join("-");
          })
          .sort();
      }
      (g.VERTEX_PLAIN = "plain"),
        (g.VERTEX_BIRDEYE = "birdeye"),
        (g.MODE_STRICT = "strict"),
        (g.MODE_AUTO = "auto"),
        (g.MODE_LOOSE = "loose"),
        (g.STATUS_STRICT = "strict"),
        (g.STATUS_ERROR = "strict_error"),
        (g.STATUS_LOOSE = "loose"),
        (g.YAXIS_FOLLOW = "follow"),
        (g.YAXIS_INVERT = "invert"),
        (e.a = g),
        "object" === f(t) && t.exports && (t.exports = g);
    }.call(this, n(135)(t)));
  },
  ,
  function (t, e) {
    var n;
    n = (function () {
      return this;
    })();
    try {
      n = n || new Function("return this")();
    } catch (t) {
      "object" == typeof window && (n = window);
    }
    t.exports = n;
  },
  function (t, e, n) {
    var i = n(9),
      r = n(3),
      o = n(91);
    t.exports =
      !i &&
      !r(function () {
        return (
          7 !=
          Object.defineProperty(o("div"), "a", {
            get: function () {
              return 7;
            },
          }).a
        );
      });
  },
  function (t, e, n) {
    var i = n(53);
    t.exports = i("native-function-to-string", Function.toString);
  },
  function (t, e, n) {
    var i = n(3);
    t.exports =
      !!Object.getOwnPropertySymbols &&
      !i(function () {
        return !String(Symbol());
      });
  },
  function (t, e, n) {
    var i = n(16),
      r = n(163),
      o = n(43),
      s = n(13);
    t.exports = function (t, e) {
      for (var n = r(e), a = s.f, u = o.f, c = 0; c < n.length; c++) {
        var h = n[c];
        i(t, h) || a(t, h, u(e, h));
      }
    };
  },
  function (t, e, n) {
    var i = n(16),
      r = n(25),
      o = n(69).indexOf,
      s = n(66);
    t.exports = function (t, e) {
      var n,
        a = r(t),
        u = 0,
        c = [];
      for (n in a) !i(s, n) && i(a, n) && c.push(n);
      for (; e.length > u; ) i(a, (n = e[u++])) && (~o(c, n) || c.push(n));
      return c;
    };
  },
  function (t, e, n) {
    var i = n(17);
    t.exports = function (t, e, n) {
      for (var r in e) i(t, r, e[r], n);
      return t;
    };
  },
  function (t, e, n) {
    var i = n(11);
    t.exports = function (t, e, n, r) {
      try {
        return r ? e(i(n)[0], n[1]) : e(n);
      } catch (e) {
        var o = t.return;
        throw (void 0 !== o && i(o.call(t)), e);
      }
    };
  },
  function (t, e, n) {
    var i,
      r,
      o,
      s = n(2),
      a = n(3),
      u = n(24),
      c = n(58),
      h = n(122),
      l = n(91),
      p = s.location,
      f = s.setImmediate,
      d = s.clearImmediate,
      g = s.process,
      y = s.MessageChannel,
      _ = s.Dispatch,
      v = 0,
      m = {},
      x = function (t) {
        if (m.hasOwnProperty(t)) {
          var e = m[t];
          delete m[t], e();
        }
      },
      E = function (t) {
        return function () {
          x(t);
        };
      },
      b = function (t) {
        x(t.data);
      },
      w = function (t) {
        s.postMessage(t + "", p.protocol + "//" + p.host);
      };
    (f && d) ||
      ((f = function (t) {
        for (var e = [], n = 1; arguments.length > n; ) e.push(arguments[n++]);
        return (
          (m[++v] = function () {
            ("function" == typeof t ? t : Function(t)).apply(void 0, e);
          }),
          i(v),
          v
        );
      }),
      (d = function (t) {
        delete m[t];
      }),
      "process" == u(g)
        ? (i = function (t) {
            g.nextTick(E(t));
          })
        : _ && _.now
        ? (i = function (t) {
            _.now(E(t));
          })
        : y
        ? ((o = (r = new y()).port2),
          (r.port1.onmessage = b),
          (i = c(o.postMessage, o, 1)))
        : !s.addEventListener ||
          "function" != typeof postMessage ||
          s.importScripts ||
          a(w)
        ? (i =
            "onreadystatechange" in l("script")
              ? function (t) {
                  h.appendChild(l("script")).onreadystatechange = function () {
                    h.removeChild(this), x(t);
                  };
                }
              : function (t) {
                  setTimeout(E(t), 0);
                })
        : ((i = w), s.addEventListener("message", b, !1))),
      (t.exports = { set: f, clear: d });
  },
  function (t, e, n) {
    var i = n(68);
    t.exports = i("document", "documentElement");
  },
  function (t, e, n) {
    "use strict";
    var i = n(39),
      r = function (t) {
        var e, n;
        (this.promise = new t(function (t, i) {
          if (void 0 !== e || void 0 !== n)
            throw TypeError("Bad Promise constructor");
          (e = t), (n = i);
        })),
          (this.resolve = i(e)),
          (this.reject = i(n));
      };
    t.exports.f = function (t) {
      return new r(t);
    };
  },
  function (t, e, n) {
    e.f = n(5);
  },
  function (t, e, n) {
    var i = n(93),
      r = n(16),
      o = n(124),
      s = n(13).f;
    t.exports = function (t) {
      var e = i.Symbol || (i.Symbol = {});
      r(e, t) || s(e, t, { value: o.f(t) });
    };
  },
  function (t, e, n) {
    var i = n(5),
      r = n(45),
      o = n(15),
      s = i("unscopables"),
      a = Array.prototype;
    null == a[s] && o(a, s, r(null)),
      (t.exports = function (t) {
        a[s][t] = !0;
      });
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(172),
      o = n(76),
      s = n(60),
      a = n(56),
      u = n(15),
      c = n(17),
      h = n(5),
      l = n(54),
      p = n(57),
      f = n(128),
      d = f.IteratorPrototype,
      g = f.BUGGY_SAFARI_ITERATORS,
      y = h("iterator"),
      _ = function () {
        return this;
      };
    t.exports = function (t, e, n, h, f, v, m) {
      r(n, e, h);
      var x,
        E,
        b,
        w = function (t) {
          if (t === f && O) return O;
          if (!g && t in C) return C[t];
          switch (t) {
            case "keys":
            case "values":
            case "entries":
              return function () {
                return new n(this, t);
              };
          }
          return function () {
            return new n(this);
          };
        },
        I = e + " Iterator",
        S = !1,
        C = t.prototype,
        T = C[y] || C["@@iterator"] || (f && C[f]),
        O = (!g && T) || w(f),
        R = ("Array" == e && C.entries) || T;
      if (
        (R &&
          ((x = o(R.call(new t()))),
          d !== Object.prototype &&
            x.next &&
            (l ||
              o(x) === d ||
              (s ? s(x, d) : "function" != typeof x[y] && u(x, y, _)),
            a(x, I, !0, !0),
            l && (p[I] = _))),
        "values" == f &&
          T &&
          "values" !== T.name &&
          ((S = !0),
          (O = function () {
            return T.call(this);
          })),
        (l && !m) || C[y] === O || u(C, y, O),
        (p[e] = O),
        f)
      )
        if (
          ((E = {
            values: w("values"),
            keys: v ? O : w("keys"),
            entries: w("entries"),
          }),
          m)
        )
          for (b in E) (!g && !S && b in C) || c(C, b, E[b]);
        else i({ target: e, proto: !0, forced: g || S }, E);
      return E;
    };
  },
  function (t, e, n) {
    "use strict";
    var i,
      r,
      o,
      s = n(76),
      a = n(15),
      u = n(16),
      c = n(5),
      h = n(54),
      l = c("iterator"),
      p = !1;
    [].keys &&
      ("next" in (o = [].keys())
        ? (r = s(s(o))) !== Object.prototype && (i = r)
        : (p = !0)),
      null == i && (i = {}),
      h ||
        u(i, l) ||
        a(i, l, function () {
          return this;
        }),
      (t.exports = { IteratorPrototype: i, BUGGY_SAFARI_ITERATORS: p });
  },
  function (t, e, n) {
    var i = n(3);
    t.exports = !i(function () {
      function t() {}
      return (
        (t.prototype.constructor = null),
        Object.getPrototypeOf(new t()) !== t.prototype
      );
    });
  },
  function (t, e, n) {
    var i = n(1),
      r = n(175);
    i({ global: !0, forced: parseFloat != r }, { parseFloat: r });
  },
  function (t, e, n) {
    var i = n(20),
      r = n(19),
      o = function (t) {
        return function (e, n) {
          var o,
            s,
            a = String(r(e)),
            u = i(n),
            c = a.length;
          return u < 0 || u >= c
            ? t
              ? ""
              : void 0
            : (o = a.charCodeAt(u)) < 55296 ||
              o > 56319 ||
              u + 1 === c ||
              (s = a.charCodeAt(u + 1)) < 56320 ||
              s > 57343
            ? t
              ? a.charAt(u)
              : o
            : t
            ? a.slice(u, u + 2)
            : s - 56320 + ((o - 55296) << 10) + 65536;
        };
      };
    t.exports = { codeAt: o(!1), charAt: o(!0) };
  },
  function (t, e) {
    t.exports = {
      CSSRuleList: 0,
      CSSStyleDeclaration: 0,
      CSSValueList: 0,
      ClientRectList: 0,
      DOMRectList: 0,
      DOMStringList: 0,
      DOMTokenList: 1,
      DataTransferItemList: 0,
      FileList: 0,
      HTMLAllCollection: 0,
      HTMLCollection: 0,
      HTMLFormElement: 0,
      HTMLSelectElement: 0,
      MediaList: 0,
      MimeTypeArray: 0,
      NamedNodeMap: 0,
      NodeList: 1,
      PaintRequestList: 0,
      Plugin: 0,
      PluginArray: 0,
      SVGLengthList: 0,
      SVGNumberList: 0,
      SVGPathSegList: 0,
      SVGPointList: 0,
      SVGStringList: 0,
      SVGTransformList: 0,
      SourceBufferList: 0,
      StyleSheetList: 0,
      TextTrackCueList: 0,
      TextTrackList: 0,
      TouchList: 0,
    };
  },
  function (t, e, n) {
    n(1)({ target: "Function", proto: !0 }, { bind: n(178) });
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(10),
      o = n(44),
      s = n(38),
      a = n(6),
      u = n(25),
      c = n(73),
      h = n(59),
      l = n(5)("species"),
      p = [].slice,
      f = Math.max;
    i(
      { target: "Array", proto: !0, forced: !h("slice") },
      {
        slice: function (t, e) {
          var n,
            i,
            h,
            d = u(this),
            g = a(d.length),
            y = s(t, g),
            _ = s(void 0 === e ? g : e, g);
          if (
            o(d) &&
            ("function" != typeof (n = d.constructor) ||
            (n !== Array && !o(n.prototype))
              ? r(n) && null === (n = n[l]) && (n = void 0)
              : (n = void 0),
            n === Array || void 0 === n)
          )
            return p.call(d, y, _);
          for (
            i = new (void 0 === n ? Array : n)(f(_ - y, 0)), h = 0;
            y < _;
            y++, h++
          )
            y in d && c(i, h, d[y]);
          return (i.length = h), i;
        },
      }
    );
  },
  function (t, e) {
    t.exports = function (t) {
      if (!t.webpackPolyfill) {
        var e = Object.create(t);
        e.children || (e.children = []),
          Object.defineProperty(e, "loaded", {
            enumerable: !0,
            get: function () {
              return e.l;
            },
          }),
          Object.defineProperty(e, "id", {
            enumerable: !0,
            get: function () {
              return e.i;
            },
          }),
          Object.defineProperty(e, "exports", { enumerable: !0 }),
          (e.webpackPolyfill = 1);
      }
      return e;
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(137),
      r = n(184),
      o = n(185),
      s = n(187),
      a = 5;
    function u(t, e) {
      for (var n = new Array(t.length - 1), i = 1; i < t.length; ++i)
        for (
          var r = (n[i - 1] = new Array(t.length - 1)), o = 0, s = 0;
          o < t.length;
          ++o
        )
          o !== e && (r[s++] = t[i][o]);
      return n;
    }
    function c(t) {
      if (1 === t.length) return t[0];
      if (2 === t.length) return ["sum(", t[0], ",", t[1], ")"].join("");
      var e = t.length >> 1;
      return ["sum(", c(t.slice(0, e)), ",", c(t.slice(e)), ")"].join("");
    }
    function h(t) {
      if (2 === t.length)
        return [
          [
            "sum(prod(",
            t[0][0],
            ",",
            t[1][1],
            "),prod(-",
            t[0][1],
            ",",
            t[1][0],
            "))",
          ].join(""),
        ];
      for (var e = [], n = 0; n < t.length; ++n)
        e.push(
          [
            "scale(",
            c(h(u(t, n))),
            ",",
            ((i = n), 1 & i ? "-" : ""),
            t[0][n],
            ")",
          ].join("")
        );
      return e;
      var i;
    }
    function l(t) {
      for (
        var e = [],
          n = [],
          a = (function (t) {
            for (var e = new Array(t), n = 0; n < t; ++n) {
              e[n] = new Array(t);
              for (var i = 0; i < t; ++i)
                e[n][i] = ["m", i, "[", t - n - 1, "]"].join("");
            }
            return e;
          })(t),
          l = [],
          p = 0;
        p < t;
        ++p
      )
        0 == (1 & p)
          ? e.push.apply(e, h(u(a, p)))
          : n.push.apply(n, h(u(a, p))),
          l.push("m" + p);
      var f = c(e),
        d = c(n),
        g = "orientation" + t + "Exact",
        y = [
          "function ",
          g,
          "(",
          l.join(),
          "){var p=",
          f,
          ",n=",
          d,
          ",d=sub(p,n);return d[d.length-1];};return ",
          g,
        ].join("");
      return new Function("sum", "prod", "scale", "sub", y)(r, i, o, s);
    }
    var p = l(3),
      f = l(4),
      d = [
        function () {
          return 0;
        },
        function () {
          return 0;
        },
        function (t, e) {
          return e[0] - t[0];
        },
        function (t, e, n) {
          var i,
            r = (t[1] - n[1]) * (e[0] - n[0]),
            o = (t[0] - n[0]) * (e[1] - n[1]),
            s = r - o;
          if (r > 0) {
            if (o <= 0) return s;
            i = r + o;
          } else {
            if (!(r < 0)) return s;
            if (o >= 0) return s;
            i = -(r + o);
          }
          var a = 33306690738754716e-32 * i;
          return s >= a || s <= -a ? s : p(t, e, n);
        },
        function (t, e, n, i) {
          var r = t[0] - i[0],
            o = e[0] - i[0],
            s = n[0] - i[0],
            a = t[1] - i[1],
            u = e[1] - i[1],
            c = n[1] - i[1],
            h = t[2] - i[2],
            l = e[2] - i[2],
            p = n[2] - i[2],
            d = o * c,
            g = s * u,
            y = s * a,
            _ = r * c,
            v = r * u,
            m = o * a,
            x = h * (d - g) + l * (y - _) + p * (v - m),
            E =
              7771561172376103e-31 *
              ((Math.abs(d) + Math.abs(g)) * Math.abs(h) +
                (Math.abs(y) + Math.abs(_)) * Math.abs(l) +
                (Math.abs(v) + Math.abs(m)) * Math.abs(p));
          return x > E || -x > E ? x : f(t, e, n, i);
        },
      ];
    function g(t) {
      var e = d[t.length];
      return e || (e = d[t.length] = l(t.length)), e.apply(void 0, t);
    }
    !(function () {
      for (; d.length <= a; ) d.push(l(d.length));
      for (var e = [], n = ["slow"], i = 0; i <= a; ++i)
        e.push("a" + i), n.push("o" + i);
      var r = [
        "function getOrientation(",
        e.join(),
        "){switch(arguments.length){case 0:case 1:return 0;",
      ];
      for (i = 2; i <= a; ++i)
        r.push("case ", i, ":return o", i, "(", e.slice(0, i).join(), ");");
      r.push(
        "}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"
      ),
        n.push(r.join(""));
      var o = Function.apply(void 0, n);
      for (t.exports = o.apply(void 0, [g].concat(d)), i = 0; i <= a; ++i)
        t.exports[i] = d[i];
    })();
  },
  function (t, e, n) {
    "use strict";
    t.exports = function (t, e, n) {
      var r = t * e,
        o = i * t,
        s = o - (o - t),
        a = t - s,
        u = i * e,
        c = u - (u - e),
        h = e - c,
        l = a * h - (r - s * c - a * c - s * h);
      if (n) return (n[0] = l), (n[1] = r), n;
      return [l, r];
    };
    var i = +(Math.pow(2, 27) + 1);
  },
  function (t, e, n) {
    "use strict";
    var i = n(14).forEach,
      r = n(32);
    t.exports = r("forEach")
      ? function (t) {
          return i(this, t, arguments.length > 1 ? arguments[1] : void 0);
        }
      : [].forEach;
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(38),
      o = n(20),
      s = n(6),
      a = n(12),
      u = n(101),
      c = n(73),
      h = n(59),
      l = Math.max,
      p = Math.min;
    i(
      { target: "Array", proto: !0, forced: !h("splice") },
      {
        splice: function (t, e) {
          var n,
            i,
            h,
            f,
            d,
            g,
            y = a(this),
            _ = s(y.length),
            v = r(t, _),
            m = arguments.length;
          if (
            (0 === m
              ? (n = i = 0)
              : 1 === m
              ? ((n = 0), (i = _ - v))
              : ((n = m - 2), (i = p(l(o(e), 0), _ - v))),
            _ + n - i > 9007199254740991)
          )
            throw TypeError("Maximum allowed length exceeded");
          for (h = u(y, i), f = 0; f < i; f++)
            (d = v + f) in y && c(h, f, y[d]);
          if (((h.length = i), n < i)) {
            for (f = v; f < _ - i; f++)
              (g = f + n), (d = f + i) in y ? (y[g] = y[d]) : delete y[g];
            for (f = _; f > _ - i + n; f--) delete y[f - 1];
          } else if (n > i)
            for (f = _ - i; f > v; f--)
              (g = f + n - 1),
                (d = f + i - 1) in y ? (y[g] = y[d]) : delete y[g];
          for (f = 0; f < n; f++) y[f + v] = arguments[f + 2];
          return (y.length = _ - i + n), h;
        },
      }
    );
  },
  function (t, e, n) {
    var i = n(20),
      r = n(6);
    t.exports = function (t) {
      if (void 0 === t) return 0;
      var e = i(t),
        n = r(e);
      if (e !== n) throw RangeError("Wrong length or index");
      return n;
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(12),
      r = n(38),
      o = n(6);
    t.exports = function (t) {
      for (
        var e = i(this),
          n = o(e.length),
          s = arguments.length,
          a = r(s > 1 ? arguments[1] : void 0, n),
          u = s > 2 ? arguments[2] : void 0,
          c = void 0 === u ? n : r(u, n);
        c > a;

      )
        e[a++] = t;
      return e;
    };
  },
  function (t, e, n) {
    var i = n(10),
      r = n(60);
    t.exports = function (t, e, n) {
      var o, s;
      return (
        r &&
          "function" == typeof (o = e.constructor) &&
          o !== n &&
          i((s = o.prototype)) &&
          s !== n.prototype &&
          r(t, s),
        t
      );
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(20),
      o = n(206),
      s = n(144),
      a = n(3),
      u = (1).toFixed,
      c = Math.floor,
      h = function (t, e, n) {
        return 0 === e
          ? n
          : e % 2 == 1
          ? h(t, e - 1, n * t)
          : h(t * t, e / 2, n);
      };
    i(
      {
        target: "Number",
        proto: !0,
        forced:
          (u &&
            ("0.000" !== (8e-5).toFixed(3) ||
              "1" !== (0.9).toFixed(0) ||
              "1.25" !== (1.255).toFixed(2) ||
              "1000000000000000128" !== (0xde0b6b3a7640080).toFixed(0))) ||
          !a(function () {
            u.call({});
          }),
      },
      {
        toFixed: function (t) {
          var e,
            n,
            i,
            a,
            u = o(this),
            l = r(t),
            p = [0, 0, 0, 0, 0, 0],
            f = "",
            d = "0",
            g = function (t, e) {
              for (var n = -1, i = e; ++n < 6; )
                (i += t * p[n]), (p[n] = i % 1e7), (i = c(i / 1e7));
            },
            y = function (t) {
              for (var e = 6, n = 0; --e >= 0; )
                (n += p[e]), (p[e] = c(n / t)), (n = (n % t) * 1e7);
            },
            _ = function () {
              for (var t = 6, e = ""; --t >= 0; )
                if ("" !== e || 0 === t || 0 !== p[t]) {
                  var n = String(p[t]);
                  e = "" === e ? n : e + s.call("0", 7 - n.length) + n;
                }
              return e;
            };
          if (l < 0 || l > 20) throw RangeError("Incorrect fraction digits");
          if (u != u) return "NaN";
          if (u <= -1e21 || u >= 1e21) return String(u);
          if ((u < 0 && ((f = "-"), (u = -u)), u > 1e-21))
            if (
              ((n =
                (e =
                  (function (t) {
                    for (var e = 0, n = t; n >= 4096; ) (e += 12), (n /= 4096);
                    for (; n >= 2; ) (e += 1), (n /= 2);
                    return e;
                  })(u * h(2, 69, 1)) - 69) < 0
                  ? u * h(2, -e, 1)
                  : u / h(2, e, 1)),
              (n *= 4503599627370496),
              (e = 52 - e) > 0)
            ) {
              for (g(0, n), i = l; i >= 7; ) g(1e7, 0), (i -= 7);
              for (g(h(10, i, 1), 0), i = e - 1; i >= 23; )
                y(1 << 23), (i -= 23);
              y(1 << i), g(1, 1), y(2), (d = _());
            } else g(0, n), g(1 << -e, 0), (d = _() + s.call("0", l));
          return (d =
            l > 0
              ? f +
                ((a = d.length) <= l
                  ? "0." + s.call("0", l - a) + d
                  : d.slice(0, a - l) + "." + d.slice(a - l))
              : f + d);
        },
      }
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(20),
      r = n(19);
    t.exports =
      "".repeat ||
      function (t) {
        var e = String(r(this)),
          n = "",
          o = i(t);
        if (o < 0 || o == 1 / 0)
          throw RangeError("Wrong number of repetitions");
        for (; o > 0; (o >>>= 1) && (e += e)) 1 & o && (n += e);
        return n;
      };
  },
  function (t, e, n) {
    var i = n(20);
    t.exports = function (t, e) {
      var n = i(t);
      if (n < 0 || n % e) throw RangeError("Wrong offset");
      return n;
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(18);
    e.a = function () {
      for (
        var t = new i.GeoJSONReader(),
          e = t.read(JSON.stringify(arguments[0].geometry)),
          n = 1;
        n < arguments.length;
        n++
      )
        e = i.UnionOp.union(e, t.read(JSON.stringify(arguments[n].geometry)));
      return {
        type: "Feature",
        geometry: (e = new i.GeoJSONWriter().write(e)),
        properties: arguments[0].properties,
      };
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(181),
      r = n(183),
      o = n(188),
      s = n(189),
      a = n(136)[3];
    function u(t, e, n) {
      (e = Math.max(0, void 0 === e ? 2 : e)), (n = n || 0);
      for (
        var o,
          a = (function (t) {
            for (
              var e = t[0], n = t[0], i = t[0], o = t[0], a = 0;
              a < t.length;
              a++
            ) {
              var u = t[a];
              u[0] < e[0] && (e = u),
                u[0] > i[0] && (i = u),
                u[1] < n[1] && (n = u),
                u[1] > o[1] && (o = u);
            }
            var c = [e, n, i, o],
              h = c.slice();
            for (a = 0; a < t.length; a++) s(t[a], c) || h.push(t[a]);
            var l = r(h),
              p = [];
            for (a = 0; a < l.length; a++) p.push(h[l[a]]);
            return p;
          })(t),
          u = i(16, ["[0]", "[1]", "[0]", "[1]"]).load(t),
          h = [],
          l = 0;
        l < a.length;
        l++
      ) {
        var p = a[l];
        u.remove(p), (o = g(p, o)), h.push(o);
      }
      var f = i(16);
      for (l = 0; l < h.length; l++) f.insert(d(h[l]));
      for (var _ = e * e, v = n * n; h.length; ) {
        var m = h.shift(),
          x = m.p,
          E = m.next.p,
          b = y(x, E);
        if (!(b < v)) {
          var w = b / _;
          (p = c(u, m.prev.p, x, E, m.next.next.p, w, f)) &&
            Math.min(y(p, x), y(p, E)) <= w &&
            (h.push(m),
            h.push(g(p, m)),
            u.remove(p),
            f.remove(m),
            f.insert(d(m)),
            f.insert(d(m.next)));
        }
      }
      m = o;
      var I = [];
      do {
        I.push(m.p), (m = m.next);
      } while (m !== o);
      return I.push(m.p), I;
    }
    function c(t, e, n, i, r, s, a) {
      for (var u = new o(null, h), c = t.data; c; ) {
        for (var p = 0; p < c.children.length; p++) {
          var d = c.children[p],
            g = c.leaf ? _(d, n, i) : l(n, i, d);
          g > s || u.push({ node: d, dist: g });
        }
        for (; u.length && !u.peek().node.children; ) {
          var y = u.pop(),
            v = y.node,
            m = _(v, e, n),
            x = _(v, i, r);
          if (y.dist < m && y.dist < x && f(n, v, a) && f(i, v, a)) return v;
        }
        (c = u.pop()) && (c = c.node);
      }
      return null;
    }
    function h(t, e) {
      return t.dist - e.dist;
    }
    function l(t, e, n) {
      if (p(t, n) || p(e, n)) return 0;
      var i = v(t[0], t[1], e[0], e[1], n.minX, n.minY, n.maxX, n.minY);
      if (0 === i) return 0;
      var r = v(t[0], t[1], e[0], e[1], n.minX, n.minY, n.minX, n.maxY);
      if (0 === r) return 0;
      var o = v(t[0], t[1], e[0], e[1], n.maxX, n.minY, n.maxX, n.maxY);
      if (0 === o) return 0;
      var s = v(t[0], t[1], e[0], e[1], n.minX, n.maxY, n.maxX, n.maxY);
      return 0 === s ? 0 : Math.min(i, r, o, s);
    }
    function p(t, e) {
      return (
        t[0] >= e.minX && t[0] <= e.maxX && t[1] >= e.minY && t[1] <= e.maxY
      );
    }
    function f(t, e, n) {
      for (
        var i,
          r,
          o,
          s,
          u = Math.min(t[0], e[0]),
          c = Math.min(t[1], e[1]),
          h = Math.max(t[0], e[0]),
          l = Math.max(t[1], e[1]),
          p = n.search({ minX: u, minY: c, maxX: h, maxY: l }),
          f = 0;
        f < p.length;
        f++
      )
        if (
          ((i = p[f].p),
          (r = p[f].next.p),
          (o = t),
          i !== (s = e) &&
            r !== o &&
            a(i, r, o) > 0 != a(i, r, s) > 0 &&
            a(o, s, i) > 0 != a(o, s, r) > 0)
        )
          return !1;
      return !0;
    }
    function d(t) {
      var e = t.p,
        n = t.next.p;
      return (
        (t.minX = Math.min(e[0], n[0])),
        (t.minY = Math.min(e[1], n[1])),
        (t.maxX = Math.max(e[0], n[0])),
        (t.maxY = Math.max(e[1], n[1])),
        t
      );
    }
    function g(t, e) {
      var n = {
        p: t,
        prev: null,
        next: null,
        minX: 0,
        minY: 0,
        maxX: 0,
        maxY: 0,
      };
      return (
        e
          ? ((n.next = e.next), (n.prev = e), (e.next.prev = n), (e.next = n))
          : ((n.prev = n), (n.next = n)),
        n
      );
    }
    function y(t, e) {
      var n = t[0] - e[0],
        i = t[1] - e[1];
      return n * n + i * i;
    }
    function _(t, e, n) {
      var i = e[0],
        r = e[1],
        o = n[0] - i,
        s = n[1] - r;
      if (0 !== o || 0 !== s) {
        var a = ((t[0] - i) * o + (t[1] - r) * s) / (o * o + s * s);
        a > 1
          ? ((i = n[0]), (r = n[1]))
          : a > 0 && ((i += o * a), (r += s * a));
      }
      return (o = t[0] - i) * o + (s = t[1] - r) * s;
    }
    function v(t, e, n, i, r, o, s, a) {
      var u,
        c,
        h,
        l,
        p = n - t,
        f = i - e,
        d = s - r,
        g = a - o,
        y = t - r,
        _ = e - o,
        v = p * p + f * f,
        m = p * d + f * g,
        x = d * d + g * g,
        E = p * y + f * _,
        b = d * y + g * _,
        w = v * x - m * m,
        I = w,
        S = w;
      0 === w
        ? ((c = 0), (I = 1), (l = b), (S = x))
        : ((l = v * b - m * E),
          (c = m * b - x * E) < 0
            ? ((c = 0), (l = b), (S = x))
            : c > I && ((c = I), (l = b + m), (S = x))),
        l < 0
          ? ((l = 0), -E < 0 ? (c = 0) : -E > v ? (c = I) : ((c = -E), (I = v)))
          : l > S &&
            ((l = S),
            -E + m < 0
              ? (c = 0)
              : -E + m > v
              ? (c = I)
              : ((c = -E + m), (I = v)));
      var C =
          (1 - (h = 0 === l ? 0 : l / S)) * r +
          h * s -
          ((1 - (u = 0 === c ? 0 : c / I)) * t + u * n),
        T = (1 - h) * o + h * a - ((1 - u) * e + u * i);
      return C * C + T * T;
    }
    (t.exports = u), (t.exports.default = u);
  },
  function (t, e, n) {
    "use strict";
    var i = n(18),
      r = n(8),
      o = n(0);
    var s = function (t, e) {
        if (((e = e || {}), !Object(o.d)(e)))
          throw new Error("options is invalid");
        var n = e.precision,
          i = e.coordinates,
          s = e.mutate;
        if (
          ((n = null == n || isNaN(n) ? 6 : n),
          (i = null == i || isNaN(i) ? 3 : i),
          !t)
        )
          throw new Error("<geojson> is required");
        if ("number" != typeof n)
          throw new Error("<precision> must be a number");
        if ("number" != typeof i)
          throw new Error("<coordinates> must be a number");
        (!1 !== s && void 0 !== s) || (t = JSON.parse(JSON.stringify(t)));
        var a = Math.pow(10, n);
        return (
          Object(r.a)(t, function (t) {
            !(function (t, e, n) {
              t.length > n && t.splice(n, t.length);
              for (var i = 0; i < t.length; i++)
                t[i] = Math.round(t[i] * e) / e;
            })(t, a, i);
          }),
          t
        );
      },
      a = n(7);
    function u(t) {
      var e,
        n,
        i,
        r,
        o,
        s = Object(a.b)(t);
      if (
        2 === s.length &&
        ((e = s[0]), (n = s[1]), e[0] !== n[0] || e[1] !== n[1])
      )
        return s;
      var u = [],
        h = s.length - 1;
      u.push(s[0]);
      for (var l = 1; l < h; l++)
        (i = s[l - 1]), (r = s[l]), c(i, (o = s[l + 1]), r) || u.push(r);
      return u.push(o), u;
    }
    function c(t, e, n) {
      var i = n[0],
        r = n[1],
        o = t[0],
        s = t[1],
        a = e[0],
        u = e[1],
        c = a - o,
        h = u - s;
      return (
        0 === (i - o) * h - (r - s) * c &&
        (Math.abs(c) >= Math.abs(h)
          ? c > 0
            ? o <= i && i <= a
            : a <= i && i <= o
          : h > 0
          ? s <= r && r <= u
          : u <= r && r <= s)
      );
    }
    var h = function (t, e) {
      var n = "object" == typeof e ? e.mutate : e;
      if (!t) throw new Error("geojson is required");
      var i = Object(a.d)(t),
        r = [];
      switch (i) {
        case "LineString":
          r = u(t);
          break;
        case "MultiLineString":
        case "Polygon":
          Object(a.b)(t).forEach(function (t) {
            r.push(u(t));
          });
          break;
        case "MultiPolygon":
          Object(a.b)(t).forEach(function (t) {
            var e = [];
            t.forEach(function (t) {
              e.push(u(t));
            }),
              r.push(e);
          });
          break;
        case "Point":
          return t;
        case "MultiPoint":
          var s = {};
          Object(a.b)(t).forEach(function (t) {
            var e = t.join("-");
            s.hasOwnProperty(e) || (r.push(t), (s[e] = !0));
          });
          break;
        default:
          throw new Error(i + " geometry not supported");
      }
      return t.coordinates
        ? !0 === n
          ? ((t.coordinates = r), t)
          : { type: i, coordinates: r }
        : !0 === n
        ? ((t.geometry.coordinates = r), t)
        : Object(o.a)({ type: i, coordinates: r }, t.properties, t.bbox, t.id);
    };
    e.a = function (t, e) {
      var n = Object(a.c)(t),
        r = Object(a.c)(e);
      if (h(s(r, { precision: 4 })).coordinates[0].length < 4) return null;
      if (h(s(n, { precision: 4 })).coordinates[0].length < 4) return null;
      var u = new i.GeoJSONReader(),
        c = u.read(s(n)),
        l = u.read(s(r)),
        p = i.OverlayOp.intersection(c, l);
      if (p.isEmpty()) return null;
      var f = new i.GeoJSONWriter().write(p);
      return Object(o.a)(f);
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(18),
      r = n(8);
    var o = 6378137;
    function s(t) {
      var e = 0;
      if (t && t.length > 0) {
        e += Math.abs(a(t[0]));
        for (var n = 1; n < t.length; n++) e -= Math.abs(a(t[n]));
      }
      return e;
    }
    function a(t) {
      var e,
        n,
        i,
        r,
        s,
        a,
        c = 0,
        h = t.length;
      if (h > 2) {
        for (a = 0; a < h; a++)
          a === h - 2
            ? ((i = h - 2), (r = h - 1), (s = 0))
            : a === h - 1
            ? ((i = h - 1), (r = 0), (s = 1))
            : ((i = a), (r = a + 1), (s = a + 2)),
            (e = t[i]),
            (n = t[r]),
            (c += (u(t[s][0]) - u(e[0])) * Math.sin(u(n[1])));
        c = (c * o * o) / 2;
      }
      return c;
    }
    function u(t) {
      return (t * Math.PI) / 180;
    }
    var c = function (t) {
        return Object(r.d)(
          t,
          function (t, e) {
            return (
              t +
              (function t(e) {
                var n,
                  i = 0;
                switch (e.type) {
                  case "Polygon":
                    return s(e.coordinates);
                  case "MultiPolygon":
                    for (n = 0; n < e.coordinates.length; n++)
                      i += s(e.coordinates[n]);
                    return i;
                  case "Point":
                  case "MultiPoint":
                  case "LineString":
                  case "MultiLineString":
                    return 0;
                  case "GeometryCollection":
                    for (n = 0; n < e.geometries.length; n++)
                      i += t(e.geometries[n]);
                    return i;
                }
              })(e)
            );
          },
          0
        );
      },
      h = n(0),
      l = n(7);
    function p(t) {
      switch (t.type) {
        case "Polygon":
          return c(t) > 1 ? t : null;
        case "MultiPolygon":
          var e = [];
          if (
            (Object(r.c)(t, function (t) {
              c(t) > 1 && e.push(t.geometry.coordinates);
            }),
            e.length)
          )
            return { type: "MultiPolygon", coordinates: e };
      }
    }
    e.a = function (t, e) {
      var n = Object(l.c)(t),
        r = Object(l.c)(e),
        o = t.properties || {};
      if (((n = p(n)), (r = p(r)), !n)) return null;
      if (!r) return Object(h.a)(n, o);
      var s = new i.GeoJSONReader(),
        a = s.read(n),
        u = s.read(r),
        c = i.OverlayOp.difference(a, u);
      if (c.isEmpty()) return null;
      var f = new i.GeoJSONWriter().write(c);
      return Object(h.a)(f, o);
    };
  },
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  ,
  function (t, e, n) {
    t.exports = n(160);
  },
  function (t, e, n) {
    "use strict";
    n.r(e);
    n(23), n(42);
    var i = n(257).MaplatApp;
    (window.Maplat = {}).createObject = function (t) {
      return new Promise(function (e) {
        var n = new i(t);
        n.waitReady.then(function () {
          e(n);
        });
      });
    };
  },
  function (t, e, n) {
    var i = n(2),
      r = n(115),
      o = i.WeakMap;
    t.exports = "function" == typeof o && /native code/.test(r.call(o));
  },
  function (t, e, n) {
    "use strict";
    var i = n(67),
      r = {};
    (r[n(5)("toStringTag")] = "z"),
      (t.exports =
        "[object z]" !== String(r)
          ? function () {
              return "[object " + i(this) + "]";
            }
          : r.toString);
  },
  function (t, e, n) {
    var i = n(68),
      r = n(37),
      o = n(95),
      s = n(11);
    t.exports =
      i("Reflect", "ownKeys") ||
      function (t) {
        var e = r.f(s(t)),
          n = o.f;
        return n ? e.concat(n(t)) : e;
      };
  },
  function (t, e, n) {
    var i = n(2);
    t.exports = i.Promise;
  },
  function (t, e, n) {
    var i = n(11),
      r = n(97),
      o = n(6),
      s = n(58),
      a = n(98),
      u = n(120),
      c = function (t, e) {
        (this.stopped = t), (this.result = e);
      };
    (t.exports = function (t, e, n, h, l) {
      var p,
        f,
        d,
        g,
        y,
        _,
        v = s(e, n, h ? 2 : 1);
      if (l) p = t;
      else {
        if ("function" != typeof (f = a(t)))
          throw TypeError("Target is not iterable");
        if (r(f)) {
          for (d = 0, g = o(t.length); g > d; d++)
            if ((y = h ? v(i((_ = t[d]))[0], _[1]) : v(t[d])) && y instanceof c)
              return y;
          return new c(!1);
        }
        p = f.call(t);
      }
      for (; !(_ = p.next()).done; )
        if ((y = u(p, v, _.value, h)) && y instanceof c) return y;
      return new c(!1);
    }).stop = function (t) {
      return new c(!0, t);
    };
  },
  function (t, e, n) {
    var i,
      r,
      o,
      s,
      a,
      u,
      c,
      h,
      l = n(2),
      p = n(43).f,
      f = n(24),
      d = n(121).set,
      g = n(100),
      y = l.MutationObserver || l.WebKitMutationObserver,
      _ = l.process,
      v = l.Promise,
      m = "process" == f(_),
      x = p(l, "queueMicrotask"),
      E = x && x.value;
    E ||
      ((i = function () {
        var t, e;
        for (m && (t = _.domain) && t.exit(); r; ) {
          (e = r.fn), (r = r.next);
          try {
            e();
          } catch (t) {
            throw (r ? s() : (o = void 0), t);
          }
        }
        (o = void 0), t && t.enter();
      }),
      m
        ? (s = function () {
            _.nextTick(i);
          })
        : y && !/(iphone|ipod|ipad).*applewebkit/i.test(g)
        ? ((a = !0),
          (u = document.createTextNode("")),
          new y(i).observe(u, { characterData: !0 }),
          (s = function () {
            u.data = a = !a;
          }))
        : v && v.resolve
        ? ((c = v.resolve(void 0)),
          (h = c.then),
          (s = function () {
            h.call(c, i);
          }))
        : (s = function () {
            d.call(l, i);
          })),
      (t.exports =
        E ||
        function (t) {
          var e = { fn: t, next: void 0 };
          o && (o.next = e), r || ((r = e), s()), (o = e);
        });
  },
  function (t, e, n) {
    var i = n(11),
      r = n(10),
      o = n(123);
    t.exports = function (t, e) {
      if ((i(t), r(e) && e.constructor === t)) return e;
      var n = o.f(t);
      return (0, n.resolve)(e), n.promise;
    };
  },
  function (t, e, n) {
    var i = n(2);
    t.exports = function (t, e) {
      var n = i.console;
      n && n.error && (1 === arguments.length ? n.error(t) : n.error(t, e));
    };
  },
  function (t, e) {
    t.exports = function (t) {
      try {
        return { error: !1, value: t() };
      } catch (t) {
        return { error: !0, value: t };
      }
    };
  },
  function (t, e, n) {
    var i = n(9),
      r = n(13),
      o = n(11),
      s = n(72);
    t.exports = i
      ? Object.defineProperties
      : function (t, e) {
          o(t);
          for (var n, i = s(e), a = i.length, u = 0; a > u; )
            r.f(t, (n = i[u++]), e[n]);
          return t;
        };
  },
  function (t, e, n) {
    var i = n(25),
      r = n(37).f,
      o = {}.toString,
      s =
        "object" == typeof window && window && Object.getOwnPropertyNames
          ? Object.getOwnPropertyNames(window)
          : [];
    t.exports.f = function (t) {
      return s && "[object Window]" == o.call(t)
        ? (function (t) {
            try {
              return r(t);
            } catch (t) {
              return s.slice();
            }
          })(t)
        : r(i(t));
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(128).IteratorPrototype,
      r = n(45),
      o = n(41),
      s = n(56),
      a = n(57),
      u = function () {
        return this;
      };
    t.exports = function (t, e, n) {
      var c = e + " Iterator";
      return (
        (t.prototype = r(i, { next: o(1, n) })), s(t, c, !1, !0), (a[c] = u), t
      );
    };
  },
  function (t, e, n) {
    var i = n(10);
    t.exports = function (t) {
      if (!i(t) && null !== t)
        throw TypeError("Can't set " + String(t) + " as a prototype");
      return t;
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(9),
      r = n(3),
      o = n(72),
      s = n(95),
      a = n(92),
      u = n(12),
      c = n(55),
      h = Object.assign;
    t.exports =
      !h ||
      r(function () {
        var t = {},
          e = {},
          n = Symbol();
        return (
          (t[n] = 7),
          "abcdefghijklmnopqrst".split("").forEach(function (t) {
            e[t] = t;
          }),
          7 != h({}, t)[n] || "abcdefghijklmnopqrst" != o(h({}, e)).join("")
        );
      })
        ? function (t, e) {
            for (
              var n = u(t), r = arguments.length, h = 1, l = s.f, p = a.f;
              r > h;

            )
              for (
                var f,
                  d = c(arguments[h++]),
                  g = l ? o(d).concat(l(d)) : o(d),
                  y = g.length,
                  _ = 0;
                y > _;

              )
                (f = g[_++]), (i && !p.call(d, f)) || (n[f] = d[f]);
            return n;
          }
        : h;
  },
  function (t, e, n) {
    var i = n(2),
      r = n(79).trim,
      o = n(80),
      s = i.parseFloat,
      a = 1 / s(o + "-0") != -1 / 0;
    t.exports = a
      ? function (t) {
          var e = r(String(t)),
            n = s(e);
          return 0 === n && "-" == e.charAt(0) ? -0 : n;
        }
      : s;
  },
  function (t, e, n) {
    var i = n(2),
      r = n(79).trim,
      o = n(80),
      s = i.parseInt,
      a = /^[+-]?0[Xx]/,
      u = 8 !== s(o + "08") || 22 !== s(o + "0x16");
    t.exports = u
      ? function (t, e) {
          var n = r(String(t));
          return s(n, e >>> 0 || (a.test(n) ? 16 : 10));
        }
      : s;
  },
  function (t, e, n) {
    var i = n(1),
      r = n(2),
      o = n(100),
      s = [].slice,
      a = function (t) {
        return function (e, n) {
          var i = arguments.length > 2,
            r = i ? s.call(arguments, 2) : void 0;
          return t(
            i
              ? function () {
                  ("function" == typeof e ? e : Function(e)).apply(this, r);
                }
              : e,
            n
          );
        };
      };
    i(
      { global: !0, bind: !0, forced: /MSIE .\./.test(o) },
      { setTimeout: a(r.setTimeout), setInterval: a(r.setInterval) }
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(39),
      r = n(10),
      o = [].slice,
      s = {},
      a = function (t, e, n) {
        if (!(e in s)) {
          for (var i = [], r = 0; r < e; r++) i[r] = "a[" + r + "]";
          s[e] = Function("C,a", "return new C(" + i.join(",") + ")");
        }
        return s[e](t, n);
      };
    t.exports =
      Function.bind ||
      function (t) {
        var e = i(this),
          n = o.call(arguments, 1),
          s = function () {
            var i = n.concat(o.call(arguments));
            return this instanceof s ? a(e, i.length, i) : e.apply(t, i);
          };
        return r(e.prototype) && (s.prototype = e.prototype), s;
      };
  },
  function (t, e, n) {
    t.exports = (function () {
      "use strict";
      function t(t, e, n) {
        var i = t[e];
        (t[e] = t[n]), (t[n] = i);
      }
      function e(t, e) {
        return t < e ? -1 : t > e ? 1 : 0;
      }
      return function (n, i, r, o, s) {
        !(function e(n, i, r, o, s) {
          for (; o > r; ) {
            if (o - r > 600) {
              var a = o - r + 1,
                u = i - r + 1,
                c = Math.log(a),
                h = 0.5 * Math.exp((2 * c) / 3),
                l =
                  0.5 *
                  Math.sqrt((c * h * (a - h)) / a) *
                  (u - a / 2 < 0 ? -1 : 1),
                p = Math.max(r, Math.floor(i - (u * h) / a + l)),
                f = Math.min(o, Math.floor(i + ((a - u) * h) / a + l));
              e(n, i, p, f, s);
            }
            var d = n[i],
              g = r,
              y = o;
            for (t(n, r, i), s(n[o], d) > 0 && t(n, r, o); g < y; ) {
              for (t(n, g, y), g++, y--; s(n[g], d) < 0; ) g++;
              for (; s(n[y], d) > 0; ) y--;
            }
            0 === s(n[r], d) ? t(n, r, y) : t(n, ++y, o),
              y <= i && (r = y + 1),
              i <= y && (o = y - 1);
          }
        })(n, i, r || 0, o || n.length - 1, s || e);
      };
    })();
  },
  function (t, e, n) {
    var i = n(1),
      r = Math.log,
      o = Math.LN2;
    i(
      { target: "Math", stat: !0 },
      {
        log2: function (t) {
          return r(t) / o;
        },
      }
    );
  },
  function (t, e, n) {
    "use strict";
    (t.exports = r), (t.exports.default = r);
    var i = n(182);
    function r(t, e) {
      if (!(this instanceof r)) return new r(t, e);
      (this._maxEntries = Math.max(4, t || 9)),
        (this._minEntries = Math.max(2, Math.ceil(0.4 * this._maxEntries))),
        e && this._initFormat(e),
        this.clear();
    }
    function o(t, e, n) {
      if (!n) return e.indexOf(t);
      for (var i = 0; i < e.length; i++) if (n(t, e[i])) return i;
      return -1;
    }
    function s(t, e) {
      a(t, 0, t.children.length, e, t);
    }
    function a(t, e, n, i, r) {
      r || (r = g(null)),
        (r.minX = 1 / 0),
        (r.minY = 1 / 0),
        (r.maxX = -1 / 0),
        (r.maxY = -1 / 0);
      for (var o, s = e; s < n; s++)
        (o = t.children[s]), u(r, t.leaf ? i(o) : o);
      return r;
    }
    function u(t, e) {
      return (
        (t.minX = Math.min(t.minX, e.minX)),
        (t.minY = Math.min(t.minY, e.minY)),
        (t.maxX = Math.max(t.maxX, e.maxX)),
        (t.maxY = Math.max(t.maxY, e.maxY)),
        t
      );
    }
    function c(t, e) {
      return t.minX - e.minX;
    }
    function h(t, e) {
      return t.minY - e.minY;
    }
    function l(t) {
      return (t.maxX - t.minX) * (t.maxY - t.minY);
    }
    function p(t) {
      return t.maxX - t.minX + (t.maxY - t.minY);
    }
    function f(t, e) {
      return (
        t.minX <= e.minX &&
        t.minY <= e.minY &&
        e.maxX <= t.maxX &&
        e.maxY <= t.maxY
      );
    }
    function d(t, e) {
      return (
        e.minX <= t.maxX &&
        e.minY <= t.maxY &&
        e.maxX >= t.minX &&
        e.maxY >= t.minY
      );
    }
    function g(t) {
      return {
        children: t,
        height: 1,
        leaf: !0,
        minX: 1 / 0,
        minY: 1 / 0,
        maxX: -1 / 0,
        maxY: -1 / 0,
      };
    }
    function y(t, e, n, r, o) {
      for (var s, a = [e, n]; a.length; )
        (n = a.pop()) - (e = a.pop()) <= r ||
          ((s = e + Math.ceil((n - e) / r / 2) * r),
          i(t, s, e, n, o),
          a.push(e, s, s, n));
    }
    r.prototype = {
      all: function () {
        return this._all(this.data, []);
      },
      search: function (t) {
        var e = this.data,
          n = [],
          i = this.toBBox;
        if (!d(t, e)) return n;
        for (var r, o, s, a, u = []; e; ) {
          for (r = 0, o = e.children.length; r < o; r++)
            (s = e.children[r]),
              d(t, (a = e.leaf ? i(s) : s)) &&
                (e.leaf ? n.push(s) : f(t, a) ? this._all(s, n) : u.push(s));
          e = u.pop();
        }
        return n;
      },
      collides: function (t) {
        var e = this.data,
          n = this.toBBox;
        if (!d(t, e)) return !1;
        for (var i, r, o, s, a = []; e; ) {
          for (i = 0, r = e.children.length; i < r; i++)
            if (((o = e.children[i]), d(t, (s = e.leaf ? n(o) : o)))) {
              if (e.leaf || f(t, s)) return !0;
              a.push(o);
            }
          e = a.pop();
        }
        return !1;
      },
      load: function (t) {
        if (!t || !t.length) return this;
        if (t.length < this._minEntries) {
          for (var e = 0, n = t.length; e < n; e++) this.insert(t[e]);
          return this;
        }
        var i = this._build(t.slice(), 0, t.length - 1, 0);
        if (this.data.children.length)
          if (this.data.height === i.height) this._splitRoot(this.data, i);
          else {
            if (this.data.height < i.height) {
              var r = this.data;
              (this.data = i), (i = r);
            }
            this._insert(i, this.data.height - i.height - 1, !0);
          }
        else this.data = i;
        return this;
      },
      insert: function (t) {
        return t && this._insert(t, this.data.height - 1), this;
      },
      clear: function () {
        return (this.data = g([])), this;
      },
      remove: function (t, e) {
        if (!t) return this;
        for (
          var n, i, r, s, a = this.data, u = this.toBBox(t), c = [], h = [];
          a || c.length;

        ) {
          if (
            (a ||
              ((a = c.pop()), (i = c[c.length - 1]), (n = h.pop()), (s = !0)),
            a.leaf && -1 !== (r = o(t, a.children, e)))
          )
            return a.children.splice(r, 1), c.push(a), this._condense(c), this;
          s || a.leaf || !f(a, u)
            ? i
              ? (n++, (a = i.children[n]), (s = !1))
              : (a = null)
            : (c.push(a), h.push(n), (n = 0), (i = a), (a = a.children[0]));
        }
        return this;
      },
      toBBox: function (t) {
        return t;
      },
      compareMinX: c,
      compareMinY: h,
      toJSON: function () {
        return this.data;
      },
      fromJSON: function (t) {
        return (this.data = t), this;
      },
      _all: function (t, e) {
        for (var n = []; t; )
          t.leaf ? e.push.apply(e, t.children) : n.push.apply(n, t.children),
            (t = n.pop());
        return e;
      },
      _build: function (t, e, n, i) {
        var r,
          o = n - e + 1,
          a = this._maxEntries;
        if (o <= a) return s((r = g(t.slice(e, n + 1))), this.toBBox), r;
        i ||
          ((i = Math.ceil(Math.log(o) / Math.log(a))),
          (a = Math.ceil(o / Math.pow(a, i - 1)))),
          ((r = g([])).leaf = !1),
          (r.height = i);
        var u,
          c,
          h,
          l,
          p = Math.ceil(o / a),
          f = p * Math.ceil(Math.sqrt(a));
        for (y(t, e, n, f, this.compareMinX), u = e; u <= n; u += f)
          for (
            y(t, u, (h = Math.min(u + f - 1, n)), p, this.compareMinY), c = u;
            c <= h;
            c += p
          )
            (l = Math.min(c + p - 1, h)),
              r.children.push(this._build(t, c, l, i - 1));
        return s(r, this.toBBox), r;
      },
      _chooseSubtree: function (t, e, n, i) {
        for (
          var r, o, s, a, u, c, h, p, f, d;
          i.push(e), !e.leaf && i.length - 1 !== n;

        ) {
          for (h = p = 1 / 0, r = 0, o = e.children.length; r < o; r++)
            (u = l((s = e.children[r]))),
              (f = t),
              (d = s),
              (c =
                (Math.max(d.maxX, f.maxX) - Math.min(d.minX, f.minX)) *
                  (Math.max(d.maxY, f.maxY) - Math.min(d.minY, f.minY)) -
                u) < p
                ? ((p = c), (h = u < h ? u : h), (a = s))
                : c === p && u < h && ((h = u), (a = s));
          e = a || e.children[0];
        }
        return e;
      },
      _insert: function (t, e, n) {
        var i = this.toBBox,
          r = n ? t : i(t),
          o = [],
          s = this._chooseSubtree(r, this.data, e, o);
        for (
          s.children.push(t), u(s, r);
          e >= 0 && o[e].children.length > this._maxEntries;

        )
          this._split(o, e), e--;
        this._adjustParentBBoxes(r, o, e);
      },
      _split: function (t, e) {
        var n = t[e],
          i = n.children.length,
          r = this._minEntries;
        this._chooseSplitAxis(n, r, i);
        var o = this._chooseSplitIndex(n, r, i),
          a = g(n.children.splice(o, n.children.length - o));
        (a.height = n.height),
          (a.leaf = n.leaf),
          s(n, this.toBBox),
          s(a, this.toBBox),
          e ? t[e - 1].children.push(a) : this._splitRoot(n, a);
      },
      _splitRoot: function (t, e) {
        (this.data = g([t, e])),
          (this.data.height = t.height + 1),
          (this.data.leaf = !1),
          s(this.data, this.toBBox);
      },
      _chooseSplitIndex: function (t, e, n) {
        var i, r, o, s, u, c, h, p, f, d, g, y, _, v;
        for (c = h = 1 / 0, i = e; i <= n - e; i++)
          (r = a(t, 0, i, this.toBBox)),
            (o = a(t, i, n, this.toBBox)),
            (f = r),
            (d = o),
            (g = void 0),
            (y = void 0),
            (_ = void 0),
            (v = void 0),
            (g = Math.max(f.minX, d.minX)),
            (y = Math.max(f.minY, d.minY)),
            (_ = Math.min(f.maxX, d.maxX)),
            (v = Math.min(f.maxY, d.maxY)),
            (s = Math.max(0, _ - g) * Math.max(0, v - y)),
            (u = l(r) + l(o)),
            s < c
              ? ((c = s), (p = i), (h = u < h ? u : h))
              : s === c && u < h && ((h = u), (p = i));
        return p;
      },
      _chooseSplitAxis: function (t, e, n) {
        var i = t.leaf ? this.compareMinX : c,
          r = t.leaf ? this.compareMinY : h;
        this._allDistMargin(t, e, n, i) < this._allDistMargin(t, e, n, r) &&
          t.children.sort(i);
      },
      _allDistMargin: function (t, e, n, i) {
        t.children.sort(i);
        var r,
          o,
          s = this.toBBox,
          c = a(t, 0, e, s),
          h = a(t, n - e, n, s),
          l = p(c) + p(h);
        for (r = e; r < n - e; r++)
          (o = t.children[r]), u(c, t.leaf ? s(o) : o), (l += p(c));
        for (r = n - e - 1; r >= e; r--)
          (o = t.children[r]), u(h, t.leaf ? s(o) : o), (l += p(h));
        return l;
      },
      _adjustParentBBoxes: function (t, e, n) {
        for (var i = n; i >= 0; i--) u(e[i], t);
      },
      _condense: function (t) {
        for (var e, n = t.length - 1; n >= 0; n--)
          0 === t[n].children.length
            ? n > 0
              ? (e = t[n - 1].children).splice(e.indexOf(t[n]), 1)
              : this.clear()
            : s(t[n], this.toBBox);
      },
      _initFormat: function (t) {
        var e = ["return a", " - b", ";"];
        (this.compareMinX = new Function("a", "b", e.join(t[0]))),
          (this.compareMinY = new Function("a", "b", e.join(t[1]))),
          (this.toBBox = new Function(
            "a",
            "return {minX: a" +
              t[0] +
              ", minY: a" +
              t[1] +
              ", maxX: a" +
              t[2] +
              ", maxY: a" +
              t[3] +
              "};"
          ));
      },
    };
  },
  function (t, e, n) {
    t.exports = (function () {
      "use strict";
      function t(t, e, n) {
        var i = t[e];
        (t[e] = t[n]), (t[n] = i);
      }
      function e(t, e) {
        return t < e ? -1 : t > e ? 1 : 0;
      }
      return function (n, i, r, o, s) {
        !(function e(n, i, r, o, s) {
          for (; o > r; ) {
            if (o - r > 600) {
              var a = o - r + 1,
                u = i - r + 1,
                c = Math.log(a),
                h = 0.5 * Math.exp((2 * c) / 3),
                l =
                  0.5 *
                  Math.sqrt((c * h * (a - h)) / a) *
                  (u - a / 2 < 0 ? -1 : 1),
                p = Math.max(r, Math.floor(i - (u * h) / a + l)),
                f = Math.min(o, Math.floor(i + ((a - u) * h) / a + l));
              e(n, i, p, f, s);
            }
            var d = n[i],
              g = r,
              y = o;
            for (t(n, r, i), s(n[o], d) > 0 && t(n, r, o); g < y; ) {
              for (t(n, g, y), g++, y--; s(n[g], d) < 0; ) g++;
              for (; s(n[y], d) > 0; ) y--;
            }
            0 === s(n[r], d) ? t(n, r, y) : t(n, ++y, o),
              y <= i && (r = y + 1),
              i <= y && (o = y - 1);
          }
        })(n, i, r || 0, o || n.length - 1, s || e);
      };
    })();
  },
  function (t, e, n) {
    "use strict";
    t.exports = function (t) {
      var e = t.length;
      if (e < 3) {
        for (var n = new Array(e), r = 0; r < e; ++r) n[r] = r;
        return 2 === e && t[0][0] === t[1][0] && t[0][1] === t[1][1] ? [0] : n;
      }
      var o = new Array(e);
      for (r = 0; r < e; ++r) o[r] = r;
      o.sort(function (e, n) {
        var i = t[e][0] - t[n][0];
        return i || t[e][1] - t[n][1];
      });
      var s = [o[0], o[1]],
        a = [o[0], o[1]];
      for (r = 2; r < e; ++r) {
        for (
          var u = o[r], c = t[u], h = s.length;
          h > 1 && i(t[s[h - 2]], t[s[h - 1]], c) <= 0;

        )
          (h -= 1), s.pop();
        for (
          s.push(u), h = a.length;
          h > 1 && i(t[a[h - 2]], t[a[h - 1]], c) >= 0;

        )
          (h -= 1), a.pop();
        a.push(u);
      }
      n = new Array(a.length + s.length - 2);
      for (var l = 0, p = ((r = 0), s.length); r < p; ++r) n[l++] = s[r];
      for (var f = a.length - 2; f > 0; --f) n[l++] = a[f];
      return n;
    };
    var i = n(136)[3];
  },
  function (t, e, n) {
    "use strict";
    t.exports = function (t, e) {
      var n = 0 | t.length,
        i = 0 | e.length;
      if (1 === n && 1 === i)
        return (function (t, e) {
          var n = t + e,
            i = n - t,
            r = t - (n - i) + (e - i);
          if (r) return [r, n];
          return [n];
        })(t[0], e[0]);
      var r,
        o,
        s = new Array(n + i),
        a = 0,
        u = 0,
        c = 0,
        h = Math.abs,
        l = t[u],
        p = h(l),
        f = e[c],
        d = h(f);
      p < d
        ? ((o = l), (u += 1) < n && ((l = t[u]), (p = h(l))))
        : ((o = f), (c += 1) < i && ((f = e[c]), (d = h(f))));
      (u < n && p < d) || c >= i
        ? ((r = l), (u += 1) < n && ((l = t[u]), (p = h(l))))
        : ((r = f), (c += 1) < i && ((f = e[c]), (d = h(f))));
      var g,
        y,
        _ = r + o,
        v = _ - r,
        m = o - v,
        x = m,
        E = _;
      for (; u < n && c < i; )
        p < d
          ? ((r = l), (u += 1) < n && ((l = t[u]), (p = h(l))))
          : ((r = f), (c += 1) < i && ((f = e[c]), (d = h(f)))),
          (m = (o = x) - (v = (_ = r + o) - r)) && (s[a++] = m),
          (x = E - ((g = E + _) - (y = g - E)) + (_ - y)),
          (E = g);
      for (; u < n; )
        (m = (o = x) - (v = (_ = (r = l) + o) - r)) && (s[a++] = m),
          (x = E - ((g = E + _) - (y = g - E)) + (_ - y)),
          (E = g),
          (u += 1) < n && (l = t[u]);
      for (; c < i; )
        (m = (o = x) - (v = (_ = (r = f) + o) - r)) && (s[a++] = m),
          (x = E - ((g = E + _) - (y = g - E)) + (_ - y)),
          (E = g),
          (c += 1) < i && (f = e[c]);
      x && (s[a++] = x);
      E && (s[a++] = E);
      a || (s[a++] = 0);
      return (s.length = a), s;
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(137),
      r = n(186);
    t.exports = function (t, e) {
      var n = t.length;
      if (1 === n) {
        var o = i(t[0], e);
        return o[0] ? o : [o[1]];
      }
      var s = new Array(2 * n),
        a = [0.1, 0.1],
        u = [0.1, 0.1],
        c = 0;
      i(t[0], e, a), a[0] && (s[c++] = a[0]);
      for (var h = 1; h < n; ++h) {
        i(t[h], e, u);
        var l = a[1];
        r(l, u[0], a), a[0] && (s[c++] = a[0]);
        var p = u[1],
          f = a[1],
          d = p + f,
          g = f - (d - p);
        (a[1] = d), g && (s[c++] = g);
      }
      a[1] && (s[c++] = a[1]);
      0 === c && (s[c++] = 0);
      return (s.length = c), s;
    };
  },
  function (t, e, n) {
    "use strict";
    t.exports = function (t, e, n) {
      var i = t + e,
        r = i - t,
        o = e - r,
        s = t - (i - r);
      if (n) return (n[0] = s + o), (n[1] = i), n;
      return [s + o, i];
    };
  },
  function (t, e, n) {
    "use strict";
    t.exports = function (t, e) {
      var n = 0 | t.length,
        i = 0 | e.length;
      if (1 === n && 1 === i)
        return (function (t, e) {
          var n = t + e,
            i = n - t,
            r = t - (n - i) + (e - i);
          if (r) return [r, n];
          return [n];
        })(t[0], -e[0]);
      var r,
        o,
        s = new Array(n + i),
        a = 0,
        u = 0,
        c = 0,
        h = Math.abs,
        l = t[u],
        p = h(l),
        f = -e[c],
        d = h(f);
      p < d
        ? ((o = l), (u += 1) < n && ((l = t[u]), (p = h(l))))
        : ((o = f), (c += 1) < i && ((f = -e[c]), (d = h(f))));
      (u < n && p < d) || c >= i
        ? ((r = l), (u += 1) < n && ((l = t[u]), (p = h(l))))
        : ((r = f), (c += 1) < i && ((f = -e[c]), (d = h(f))));
      var g,
        y,
        _ = r + o,
        v = _ - r,
        m = o - v,
        x = m,
        E = _;
      for (; u < n && c < i; )
        p < d
          ? ((r = l), (u += 1) < n && ((l = t[u]), (p = h(l))))
          : ((r = f), (c += 1) < i && ((f = -e[c]), (d = h(f)))),
          (m = (o = x) - (v = (_ = r + o) - r)) && (s[a++] = m),
          (x = E - ((g = E + _) - (y = g - E)) + (_ - y)),
          (E = g);
      for (; u < n; )
        (m = (o = x) - (v = (_ = (r = l) + o) - r)) && (s[a++] = m),
          (x = E - ((g = E + _) - (y = g - E)) + (_ - y)),
          (E = g),
          (u += 1) < n && (l = t[u]);
      for (; c < i; )
        (m = (o = x) - (v = (_ = (r = f) + o) - r)) && (s[a++] = m),
          (x = E - ((g = E + _) - (y = g - E)) + (_ - y)),
          (E = g),
          (c += 1) < i && (f = -e[c]);
      x && (s[a++] = x);
      E && (s[a++] = E);
      a || (s[a++] = 0);
      return (s.length = a), s;
    };
  },
  function (t, e, n) {
    "use strict";
    function i(t, e) {
      if (!(this instanceof i)) return new i(t, e);
      if (
        ((this.data = t || []),
        (this.length = this.data.length),
        (this.compare = e || r),
        this.length > 0)
      )
        for (var n = (this.length >> 1) - 1; n >= 0; n--) this._down(n);
    }
    function r(t, e) {
      return t < e ? -1 : t > e ? 1 : 0;
    }
    (t.exports = i),
      (t.exports.default = i),
      (i.prototype = {
        push: function (t) {
          this.data.push(t), this.length++, this._up(this.length - 1);
        },
        pop: function () {
          if (0 !== this.length) {
            var t = this.data[0];
            return (
              this.length--,
              this.length > 0 &&
                ((this.data[0] = this.data[this.length]), this._down(0)),
              this.data.pop(),
              t
            );
          }
        },
        peek: function () {
          return this.data[0];
        },
        _up: function (t) {
          for (var e = this.data, n = this.compare, i = e[t]; t > 0; ) {
            var r = (t - 1) >> 1,
              o = e[r];
            if (n(i, o) >= 0) break;
            (e[t] = o), (t = r);
          }
          e[t] = i;
        },
        _down: function (t) {
          for (
            var e = this.data, n = this.compare, i = this.length >> 1, r = e[t];
            t < i;

          ) {
            var o = 1 + (t << 1),
              s = o + 1,
              a = e[o];
            if (
              (s < this.length && n(e[s], a) < 0 && ((o = s), (a = e[s])),
              n(a, r) >= 0)
            )
              break;
            (e[t] = a), (t = o);
          }
          e[t] = r;
        },
      });
  },
  function (t, e) {
    t.exports = function (t, e) {
      for (
        var n = t[0], i = t[1], r = !1, o = 0, s = e.length - 1;
        o < e.length;
        s = o++
      ) {
        var a = e[o][0],
          u = e[o][1],
          c = e[s][0],
          h = e[s][1];
        u > i != h > i && n < ((c - a) * (i - u)) / (h - u) + a && (r = !r);
      }
      return r;
    };
  },
  function (t, e, n) {
    "use strict";
    (function (t) {
      /*!
       * The buffer module from node.js, for the browser.
       *
       * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
       * @license  MIT
       */
      var i = n(191),
        r = n(192),
        o = n(193);
      function s() {
        return u.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
      }
      function a(t, e) {
        if (s() < e) throw new RangeError("Invalid typed array length");
        return (
          u.TYPED_ARRAY_SUPPORT
            ? ((t = new Uint8Array(e)).__proto__ = u.prototype)
            : (null === t && (t = new u(e)), (t.length = e)),
          t
        );
      }
      function u(t, e, n) {
        if (!(u.TYPED_ARRAY_SUPPORT || this instanceof u))
          return new u(t, e, n);
        if ("number" == typeof t) {
          if ("string" == typeof e)
            throw new Error(
              "If encoding is specified then the first argument must be a string"
            );
          return l(this, t);
        }
        return c(this, t, e, n);
      }
      function c(t, e, n, i) {
        if ("number" == typeof e)
          throw new TypeError('"value" argument must not be a number');
        return "undefined" != typeof ArrayBuffer && e instanceof ArrayBuffer
          ? (function (t, e, n, i) {
              if ((e.byteLength, n < 0 || e.byteLength < n))
                throw new RangeError("'offset' is out of bounds");
              if (e.byteLength < n + (i || 0))
                throw new RangeError("'length' is out of bounds");
              e =
                void 0 === n && void 0 === i
                  ? new Uint8Array(e)
                  : void 0 === i
                  ? new Uint8Array(e, n)
                  : new Uint8Array(e, n, i);
              u.TYPED_ARRAY_SUPPORT
                ? ((t = e).__proto__ = u.prototype)
                : (t = p(t, e));
              return t;
            })(t, e, n, i)
          : "string" == typeof e
          ? (function (t, e, n) {
              ("string" == typeof n && "" !== n) || (n = "utf8");
              if (!u.isEncoding(n))
                throw new TypeError(
                  '"encoding" must be a valid string encoding'
                );
              var i = 0 | d(e, n),
                r = (t = a(t, i)).write(e, n);
              r !== i && (t = t.slice(0, r));
              return t;
            })(t, e, n)
          : (function (t, e) {
              if (u.isBuffer(e)) {
                var n = 0 | f(e.length);
                return 0 === (t = a(t, n)).length ? t : (e.copy(t, 0, 0, n), t);
              }
              if (e) {
                if (
                  ("undefined" != typeof ArrayBuffer &&
                    e.buffer instanceof ArrayBuffer) ||
                  "length" in e
                )
                  return "number" != typeof e.length || (i = e.length) != i
                    ? a(t, 0)
                    : p(t, e);
                if ("Buffer" === e.type && o(e.data)) return p(t, e.data);
              }
              var i;
              throw new TypeError(
                "First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object."
              );
            })(t, e);
      }
      function h(t) {
        if ("number" != typeof t)
          throw new TypeError('"size" argument must be a number');
        if (t < 0) throw new RangeError('"size" argument must not be negative');
      }
      function l(t, e) {
        if ((h(e), (t = a(t, e < 0 ? 0 : 0 | f(e))), !u.TYPED_ARRAY_SUPPORT))
          for (var n = 0; n < e; ++n) t[n] = 0;
        return t;
      }
      function p(t, e) {
        var n = e.length < 0 ? 0 : 0 | f(e.length);
        t = a(t, n);
        for (var i = 0; i < n; i += 1) t[i] = 255 & e[i];
        return t;
      }
      function f(t) {
        if (t >= s())
          throw new RangeError(
            "Attempt to allocate Buffer larger than maximum size: 0x" +
              s().toString(16) +
              " bytes"
          );
        return 0 | t;
      }
      function d(t, e) {
        if (u.isBuffer(t)) return t.length;
        if (
          "undefined" != typeof ArrayBuffer &&
          "function" == typeof ArrayBuffer.isView &&
          (ArrayBuffer.isView(t) || t instanceof ArrayBuffer)
        )
          return t.byteLength;
        "string" != typeof t && (t = "" + t);
        var n = t.length;
        if (0 === n) return 0;
        for (var i = !1; ; )
          switch (e) {
            case "ascii":
            case "latin1":
            case "binary":
              return n;
            case "utf8":
            case "utf-8":
            case void 0:
              return U(t).length;
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return 2 * n;
            case "hex":
              return n >>> 1;
            case "base64":
              return Y(t).length;
            default:
              if (i) return U(t).length;
              (e = ("" + e).toLowerCase()), (i = !0);
          }
      }
      function g(t, e, n) {
        var i = !1;
        if (((void 0 === e || e < 0) && (e = 0), e > this.length)) return "";
        if (((void 0 === n || n > this.length) && (n = this.length), n <= 0))
          return "";
        if ((n >>>= 0) <= (e >>>= 0)) return "";
        for (t || (t = "utf8"); ; )
          switch (t) {
            case "hex":
              return L(this, e, n);
            case "utf8":
            case "utf-8":
              return C(this, e, n);
            case "ascii":
              return O(this, e, n);
            case "latin1":
            case "binary":
              return R(this, e, n);
            case "base64":
              return S(this, e, n);
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return M(this, e, n);
            default:
              if (i) throw new TypeError("Unknown encoding: " + t);
              (t = (t + "").toLowerCase()), (i = !0);
          }
      }
      function y(t, e, n) {
        var i = t[e];
        (t[e] = t[n]), (t[n] = i);
      }
      function _(t, e, n, i, r) {
        if (0 === t.length) return -1;
        if (
          ("string" == typeof n
            ? ((i = n), (n = 0))
            : n > 2147483647
            ? (n = 2147483647)
            : n < -2147483648 && (n = -2147483648),
          (n = +n),
          isNaN(n) && (n = r ? 0 : t.length - 1),
          n < 0 && (n = t.length + n),
          n >= t.length)
        ) {
          if (r) return -1;
          n = t.length - 1;
        } else if (n < 0) {
          if (!r) return -1;
          n = 0;
        }
        if (("string" == typeof e && (e = u.from(e, i)), u.isBuffer(e)))
          return 0 === e.length ? -1 : v(t, e, n, i, r);
        if ("number" == typeof e)
          return (
            (e &= 255),
            u.TYPED_ARRAY_SUPPORT &&
            "function" == typeof Uint8Array.prototype.indexOf
              ? r
                ? Uint8Array.prototype.indexOf.call(t, e, n)
                : Uint8Array.prototype.lastIndexOf.call(t, e, n)
              : v(t, [e], n, i, r)
          );
        throw new TypeError("val must be string, number or Buffer");
      }
      function v(t, e, n, i, r) {
        var o,
          s = 1,
          a = t.length,
          u = e.length;
        if (
          void 0 !== i &&
          ("ucs2" === (i = String(i).toLowerCase()) ||
            "ucs-2" === i ||
            "utf16le" === i ||
            "utf-16le" === i)
        ) {
          if (t.length < 2 || e.length < 2) return -1;
          (s = 2), (a /= 2), (u /= 2), (n /= 2);
        }
        function c(t, e) {
          return 1 === s ? t[e] : t.readUInt16BE(e * s);
        }
        if (r) {
          var h = -1;
          for (o = n; o < a; o++)
            if (c(t, o) === c(e, -1 === h ? 0 : o - h)) {
              if ((-1 === h && (h = o), o - h + 1 === u)) return h * s;
            } else -1 !== h && (o -= o - h), (h = -1);
        } else
          for (n + u > a && (n = a - u), o = n; o >= 0; o--) {
            for (var l = !0, p = 0; p < u; p++)
              if (c(t, o + p) !== c(e, p)) {
                l = !1;
                break;
              }
            if (l) return o;
          }
        return -1;
      }
      function m(t, e, n, i) {
        n = Number(n) || 0;
        var r = t.length - n;
        i ? (i = Number(i)) > r && (i = r) : (i = r);
        var o = e.length;
        if (o % 2 != 0) throw new TypeError("Invalid hex string");
        i > o / 2 && (i = o / 2);
        for (var s = 0; s < i; ++s) {
          var a = parseInt(e.substr(2 * s, 2), 16);
          if (isNaN(a)) return s;
          t[n + s] = a;
        }
        return s;
      }
      function x(t, e, n, i) {
        return X(U(e, t.length - n), t, n, i);
      }
      function E(t, e, n, i) {
        return X(
          (function (t) {
            for (var e = [], n = 0; n < t.length; ++n)
              e.push(255 & t.charCodeAt(n));
            return e;
          })(e),
          t,
          n,
          i
        );
      }
      function b(t, e, n, i) {
        return E(t, e, n, i);
      }
      function w(t, e, n, i) {
        return X(Y(e), t, n, i);
      }
      function I(t, e, n, i) {
        return X(
          (function (t, e) {
            for (
              var n, i, r, o = [], s = 0;
              s < t.length && !((e -= 2) < 0);
              ++s
            )
              (n = t.charCodeAt(s)),
                (i = n >> 8),
                (r = n % 256),
                o.push(r),
                o.push(i);
            return o;
          })(e, t.length - n),
          t,
          n,
          i
        );
      }
      function S(t, e, n) {
        return 0 === e && n === t.length
          ? i.fromByteArray(t)
          : i.fromByteArray(t.slice(e, n));
      }
      function C(t, e, n) {
        n = Math.min(t.length, n);
        for (var i = [], r = e; r < n; ) {
          var o,
            s,
            a,
            u,
            c = t[r],
            h = null,
            l = c > 239 ? 4 : c > 223 ? 3 : c > 191 ? 2 : 1;
          if (r + l <= n)
            switch (l) {
              case 1:
                c < 128 && (h = c);
                break;
              case 2:
                128 == (192 & (o = t[r + 1])) &&
                  (u = ((31 & c) << 6) | (63 & o)) > 127 &&
                  (h = u);
                break;
              case 3:
                (o = t[r + 1]),
                  (s = t[r + 2]),
                  128 == (192 & o) &&
                    128 == (192 & s) &&
                    (u = ((15 & c) << 12) | ((63 & o) << 6) | (63 & s)) >
                      2047 &&
                    (u < 55296 || u > 57343) &&
                    (h = u);
                break;
              case 4:
                (o = t[r + 1]),
                  (s = t[r + 2]),
                  (a = t[r + 3]),
                  128 == (192 & o) &&
                    128 == (192 & s) &&
                    128 == (192 & a) &&
                    (u =
                      ((15 & c) << 18) |
                      ((63 & o) << 12) |
                      ((63 & s) << 6) |
                      (63 & a)) > 65535 &&
                    u < 1114112 &&
                    (h = u);
            }
          null === h
            ? ((h = 65533), (l = 1))
            : h > 65535 &&
              ((h -= 65536),
              i.push(((h >>> 10) & 1023) | 55296),
              (h = 56320 | (1023 & h))),
            i.push(h),
            (r += l);
        }
        return (function (t) {
          var e = t.length;
          if (e <= T) return String.fromCharCode.apply(String, t);
          var n = "",
            i = 0;
          for (; i < e; )
            n += String.fromCharCode.apply(String, t.slice(i, (i += T)));
          return n;
        })(i);
      }
      (e.Buffer = u),
        (e.SlowBuffer = function (t) {
          +t != t && (t = 0);
          return u.alloc(+t);
        }),
        (e.INSPECT_MAX_BYTES = 50),
        (u.TYPED_ARRAY_SUPPORT =
          void 0 !== t.TYPED_ARRAY_SUPPORT
            ? t.TYPED_ARRAY_SUPPORT
            : (function () {
                try {
                  var t = new Uint8Array(1);
                  return (
                    (t.__proto__ = {
                      __proto__: Uint8Array.prototype,
                      foo: function () {
                        return 42;
                      },
                    }),
                    42 === t.foo() &&
                      "function" == typeof t.subarray &&
                      0 === t.subarray(1, 1).byteLength
                  );
                } catch (t) {
                  return !1;
                }
              })()),
        (e.kMaxLength = s()),
        (u.poolSize = 8192),
        (u._augment = function (t) {
          return (t.__proto__ = u.prototype), t;
        }),
        (u.from = function (t, e, n) {
          return c(null, t, e, n);
        }),
        u.TYPED_ARRAY_SUPPORT &&
          ((u.prototype.__proto__ = Uint8Array.prototype),
          (u.__proto__ = Uint8Array),
          "undefined" != typeof Symbol &&
            Symbol.species &&
            u[Symbol.species] === u &&
            Object.defineProperty(u, Symbol.species, {
              value: null,
              configurable: !0,
            })),
        (u.alloc = function (t, e, n) {
          return (function (t, e, n, i) {
            return (
              h(e),
              e <= 0
                ? a(t, e)
                : void 0 !== n
                ? "string" == typeof i
                  ? a(t, e).fill(n, i)
                  : a(t, e).fill(n)
                : a(t, e)
            );
          })(null, t, e, n);
        }),
        (u.allocUnsafe = function (t) {
          return l(null, t);
        }),
        (u.allocUnsafeSlow = function (t) {
          return l(null, t);
        }),
        (u.isBuffer = function (t) {
          return !(null == t || !t._isBuffer);
        }),
        (u.compare = function (t, e) {
          if (!u.isBuffer(t) || !u.isBuffer(e))
            throw new TypeError("Arguments must be Buffers");
          if (t === e) return 0;
          for (
            var n = t.length, i = e.length, r = 0, o = Math.min(n, i);
            r < o;
            ++r
          )
            if (t[r] !== e[r]) {
              (n = t[r]), (i = e[r]);
              break;
            }
          return n < i ? -1 : i < n ? 1 : 0;
        }),
        (u.isEncoding = function (t) {
          switch (String(t).toLowerCase()) {
            case "hex":
            case "utf8":
            case "utf-8":
            case "ascii":
            case "latin1":
            case "binary":
            case "base64":
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return !0;
            default:
              return !1;
          }
        }),
        (u.concat = function (t, e) {
          if (!o(t))
            throw new TypeError('"list" argument must be an Array of Buffers');
          if (0 === t.length) return u.alloc(0);
          var n;
          if (void 0 === e)
            for (e = 0, n = 0; n < t.length; ++n) e += t[n].length;
          var i = u.allocUnsafe(e),
            r = 0;
          for (n = 0; n < t.length; ++n) {
            var s = t[n];
            if (!u.isBuffer(s))
              throw new TypeError(
                '"list" argument must be an Array of Buffers'
              );
            s.copy(i, r), (r += s.length);
          }
          return i;
        }),
        (u.byteLength = d),
        (u.prototype._isBuffer = !0),
        (u.prototype.swap16 = function () {
          var t = this.length;
          if (t % 2 != 0)
            throw new RangeError("Buffer size must be a multiple of 16-bits");
          for (var e = 0; e < t; e += 2) y(this, e, e + 1);
          return this;
        }),
        (u.prototype.swap32 = function () {
          var t = this.length;
          if (t % 4 != 0)
            throw new RangeError("Buffer size must be a multiple of 32-bits");
          for (var e = 0; e < t; e += 4)
            y(this, e, e + 3), y(this, e + 1, e + 2);
          return this;
        }),
        (u.prototype.swap64 = function () {
          var t = this.length;
          if (t % 8 != 0)
            throw new RangeError("Buffer size must be a multiple of 64-bits");
          for (var e = 0; e < t; e += 8)
            y(this, e, e + 7),
              y(this, e + 1, e + 6),
              y(this, e + 2, e + 5),
              y(this, e + 3, e + 4);
          return this;
        }),
        (u.prototype.toString = function () {
          var t = 0 | this.length;
          return 0 === t
            ? ""
            : 0 === arguments.length
            ? C(this, 0, t)
            : g.apply(this, arguments);
        }),
        (u.prototype.equals = function (t) {
          if (!u.isBuffer(t)) throw new TypeError("Argument must be a Buffer");
          return this === t || 0 === u.compare(this, t);
        }),
        (u.prototype.inspect = function () {
          var t = "",
            n = e.INSPECT_MAX_BYTES;
          return (
            this.length > 0 &&
              ((t = this.toString("hex", 0, n).match(/.{2}/g).join(" ")),
              this.length > n && (t += " ... ")),
            "<Buffer " + t + ">"
          );
        }),
        (u.prototype.compare = function (t, e, n, i, r) {
          if (!u.isBuffer(t)) throw new TypeError("Argument must be a Buffer");
          if (
            (void 0 === e && (e = 0),
            void 0 === n && (n = t ? t.length : 0),
            void 0 === i && (i = 0),
            void 0 === r && (r = this.length),
            e < 0 || n > t.length || i < 0 || r > this.length)
          )
            throw new RangeError("out of range index");
          if (i >= r && e >= n) return 0;
          if (i >= r) return -1;
          if (e >= n) return 1;
          if (this === t) return 0;
          for (
            var o = (r >>>= 0) - (i >>>= 0),
              s = (n >>>= 0) - (e >>>= 0),
              a = Math.min(o, s),
              c = this.slice(i, r),
              h = t.slice(e, n),
              l = 0;
            l < a;
            ++l
          )
            if (c[l] !== h[l]) {
              (o = c[l]), (s = h[l]);
              break;
            }
          return o < s ? -1 : s < o ? 1 : 0;
        }),
        (u.prototype.includes = function (t, e, n) {
          return -1 !== this.indexOf(t, e, n);
        }),
        (u.prototype.indexOf = function (t, e, n) {
          return _(this, t, e, n, !0);
        }),
        (u.prototype.lastIndexOf = function (t, e, n) {
          return _(this, t, e, n, !1);
        }),
        (u.prototype.write = function (t, e, n, i) {
          if (void 0 === e) (i = "utf8"), (n = this.length), (e = 0);
          else if (void 0 === n && "string" == typeof e)
            (i = e), (n = this.length), (e = 0);
          else {
            if (!isFinite(e))
              throw new Error(
                "Buffer.write(string, encoding, offset[, length]) is no longer supported"
              );
            (e |= 0),
              isFinite(n)
                ? ((n |= 0), void 0 === i && (i = "utf8"))
                : ((i = n), (n = void 0));
          }
          var r = this.length - e;
          if (
            ((void 0 === n || n > r) && (n = r),
            (t.length > 0 && (n < 0 || e < 0)) || e > this.length)
          )
            throw new RangeError("Attempt to write outside buffer bounds");
          i || (i = "utf8");
          for (var o = !1; ; )
            switch (i) {
              case "hex":
                return m(this, t, e, n);
              case "utf8":
              case "utf-8":
                return x(this, t, e, n);
              case "ascii":
                return E(this, t, e, n);
              case "latin1":
              case "binary":
                return b(this, t, e, n);
              case "base64":
                return w(this, t, e, n);
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return I(this, t, e, n);
              default:
                if (o) throw new TypeError("Unknown encoding: " + i);
                (i = ("" + i).toLowerCase()), (o = !0);
            }
        }),
        (u.prototype.toJSON = function () {
          return {
            type: "Buffer",
            data: Array.prototype.slice.call(this._arr || this, 0),
          };
        });
      var T = 4096;
      function O(t, e, n) {
        var i = "";
        n = Math.min(t.length, n);
        for (var r = e; r < n; ++r) i += String.fromCharCode(127 & t[r]);
        return i;
      }
      function R(t, e, n) {
        var i = "";
        n = Math.min(t.length, n);
        for (var r = e; r < n; ++r) i += String.fromCharCode(t[r]);
        return i;
      }
      function L(t, e, n) {
        var i = t.length;
        (!e || e < 0) && (e = 0), (!n || n < 0 || n > i) && (n = i);
        for (var r = "", o = e; o < n; ++o) r += B(t[o]);
        return r;
      }
      function M(t, e, n) {
        for (var i = t.slice(e, n), r = "", o = 0; o < i.length; o += 2)
          r += String.fromCharCode(i[o] + 256 * i[o + 1]);
        return r;
      }
      function A(t, e, n) {
        if (t % 1 != 0 || t < 0) throw new RangeError("offset is not uint");
        if (t + e > n)
          throw new RangeError("Trying to access beyond buffer length");
      }
      function N(t, e, n, i, r, o) {
        if (!u.isBuffer(t))
          throw new TypeError('"buffer" argument must be a Buffer instance');
        if (e > r || e < o)
          throw new RangeError('"value" argument is out of bounds');
        if (n + i > t.length) throw new RangeError("Index out of range");
      }
      function P(t, e, n, i) {
        e < 0 && (e = 65535 + e + 1);
        for (var r = 0, o = Math.min(t.length - n, 2); r < o; ++r)
          t[n + r] =
            (e & (255 << (8 * (i ? r : 1 - r)))) >>> (8 * (i ? r : 1 - r));
      }
      function D(t, e, n, i) {
        e < 0 && (e = 4294967295 + e + 1);
        for (var r = 0, o = Math.min(t.length - n, 4); r < o; ++r)
          t[n + r] = (e >>> (8 * (i ? r : 3 - r))) & 255;
      }
      function k(t, e, n, i, r, o) {
        if (n + i > t.length) throw new RangeError("Index out of range");
        if (n < 0) throw new RangeError("Index out of range");
      }
      function F(t, e, n, i, o) {
        return o || k(t, 0, n, 4), r.write(t, e, n, i, 23, 4), n + 4;
      }
      function G(t, e, n, i, o) {
        return o || k(t, 0, n, 8), r.write(t, e, n, i, 52, 8), n + 8;
      }
      (u.prototype.slice = function (t, e) {
        var n,
          i = this.length;
        if (
          ((t = ~~t) < 0 ? (t += i) < 0 && (t = 0) : t > i && (t = i),
          (e = void 0 === e ? i : ~~e) < 0
            ? (e += i) < 0 && (e = 0)
            : e > i && (e = i),
          e < t && (e = t),
          u.TYPED_ARRAY_SUPPORT)
        )
          (n = this.subarray(t, e)).__proto__ = u.prototype;
        else {
          var r = e - t;
          n = new u(r, void 0);
          for (var o = 0; o < r; ++o) n[o] = this[o + t];
        }
        return n;
      }),
        (u.prototype.readUIntLE = function (t, e, n) {
          (t |= 0), (e |= 0), n || A(t, e, this.length);
          for (var i = this[t], r = 1, o = 0; ++o < e && (r *= 256); )
            i += this[t + o] * r;
          return i;
        }),
        (u.prototype.readUIntBE = function (t, e, n) {
          (t |= 0), (e |= 0), n || A(t, e, this.length);
          for (var i = this[t + --e], r = 1; e > 0 && (r *= 256); )
            i += this[t + --e] * r;
          return i;
        }),
        (u.prototype.readUInt8 = function (t, e) {
          return e || A(t, 1, this.length), this[t];
        }),
        (u.prototype.readUInt16LE = function (t, e) {
          return e || A(t, 2, this.length), this[t] | (this[t + 1] << 8);
        }),
        (u.prototype.readUInt16BE = function (t, e) {
          return e || A(t, 2, this.length), (this[t] << 8) | this[t + 1];
        }),
        (u.prototype.readUInt32LE = function (t, e) {
          return (
            e || A(t, 4, this.length),
            (this[t] | (this[t + 1] << 8) | (this[t + 2] << 16)) +
              16777216 * this[t + 3]
          );
        }),
        (u.prototype.readUInt32BE = function (t, e) {
          return (
            e || A(t, 4, this.length),
            16777216 * this[t] +
              ((this[t + 1] << 16) | (this[t + 2] << 8) | this[t + 3])
          );
        }),
        (u.prototype.readIntLE = function (t, e, n) {
          (t |= 0), (e |= 0), n || A(t, e, this.length);
          for (var i = this[t], r = 1, o = 0; ++o < e && (r *= 256); )
            i += this[t + o] * r;
          return i >= (r *= 128) && (i -= Math.pow(2, 8 * e)), i;
        }),
        (u.prototype.readIntBE = function (t, e, n) {
          (t |= 0), (e |= 0), n || A(t, e, this.length);
          for (var i = e, r = 1, o = this[t + --i]; i > 0 && (r *= 256); )
            o += this[t + --i] * r;
          return o >= (r *= 128) && (o -= Math.pow(2, 8 * e)), o;
        }),
        (u.prototype.readInt8 = function (t, e) {
          return (
            e || A(t, 1, this.length),
            128 & this[t] ? -1 * (255 - this[t] + 1) : this[t]
          );
        }),
        (u.prototype.readInt16LE = function (t, e) {
          e || A(t, 2, this.length);
          var n = this[t] | (this[t + 1] << 8);
          return 32768 & n ? 4294901760 | n : n;
        }),
        (u.prototype.readInt16BE = function (t, e) {
          e || A(t, 2, this.length);
          var n = this[t + 1] | (this[t] << 8);
          return 32768 & n ? 4294901760 | n : n;
        }),
        (u.prototype.readInt32LE = function (t, e) {
          return (
            e || A(t, 4, this.length),
            this[t] |
              (this[t + 1] << 8) |
              (this[t + 2] << 16) |
              (this[t + 3] << 24)
          );
        }),
        (u.prototype.readInt32BE = function (t, e) {
          return (
            e || A(t, 4, this.length),
            (this[t] << 24) |
              (this[t + 1] << 16) |
              (this[t + 2] << 8) |
              this[t + 3]
          );
        }),
        (u.prototype.readFloatLE = function (t, e) {
          return e || A(t, 4, this.length), r.read(this, t, !0, 23, 4);
        }),
        (u.prototype.readFloatBE = function (t, e) {
          return e || A(t, 4, this.length), r.read(this, t, !1, 23, 4);
        }),
        (u.prototype.readDoubleLE = function (t, e) {
          return e || A(t, 8, this.length), r.read(this, t, !0, 52, 8);
        }),
        (u.prototype.readDoubleBE = function (t, e) {
          return e || A(t, 8, this.length), r.read(this, t, !1, 52, 8);
        }),
        (u.prototype.writeUIntLE = function (t, e, n, i) {
          ((t = +t), (e |= 0), (n |= 0), i) ||
            N(this, t, e, n, Math.pow(2, 8 * n) - 1, 0);
          var r = 1,
            o = 0;
          for (this[e] = 255 & t; ++o < n && (r *= 256); )
            this[e + o] = (t / r) & 255;
          return e + n;
        }),
        (u.prototype.writeUIntBE = function (t, e, n, i) {
          ((t = +t), (e |= 0), (n |= 0), i) ||
            N(this, t, e, n, Math.pow(2, 8 * n) - 1, 0);
          var r = n - 1,
            o = 1;
          for (this[e + r] = 255 & t; --r >= 0 && (o *= 256); )
            this[e + r] = (t / o) & 255;
          return e + n;
        }),
        (u.prototype.writeUInt8 = function (t, e, n) {
          return (
            (t = +t),
            (e |= 0),
            n || N(this, t, e, 1, 255, 0),
            u.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)),
            (this[e] = 255 & t),
            e + 1
          );
        }),
        (u.prototype.writeUInt16LE = function (t, e, n) {
          return (
            (t = +t),
            (e |= 0),
            n || N(this, t, e, 2, 65535, 0),
            u.TYPED_ARRAY_SUPPORT
              ? ((this[e] = 255 & t), (this[e + 1] = t >>> 8))
              : P(this, t, e, !0),
            e + 2
          );
        }),
        (u.prototype.writeUInt16BE = function (t, e, n) {
          return (
            (t = +t),
            (e |= 0),
            n || N(this, t, e, 2, 65535, 0),
            u.TYPED_ARRAY_SUPPORT
              ? ((this[e] = t >>> 8), (this[e + 1] = 255 & t))
              : P(this, t, e, !1),
            e + 2
          );
        }),
        (u.prototype.writeUInt32LE = function (t, e, n) {
          return (
            (t = +t),
            (e |= 0),
            n || N(this, t, e, 4, 4294967295, 0),
            u.TYPED_ARRAY_SUPPORT
              ? ((this[e + 3] = t >>> 24),
                (this[e + 2] = t >>> 16),
                (this[e + 1] = t >>> 8),
                (this[e] = 255 & t))
              : D(this, t, e, !0),
            e + 4
          );
        }),
        (u.prototype.writeUInt32BE = function (t, e, n) {
          return (
            (t = +t),
            (e |= 0),
            n || N(this, t, e, 4, 4294967295, 0),
            u.TYPED_ARRAY_SUPPORT
              ? ((this[e] = t >>> 24),
                (this[e + 1] = t >>> 16),
                (this[e + 2] = t >>> 8),
                (this[e + 3] = 255 & t))
              : D(this, t, e, !1),
            e + 4
          );
        }),
        (u.prototype.writeIntLE = function (t, e, n, i) {
          if (((t = +t), (e |= 0), !i)) {
            var r = Math.pow(2, 8 * n - 1);
            N(this, t, e, n, r - 1, -r);
          }
          var o = 0,
            s = 1,
            a = 0;
          for (this[e] = 255 & t; ++o < n && (s *= 256); )
            t < 0 && 0 === a && 0 !== this[e + o - 1] && (a = 1),
              (this[e + o] = (((t / s) >> 0) - a) & 255);
          return e + n;
        }),
        (u.prototype.writeIntBE = function (t, e, n, i) {
          if (((t = +t), (e |= 0), !i)) {
            var r = Math.pow(2, 8 * n - 1);
            N(this, t, e, n, r - 1, -r);
          }
          var o = n - 1,
            s = 1,
            a = 0;
          for (this[e + o] = 255 & t; --o >= 0 && (s *= 256); )
            t < 0 && 0 === a && 0 !== this[e + o + 1] && (a = 1),
              (this[e + o] = (((t / s) >> 0) - a) & 255);
          return e + n;
        }),
        (u.prototype.writeInt8 = function (t, e, n) {
          return (
            (t = +t),
            (e |= 0),
            n || N(this, t, e, 1, 127, -128),
            u.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)),
            t < 0 && (t = 255 + t + 1),
            (this[e] = 255 & t),
            e + 1
          );
        }),
        (u.prototype.writeInt16LE = function (t, e, n) {
          return (
            (t = +t),
            (e |= 0),
            n || N(this, t, e, 2, 32767, -32768),
            u.TYPED_ARRAY_SUPPORT
              ? ((this[e] = 255 & t), (this[e + 1] = t >>> 8))
              : P(this, t, e, !0),
            e + 2
          );
        }),
        (u.prototype.writeInt16BE = function (t, e, n) {
          return (
            (t = +t),
            (e |= 0),
            n || N(this, t, e, 2, 32767, -32768),
            u.TYPED_ARRAY_SUPPORT
              ? ((this[e] = t >>> 8), (this[e + 1] = 255 & t))
              : P(this, t, e, !1),
            e + 2
          );
        }),
        (u.prototype.writeInt32LE = function (t, e, n) {
          return (
            (t = +t),
            (e |= 0),
            n || N(this, t, e, 4, 2147483647, -2147483648),
            u.TYPED_ARRAY_SUPPORT
              ? ((this[e] = 255 & t),
                (this[e + 1] = t >>> 8),
                (this[e + 2] = t >>> 16),
                (this[e + 3] = t >>> 24))
              : D(this, t, e, !0),
            e + 4
          );
        }),
        (u.prototype.writeInt32BE = function (t, e, n) {
          return (
            (t = +t),
            (e |= 0),
            n || N(this, t, e, 4, 2147483647, -2147483648),
            t < 0 && (t = 4294967295 + t + 1),
            u.TYPED_ARRAY_SUPPORT
              ? ((this[e] = t >>> 24),
                (this[e + 1] = t >>> 16),
                (this[e + 2] = t >>> 8),
                (this[e + 3] = 255 & t))
              : D(this, t, e, !1),
            e + 4
          );
        }),
        (u.prototype.writeFloatLE = function (t, e, n) {
          return F(this, t, e, !0, n);
        }),
        (u.prototype.writeFloatBE = function (t, e, n) {
          return F(this, t, e, !1, n);
        }),
        (u.prototype.writeDoubleLE = function (t, e, n) {
          return G(this, t, e, !0, n);
        }),
        (u.prototype.writeDoubleBE = function (t, e, n) {
          return G(this, t, e, !1, n);
        }),
        (u.prototype.copy = function (t, e, n, i) {
          if (
            (n || (n = 0),
            i || 0 === i || (i = this.length),
            e >= t.length && (e = t.length),
            e || (e = 0),
            i > 0 && i < n && (i = n),
            i === n)
          )
            return 0;
          if (0 === t.length || 0 === this.length) return 0;
          if (e < 0) throw new RangeError("targetStart out of bounds");
          if (n < 0 || n >= this.length)
            throw new RangeError("sourceStart out of bounds");
          if (i < 0) throw new RangeError("sourceEnd out of bounds");
          i > this.length && (i = this.length),
            t.length - e < i - n && (i = t.length - e + n);
          var r,
            o = i - n;
          if (this === t && n < e && e < i)
            for (r = o - 1; r >= 0; --r) t[r + e] = this[r + n];
          else if (o < 1e3 || !u.TYPED_ARRAY_SUPPORT)
            for (r = 0; r < o; ++r) t[r + e] = this[r + n];
          else Uint8Array.prototype.set.call(t, this.subarray(n, n + o), e);
          return o;
        }),
        (u.prototype.fill = function (t, e, n, i) {
          if ("string" == typeof t) {
            if (
              ("string" == typeof e
                ? ((i = e), (e = 0), (n = this.length))
                : "string" == typeof n && ((i = n), (n = this.length)),
              1 === t.length)
            ) {
              var r = t.charCodeAt(0);
              r < 256 && (t = r);
            }
            if (void 0 !== i && "string" != typeof i)
              throw new TypeError("encoding must be a string");
            if ("string" == typeof i && !u.isEncoding(i))
              throw new TypeError("Unknown encoding: " + i);
          } else "number" == typeof t && (t &= 255);
          if (e < 0 || this.length < e || this.length < n)
            throw new RangeError("Out of range index");
          if (n <= e) return this;
          var o;
          if (
            ((e >>>= 0),
            (n = void 0 === n ? this.length : n >>> 0),
            t || (t = 0),
            "number" == typeof t)
          )
            for (o = e; o < n; ++o) this[o] = t;
          else {
            var s = u.isBuffer(t) ? t : U(new u(t, i).toString()),
              a = s.length;
            for (o = 0; o < n - e; ++o) this[o + e] = s[o % a];
          }
          return this;
        });
      var j = /[^+\/0-9A-Za-z-_]/g;
      function B(t) {
        return t < 16 ? "0" + t.toString(16) : t.toString(16);
      }
      function U(t, e) {
        var n;
        e = e || 1 / 0;
        for (var i = t.length, r = null, o = [], s = 0; s < i; ++s) {
          if ((n = t.charCodeAt(s)) > 55295 && n < 57344) {
            if (!r) {
              if (n > 56319) {
                (e -= 3) > -1 && o.push(239, 191, 189);
                continue;
              }
              if (s + 1 === i) {
                (e -= 3) > -1 && o.push(239, 191, 189);
                continue;
              }
              r = n;
              continue;
            }
            if (n < 56320) {
              (e -= 3) > -1 && o.push(239, 191, 189), (r = n);
              continue;
            }
            n = 65536 + (((r - 55296) << 10) | (n - 56320));
          } else r && (e -= 3) > -1 && o.push(239, 191, 189);
          if (((r = null), n < 128)) {
            if ((e -= 1) < 0) break;
            o.push(n);
          } else if (n < 2048) {
            if ((e -= 2) < 0) break;
            o.push((n >> 6) | 192, (63 & n) | 128);
          } else if (n < 65536) {
            if ((e -= 3) < 0) break;
            o.push((n >> 12) | 224, ((n >> 6) & 63) | 128, (63 & n) | 128);
          } else {
            if (!(n < 1114112)) throw new Error("Invalid code point");
            if ((e -= 4) < 0) break;
            o.push(
              (n >> 18) | 240,
              ((n >> 12) & 63) | 128,
              ((n >> 6) & 63) | 128,
              (63 & n) | 128
            );
          }
        }
        return o;
      }
      function Y(t) {
        return i.toByteArray(
          (function (t) {
            if (
              (t = (function (t) {
                return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "");
              })(t).replace(j, "")).length < 2
            )
              return "";
            for (; t.length % 4 != 0; ) t += "=";
            return t;
          })(t)
        );
      }
      function X(t, e, n, i) {
        for (var r = 0; r < i && !(r + n >= e.length || r >= t.length); ++r)
          e[r + n] = t[r];
        return r;
      }
    }.call(this, n(113)));
  },
  function (t, e, n) {
    "use strict";
    (e.byteLength = function (t) {
      var e = c(t),
        n = e[0],
        i = e[1];
      return (3 * (n + i)) / 4 - i;
    }),
      (e.toByteArray = function (t) {
        var e,
          n,
          i = c(t),
          s = i[0],
          a = i[1],
          u = new o(
            (function (t, e, n) {
              return (3 * (e + n)) / 4 - n;
            })(0, s, a)
          ),
          h = 0,
          l = a > 0 ? s - 4 : s;
        for (n = 0; n < l; n += 4)
          (e =
            (r[t.charCodeAt(n)] << 18) |
            (r[t.charCodeAt(n + 1)] << 12) |
            (r[t.charCodeAt(n + 2)] << 6) |
            r[t.charCodeAt(n + 3)]),
            (u[h++] = (e >> 16) & 255),
            (u[h++] = (e >> 8) & 255),
            (u[h++] = 255 & e);
        2 === a &&
          ((e = (r[t.charCodeAt(n)] << 2) | (r[t.charCodeAt(n + 1)] >> 4)),
          (u[h++] = 255 & e));
        1 === a &&
          ((e =
            (r[t.charCodeAt(n)] << 10) |
            (r[t.charCodeAt(n + 1)] << 4) |
            (r[t.charCodeAt(n + 2)] >> 2)),
          (u[h++] = (e >> 8) & 255),
          (u[h++] = 255 & e));
        return u;
      }),
      (e.fromByteArray = function (t) {
        for (
          var e, n = t.length, r = n % 3, o = [], s = 0, a = n - r;
          s < a;
          s += 16383
        )
          o.push(h(t, s, s + 16383 > a ? a : s + 16383));
        1 === r
          ? ((e = t[n - 1]), o.push(i[e >> 2] + i[(e << 4) & 63] + "=="))
          : 2 === r &&
            ((e = (t[n - 2] << 8) + t[n - 1]),
            o.push(i[e >> 10] + i[(e >> 4) & 63] + i[(e << 2) & 63] + "="));
        return o.join("");
      });
    for (
      var i = [],
        r = [],
        o = "undefined" != typeof Uint8Array ? Uint8Array : Array,
        s = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
        a = 0,
        u = s.length;
      a < u;
      ++a
    )
      (i[a] = s[a]), (r[s.charCodeAt(a)] = a);
    function c(t) {
      var e = t.length;
      if (e % 4 > 0)
        throw new Error("Invalid string. Length must be a multiple of 4");
      var n = t.indexOf("=");
      return -1 === n && (n = e), [n, n === e ? 0 : 4 - (n % 4)];
    }
    function h(t, e, n) {
      for (var r, o, s = [], a = e; a < n; a += 3)
        (r =
          ((t[a] << 16) & 16711680) +
          ((t[a + 1] << 8) & 65280) +
          (255 & t[a + 2])),
          s.push(
            i[((o = r) >> 18) & 63] +
              i[(o >> 12) & 63] +
              i[(o >> 6) & 63] +
              i[63 & o]
          );
      return s.join("");
    }
    (r["-".charCodeAt(0)] = 62), (r["_".charCodeAt(0)] = 63);
  },
  function (t, e) {
    (e.read = function (t, e, n, i, r) {
      var o,
        s,
        a = 8 * r - i - 1,
        u = (1 << a) - 1,
        c = u >> 1,
        h = -7,
        l = n ? r - 1 : 0,
        p = n ? -1 : 1,
        f = t[e + l];
      for (
        l += p, o = f & ((1 << -h) - 1), f >>= -h, h += a;
        h > 0;
        o = 256 * o + t[e + l], l += p, h -= 8
      );
      for (
        s = o & ((1 << -h) - 1), o >>= -h, h += i;
        h > 0;
        s = 256 * s + t[e + l], l += p, h -= 8
      );
      if (0 === o) o = 1 - c;
      else {
        if (o === u) return s ? NaN : (1 / 0) * (f ? -1 : 1);
        (s += Math.pow(2, i)), (o -= c);
      }
      return (f ? -1 : 1) * s * Math.pow(2, o - i);
    }),
      (e.write = function (t, e, n, i, r, o) {
        var s,
          a,
          u,
          c = 8 * o - r - 1,
          h = (1 << c) - 1,
          l = h >> 1,
          p = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
          f = i ? 0 : o - 1,
          d = i ? 1 : -1,
          g = e < 0 || (0 === e && 1 / e < 0) ? 1 : 0;
        for (
          e = Math.abs(e),
            isNaN(e) || e === 1 / 0
              ? ((a = isNaN(e) ? 1 : 0), (s = h))
              : ((s = Math.floor(Math.log(e) / Math.LN2)),
                e * (u = Math.pow(2, -s)) < 1 && (s--, (u *= 2)),
                (e += s + l >= 1 ? p / u : p * Math.pow(2, 1 - l)) * u >= 2 &&
                  (s++, (u /= 2)),
                s + l >= h
                  ? ((a = 0), (s = h))
                  : s + l >= 1
                  ? ((a = (e * u - 1) * Math.pow(2, r)), (s += l))
                  : ((a = e * Math.pow(2, l - 1) * Math.pow(2, r)), (s = 0)));
          r >= 8;
          t[n + f] = 255 & a, f += d, a /= 256, r -= 8
        );
        for (
          s = (s << r) | a, c += r;
          c > 0;
          t[n + f] = 255 & s, f += d, s /= 256, c -= 8
        );
        t[n + f - d] |= 128 * g;
      });
  },
  function (t, e) {
    var n = {}.toString;
    t.exports =
      Array.isArray ||
      function (t) {
        return "[object Array]" == n.call(t);
      };
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(14).every;
    i(
      { target: "Array", proto: !0, forced: n(32)("every") },
      {
        every: function (t) {
          return r(this, t, arguments.length > 1 ? arguments[1] : void 0);
        },
      }
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(14).find,
      o = n(126),
      s = !0;
    "find" in [] &&
      Array(1).find(function () {
        s = !1;
      }),
      i(
        { target: "Array", proto: !0, forced: s },
        {
          find: function (t) {
            return r(this, t, arguments.length > 1 ? arguments[1] : void 0);
          },
        }
      ),
      o("find");
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(138);
    i({ target: "Array", proto: !0, forced: [].forEach != r }, { forEach: r });
  },
  function (t, e, n) {
    var i = n(1),
      r = n(198);
    i(
      {
        target: "Array",
        stat: !0,
        forced: !n(99)(function (t) {
          Array.from(t);
        }),
      },
      { from: r }
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(58),
      r = n(12),
      o = n(120),
      s = n(97),
      a = n(6),
      u = n(73),
      c = n(98);
    t.exports = function (t) {
      var e,
        n,
        h,
        l,
        p = r(t),
        f = "function" == typeof this ? this : Array,
        d = arguments.length,
        g = d > 1 ? arguments[1] : void 0,
        y = void 0 !== g,
        _ = 0,
        v = c(p);
      if (
        (y && (g = i(g, d > 2 ? arguments[2] : void 0, 2)),
        null == v || (f == Array && s(v)))
      )
        for (n = new f((e = a(p.length))); e > _; _++)
          u(n, _, y ? g(p[_], _) : p[_]);
      else
        for (l = v.call(p), n = new f(); !(h = l.next()).done; _++)
          u(n, _, y ? o(l, g, [h.value, _], !0) : h.value);
      return (n.length = _), n;
    };
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(44),
      o = [].reverse,
      s = [1, 2];
    i(
      { target: "Array", proto: !0, forced: String(s) === String(s.reverse()) },
      {
        reverse: function () {
          return r(this) && (this.length = this.length), o.call(this);
        },
      }
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(14).some;
    i(
      { target: "Array", proto: !0, forced: n(32)("some") },
      {
        some: function (t) {
          return r(this, t, arguments.length > 1 ? arguments[1] : void 0);
        },
      }
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(2),
      o = n(85),
      s = n(71),
      a = o.ArrayBuffer;
    i({ global: !0, forced: r.ArrayBuffer !== a }, { ArrayBuffer: a }),
      s("ArrayBuffer");
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(3),
      o = n(85),
      s = n(11),
      a = n(38),
      u = n(6),
      c = n(40),
      h = o.ArrayBuffer,
      l = o.DataView,
      p = h.prototype.slice;
    i(
      {
        target: "ArrayBuffer",
        proto: !0,
        unsafe: !0,
        forced: r(function () {
          return !new h(2).slice(1, void 0).byteLength;
        }),
      },
      {
        slice: function (t, e) {
          if (void 0 !== p && void 0 === e) return p.call(s(this), t);
          for (
            var n = s(this).byteLength,
              i = a(t, n),
              r = a(void 0 === e ? n : e, n),
              o = new (c(this, h))(u(r - i)),
              f = new l(this),
              d = new l(o),
              g = 0;
            i < r;

          )
            d.setUint8(g++, f.getUint8(i++));
          return o;
        },
      }
    );
  },
  function (t, e, n) {
    var i = n(1),
      r = n(85);
    i(
      { global: !0, forced: !n(4).NATIVE_ARRAY_BUFFER },
      { DataView: r.DataView }
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(3),
      o = n(12),
      s = n(35);
    i(
      {
        target: "Date",
        proto: !0,
        forced: r(function () {
          return (
            null !== new Date(NaN).toJSON() ||
            1 !==
              Date.prototype.toJSON.call({
                toISOString: function () {
                  return 1;
                },
              })
          );
        }),
      },
      {
        toJSON: function (t) {
          var e = o(this),
            n = s(e);
          return "number" != typeof n || isFinite(n) ? e.toISOString() : null;
        },
      }
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(9),
      r = n(2),
      o = n(70),
      s = n(17),
      a = n(16),
      u = n(24),
      c = n(142),
      h = n(35),
      l = n(3),
      p = n(45),
      f = n(37).f,
      d = n(43).f,
      g = n(13).f,
      y = n(79).trim,
      _ = r.Number,
      v = _.prototype,
      m = "Number" == u(p(v)),
      x = function (t) {
        var e,
          n,
          i,
          r,
          o,
          s,
          a,
          u,
          c = h(t, !1);
        if ("string" == typeof c && c.length > 2)
          if (43 === (e = (c = y(c)).charCodeAt(0)) || 45 === e) {
            if (88 === (n = c.charCodeAt(2)) || 120 === n) return NaN;
          } else if (48 === e) {
            switch (c.charCodeAt(1)) {
              case 66:
              case 98:
                (i = 2), (r = 49);
                break;
              case 79:
              case 111:
                (i = 8), (r = 55);
                break;
              default:
                return +c;
            }
            for (s = (o = c.slice(2)).length, a = 0; a < s; a++)
              if ((u = o.charCodeAt(a)) < 48 || u > r) return NaN;
            return parseInt(o, i);
          }
        return +c;
      };
    if (o("Number", !_(" 0o1") || !_("0b1") || _("+0x1"))) {
      for (
        var E,
          b = function (t) {
            var e = arguments.length < 1 ? 0 : t,
              n = this;
            return n instanceof b &&
              (m
                ? l(function () {
                    v.valueOf.call(n);
                  })
                : "Number" != u(n))
              ? c(new _(x(e)), n, b)
              : x(e);
          },
          w = i
            ? f(_)
            : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(
                ","
              ),
          I = 0;
        w.length > I;
        I++
      )
        a(_, (E = w[I])) && !a(b, E) && g(b, E, d(_, E));
      (b.prototype = v), (v.constructor = b), s(r, "Number", b);
    }
  },
  function (t, e, n) {
    var i = n(24);
    t.exports = function (t) {
      if ("number" != typeof t && "Number" != i(t))
        throw TypeError("Incorrect invocation");
      return +t;
    };
  },
  function (t, e, n) {
    var i = n(9),
      r = n(2),
      o = n(70),
      s = n(142),
      a = n(13).f,
      u = n(37).f,
      c = n(110),
      h = n(107),
      l = n(17),
      p = n(3),
      f = n(71),
      d = n(5)("match"),
      g = r.RegExp,
      y = g.prototype,
      _ = /a/g,
      v = /a/g,
      m = new g(_) !== _;
    if (
      i &&
      o(
        "RegExp",
        !m ||
          p(function () {
            return (v[d] = !1), g(_) != _ || g(v) == v || "/a/i" != g(_, "i");
          })
      )
    ) {
      for (
        var x = function (t, e) {
            var n = this instanceof x,
              i = c(t),
              r = void 0 === e;
            return !n && i && t.constructor === x && r
              ? t
              : s(
                  m
                    ? new g(i && !r ? t.source : t, e)
                    : g(
                        (i = t instanceof x) ? t.source : t,
                        i && r ? h.call(t) : e
                      ),
                  n ? this : y,
                  x
                );
          },
          E = function (t) {
            (t in x) ||
              a(x, t, {
                configurable: !0,
                get: function () {
                  return g[t];
                },
                set: function (e) {
                  g[t] = e;
                },
              });
          },
          b = u(g),
          w = 0;
        b.length > w;

      )
        E(b[w++]);
      (y.constructor = x), (x.prototype = y), l(r, "RegExp", x);
    }
    f("RegExp");
  },
  function (t, e, n) {
    "use strict";
    var i = n(17),
      r = n(11),
      o = n(3),
      s = n(107),
      a = RegExp.prototype,
      u = a.toString,
      c = o(function () {
        return "/a/b" != u.call({ source: "a", flags: "b" });
      }),
      h = "toString" != u.name;
    (c || h) &&
      i(
        RegExp.prototype,
        "toString",
        function () {
          var t = r(this),
            e = String(t.source),
            n = t.flags;
          return (
            "/" +
            e +
            "/" +
            String(
              void 0 === n && t instanceof RegExp && !("flags" in a)
                ? s.call(t)
                : n
            )
          );
        },
        { unsafe: !0 }
      );
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(6),
      o = n(210),
      s = n(19),
      a = n(211),
      u = "".endsWith,
      c = Math.min;
    i(
      { target: "String", proto: !0, forced: !a("endsWith") },
      {
        endsWith: function (t) {
          var e = String(s(this));
          o(t);
          var n = arguments.length > 1 ? arguments[1] : void 0,
            i = r(e.length),
            a = void 0 === n ? i : c(r(n), i),
            h = String(t);
          return u ? u.call(e, h, a) : e.slice(a - h.length, a) === h;
        },
      }
    );
  },
  function (t, e, n) {
    var i = n(110);
    t.exports = function (t) {
      if (i(t))
        throw TypeError("The method doesn't accept regular expressions");
      return t;
    };
  },
  function (t, e, n) {
    var i = n(5)("match");
    t.exports = function (t) {
      var e = /./;
      try {
        "/./"[t](e);
      } catch (n) {
        try {
          return (e[i] = !1), "/./"[t](e);
        } catch (t) {}
      }
      return !1;
    };
  },
  function (t, e, n) {
    n(1)({ target: "String", proto: !0 }, { repeat: n(144) });
  },
  function (t, e, n) {
    "use strict";
    var i = n(82),
      r = n(11),
      o = n(12),
      s = n(6),
      a = n(20),
      u = n(19),
      c = n(109),
      h = n(83),
      l = Math.max,
      p = Math.min,
      f = Math.floor,
      d = /\$([$&'`]|\d\d?|<[^>]*>)/g,
      g = /\$([$&'`]|\d\d?)/g;
    i("replace", 2, function (t, e, n) {
      return [
        function (n, i) {
          var r = u(this),
            o = null == n ? void 0 : n[t];
          return void 0 !== o ? o.call(n, r, i) : e.call(String(r), n, i);
        },
        function (t, o) {
          var u = n(e, t, this, o);
          if (u.done) return u.value;
          var f = r(t),
            d = String(this),
            g = "function" == typeof o;
          g || (o = String(o));
          var y = f.global;
          if (y) {
            var _ = f.unicode;
            f.lastIndex = 0;
          }
          for (var v = []; ; ) {
            var m = h(f, d);
            if (null === m) break;
            if ((v.push(m), !y)) break;
            "" === String(m[0]) && (f.lastIndex = c(d, s(f.lastIndex), _));
          }
          for (var x, E = "", b = 0, w = 0; w < v.length; w++) {
            m = v[w];
            for (
              var I = String(m[0]),
                S = l(p(a(m.index), d.length), 0),
                C = [],
                T = 1;
              T < m.length;
              T++
            )
              C.push(void 0 === (x = m[T]) ? x : String(x));
            var O = m.groups;
            if (g) {
              var R = [I].concat(C, S, d);
              void 0 !== O && R.push(O);
              var L = String(o.apply(void 0, R));
            } else L = i(I, d, S, C, O, o);
            S >= b && ((E += d.slice(b, S) + L), (b = S + I.length));
          }
          return E + d.slice(b);
        },
      ];
      function i(t, n, i, r, s, a) {
        var u = i + t.length,
          c = r.length,
          h = g;
        return (
          void 0 !== s && ((s = o(s)), (h = d)),
          e.call(a, h, function (e, o) {
            var a;
            switch (o.charAt(0)) {
              case "$":
                return "$";
              case "&":
                return t;
              case "`":
                return n.slice(0, i);
              case "'":
                return n.slice(u);
              case "<":
                a = s[o.slice(1, -1)];
                break;
              default:
                var h = +o;
                if (0 === h) return e;
                if (h > c) {
                  var l = f(h / 10);
                  return 0 === l
                    ? e
                    : l <= c
                    ? void 0 === r[l - 1]
                      ? o.charAt(1)
                      : r[l - 1] + o.charAt(1)
                    : e;
                }
                a = r[h - 1];
            }
            return void 0 === a ? "" : a;
          })
        );
      }
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(82),
      r = n(11),
      o = n(19),
      s = n(215),
      a = n(83);
    i("search", 1, function (t, e, n) {
      return [
        function (e) {
          var n = o(this),
            i = null == e ? void 0 : e[t];
          return void 0 !== i ? i.call(e, n) : new RegExp(e)[t](String(n));
        },
        function (t) {
          var i = n(e, t, this);
          if (i.done) return i.value;
          var o = r(t),
            u = String(this),
            c = o.lastIndex;
          s(c, 0) || (o.lastIndex = 0);
          var h = a(o, u);
          return (
            s(o.lastIndex, c) || (o.lastIndex = c), null === h ? -1 : h.index
          );
        },
      ];
    });
  },
  function (t, e) {
    t.exports =
      Object.is ||
      function (t, e) {
        return t === e ? 0 !== t || 1 / t == 1 / e : t != t && e != e;
      };
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(79).trim;
    i(
      { target: "String", proto: !0, forced: n(217)("trim") },
      {
        trim: function () {
          return r(this);
        },
      }
    );
  },
  function (t, e, n) {
    var i = n(3),
      r = n(80);
    t.exports = function (t) {
      return i(function () {
        return !!r[t]() || "​᠎" != "​᠎"[t]() || r[t].name !== t;
      });
    };
  },
  function (t, e, n) {
    n(62)("Float64", 8, function (t) {
      return function (e, n, i) {
        return t(this, e, n, i);
      };
    });
  },
  function (t, e, n) {
    var i = n(2),
      r = n(3),
      o = n(99),
      s = n(4).NATIVE_ARRAY_BUFFER_VIEWS,
      a = i.ArrayBuffer,
      u = i.Int8Array;
    t.exports =
      !s ||
      !r(function () {
        u(1);
      }) ||
      !r(function () {
        new u(-1);
      }) ||
      !o(function (t) {
        new u(), new u(null), new u(1.5), new u(t);
      }, !0) ||
      r(function () {
        return 1 !== new u(new a(2), 1, void 0).length;
      });
  },
  function (t, e, n) {
    var i = n(12),
      r = n(6),
      o = n(98),
      s = n(97),
      a = n(58),
      u = n(4).aTypedArrayConstructor;
    t.exports = function (t) {
      var e,
        n,
        c,
        h,
        l,
        p = i(t),
        f = arguments.length,
        d = f > 1 ? arguments[1] : void 0,
        g = void 0 !== d,
        y = o(p);
      if (null != y && !s(y))
        for (l = y.call(p), p = []; !(h = l.next()).done; ) p.push(h.value);
      for (
        g && f > 2 && (d = a(d, arguments[2], 2)),
          n = r(p.length),
          c = new (u(this))(n),
          e = 0;
        n > e;
        e++
      )
        c[e] = g ? d(p[e], e) : p[e];
      return c;
    };
  },
  function (t, e, n) {
    n(62)("Int32", 4, function (t) {
      return function (e, n, i) {
        return t(this, e, n, i);
      };
    });
  },
  function (t, e, n) {
    n(62)("Uint8", 1, function (t) {
      return function (e, n, i) {
        return t(this, e, n, i);
      };
    });
  },
  function (t, e, n) {
    n(62)("Uint16", 2, function (t) {
      return function (e, n, i) {
        return t(this, e, n, i);
      };
    });
  },
  function (t, e, n) {
    n(62)("Uint32", 4, function (t) {
      return function (e, n, i) {
        return t(this, e, n, i);
      };
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(226),
      o = i.aTypedArray;
    i.exportProto("copyWithin", function (t, e) {
      return r.call(
        o(this),
        t,
        e,
        arguments.length > 2 ? arguments[2] : void 0
      );
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(12),
      r = n(38),
      o = n(6),
      s = Math.min;
    t.exports =
      [].copyWithin ||
      function (t, e) {
        var n = i(this),
          a = o(n.length),
          u = r(t, a),
          c = r(e, a),
          h = arguments.length > 2 ? arguments[2] : void 0,
          l = s((void 0 === h ? a : r(h, a)) - c, a - u),
          p = 1;
        for (
          c < u && u < c + l && ((p = -1), (c += l - 1), (u += l - 1));
          l-- > 0;

        )
          c in n ? (n[u] = n[c]) : delete n[u], (u += p), (c += p);
        return n;
      };
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(14).every,
      o = i.aTypedArray;
    i.exportProto("every", function (t) {
      return r(o(this), t, arguments.length > 1 ? arguments[1] : void 0);
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(141),
      o = i.aTypedArray;
    i.exportProto("fill", function (t) {
      return r.apply(o(this), arguments);
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(14).filter,
      o = n(40),
      s = i.aTypedArray,
      a = i.aTypedArrayConstructor;
    i.exportProto("filter", function (t) {
      for (
        var e = r(s(this), t, arguments.length > 1 ? arguments[1] : void 0),
          n = o(this, this.constructor),
          i = 0,
          u = e.length,
          c = new (a(n))(u);
        u > i;

      )
        c[i] = e[i++];
      return c;
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(14).find,
      o = i.aTypedArray;
    i.exportProto("find", function (t) {
      return r(o(this), t, arguments.length > 1 ? arguments[1] : void 0);
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(14).findIndex,
      o = i.aTypedArray;
    i.exportProto("findIndex", function (t) {
      return r(o(this), t, arguments.length > 1 ? arguments[1] : void 0);
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(14).forEach,
      o = i.aTypedArray;
    i.exportProto("forEach", function (t) {
      r(o(this), t, arguments.length > 1 ? arguments[1] : void 0);
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(69).includes,
      o = i.aTypedArray;
    i.exportProto("includes", function (t) {
      return r(o(this), t, arguments.length > 1 ? arguments[1] : void 0);
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(69).indexOf,
      o = i.aTypedArray;
    i.exportProto("indexOf", function (t) {
      return r(o(this), t, arguments.length > 1 ? arguments[1] : void 0);
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(2),
      r = n(4),
      o = n(21),
      s = n(5)("iterator"),
      a = i.Uint8Array,
      u = o.values,
      c = o.keys,
      h = o.entries,
      l = r.aTypedArray,
      p = r.exportProto,
      f = a && a.prototype[s],
      d = !!f && ("values" == f.name || null == f.name),
      g = function () {
        return u.call(l(this));
      };
    p("entries", function () {
      return h.call(l(this));
    }),
      p("keys", function () {
        return c.call(l(this));
      }),
      p("values", g, !d),
      p(s, g, !d);
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = i.aTypedArray,
      o = [].join;
    i.exportProto("join", function (t) {
      return o.apply(r(this), arguments);
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(238),
      o = i.aTypedArray;
    i.exportProto("lastIndexOf", function (t) {
      return r.apply(o(this), arguments);
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(25),
      r = n(20),
      o = n(6),
      s = n(32),
      a = Math.min,
      u = [].lastIndexOf,
      c = !!u && 1 / [1].lastIndexOf(1, -0) < 0,
      h = s("lastIndexOf");
    t.exports =
      c || h
        ? function (t) {
            if (c) return u.apply(this, arguments) || 0;
            var e = i(this),
              n = o(e.length),
              s = n - 1;
            for (
              arguments.length > 1 && (s = a(s, r(arguments[1]))),
                s < 0 && (s = n + s);
              s >= 0;
              s--
            )
              if (s in e && e[s] === t) return s || 0;
            return -1;
          }
        : u;
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(14).map,
      o = n(40),
      s = i.aTypedArray,
      a = i.aTypedArrayConstructor;
    i.exportProto("map", function (t) {
      return r(
        s(this),
        t,
        arguments.length > 1 ? arguments[1] : void 0,
        function (t, e) {
          return new (a(o(t, t.constructor)))(e);
        }
      );
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(103).left,
      o = i.aTypedArray;
    i.exportProto("reduce", function (t) {
      return r(
        o(this),
        t,
        arguments.length,
        arguments.length > 1 ? arguments[1] : void 0
      );
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(103).right,
      o = i.aTypedArray;
    i.exportProto("reduceRight", function (t) {
      return r(
        o(this),
        t,
        arguments.length,
        arguments.length > 1 ? arguments[1] : void 0
      );
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = i.aTypedArray,
      o = Math.floor;
    i.exportProto("reverse", function () {
      for (var t, e = r(this).length, n = o(e / 2), i = 0; i < n; )
        (t = this[i]), (this[i++] = this[--e]), (this[e] = t);
      return this;
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(6),
      o = n(145),
      s = n(12),
      a = n(3),
      u = i.aTypedArray,
      c = a(function () {
        new Int8Array(1).set({});
      });
    i.exportProto(
      "set",
      function (t) {
        u(this);
        var e = o(arguments.length > 1 ? arguments[1] : void 0, 1),
          n = this.length,
          i = s(t),
          a = r(i.length),
          c = 0;
        if (a + e > n) throw RangeError("Wrong length");
        for (; c < a; ) this[e + c] = i[c++];
      },
      c
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(40),
      o = n(3),
      s = i.aTypedArray,
      a = i.aTypedArrayConstructor,
      u = [].slice,
      c = o(function () {
        new Int8Array(1).slice();
      });
    i.exportProto(
      "slice",
      function (t, e) {
        for (
          var n = u.call(s(this), t, e),
            i = r(this, this.constructor),
            o = 0,
            c = n.length,
            h = new (a(i))(c);
          c > o;

        )
          h[o] = n[o++];
        return h;
      },
      c
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(14).some,
      o = i.aTypedArray;
    i.exportProto("some", function (t) {
      return r(o(this), t, arguments.length > 1 ? arguments[1] : void 0);
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = i.aTypedArray,
      o = [].sort;
    i.exportProto("sort", function (t) {
      return o.call(r(this), t);
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(4),
      r = n(6),
      o = n(38),
      s = n(40),
      a = i.aTypedArray;
    i.exportProto("subarray", function (t, e) {
      var n = a(this),
        i = n.length,
        u = o(t, i);
      return new (s(n, n.constructor))(
        n.buffer,
        n.byteOffset + u * n.BYTES_PER_ELEMENT,
        r((void 0 === e ? i : o(e, i)) - u)
      );
    });
  },
  function (t, e, n) {
    "use strict";
    var i = n(2),
      r = n(4),
      o = n(3),
      s = i.Int8Array,
      a = r.aTypedArray,
      u = [].toLocaleString,
      c = [].slice,
      h =
        !!s &&
        o(function () {
          u.call(new s(1));
        }),
      l =
        o(function () {
          return [1, 2].toLocaleString() != new s([1, 2]).toLocaleString();
        }) ||
        !o(function () {
          s.prototype.toLocaleString.call([1, 2]);
        });
    r.exportProto(
      "toLocaleString",
      function () {
        return u.apply(h ? c.call(a(this)) : a(this), arguments);
      },
      l
    );
  },
  function (t, e, n) {
    "use strict";
    var i = n(2),
      r = n(4),
      o = n(3),
      s = i.Uint8Array,
      a = s && s.prototype,
      u = [].toString,
      c = [].join;
    o(function () {
      u.call({});
    }) &&
      (u = function () {
        return c.call(this);
      }),
      r.exportProto("toString", u, (a || {}).toString != u);
  },
  function (t, e, n) {
    var i = n(2),
      r = n(132),
      o = n(138),
      s = n(15);
    for (var a in r) {
      var u = i[a],
        c = u && u.prototype;
      if (c && c.forEach !== o)
        try {
          s(c, "forEach", o);
        } catch (t) {
          c.forEach = o;
        }
    }
  },
  function (t, e, n) {
    "use strict";
    n(1)(
      { target: "URL", proto: !0, enumerable: !0 },
      {
        toJSON: function () {
          return URL.prototype.toString.call(this);
        },
      }
    );
  },
  function (t, e, n) {
    t.exports = (function () {
      "use strict";
      function t(t, i, r, o, s) {
        !(function t(n, i, r, o, s) {
          for (; o > r; ) {
            if (o - r > 600) {
              var a = o - r + 1,
                u = i - r + 1,
                c = Math.log(a),
                h = 0.5 * Math.exp((2 * c) / 3),
                l =
                  0.5 *
                  Math.sqrt((c * h * (a - h)) / a) *
                  (u - a / 2 < 0 ? -1 : 1);
              t(
                n,
                i,
                Math.max(r, Math.floor(i - (u * h) / a + l)),
                Math.min(o, Math.floor(i + ((a - u) * h) / a + l)),
                s
              );
            }
            var p = n[i],
              f = r,
              d = o;
            for (e(n, r, i), s(n[o], p) > 0 && e(n, r, o); f < d; ) {
              for (e(n, f, d), f++, d--; s(n[f], p) < 0; ) f++;
              for (; s(n[d], p) > 0; ) d--;
            }
            0 === s(n[r], p) ? e(n, r, d) : e(n, ++d, o),
              d <= i && (r = d + 1),
              i <= d && (o = d - 1);
          }
        })(t, i, r || 0, o || t.length - 1, s || n);
      }
      function e(t, e, n) {
        var i = t[e];
        (t[e] = t[n]), (t[n] = i);
      }
      function n(t, e) {
        return t < e ? -1 : t > e ? 1 : 0;
      }
      var i = function (t) {
        void 0 === t && (t = 9),
          (this._maxEntries = Math.max(4, t)),
          (this._minEntries = Math.max(2, Math.ceil(0.4 * this._maxEntries))),
          this.clear();
      };
      function r(t, e, n) {
        if (!n) return e.indexOf(t);
        for (var i = 0; i < e.length; i++) if (n(t, e[i])) return i;
        return -1;
      }
      function o(t, e) {
        s(t, 0, t.children.length, e, t);
      }
      function s(t, e, n, i, r) {
        r || (r = d(null)),
          (r.minX = 1 / 0),
          (r.minY = 1 / 0),
          (r.maxX = -1 / 0),
          (r.maxY = -1 / 0);
        for (var o = e; o < n; o++) {
          var s = t.children[o];
          a(r, t.leaf ? i(s) : s);
        }
        return r;
      }
      function a(t, e) {
        return (
          (t.minX = Math.min(t.minX, e.minX)),
          (t.minY = Math.min(t.minY, e.minY)),
          (t.maxX = Math.max(t.maxX, e.maxX)),
          (t.maxY = Math.max(t.maxY, e.maxY)),
          t
        );
      }
      function u(t, e) {
        return t.minX - e.minX;
      }
      function c(t, e) {
        return t.minY - e.minY;
      }
      function h(t) {
        return (t.maxX - t.minX) * (t.maxY - t.minY);
      }
      function l(t) {
        return t.maxX - t.minX + (t.maxY - t.minY);
      }
      function p(t, e) {
        return (
          t.minX <= e.minX &&
          t.minY <= e.minY &&
          e.maxX <= t.maxX &&
          e.maxY <= t.maxY
        );
      }
      function f(t, e) {
        return (
          e.minX <= t.maxX &&
          e.minY <= t.maxY &&
          e.maxX >= t.minX &&
          e.maxY >= t.minY
        );
      }
      function d(t) {
        return {
          children: t,
          height: 1,
          leaf: !0,
          minX: 1 / 0,
          minY: 1 / 0,
          maxX: -1 / 0,
          maxY: -1 / 0,
        };
      }
      function g(e, n, i, r, o) {
        for (var s = [n, i]; s.length; )
          if (!((i = s.pop()) - (n = s.pop()) <= r)) {
            var a = n + Math.ceil((i - n) / r / 2) * r;
            t(e, a, n, i, o), s.push(n, a, a, i);
          }
      }
      return (
        (i.prototype.all = function () {
          return this._all(this.data, []);
        }),
        (i.prototype.search = function (t) {
          var e = this.data,
            n = [];
          if (!f(t, e)) return n;
          for (var i = this.toBBox, r = []; e; ) {
            for (var o = 0; o < e.children.length; o++) {
              var s = e.children[o],
                a = e.leaf ? i(s) : s;
              f(t, a) &&
                (e.leaf ? n.push(s) : p(t, a) ? this._all(s, n) : r.push(s));
            }
            e = r.pop();
          }
          return n;
        }),
        (i.prototype.collides = function (t) {
          var e = this.data;
          if (!f(t, e)) return !1;
          for (var n = []; e; ) {
            for (var i = 0; i < e.children.length; i++) {
              var r = e.children[i],
                o = e.leaf ? this.toBBox(r) : r;
              if (f(t, o)) {
                if (e.leaf || p(t, o)) return !0;
                n.push(r);
              }
            }
            e = n.pop();
          }
          return !1;
        }),
        (i.prototype.load = function (t) {
          if (!t || !t.length) return this;
          if (t.length < this._minEntries) {
            for (var e = 0; e < t.length; e++) this.insert(t[e]);
            return this;
          }
          var n = this._build(t.slice(), 0, t.length - 1, 0);
          if (this.data.children.length)
            if (this.data.height === n.height) this._splitRoot(this.data, n);
            else {
              if (this.data.height < n.height) {
                var i = this.data;
                (this.data = n), (n = i);
              }
              this._insert(n, this.data.height - n.height - 1, !0);
            }
          else this.data = n;
          return this;
        }),
        (i.prototype.insert = function (t) {
          return t && this._insert(t, this.data.height - 1), this;
        }),
        (i.prototype.clear = function () {
          return (this.data = d([])), this;
        }),
        (i.prototype.remove = function (t, e) {
          if (!t) return this;
          for (
            var n, i, o, s = this.data, a = this.toBBox(t), u = [], c = [];
            s || u.length;

          ) {
            if (
              (s ||
                ((s = u.pop()), (i = u[u.length - 1]), (n = c.pop()), (o = !0)),
              s.leaf)
            ) {
              var h = r(t, s.children, e);
              if (-1 !== h)
                return (
                  s.children.splice(h, 1), u.push(s), this._condense(u), this
                );
            }
            o || s.leaf || !p(s, a)
              ? i
                ? (n++, (s = i.children[n]), (o = !1))
                : (s = null)
              : (u.push(s), c.push(n), (n = 0), (i = s), (s = s.children[0]));
          }
          return this;
        }),
        (i.prototype.toBBox = function (t) {
          return t;
        }),
        (i.prototype.compareMinX = function (t, e) {
          return t.minX - e.minX;
        }),
        (i.prototype.compareMinY = function (t, e) {
          return t.minY - e.minY;
        }),
        (i.prototype.toJSON = function () {
          return this.data;
        }),
        (i.prototype.fromJSON = function (t) {
          return (this.data = t), this;
        }),
        (i.prototype._all = function (t, e) {
          for (var n = []; t; )
            t.leaf ? e.push.apply(e, t.children) : n.push.apply(n, t.children),
              (t = n.pop());
          return e;
        }),
        (i.prototype._build = function (t, e, n, i) {
          var r,
            s = n - e + 1,
            a = this._maxEntries;
          if (s <= a) return o((r = d(t.slice(e, n + 1))), this.toBBox), r;
          i ||
            ((i = Math.ceil(Math.log(s) / Math.log(a))),
            (a = Math.ceil(s / Math.pow(a, i - 1)))),
            ((r = d([])).leaf = !1),
            (r.height = i);
          var u = Math.ceil(s / a),
            c = u * Math.ceil(Math.sqrt(a));
          g(t, e, n, c, this.compareMinX);
          for (var h = e; h <= n; h += c) {
            var l = Math.min(h + c - 1, n);
            g(t, h, l, u, this.compareMinY);
            for (var p = h; p <= l; p += u) {
              var f = Math.min(p + u - 1, l);
              r.children.push(this._build(t, p, f, i - 1));
            }
          }
          return o(r, this.toBBox), r;
        }),
        (i.prototype._chooseSubtree = function (t, e, n, i) {
          for (; i.push(e), !e.leaf && i.length - 1 !== n; ) {
            for (
              var r = 1 / 0, o = 1 / 0, s = void 0, a = 0;
              a < e.children.length;
              a++
            ) {
              var u = e.children[a],
                c = h(u),
                l =
                  ((p = t),
                  (f = u),
                  (Math.max(f.maxX, p.maxX) - Math.min(f.minX, p.minX)) *
                    (Math.max(f.maxY, p.maxY) - Math.min(f.minY, p.minY)) -
                    c);
              l < o
                ? ((o = l), (r = c < r ? c : r), (s = u))
                : l === o && c < r && ((r = c), (s = u));
            }
            e = s || e.children[0];
          }
          var p, f;
          return e;
        }),
        (i.prototype._insert = function (t, e, n) {
          var i = n ? t : this.toBBox(t),
            r = [],
            o = this._chooseSubtree(i, this.data, e, r);
          for (
            o.children.push(t), a(o, i);
            e >= 0 && r[e].children.length > this._maxEntries;

          )
            this._split(r, e), e--;
          this._adjustParentBBoxes(i, r, e);
        }),
        (i.prototype._split = function (t, e) {
          var n = t[e],
            i = n.children.length,
            r = this._minEntries;
          this._chooseSplitAxis(n, r, i);
          var s = this._chooseSplitIndex(n, r, i),
            a = d(n.children.splice(s, n.children.length - s));
          (a.height = n.height),
            (a.leaf = n.leaf),
            o(n, this.toBBox),
            o(a, this.toBBox),
            e ? t[e - 1].children.push(a) : this._splitRoot(n, a);
        }),
        (i.prototype._splitRoot = function (t, e) {
          (this.data = d([t, e])),
            (this.data.height = t.height + 1),
            (this.data.leaf = !1),
            o(this.data, this.toBBox);
        }),
        (i.prototype._chooseSplitIndex = function (t, e, n) {
          for (
            var i, r, o, a, u, c, l, p = 1 / 0, f = 1 / 0, d = e;
            d <= n - e;
            d++
          ) {
            var g = s(t, 0, d, this.toBBox),
              y = s(t, d, n, this.toBBox),
              _ =
                ((r = g),
                (o = y),
                (a = Math.max(r.minX, o.minX)),
                (u = Math.max(r.minY, o.minY)),
                (c = Math.min(r.maxX, o.maxX)),
                (l = Math.min(r.maxY, o.maxY)),
                Math.max(0, c - a) * Math.max(0, l - u)),
              v = h(g) + h(y);
            _ < p
              ? ((p = _), (i = d), (f = v < f ? v : f))
              : _ === p && v < f && ((f = v), (i = d));
          }
          return i || n - e;
        }),
        (i.prototype._chooseSplitAxis = function (t, e, n) {
          var i = t.leaf ? this.compareMinX : u,
            r = t.leaf ? this.compareMinY : c;
          this._allDistMargin(t, e, n, i) < this._allDistMargin(t, e, n, r) &&
            t.children.sort(i);
        }),
        (i.prototype._allDistMargin = function (t, e, n, i) {
          t.children.sort(i);
          for (
            var r = this.toBBox,
              o = s(t, 0, e, r),
              u = s(t, n - e, n, r),
              c = l(o) + l(u),
              h = e;
            h < n - e;
            h++
          ) {
            var p = t.children[h];
            a(o, t.leaf ? r(p) : p), (c += l(o));
          }
          for (var f = n - e - 1; f >= e; f--) {
            var d = t.children[f];
            a(u, t.leaf ? r(d) : d), (c += l(u));
          }
          return c;
        }),
        (i.prototype._adjustParentBBoxes = function (t, e, n) {
          for (var i = n; i >= 0; i--) a(e[i], t);
        }),
        (i.prototype._condense = function (t) {
          for (var e = t.length - 1, n = void 0; e >= 0; e--)
            0 === t[e].children.length
              ? e > 0
                ? (n = t[e - 1].children).splice(n.indexOf(t[e]), 1)
                : this.clear()
              : o(t[e], this.toBBox);
        }),
        i
      );
    })();
  },
  function (t, e) {
    (function (e) {
      t.exports = e;
    }.call(this, {}));
  },
  function (t, e, n) {
    "use strict";
    var i = n(1),
      r = n(255);
    i(
      { target: "String", proto: !0, forced: n(256)("sub") },
      {
        sub: function () {
          return r(this, "sub", "", "");
        },
      }
    );
  },
  function (t, e, n) {
    var i = n(19),
      r = /"/g;
    t.exports = function (t, e, n, o) {
      var s = String(i(t)),
        a = "<" + e;
      return (
        "" !== n &&
          (a += " " + n + '="' + String(o).replace(r, "&quot;") + '"'),
        a + ">" + s + "</" + e + ">"
      );
    };
  },
  function (t, e, n) {
    var i = n(3);
    t.exports = function (t) {
      return i(function () {
        var e = ""[t]('"');
        return e !== e.toLowerCase() || e.split('"').length > 3;
      });
    };
  },
  function (t, e, n) {
    "use strict";
    n.r(e);
    n(26),
      n(27),
      n(28),
      n(31),
      n(46),
      n(74),
      n(75),
      n(21),
      n(102),
      n(33),
      n(47),
      n(48),
      n(104),
      n(105),
      n(77),
      n(49),
      n(34),
      n(50),
      n(78),
      n(51),
      n(23),
      n(130),
      n(106),
      n(42),
      n(61),
      n(29),
      n(108),
      n(84),
      n(30),
      n(177);
    function i(t) {
      return (i =
        "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
          ? function (t) {
              return typeof t;
            }
          : function (t) {
              return t &&
                "function" == typeof Symbol &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
                ? "symbol"
                : typeof t;
            })(t);
    }
    function r(t) {
      return (r =
        "function" == typeof Symbol && "symbol" === i(Symbol.iterator)
          ? function (t) {
              return i(t);
            }
          : function (t) {
              return t &&
                "function" == typeof Symbol &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
                ? "symbol"
                : i(t);
            })(t);
    }
    function o(t, e, n) {
      return (
        e in t
          ? Object.defineProperty(t, e, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            })
          : (t[e] = n),
        t
      );
    }
    function s(t) {
      for (var e = 1; e < arguments.length; e++) {
        var n = null != arguments[e] ? arguments[e] : {},
          i = Object.keys(n);
        "function" == typeof Object.getOwnPropertySymbols &&
          (i = i.concat(
            Object.getOwnPropertySymbols(n).filter(function (t) {
              return Object.getOwnPropertyDescriptor(n, t).enumerable;
            })
          )),
          i.forEach(function (e) {
            o(t, e, n[e]);
          });
      }
      return t;
    }
    function a(t, e) {
      if (!(t instanceof e))
        throw new TypeError("Cannot call a class as a function");
    }
    function u(t, e) {
      for (var n = 0; n < e.length; n++) {
        var i = e[n];
        (i.enumerable = i.enumerable || !1),
          (i.configurable = !0),
          "value" in i && (i.writable = !0),
          Object.defineProperty(t, i.key, i);
      }
    }
    function c(t, e, n) {
      return e && u(t.prototype, e), n && u(t, n), t;
    }
    function h(t) {
      if (void 0 === t)
        throw new ReferenceError(
          "this hasn't been initialised - super() hasn't been called"
        );
      return t;
    }
    function l(t, e) {
      return !e || ("object" !== r(e) && "function" != typeof e) ? h(t) : e;
    }
    function p(t) {
      return (p = Object.setPrototypeOf
        ? Object.getPrototypeOf
        : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t);
          })(t);
    }
    function f(t, e) {
      return (f =
        Object.setPrototypeOf ||
        function (t, e) {
          return (t.__proto__ = e), t;
        })(t, e);
    }
    function d(t, e) {
      if ("function" != typeof e && null !== e)
        throw new TypeError(
          "Super expression must either be null or a function"
        );
      (t.prototype = Object.create(e && e.prototype, {
        constructor: { value: t, writable: !0, configurable: !0 },
      })),
        e && f(t, e);
    }
    function g(t) {
      return (
        (function (t) {
          if (Array.isArray(t)) {
            for (var e = 0, n = new Array(t.length); e < t.length; e++)
              n[e] = t[e];
            return n;
          }
        })(t) ||
        (function (t) {
          if (
            Symbol.iterator in Object(t) ||
            "[object Arguments]" === Object.prototype.toString.call(t)
          )
            return Array.from(t);
        })(t) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to spread non-iterable instance"
          );
        })()
      );
    }
    function y(t, e) {
      return (
        (function (t) {
          if (Array.isArray(t)) return t;
        })(t) ||
        (function (t, e) {
          if (
            Symbol.iterator in Object(t) ||
            "[object Arguments]" === Object.prototype.toString.call(t)
          ) {
            var n = [],
              i = !0,
              r = !1,
              o = void 0;
            try {
              for (
                var s, a = t[Symbol.iterator]();
                !(i = (s = a.next()).done) &&
                (n.push(s.value), !e || n.length !== e);
                i = !0
              );
            } catch (t) {
              (r = !0), (o = t);
            } finally {
              try {
                i || null == a.return || a.return();
              } finally {
                if (r) throw o;
              }
            }
            return n;
          }
        })(t, e) ||
        (function () {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance"
          );
        })()
      );
    }
    var _ = {
        type: "logger",
        log: function (t) {
          this.output("log", t);
        },
        warn: function (t) {
          this.output("warn", t);
        },
        error: function (t) {
          this.output("error", t);
        },
        output: function (t, e) {
          var n;
          console && console[t] && (n = console)[t].apply(n, g(e));
        },
      },
      v = new ((function () {
        function t(e) {
          var n =
            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          a(this, t), this.init(e, n);
        }
        return (
          c(t, [
            {
              key: "init",
              value: function (t) {
                var e =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : {};
                (this.prefix = e.prefix || "i18next:"),
                  (this.logger = t || _),
                  (this.options = e),
                  (this.debug = e.debug);
              },
            },
            {
              key: "setDebug",
              value: function (t) {
                this.debug = t;
              },
            },
            {
              key: "log",
              value: function () {
                for (
                  var t = arguments.length, e = new Array(t), n = 0;
                  n < t;
                  n++
                )
                  e[n] = arguments[n];
                return this.forward(e, "log", "", !0);
              },
            },
            {
              key: "warn",
              value: function () {
                for (
                  var t = arguments.length, e = new Array(t), n = 0;
                  n < t;
                  n++
                )
                  e[n] = arguments[n];
                return this.forward(e, "warn", "", !0);
              },
            },
            {
              key: "error",
              value: function () {
                for (
                  var t = arguments.length, e = new Array(t), n = 0;
                  n < t;
                  n++
                )
                  e[n] = arguments[n];
                return this.forward(e, "error", "");
              },
            },
            {
              key: "deprecate",
              value: function () {
                for (
                  var t = arguments.length, e = new Array(t), n = 0;
                  n < t;
                  n++
                )
                  e[n] = arguments[n];
                return this.forward(e, "warn", "WARNING DEPRECATED: ", !0);
              },
            },
            {
              key: "forward",
              value: function (t, e, n, i) {
                return i && !this.debug
                  ? null
                  : ("string" == typeof t[0] &&
                      (t[0] = ""
                        .concat(n)
                        .concat(this.prefix, " ")
                        .concat(t[0])),
                    this.logger[e](t));
              },
            },
            {
              key: "create",
              value: function (e) {
                return new t(
                  this.logger,
                  s(
                    {},
                    { prefix: "".concat(this.prefix, ":").concat(e, ":") },
                    this.options
                  )
                );
              },
            },
          ]),
          t
        );
      })())(),
      m = (function () {
        function t() {
          a(this, t), (this.observers = {});
        }
        return (
          c(t, [
            {
              key: "on",
              value: function (t, e) {
                var n = this;
                return (
                  t.split(" ").forEach(function (t) {
                    (n.observers[t] = n.observers[t] || []),
                      n.observers[t].push(e);
                  }),
                  this
                );
              },
            },
            {
              key: "off",
              value: function (t, e) {
                var n = this;
                this.observers[t] &&
                  this.observers[t].forEach(function () {
                    if (e) {
                      var i = n.observers[t].indexOf(e);
                      i > -1 && n.observers[t].splice(i, 1);
                    } else delete n.observers[t];
                  });
              },
            },
            {
              key: "emit",
              value: function (t) {
                for (
                  var e = arguments.length,
                    n = new Array(e > 1 ? e - 1 : 0),
                    i = 1;
                  i < e;
                  i++
                )
                  n[i - 1] = arguments[i];
                if (this.observers[t]) {
                  var r = [].concat(this.observers[t]);
                  r.forEach(function (t) {
                    t.apply(void 0, n);
                  });
                }
                if (this.observers["*"]) {
                  var o = [].concat(this.observers["*"]);
                  o.forEach(function (e) {
                    e.apply(e, [t].concat(n));
                  });
                }
              },
            },
          ]),
          t
        );
      })();
    function x() {
      var t,
        e,
        n = new Promise(function (n, i) {
          (t = n), (e = i);
        });
      return (n.resolve = t), (n.reject = e), n;
    }
    function E(t) {
      return null == t ? "" : "" + t;
    }
    function b(t, e, n) {
      function i(t) {
        return t && t.indexOf("###") > -1 ? t.replace(/###/g, ".") : t;
      }
      function r() {
        return !t || "string" == typeof t;
      }
      for (
        var o = "string" != typeof e ? [].concat(e) : e.split(".");
        o.length > 1;

      ) {
        if (r()) return {};
        var s = i(o.shift());
        !t[s] && n && (t[s] = new n()), (t = t[s]);
      }
      return r() ? {} : { obj: t, k: i(o.shift()) };
    }
    function w(t, e, n) {
      var i = b(t, e, Object);
      i.obj[i.k] = n;
    }
    function I(t, e) {
      var n = b(t, e),
        i = n.obj,
        r = n.k;
      if (i) return i[r];
    }
    function S(t, e, n) {
      for (var i in e)
        i in t
          ? "string" == typeof t[i] ||
            t[i] instanceof String ||
            "string" == typeof e[i] ||
            e[i] instanceof String
            ? n && (t[i] = e[i])
            : S(t[i], e[i], n)
          : (t[i] = e[i]);
      return t;
    }
    function C(t) {
      return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
    }
    var T = {
      "&": "&amp;",
      "<": "&lt;",
      ">": "&gt;",
      '"': "&quot;",
      "'": "&#39;",
      "/": "&#x2F;",
    };
    function O(t) {
      return "string" == typeof t
        ? t.replace(/[&<>"'\/]/g, function (t) {
            return T[t];
          })
        : t;
    }
    var R = (function (t) {
        function e(t) {
          var n,
            i =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : { ns: ["translation"], defaultNS: "translation" };
          return (
            a(this, e),
            (n = l(this, p(e).call(this))),
            m.call(h(n)),
            (n.data = t || {}),
            (n.options = i),
            void 0 === n.options.keySeparator && (n.options.keySeparator = "."),
            n
          );
        }
        return (
          d(e, m),
          c(e, [
            {
              key: "addNamespaces",
              value: function (t) {
                this.options.ns.indexOf(t) < 0 && this.options.ns.push(t);
              },
            },
            {
              key: "removeNamespaces",
              value: function (t) {
                var e = this.options.ns.indexOf(t);
                e > -1 && this.options.ns.splice(e, 1);
              },
            },
            {
              key: "getResource",
              value: function (t, e, n) {
                var i =
                    arguments.length > 3 && void 0 !== arguments[3]
                      ? arguments[3]
                      : {},
                  r =
                    void 0 !== i.keySeparator
                      ? i.keySeparator
                      : this.options.keySeparator,
                  o = [t, e];
                return (
                  n && "string" != typeof n && (o = o.concat(n)),
                  n &&
                    "string" == typeof n &&
                    (o = o.concat(r ? n.split(r) : n)),
                  t.indexOf(".") > -1 && (o = t.split(".")),
                  I(this.data, o)
                );
              },
            },
            {
              key: "addResource",
              value: function (t, e, n, i) {
                var r =
                    arguments.length > 4 && void 0 !== arguments[4]
                      ? arguments[4]
                      : { silent: !1 },
                  o = this.options.keySeparator;
                void 0 === o && (o = ".");
                var s = [t, e];
                n && (s = s.concat(o ? n.split(o) : n)),
                  t.indexOf(".") > -1 && ((i = e), (e = (s = t.split("."))[1])),
                  this.addNamespaces(e),
                  w(this.data, s, i),
                  r.silent || this.emit("added", t, e, n, i);
              },
            },
            {
              key: "addResources",
              value: function (t, e, n) {
                var i =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : { silent: !1 };
                for (var r in n)
                  ("string" != typeof n[r] &&
                    "[object Array]" !==
                      Object.prototype.toString.apply(n[r])) ||
                    this.addResource(t, e, r, n[r], { silent: !0 });
                i.silent || this.emit("added", t, e, n);
              },
            },
            {
              key: "addResourceBundle",
              value: function (t, e, n, i, r) {
                var o =
                    arguments.length > 5 && void 0 !== arguments[5]
                      ? arguments[5]
                      : { silent: !1 },
                  a = [t, e];
                t.indexOf(".") > -1 &&
                  ((i = n), (n = e), (e = (a = t.split("."))[1])),
                  this.addNamespaces(e);
                var u = I(this.data, a) || {};
                i ? S(u, n, r) : (u = s({}, u, n)),
                  w(this.data, a, u),
                  o.silent || this.emit("added", t, e, n);
              },
            },
            {
              key: "removeResourceBundle",
              value: function (t, e) {
                this.hasResourceBundle(t, e) && delete this.data[t][e],
                  this.removeNamespaces(e),
                  this.emit("removed", t, e);
              },
            },
            {
              key: "hasResourceBundle",
              value: function (t, e) {
                return void 0 !== this.getResource(t, e);
              },
            },
            {
              key: "getResourceBundle",
              value: function (t, e) {
                return (
                  e || (e = this.options.defaultNS),
                  "v1" === this.options.compatibilityAPI
                    ? s({}, {}, this.getResource(t, e))
                    : this.getResource(t, e)
                );
              },
            },
            {
              key: "getDataByLanguage",
              value: function (t) {
                return this.data[t];
              },
            },
            {
              key: "toJSON",
              value: function () {
                return this.data;
              },
            },
          ]),
          e
        );
      })(),
      L = {
        processors: {},
        addPostProcessor: function (t) {
          this.processors[t.name] = t;
        },
        handle: function (t, e, n, i, r) {
          var o = this;
          return (
            t.forEach(function (t) {
              o.processors[t] && (e = o.processors[t].process(e, n, i, r));
            }),
            e
          );
        },
      },
      M = (function (t) {
        function e(t) {
          var n,
            i,
            r,
            o,
            s =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {};
          return (
            a(this, e),
            (n = l(this, p(e).call(this))),
            m.call(h(n)),
            (i = [
              "resourceStore",
              "languageUtils",
              "pluralResolver",
              "interpolator",
              "backendConnector",
              "i18nFormat",
            ]),
            (r = t),
            (o = h(n)),
            i.forEach(function (t) {
              r[t] && (o[t] = r[t]);
            }),
            (n.options = s),
            void 0 === n.options.keySeparator && (n.options.keySeparator = "."),
            (n.logger = v.create("translator")),
            n
          );
        }
        return (
          d(e, m),
          c(e, [
            {
              key: "changeLanguage",
              value: function (t) {
                t && (this.language = t);
              },
            },
            {
              key: "exists",
              value: function (t) {
                var e =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : { interpolation: {} },
                  n = this.resolve(t, e);
                return n && void 0 !== n.res;
              },
            },
            {
              key: "extractFromKey",
              value: function (t, e) {
                var n = e.nsSeparator || this.options.nsSeparator;
                void 0 === n && (n = ":");
                var i =
                    void 0 !== e.keySeparator
                      ? e.keySeparator
                      : this.options.keySeparator,
                  r = e.ns || this.options.defaultNS;
                if (n && t.indexOf(n) > -1) {
                  var o = t.split(n);
                  (n !== i ||
                    (n === i && this.options.ns.indexOf(o[0]) > -1)) &&
                    (r = o.shift()),
                    (t = o.join(i));
                }
                return (
                  "string" == typeof r && (r = [r]), { key: t, namespaces: r }
                );
              },
            },
            {
              key: "translate",
              value: function (t, e) {
                var n = this;
                if (
                  ("object" !== r(e) &&
                    this.options.overloadTranslationOptionHandler &&
                    (e = this.options.overloadTranslationOptionHandler(
                      arguments
                    )),
                  e || (e = {}),
                  null == t)
                )
                  return "";
                Array.isArray(t) || (t = [String(t)]);
                var i =
                    void 0 !== e.keySeparator
                      ? e.keySeparator
                      : this.options.keySeparator,
                  o = this.extractFromKey(t[t.length - 1], e),
                  a = o.key,
                  u = o.namespaces,
                  c = u[u.length - 1],
                  h = e.lng || this.language,
                  l =
                    e.appendNamespaceToCIMode ||
                    this.options.appendNamespaceToCIMode;
                if (h && "cimode" === h.toLowerCase()) {
                  if (l) {
                    var p = e.nsSeparator || this.options.nsSeparator;
                    return c + p + a;
                  }
                  return a;
                }
                var f = this.resolve(t, e),
                  d = f && f.res,
                  g = (f && f.usedKey) || a,
                  y = (f && f.exactUsedKey) || a,
                  _ = Object.prototype.toString.apply(d),
                  v = [
                    "[object Number]",
                    "[object Function]",
                    "[object RegExp]",
                  ],
                  m =
                    void 0 !== e.joinArrays
                      ? e.joinArrays
                      : this.options.joinArrays,
                  x = !this.i18nFormat || this.i18nFormat.handleAsObject,
                  E =
                    "string" != typeof d &&
                    "boolean" != typeof d &&
                    "number" != typeof d;
                if (
                  x &&
                  d &&
                  E &&
                  v.indexOf(_) < 0 &&
                  ("string" != typeof m || "[object Array]" !== _)
                ) {
                  if (!e.returnObjects && !this.options.returnObjects)
                    return (
                      this.logger.warn(
                        "accessing an object - but returnObjects options is not enabled!"
                      ),
                      this.options.returnedObjectHandler
                        ? this.options.returnedObjectHandler(g, d, e)
                        : "key '"
                            .concat(a, " (")
                            .concat(
                              this.language,
                              ")' returned an object instead of string."
                            )
                    );
                  if (i) {
                    var b = "[object Array]" === _,
                      w = b ? [] : {},
                      I = b ? y : g;
                    for (var S in d)
                      if (Object.prototype.hasOwnProperty.call(d, S)) {
                        var C = "".concat(I).concat(i).concat(S);
                        (w[S] = this.translate(
                          C,
                          s({}, e, { joinArrays: !1, ns: u })
                        )),
                          w[S] === C && (w[S] = d[S]);
                      }
                    d = w;
                  }
                } else if (x && "string" == typeof m && "[object Array]" === _)
                  (d = d.join(m)) && (d = this.extendTranslation(d, t, e));
                else {
                  var T = !1,
                    O = !1;
                  if (!this.isValidLookup(d) && void 0 !== e.defaultValue) {
                    if (((T = !0), void 0 !== e.count)) {
                      var R = this.pluralResolver.getSuffix(h, e.count);
                      d = e["defaultValue".concat(R)];
                    }
                    d || (d = e.defaultValue);
                  }
                  this.isValidLookup(d) || ((O = !0), (d = a));
                  var L =
                    e.defaultValue &&
                    e.defaultValue !== d &&
                    this.options.updateMissing;
                  if (O || T || L) {
                    this.logger.log(
                      L ? "updateKey" : "missingKey",
                      h,
                      c,
                      a,
                      L ? e.defaultValue : d
                    );
                    var M = [],
                      A = this.languageUtils.getFallbackCodes(
                        this.options.fallbackLng,
                        e.lng || this.language
                      );
                    if ("fallback" === this.options.saveMissingTo && A && A[0])
                      for (var N = 0; N < A.length; N++) M.push(A[N]);
                    else
                      "all" === this.options.saveMissingTo
                        ? (M = this.languageUtils.toResolveHierarchy(
                            e.lng || this.language
                          ))
                        : M.push(e.lng || this.language);
                    var P = function (t, i) {
                      n.options.missingKeyHandler
                        ? n.options.missingKeyHandler(
                            t,
                            c,
                            i,
                            L ? e.defaultValue : d,
                            L,
                            e
                          )
                        : n.backendConnector &&
                          n.backendConnector.saveMissing &&
                          n.backendConnector.saveMissing(
                            t,
                            c,
                            i,
                            L ? e.defaultValue : d,
                            L,
                            e
                          ),
                        n.emit("missingKey", t, c, i, d);
                    };
                    if (this.options.saveMissing) {
                      var D = void 0 !== e.count && "string" != typeof e.count;
                      this.options.saveMissingPlurals && D
                        ? M.forEach(function (t) {
                            n.pluralResolver
                              .getPluralFormsOfKey(t, a)
                              .forEach(function (e) {
                                return P([t], e);
                              });
                          })
                        : P(M, a);
                    }
                  }
                  (d = this.extendTranslation(d, t, e, f)),
                    O &&
                      d === a &&
                      this.options.appendNamespaceToMissingKey &&
                      (d = "".concat(c, ":").concat(a)),
                    O &&
                      this.options.parseMissingKeyHandler &&
                      (d = this.options.parseMissingKeyHandler(d));
                }
                return d;
              },
            },
            {
              key: "extendTranslation",
              value: function (t, e, n, i) {
                var r = this;
                if (this.i18nFormat && this.i18nFormat.parse)
                  t = this.i18nFormat.parse(
                    t,
                    n,
                    i.usedLng,
                    i.usedNS,
                    i.usedKey,
                    { resolved: i }
                  );
                else if (!n.skipInterpolation) {
                  n.interpolation &&
                    this.interpolator.init(
                      s({}, n, {
                        interpolation: s(
                          {},
                          this.options.interpolation,
                          n.interpolation
                        ),
                      })
                    );
                  var o =
                    n.replace && "string" != typeof n.replace ? n.replace : n;
                  this.options.interpolation.defaultVariables &&
                    (o = s({}, this.options.interpolation.defaultVariables, o)),
                    (t = this.interpolator.interpolate(
                      t,
                      o,
                      n.lng || this.language,
                      n
                    )),
                    !1 !== n.nest &&
                      (t = this.interpolator.nest(
                        t,
                        function () {
                          return r.translate.apply(r, arguments);
                        },
                        n
                      )),
                    n.interpolation && this.interpolator.reset();
                }
                var a = n.postProcess || this.options.postProcess,
                  u = "string" == typeof a ? [a] : a;
                return (
                  null != t &&
                    u &&
                    u.length &&
                    !1 !== n.applyPostProcessor &&
                    (t = L.handle(u, t, e, n, this)),
                  t
                );
              },
            },
            {
              key: "resolve",
              value: function (t) {
                var e,
                  n,
                  i,
                  r,
                  o,
                  s = this,
                  a =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : {};
                return (
                  "string" == typeof t && (t = [t]),
                  t.forEach(function (t) {
                    if (!s.isValidLookup(e)) {
                      var u = s.extractFromKey(t, a),
                        c = u.key;
                      n = c;
                      var h = u.namespaces;
                      s.options.fallbackNS &&
                        (h = h.concat(s.options.fallbackNS));
                      var l = void 0 !== a.count && "string" != typeof a.count,
                        p =
                          void 0 !== a.context &&
                          "string" == typeof a.context &&
                          "" !== a.context,
                        f = a.lngs
                          ? a.lngs
                          : s.languageUtils.toResolveHierarchy(
                              a.lng || s.language,
                              a.fallbackLng
                            );
                      h.forEach(function (t) {
                        s.isValidLookup(e) ||
                          ((o = t),
                          f.forEach(function (n) {
                            if (!s.isValidLookup(e)) {
                              r = n;
                              var o,
                                u,
                                h = c,
                                f = [h];
                              if (s.i18nFormat && s.i18nFormat.addLookupKeys)
                                s.i18nFormat.addLookupKeys(f, c, n, t, a);
                              else
                                l &&
                                  (o = s.pluralResolver.getSuffix(n, a.count)),
                                  l && p && f.push(h + o),
                                  p &&
                                    f.push(
                                      (h += ""
                                        .concat(s.options.contextSeparator)
                                        .concat(a.context))
                                    ),
                                  l && f.push((h += o));
                              for (; (u = f.pop()); )
                                s.isValidLookup(e) ||
                                  ((i = u), (e = s.getResource(n, t, u, a)));
                            }
                          }));
                      });
                    }
                  }),
                  { res: e, usedKey: n, exactUsedKey: i, usedLng: r, usedNS: o }
                );
              },
            },
            {
              key: "isValidLookup",
              value: function (t) {
                return !(
                  void 0 === t ||
                  (!this.options.returnNull && null === t) ||
                  (!this.options.returnEmptyString && "" === t)
                );
              },
            },
            {
              key: "getResource",
              value: function (t, e, n) {
                var i =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : {};
                return this.i18nFormat && this.i18nFormat.getResource
                  ? this.i18nFormat.getResource(t, e, n, i)
                  : this.resourceStore.getResource(t, e, n, i);
              },
            },
          ]),
          e
        );
      })();
    function A(t) {
      return t.charAt(0).toUpperCase() + t.slice(1);
    }
    var N = (function () {
        function t(e) {
          a(this, t),
            (this.options = e),
            (this.whitelist = this.options.whitelist || !1),
            (this.logger = v.create("languageUtils"));
        }
        return (
          c(t, [
            {
              key: "getScriptPartFromCode",
              value: function (t) {
                if (!t || t.indexOf("-") < 0) return null;
                var e = t.split("-");
                return 2 === e.length
                  ? null
                  : (e.pop(), this.formatLanguageCode(e.join("-")));
              },
            },
            {
              key: "getLanguagePartFromCode",
              value: function (t) {
                if (!t || t.indexOf("-") < 0) return t;
                var e = t.split("-");
                return this.formatLanguageCode(e[0]);
              },
            },
            {
              key: "formatLanguageCode",
              value: function (t) {
                if ("string" == typeof t && t.indexOf("-") > -1) {
                  var e = [
                      "hans",
                      "hant",
                      "latn",
                      "cyrl",
                      "cans",
                      "mong",
                      "arab",
                    ],
                    n = t.split("-");
                  return (
                    this.options.lowerCaseLng
                      ? (n = n.map(function (t) {
                          return t.toLowerCase();
                        }))
                      : 2 === n.length
                      ? ((n[0] = n[0].toLowerCase()),
                        (n[1] = n[1].toUpperCase()),
                        e.indexOf(n[1].toLowerCase()) > -1 &&
                          (n[1] = A(n[1].toLowerCase())))
                      : 3 === n.length &&
                        ((n[0] = n[0].toLowerCase()),
                        2 === n[1].length && (n[1] = n[1].toUpperCase()),
                        "sgn" !== n[0] &&
                          2 === n[2].length &&
                          (n[2] = n[2].toUpperCase()),
                        e.indexOf(n[1].toLowerCase()) > -1 &&
                          (n[1] = A(n[1].toLowerCase())),
                        e.indexOf(n[2].toLowerCase()) > -1 &&
                          (n[2] = A(n[2].toLowerCase()))),
                    n.join("-")
                  );
                }
                return this.options.cleanCode || this.options.lowerCaseLng
                  ? t.toLowerCase()
                  : t;
              },
            },
            {
              key: "isWhitelisted",
              value: function (t) {
                return (
                  ("languageOnly" === this.options.load ||
                    this.options.nonExplicitWhitelist) &&
                    (t = this.getLanguagePartFromCode(t)),
                  !this.whitelist ||
                    !this.whitelist.length ||
                    this.whitelist.indexOf(t) > -1
                );
              },
            },
            {
              key: "getFallbackCodes",
              value: function (t, e) {
                if (!t) return [];
                if (
                  ("string" == typeof t && (t = [t]),
                  "[object Array]" === Object.prototype.toString.apply(t))
                )
                  return t;
                if (!e) return t.default || [];
                var n = t[e];
                return (
                  n || (n = t[this.getScriptPartFromCode(e)]),
                  n || (n = t[this.formatLanguageCode(e)]),
                  n || (n = t.default),
                  n || []
                );
              },
            },
            {
              key: "toResolveHierarchy",
              value: function (t, e) {
                var n = this,
                  i = this.getFallbackCodes(
                    e || this.options.fallbackLng || [],
                    t
                  ),
                  r = [],
                  o = function (t) {
                    t &&
                      (n.isWhitelisted(t)
                        ? r.push(t)
                        : n.logger.warn(
                            "rejecting non-whitelisted language code: ".concat(
                              t
                            )
                          ));
                  };
                return (
                  "string" == typeof t && t.indexOf("-") > -1
                    ? ("languageOnly" !== this.options.load &&
                        o(this.formatLanguageCode(t)),
                      "languageOnly" !== this.options.load &&
                        "currentOnly" !== this.options.load &&
                        o(this.getScriptPartFromCode(t)),
                      "currentOnly" !== this.options.load &&
                        o(this.getLanguagePartFromCode(t)))
                    : "string" == typeof t && o(this.formatLanguageCode(t)),
                  i.forEach(function (t) {
                    r.indexOf(t) < 0 && o(n.formatLanguageCode(t));
                  }),
                  r
                );
              },
            },
          ]),
          t
        );
      })(),
      P = [
        {
          lngs: [
            "ach",
            "ak",
            "am",
            "arn",
            "br",
            "fil",
            "gun",
            "ln",
            "mfe",
            "mg",
            "mi",
            "oc",
            "pt",
            "pt-BR",
            "tg",
            "ti",
            "tr",
            "uz",
            "wa",
          ],
          nr: [1, 2],
          fc: 1,
        },
        {
          lngs: [
            "af",
            "an",
            "ast",
            "az",
            "bg",
            "bn",
            "ca",
            "da",
            "de",
            "dev",
            "el",
            "en",
            "eo",
            "es",
            "et",
            "eu",
            "fi",
            "fo",
            "fur",
            "fy",
            "gl",
            "gu",
            "ha",
            "hi",
            "hu",
            "hy",
            "ia",
            "it",
            "kn",
            "ku",
            "lb",
            "mai",
            "ml",
            "mn",
            "mr",
            "nah",
            "nap",
            "nb",
            "ne",
            "nl",
            "nn",
            "no",
            "nso",
            "pa",
            "pap",
            "pms",
            "ps",
            "pt-PT",
            "rm",
            "sco",
            "se",
            "si",
            "so",
            "son",
            "sq",
            "sv",
            "sw",
            "ta",
            "te",
            "tk",
            "ur",
            "yo",
          ],
          nr: [1, 2],
          fc: 2,
        },
        {
          lngs: [
            "ay",
            "bo",
            "cgg",
            "fa",
            "id",
            "ja",
            "jbo",
            "ka",
            "kk",
            "km",
            "ko",
            "ky",
            "lo",
            "ms",
            "sah",
            "su",
            "th",
            "tt",
            "ug",
            "vi",
            "wo",
            "zh",
          ],
          nr: [1],
          fc: 3,
        },
        {
          lngs: ["be", "bs", "cnr", "dz", "hr", "ru", "sr", "uk"],
          nr: [1, 2, 5],
          fc: 4,
        },
        { lngs: ["ar"], nr: [0, 1, 2, 3, 11, 100], fc: 5 },
        { lngs: ["cs", "sk"], nr: [1, 2, 5], fc: 6 },
        { lngs: ["csb", "pl"], nr: [1, 2, 5], fc: 7 },
        { lngs: ["cy"], nr: [1, 2, 3, 8], fc: 8 },
        { lngs: ["fr"], nr: [1, 2], fc: 9 },
        { lngs: ["ga"], nr: [1, 2, 3, 7, 11], fc: 10 },
        { lngs: ["gd"], nr: [1, 2, 3, 20], fc: 11 },
        { lngs: ["is"], nr: [1, 2], fc: 12 },
        { lngs: ["jv"], nr: [0, 1], fc: 13 },
        { lngs: ["kw"], nr: [1, 2, 3, 4], fc: 14 },
        { lngs: ["lt"], nr: [1, 2, 10], fc: 15 },
        { lngs: ["lv"], nr: [1, 2, 0], fc: 16 },
        { lngs: ["mk"], nr: [1, 2], fc: 17 },
        { lngs: ["mnk"], nr: [0, 1, 2], fc: 18 },
        { lngs: ["mt"], nr: [1, 2, 11, 20], fc: 19 },
        { lngs: ["or"], nr: [2, 1], fc: 2 },
        { lngs: ["ro"], nr: [1, 2, 20], fc: 20 },
        { lngs: ["sl"], nr: [5, 1, 2, 3], fc: 21 },
        { lngs: ["he"], nr: [1, 2, 20, 21], fc: 22 },
      ],
      D = {
        1: function (t) {
          return Number(t > 1);
        },
        2: function (t) {
          return Number(1 != t);
        },
        3: function (t) {
          return 0;
        },
        4: function (t) {
          return Number(
            t % 10 == 1 && t % 100 != 11
              ? 0
              : t % 10 >= 2 && t % 10 <= 4 && (t % 100 < 10 || t % 100 >= 20)
              ? 1
              : 2
          );
        },
        5: function (t) {
          return Number(
            0 === t
              ? 0
              : 1 == t
              ? 1
              : 2 == t
              ? 2
              : t % 100 >= 3 && t % 100 <= 10
              ? 3
              : t % 100 >= 11
              ? 4
              : 5
          );
        },
        6: function (t) {
          return Number(1 == t ? 0 : t >= 2 && t <= 4 ? 1 : 2);
        },
        7: function (t) {
          return Number(
            1 == t
              ? 0
              : t % 10 >= 2 && t % 10 <= 4 && (t % 100 < 10 || t % 100 >= 20)
              ? 1
              : 2
          );
        },
        8: function (t) {
          return Number(1 == t ? 0 : 2 == t ? 1 : 8 != t && 11 != t ? 2 : 3);
        },
        9: function (t) {
          return Number(t >= 2);
        },
        10: function (t) {
          return Number(1 == t ? 0 : 2 == t ? 1 : t < 7 ? 2 : t < 11 ? 3 : 4);
        },
        11: function (t) {
          return Number(
            1 == t || 11 == t
              ? 0
              : 2 == t || 12 == t
              ? 1
              : t > 2 && t < 20
              ? 2
              : 3
          );
        },
        12: function (t) {
          return Number(t % 10 != 1 || t % 100 == 11);
        },
        13: function (t) {
          return Number(0 !== t);
        },
        14: function (t) {
          return Number(1 == t ? 0 : 2 == t ? 1 : 3 == t ? 2 : 3);
        },
        15: function (t) {
          return Number(
            t % 10 == 1 && t % 100 != 11
              ? 0
              : t % 10 >= 2 && (t % 100 < 10 || t % 100 >= 20)
              ? 1
              : 2
          );
        },
        16: function (t) {
          return Number(t % 10 == 1 && t % 100 != 11 ? 0 : 0 !== t ? 1 : 2);
        },
        17: function (t) {
          return Number(1 == t || t % 10 == 1 ? 0 : 1);
        },
        18: function (t) {
          return Number(0 == t ? 0 : 1 == t ? 1 : 2);
        },
        19: function (t) {
          return Number(
            1 == t
              ? 0
              : 0 === t || (t % 100 > 1 && t % 100 < 11)
              ? 1
              : t % 100 > 10 && t % 100 < 20
              ? 2
              : 3
          );
        },
        20: function (t) {
          return Number(
            1 == t ? 0 : 0 === t || (t % 100 > 0 && t % 100 < 20) ? 1 : 2
          );
        },
        21: function (t) {
          return Number(
            t % 100 == 1
              ? 1
              : t % 100 == 2
              ? 2
              : t % 100 == 3 || t % 100 == 4
              ? 3
              : 0
          );
        },
        22: function (t) {
          return Number(
            1 === t ? 0 : 2 === t ? 1 : (t < 0 || t > 10) && t % 10 == 0 ? 2 : 3
          );
        },
      };
    var k = (function () {
        function t(e) {
          var n,
            i =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {};
          a(this, t),
            (this.languageUtils = e),
            (this.options = i),
            (this.logger = v.create("pluralResolver")),
            (this.rules =
              ((n = {}),
              P.forEach(function (t) {
                t.lngs.forEach(function (e) {
                  n[e] = { numbers: t.nr, plurals: D[t.fc] };
                });
              }),
              n));
        }
        return (
          c(t, [
            {
              key: "addRule",
              value: function (t, e) {
                this.rules[t] = e;
              },
            },
            {
              key: "getRule",
              value: function (t) {
                return (
                  this.rules[t] ||
                  this.rules[this.languageUtils.getLanguagePartFromCode(t)]
                );
              },
            },
            {
              key: "needsPlural",
              value: function (t) {
                var e = this.getRule(t);
                return e && e.numbers.length > 1;
              },
            },
            {
              key: "getPluralFormsOfKey",
              value: function (t, e) {
                var n = this,
                  i = [],
                  r = this.getRule(t);
                return r
                  ? (r.numbers.forEach(function (r) {
                      var o = n.getSuffix(t, r);
                      i.push("".concat(e).concat(o));
                    }),
                    i)
                  : i;
              },
            },
            {
              key: "getSuffix",
              value: function (t, e) {
                var n = this,
                  i = this.getRule(t);
                if (i) {
                  var r = i.noAbs ? i.plurals(e) : i.plurals(Math.abs(e)),
                    o = i.numbers[r];
                  this.options.simplifyPluralSuffix &&
                    2 === i.numbers.length &&
                    1 === i.numbers[0] &&
                    (2 === o ? (o = "plural") : 1 === o && (o = ""));
                  var s = function () {
                    return n.options.prepend && o.toString()
                      ? n.options.prepend + o.toString()
                      : o.toString();
                  };
                  return "v1" === this.options.compatibilityJSON
                    ? 1 === o
                      ? ""
                      : "number" == typeof o
                      ? "_plural_".concat(o.toString())
                      : s()
                    : "v2" === this.options.compatibilityJSON
                    ? s()
                    : this.options.simplifyPluralSuffix &&
                      2 === i.numbers.length &&
                      1 === i.numbers[0]
                    ? s()
                    : this.options.prepend && r.toString()
                    ? this.options.prepend + r.toString()
                    : r.toString();
                }
                return (
                  this.logger.warn("no plural rule found for: ".concat(t)), ""
                );
              },
            },
          ]),
          t
        );
      })(),
      F = (function () {
        function t() {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          a(this, t),
            (this.logger = v.create("interpolator")),
            (this.options = e),
            (this.format =
              (e.interpolation && e.interpolation.format) ||
              function (t) {
                return t;
              }),
            this.init(e);
        }
        return (
          c(t, [
            {
              key: "init",
              value: function () {
                var t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {};
                t.interpolation || (t.interpolation = { escapeValue: !0 });
                var e = t.interpolation;
                (this.escape = void 0 !== e.escape ? e.escape : O),
                  (this.escapeValue =
                    void 0 === e.escapeValue || e.escapeValue),
                  (this.useRawValueToEscape =
                    void 0 !== e.useRawValueToEscape && e.useRawValueToEscape),
                  (this.prefix = e.prefix
                    ? C(e.prefix)
                    : e.prefixEscaped || "{{"),
                  (this.suffix = e.suffix
                    ? C(e.suffix)
                    : e.suffixEscaped || "}}"),
                  (this.formatSeparator = e.formatSeparator
                    ? e.formatSeparator
                    : e.formatSeparator || ","),
                  (this.unescapePrefix = e.unescapeSuffix
                    ? ""
                    : e.unescapePrefix || "-"),
                  (this.unescapeSuffix = this.unescapePrefix
                    ? ""
                    : e.unescapeSuffix || ""),
                  (this.nestingPrefix = e.nestingPrefix
                    ? C(e.nestingPrefix)
                    : e.nestingPrefixEscaped || C("$t(")),
                  (this.nestingSuffix = e.nestingSuffix
                    ? C(e.nestingSuffix)
                    : e.nestingSuffixEscaped || C(")")),
                  (this.maxReplaces = e.maxReplaces ? e.maxReplaces : 1e3),
                  this.resetRegExp();
              },
            },
            {
              key: "reset",
              value: function () {
                this.options && this.init(this.options);
              },
            },
            {
              key: "resetRegExp",
              value: function () {
                var t = "".concat(this.prefix, "(.+?)").concat(this.suffix);
                this.regexp = new RegExp(t, "g");
                var e = ""
                  .concat(this.prefix)
                  .concat(this.unescapePrefix, "(.+?)")
                  .concat(this.unescapeSuffix)
                  .concat(this.suffix);
                this.regexpUnescape = new RegExp(e, "g");
                var n = ""
                  .concat(this.nestingPrefix, "(.+?)")
                  .concat(this.nestingSuffix);
                this.nestingRegexp = new RegExp(n, "g");
              },
            },
            {
              key: "interpolate",
              value: function (t, e, n, i) {
                var r,
                  o,
                  a,
                  u = this,
                  c = s(
                    {},
                    (this.options &&
                      this.options.interpolation &&
                      this.options.interpolation.defaultVariables) ||
                      {},
                    e
                  );
                function h(t) {
                  return t.replace(/\$/g, "$$$$");
                }
                var l = function (t) {
                  if (t.indexOf(u.formatSeparator) < 0) return I(c, t);
                  var e = t.split(u.formatSeparator),
                    i = e.shift().trim(),
                    r = e.join(u.formatSeparator).trim();
                  return u.format(I(c, i), r, n);
                };
                this.resetRegExp();
                var p =
                  (i && i.missingInterpolationHandler) ||
                  this.options.missingInterpolationHandler;
                for (a = 0; (r = this.regexpUnescape.exec(t)); ) {
                  if (void 0 === (o = l(r[1].trim())))
                    if ("function" == typeof p) {
                      var f = p(t, r, i);
                      o = "string" == typeof f ? f : "";
                    } else
                      this.logger.warn(
                        "missed to pass in variable "
                          .concat(r[1], " for interpolating ")
                          .concat(t)
                      ),
                        (o = "");
                  else
                    "string" == typeof o ||
                      this.useRawValueToEscape ||
                      (o = E(o));
                  if (
                    ((t = t.replace(r[0], h(o))),
                    (this.regexpUnescape.lastIndex = 0),
                    ++a >= this.maxReplaces)
                  )
                    break;
                }
                for (a = 0; (r = this.regexp.exec(t)); ) {
                  if (void 0 === (o = l(r[1].trim())))
                    if ("function" == typeof p) {
                      var d = p(t, r, i);
                      o = "string" == typeof d ? d : "";
                    } else
                      this.logger.warn(
                        "missed to pass in variable "
                          .concat(r[1], " for interpolating ")
                          .concat(t)
                      ),
                        (o = "");
                  else
                    "string" == typeof o ||
                      this.useRawValueToEscape ||
                      (o = E(o));
                  if (
                    ((o = this.escapeValue ? h(this.escape(o)) : h(o)),
                    (t = t.replace(r[0], o)),
                    (this.regexp.lastIndex = 0),
                    ++a >= this.maxReplaces)
                  )
                    break;
                }
                return t;
              },
            },
            {
              key: "nest",
              value: function (t, e) {
                var n,
                  i,
                  r =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : {},
                  o = s({}, r);
                function a(t, e) {
                  if (t.indexOf(",") < 0) return t;
                  var n = t.split(",");
                  t = n.shift();
                  var i = n.join(",");
                  i = (i = this.interpolate(i, o)).replace(/'/g, '"');
                  try {
                    (o = JSON.parse(i)), e && (o = s({}, e, o));
                  } catch (e) {
                    this.logger.error(
                      "failed parsing options string in nesting for key ".concat(
                        t
                      ),
                      e
                    );
                  }
                  return t;
                }
                for (
                  o.applyPostProcessor = !1;
                  (n = this.nestingRegexp.exec(t));

                ) {
                  if (
                    (i = e(a.call(this, n[1].trim(), o), o)) &&
                    n[0] === t &&
                    "string" != typeof i
                  )
                    return i;
                  "string" != typeof i && (i = E(i)),
                    i ||
                      (this.logger.warn(
                        "missed to resolve "
                          .concat(n[1], " for nesting ")
                          .concat(t)
                      ),
                      (i = "")),
                    (t = t.replace(n[0], i)),
                    (this.regexp.lastIndex = 0);
                }
                return t;
              },
            },
          ]),
          t
        );
      })();
    var G = (function (t) {
      function e(t, n, i) {
        var r,
          o =
            arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
        return (
          a(this, e),
          (r = l(this, p(e).call(this))),
          m.call(h(r)),
          (r.backend = t),
          (r.store = n),
          (r.languageUtils = i.languageUtils),
          (r.options = o),
          (r.logger = v.create("backendConnector")),
          (r.state = {}),
          (r.queue = []),
          r.backend && r.backend.init && r.backend.init(i, o.backend, o),
          r
        );
      }
      return (
        d(e, m),
        c(e, [
          {
            key: "queueLoad",
            value: function (t, e, n, i) {
              var r = this,
                o = [],
                s = [],
                a = [],
                u = [];
              return (
                t.forEach(function (t) {
                  var i = !0;
                  e.forEach(function (e) {
                    var a = "".concat(t, "|").concat(e);
                    !n.reload && r.store.hasResourceBundle(t, e)
                      ? (r.state[a] = 2)
                      : r.state[a] < 0 ||
                        (1 === r.state[a]
                          ? s.indexOf(a) < 0 && s.push(a)
                          : ((r.state[a] = 1),
                            (i = !1),
                            s.indexOf(a) < 0 && s.push(a),
                            o.indexOf(a) < 0 && o.push(a),
                            u.indexOf(e) < 0 && u.push(e)));
                  }),
                    i || a.push(t);
                }),
                (o.length || s.length) &&
                  this.queue.push({
                    pending: s,
                    loaded: {},
                    errors: [],
                    callback: i,
                  }),
                {
                  toLoad: o,
                  pending: s,
                  toLoadLanguages: a,
                  toLoadNamespaces: u,
                }
              );
            },
          },
          {
            key: "loaded",
            value: function (t, e, n) {
              var i = y(t.split("|"), 2),
                r = i[0],
                o = i[1];
              e && this.emit("failedLoading", r, o, e),
                n && this.store.addResourceBundle(r, o, n),
                (this.state[t] = e ? -1 : 2);
              var s = {};
              this.queue.forEach(function (n) {
                var i, a, u, c, h, l;
                (i = n.loaded),
                  (a = o),
                  (c = b(i, [r], Object)),
                  (h = c.obj),
                  (l = c.k),
                  (h[l] = h[l] || []),
                  u && (h[l] = h[l].concat(a)),
                  u || h[l].push(a),
                  (function (t, e) {
                    for (var n = t.indexOf(e); -1 !== n; )
                      t.splice(n, 1), (n = t.indexOf(e));
                  })(n.pending, t),
                  e && n.errors.push(e),
                  0 !== n.pending.length ||
                    n.done ||
                    (Object.keys(n.loaded).forEach(function (t) {
                      s[t] || (s[t] = []),
                        n.loaded[t].length &&
                          n.loaded[t].forEach(function (e) {
                            s[t].indexOf(e) < 0 && s[t].push(e);
                          });
                    }),
                    (n.done = !0),
                    n.errors.length ? n.callback(n.errors) : n.callback());
              }),
                this.emit("loaded", s),
                (this.queue = this.queue.filter(function (t) {
                  return !t.done;
                }));
            },
          },
          {
            key: "read",
            value: function (t, e, n) {
              var i = this,
                r =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : 0,
                o =
                  arguments.length > 4 && void 0 !== arguments[4]
                    ? arguments[4]
                    : 250,
                s = arguments.length > 5 ? arguments[5] : void 0;
              return t.length
                ? this.backend[n](t, e, function (a, u) {
                    a && u && r < 5
                      ? setTimeout(function () {
                          i.read.call(i, t, e, n, r + 1, 2 * o, s);
                        }, o)
                      : s(a, u);
                  })
                : s(null, {});
            },
          },
          {
            key: "prepareLoading",
            value: function (t, e) {
              var n = this,
                i =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : {},
                r = arguments.length > 3 ? arguments[3] : void 0;
              if (!this.backend)
                return (
                  this.logger.warn(
                    "No backend was added via i18next.use. Will not load resources."
                  ),
                  r && r()
                );
              "string" == typeof t &&
                (t = this.languageUtils.toResolveHierarchy(t)),
                "string" == typeof e && (e = [e]);
              var o = this.queueLoad(t, e, i, r);
              if (!o.toLoad.length) return o.pending.length || r(), null;
              o.toLoad.forEach(function (t) {
                n.loadOne(t);
              });
            },
          },
          {
            key: "load",
            value: function (t, e, n) {
              this.prepareLoading(t, e, {}, n);
            },
          },
          {
            key: "reload",
            value: function (t, e, n) {
              this.prepareLoading(t, e, { reload: !0 }, n);
            },
          },
          {
            key: "loadOne",
            value: function (t) {
              var e = this,
                n =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : "",
                i = t.split("|"),
                r = y(i, 2),
                o = r[0],
                s = r[1];
              this.read(o, s, "read", null, null, function (i, r) {
                i &&
                  e.logger.warn(
                    ""
                      .concat(n, "loading namespace ")
                      .concat(s, " for language ")
                      .concat(o, " failed"),
                    i
                  ),
                  !i &&
                    r &&
                    e.logger.log(
                      ""
                        .concat(n, "loaded namespace ")
                        .concat(s, " for language ")
                        .concat(o),
                      r
                    ),
                  e.loaded(t, i, r);
              });
            },
          },
          {
            key: "saveMissing",
            value: function (t, e, n, i, r) {
              var o =
                arguments.length > 5 && void 0 !== arguments[5]
                  ? arguments[5]
                  : {};
              this.backend &&
                this.backend.create &&
                this.backend.create(
                  t,
                  e,
                  n,
                  i,
                  null,
                  s({}, o, { isUpdate: r })
                ),
                t && t[0] && this.store.addResource(t[0], e, n, i);
            },
          },
        ]),
        e
      );
    })();
    function j() {
      return {
        debug: !1,
        initImmediate: !0,
        ns: ["translation"],
        defaultNS: ["translation"],
        fallbackLng: ["dev"],
        fallbackNS: !1,
        whitelist: !1,
        nonExplicitWhitelist: !1,
        load: "all",
        preload: !1,
        simplifyPluralSuffix: !0,
        keySeparator: ".",
        nsSeparator: ":",
        pluralSeparator: "_",
        contextSeparator: "_",
        partialBundledLanguages: !1,
        saveMissing: !1,
        updateMissing: !1,
        saveMissingTo: "fallback",
        saveMissingPlurals: !0,
        missingKeyHandler: !1,
        missingInterpolationHandler: !1,
        postProcess: !1,
        returnNull: !0,
        returnEmptyString: !0,
        returnObjects: !1,
        joinArrays: !1,
        returnedObjectHandler: !1,
        parseMissingKeyHandler: !1,
        appendNamespaceToMissingKey: !1,
        appendNamespaceToCIMode: !1,
        overloadTranslationOptionHandler: function (t) {
          var e = {};
          if (
            ("object" === r(t[1]) && (e = t[1]),
            "string" == typeof t[1] && (e.defaultValue = t[1]),
            "string" == typeof t[2] && (e.tDescription = t[2]),
            "object" === r(t[2]) || "object" === r(t[3]))
          ) {
            var n = t[3] || t[2];
            Object.keys(n).forEach(function (t) {
              e[t] = n[t];
            });
          }
          return e;
        },
        interpolation: {
          escapeValue: !0,
          format: function (t, e, n) {
            return t;
          },
          prefix: "{{",
          suffix: "}}",
          formatSeparator: ",",
          unescapePrefix: "-",
          nestingPrefix: "$t(",
          nestingSuffix: ")",
          maxReplaces: 1e3,
        },
      };
    }
    function B(t) {
      return (
        "string" == typeof t.ns && (t.ns = [t.ns]),
        "string" == typeof t.fallbackLng && (t.fallbackLng = [t.fallbackLng]),
        "string" == typeof t.fallbackNS && (t.fallbackNS = [t.fallbackNS]),
        t.whitelist &&
          t.whitelist.indexOf("cimode") < 0 &&
          (t.whitelist = t.whitelist.concat(["cimode"])),
        t
      );
    }
    function U() {}
    var Y = new ((function (t) {
        function e() {
          var t,
            n =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {},
            i = arguments.length > 1 ? arguments[1] : void 0;
          if (
            (a(this, e),
            (t = l(this, p(e).call(this))),
            m.call(h(t)),
            (t.options = B(n)),
            (t.services = {}),
            (t.logger = v),
            (t.modules = { external: [] }),
            i && !t.isInitialized && !n.isClone)
          ) {
            if (!t.options.initImmediate) return t.init(n, i), l(t, h(t));
            setTimeout(function () {
              t.init(n, i);
            }, 0);
          }
          return t;
        }
        return (
          d(e, m),
          c(e, [
            {
              key: "init",
              value: function () {
                var t = this,
                  e =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : {},
                  n = arguments.length > 1 ? arguments[1] : void 0;
                function i(t) {
                  return t ? ("function" == typeof t ? new t() : t) : null;
                }
                if (
                  ("function" == typeof e && ((n = e), (e = {})),
                  (this.options = s({}, j(), this.options, B(e))),
                  (this.format = this.options.interpolation.format),
                  n || (n = U),
                  !this.options.isClone)
                ) {
                  this.modules.logger
                    ? v.init(i(this.modules.logger), this.options)
                    : v.init(null, this.options);
                  var r = new N(this.options);
                  this.store = new R(this.options.resources, this.options);
                  var o = this.services;
                  (o.logger = v),
                    (o.resourceStore = this.store),
                    (o.languageUtils = r),
                    (o.pluralResolver = new k(r, {
                      prepend: this.options.pluralSeparator,
                      compatibilityJSON: this.options.compatibilityJSON,
                      simplifyPluralSuffix: this.options.simplifyPluralSuffix,
                    })),
                    (o.interpolator = new F(this.options)),
                    (o.backendConnector = new G(
                      i(this.modules.backend),
                      o.resourceStore,
                      o,
                      this.options
                    )),
                    o.backendConnector.on("*", function (e) {
                      for (
                        var n = arguments.length,
                          i = new Array(n > 1 ? n - 1 : 0),
                          r = 1;
                        r < n;
                        r++
                      )
                        i[r - 1] = arguments[r];
                      t.emit.apply(t, [e].concat(i));
                    }),
                    this.modules.languageDetector &&
                      ((o.languageDetector = i(this.modules.languageDetector)),
                      o.languageDetector.init(
                        o,
                        this.options.detection,
                        this.options
                      )),
                    this.modules.i18nFormat &&
                      ((o.i18nFormat = i(this.modules.i18nFormat)),
                      o.i18nFormat.init && o.i18nFormat.init(this)),
                    (this.translator = new M(this.services, this.options)),
                    this.translator.on("*", function (e) {
                      for (
                        var n = arguments.length,
                          i = new Array(n > 1 ? n - 1 : 0),
                          r = 1;
                        r < n;
                        r++
                      )
                        i[r - 1] = arguments[r];
                      t.emit.apply(t, [e].concat(i));
                    }),
                    this.modules.external.forEach(function (e) {
                      e.init && e.init(t);
                    });
                }
                var a = [
                  "getResource",
                  "addResource",
                  "addResources",
                  "addResourceBundle",
                  "removeResourceBundle",
                  "hasResourceBundle",
                  "getResourceBundle",
                  "getDataByLanguage",
                ];
                a.forEach(function (e) {
                  t[e] = function () {
                    var n;
                    return (n = t.store)[e].apply(n, arguments);
                  };
                });
                var u = x(),
                  c = function () {
                    t.changeLanguage(t.options.lng, function (e, i) {
                      (t.isInitialized = !0),
                        t.logger.log("initialized", t.options),
                        t.emit("initialized", t.options),
                        u.resolve(i),
                        n(e, i);
                    });
                  };
                return (
                  this.options.resources || !this.options.initImmediate
                    ? c()
                    : setTimeout(c, 0),
                  u
                );
              },
            },
            {
              key: "loadResources",
              value: function () {
                var t = this,
                  e =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : U;
                if (
                  !this.options.resources ||
                  this.options.partialBundledLanguages
                ) {
                  if (this.language && "cimode" === this.language.toLowerCase())
                    return e();
                  var n = [],
                    i = function (e) {
                      e &&
                        t.services.languageUtils
                          .toResolveHierarchy(e)
                          .forEach(function (t) {
                            n.indexOf(t) < 0 && n.push(t);
                          });
                    };
                  if (this.language) i(this.language);
                  else {
                    var r = this.services.languageUtils.getFallbackCodes(
                      this.options.fallbackLng
                    );
                    r.forEach(function (t) {
                      return i(t);
                    });
                  }
                  this.options.preload &&
                    this.options.preload.forEach(function (t) {
                      return i(t);
                    }),
                    this.services.backendConnector.load(n, this.options.ns, e);
                } else e(null);
              },
            },
            {
              key: "reloadResources",
              value: function (t, e, n) {
                var i = x();
                return (
                  t || (t = this.languages),
                  e || (e = this.options.ns),
                  n || (n = U),
                  this.services.backendConnector.reload(t, e, function (t) {
                    i.resolve(), n(t);
                  }),
                  i
                );
              },
            },
            {
              key: "use",
              value: function (t) {
                return (
                  "backend" === t.type && (this.modules.backend = t),
                  ("logger" === t.type || (t.log && t.warn && t.error)) &&
                    (this.modules.logger = t),
                  "languageDetector" === t.type &&
                    (this.modules.languageDetector = t),
                  "i18nFormat" === t.type && (this.modules.i18nFormat = t),
                  "postProcessor" === t.type && L.addPostProcessor(t),
                  "3rdParty" === t.type && this.modules.external.push(t),
                  this
                );
              },
            },
            {
              key: "changeLanguage",
              value: function (t, e) {
                var n = this,
                  i = x();
                this.emit("languageChanging", t);
                var r = function (t) {
                  t &&
                    ((n.language = t),
                    (n.languages = n.services.languageUtils.toResolveHierarchy(
                      t
                    )),
                    n.translator.language || n.translator.changeLanguage(t),
                    n.services.languageDetector &&
                      n.services.languageDetector.cacheUserLanguage(t)),
                    n.loadResources(function (r) {
                      !(function (t, r) {
                        n.translator.changeLanguage(r),
                          r &&
                            (n.emit("languageChanged", r),
                            n.logger.log("languageChanged", r)),
                          i.resolve(function () {
                            return n.t.apply(n, arguments);
                          }),
                          e &&
                            e(t, function () {
                              return n.t.apply(n, arguments);
                            });
                      })(r, t);
                    });
                };
                return (
                  t ||
                  !this.services.languageDetector ||
                  this.services.languageDetector.async
                    ? !t &&
                      this.services.languageDetector &&
                      this.services.languageDetector.async
                      ? this.services.languageDetector.detect(r)
                      : r(t)
                    : r(this.services.languageDetector.detect()),
                  i
                );
              },
            },
            {
              key: "getFixedT",
              value: function (t, e) {
                var n = this,
                  i = function t(e, i) {
                    var o = s({}, i);
                    if ("object" !== r(i)) {
                      for (
                        var a = arguments.length,
                          u = new Array(a > 2 ? a - 2 : 0),
                          c = 2;
                        c < a;
                        c++
                      )
                        u[c - 2] = arguments[c];
                      o = n.options.overloadTranslationOptionHandler(
                        [e, i].concat(u)
                      );
                    }
                    return (
                      (o.lng = o.lng || t.lng),
                      (o.lngs = o.lngs || t.lngs),
                      (o.ns = o.ns || t.ns),
                      n.t(e, o)
                    );
                  };
                return (
                  "string" == typeof t ? (i.lng = t) : (i.lngs = t),
                  (i.ns = e),
                  i
                );
              },
            },
            {
              key: "t",
              value: function () {
                var t;
                return (
                  this.translator &&
                  (t = this.translator).translate.apply(t, arguments)
                );
              },
            },
            {
              key: "exists",
              value: function () {
                var t;
                return (
                  this.translator &&
                  (t = this.translator).exists.apply(t, arguments)
                );
              },
            },
            {
              key: "setDefaultNamespace",
              value: function (t) {
                this.options.defaultNS = t;
              },
            },
            {
              key: "loadNamespaces",
              value: function (t, e) {
                var n = this,
                  i = x();
                return this.options.ns
                  ? ("string" == typeof t && (t = [t]),
                    t.forEach(function (t) {
                      n.options.ns.indexOf(t) < 0 && n.options.ns.push(t);
                    }),
                    this.loadResources(function (t) {
                      i.resolve(), e && e(t);
                    }),
                    i)
                  : (e && e(), Promise.resolve());
              },
            },
            {
              key: "loadLanguages",
              value: function (t, e) {
                var n = x();
                "string" == typeof t && (t = [t]);
                var i = this.options.preload || [],
                  r = t.filter(function (t) {
                    return i.indexOf(t) < 0;
                  });
                return r.length
                  ? ((this.options.preload = i.concat(r)),
                    this.loadResources(function (t) {
                      n.resolve(), e && e(t);
                    }),
                    n)
                  : (e && e(), Promise.resolve());
              },
            },
            {
              key: "dir",
              value: function (t) {
                if (
                  (t ||
                    (t =
                      this.languages && this.languages.length > 0
                        ? this.languages[0]
                        : this.language),
                  !t)
                )
                  return "rtl";
                return [
                  "ar",
                  "shu",
                  "sqr",
                  "ssh",
                  "xaa",
                  "yhd",
                  "yud",
                  "aao",
                  "abh",
                  "abv",
                  "acm",
                  "acq",
                  "acw",
                  "acx",
                  "acy",
                  "adf",
                  "ads",
                  "aeb",
                  "aec",
                  "afb",
                  "ajp",
                  "apc",
                  "apd",
                  "arb",
                  "arq",
                  "ars",
                  "ary",
                  "arz",
                  "auz",
                  "avl",
                  "ayh",
                  "ayl",
                  "ayn",
                  "ayp",
                  "bbz",
                  "pga",
                  "he",
                  "iw",
                  "ps",
                  "pbt",
                  "pbu",
                  "pst",
                  "prp",
                  "prd",
                  "ur",
                  "ydd",
                  "yds",
                  "yih",
                  "ji",
                  "yi",
                  "hbo",
                  "men",
                  "xmn",
                  "fa",
                  "jpr",
                  "peo",
                  "pes",
                  "prs",
                  "dv",
                  "sam",
                ].indexOf(
                  this.services.languageUtils.getLanguagePartFromCode(t)
                ) >= 0
                  ? "rtl"
                  : "ltr";
              },
            },
            {
              key: "createInstance",
              value: function () {
                var t =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : {},
                  n = arguments.length > 1 ? arguments[1] : void 0;
                return new e(t, n);
              },
            },
            {
              key: "cloneInstance",
              value: function () {
                var t = this,
                  n =
                    arguments.length > 0 && void 0 !== arguments[0]
                      ? arguments[0]
                      : {},
                  i =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : U,
                  r = s({}, this.options, n, { isClone: !0 }),
                  o = new e(r),
                  a = ["store", "services", "language"];
                return (
                  a.forEach(function (e) {
                    o[e] = t[e];
                  }),
                  (o.translator = new M(o.services, o.options)),
                  o.translator.on("*", function (t) {
                    for (
                      var e = arguments.length,
                        n = new Array(e > 1 ? e - 1 : 0),
                        i = 1;
                      i < e;
                      i++
                    )
                      n[i - 1] = arguments[i];
                    o.emit.apply(o, [t].concat(n));
                  }),
                  o.init(r, i),
                  (o.translator.options = o.options),
                  o
                );
              },
            },
          ]),
          e
        );
      })())(),
      X = [],
      z = X.forEach,
      V = X.slice;
    function q(t) {
      return (
        z.call(V.call(arguments, 1), function (e) {
          if (e) for (var n in e) void 0 === t[n] && (t[n] = e[n]);
        }),
        t
      );
    }
    function W(t, e) {
      if (e && "object" === r(e)) {
        var n = "",
          i = encodeURIComponent;
        for (var o in e) n += "&" + i(o) + "=" + i(e[o]);
        if (!n) return t;
        t = t + (-1 !== t.indexOf("?") ? "&" : "?") + n.slice(1);
      }
      return t;
    }
    function H(t, e, n, i, o) {
      i &&
        "object" === r(i) &&
        (o || (i._t = new Date()), (i = W("", i).slice(1))),
        e.queryStringParams && (t = W(t, e.queryStringParams));
      try {
        var s;
        (s = XMLHttpRequest
          ? new XMLHttpRequest()
          : new ActiveXObject("MSXML2.XMLHTTP.3.0")).open(
          i ? "POST" : "GET",
          t,
          1
        ),
          e.crossDomain ||
            s.setRequestHeader("X-Requested-With", "XMLHttpRequest"),
          (s.withCredentials = !!e.withCredentials),
          i &&
            s.setRequestHeader(
              "Content-type",
              "application/x-www-form-urlencoded"
            ),
          s.overrideMimeType && s.overrideMimeType("application/json");
        var a = e.customHeaders;
        if ((a = "function" == typeof a ? a() : a))
          for (var u in a) s.setRequestHeader(u, a[u]);
        (s.onreadystatechange = function () {
          s.readyState > 3 && n && n(s.responseText, s);
        }),
          s.send(i);
      } catch (t) {
        console && console.log(t);
      }
    }
    function K() {
      return {
        loadPath: "/locales/{{lng}}/{{ns}}.json",
        addPath: "/locales/add/{{lng}}/{{ns}}",
        allowMultiLoading: !1,
        parse: JSON.parse,
        crossDomain: !1,
        ajax: H,
      };
    }
    var Z = (function () {
      function t(e) {
        var n =
          arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        a(this, t), this.init(e, n), (this.type = "backend");
      }
      return (
        c(t, [
          {
            key: "init",
            value: function (t) {
              var e =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : {};
              (this.services = t),
                (this.options = q(e, this.options || {}, K()));
            },
          },
          {
            key: "readMulti",
            value: function (t, e, n) {
              var i = this.options.loadPath;
              "function" == typeof this.options.loadPath &&
                (i = this.options.loadPath(t, e));
              var r = this.services.interpolator.interpolate(i, {
                lng: t.join("+"),
                ns: e.join("+"),
              });
              this.loadUrl(r, n);
            },
          },
          {
            key: "read",
            value: function (t, e, n) {
              var i = this.options.loadPath;
              "function" == typeof this.options.loadPath &&
                (i = this.options.loadPath([t], [e]));
              var r = this.services.interpolator.interpolate(i, {
                lng: t,
                ns: e,
              });
              this.loadUrl(r, n);
            },
          },
          {
            key: "loadUrl",
            value: function (t, e) {
              var n = this;
              this.options.ajax(t, this.options, function (i, r) {
                if (r.status >= 500 && r.status < 600)
                  return e("failed loading " + t, !0);
                if (r.status >= 400 && r.status < 500)
                  return e("failed loading " + t, !1);
                var o, s;
                try {
                  o = n.options.parse(i, t);
                } catch (e) {
                  s = "failed parsing " + t + " to json";
                }
                if (s) return e(s, !1);
                e(null, o);
              });
            },
          },
          {
            key: "create",
            value: function (t, e, n, i) {
              var r = this;
              "string" == typeof t && (t = [t]);
              var o = {};
              (o[n] = i || ""),
                t.forEach(function (t) {
                  var n = r.services.interpolator.interpolate(
                    r.options.addPath,
                    { lng: t, ns: e }
                  );
                  r.options.ajax(n, r.options, function (t, e) {}, o);
                });
            },
          },
        ]),
        t
      );
    })();
    Z.type = "backend";
    var J = Z,
      Q = function (t) {
        this.propagationStopped, (this.type = t), (this.target = null);
      };
    function $(t) {
      t.stopPropagation();
    }
    (Q.prototype.preventDefault = function () {
      this.propagationStopped = !0;
    }),
      (Q.prototype.stopPropagation = function () {
        this.propagationStopped = !0;
      });
    var tt = Q;
    function et(t) {
      return (et =
        "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
          ? function (t) {
              return typeof t;
            }
          : function (t) {
              return t &&
                "function" == typeof Symbol &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
                ? "symbol"
                : typeof t;
            })(t);
    }
    function nt(t, e) {
      return !e || ("object" !== et(e) && "function" != typeof e)
        ? (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t)
        : e;
    }
    function it(t) {
      return (it = Object.setPrototypeOf
        ? Object.getPrototypeOf
        : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t);
          })(t);
    }
    function rt(t, e) {
      return (rt =
        Object.setPrototypeOf ||
        function (t, e) {
          return (t.__proto__ = e), t;
        })(t, e);
    }
    var ot = (function (t) {
        function e(t, n) {
          var i;
          return (
            (function (t, e) {
              if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function");
            })(this, e),
            ((i = nt(this, it(e).call(this, t))).detail = n),
            i
          );
        }
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              e && rt(t, e);
          })(e, tt),
          e
        );
      })(),
      st = function () {
        var t = window.navigator.userAgent.toLowerCase();
        try {
          return -1 != t.indexOf("chrome")
            ? (
                navigator.languages[0] ||
                navigator.browserLanguage ||
                navigator.language ||
                navigator.userLanguage
              ).split(";")[0]
            : (
                navigator.browserLanguage ||
                navigator.language ||
                navigator.userLanguage
              ).split(";")[0];
        } catch (t) {
          return;
        }
      };
    n(133);
    function at(t, e) {
      for (var n = 0; n < e.length; n++) {
        var i = e[n];
        (i.enumerable = i.enumerable || !1),
          (i.configurable = !0),
          "value" in i && (i.writable = !0),
          Object.defineProperty(t, i.key, i);
      }
    }
    var ut = { ALL: -99, DEBUG: -1, INFO: 0, WARN: 1, ERROR: 2, OFF: 99 },
      ct = (function () {
        function t(e) {
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, t);
          (this.level = isNaN(e) ? ut.INFO : e), this.make();
        }
        var e, n, i;
        return (
          (e = t),
          (n = [
            {
              key: "make",
              value: function () {
                for (var e in console) {
                  var n = ut[e.toUpperCase()];
                  n &&
                    (this.level <= n
                      ? Function.bind
                        ? (t.prototype[e] = console.log.bind(console))
                        : (t.prototype[e] = (function () {
                            var t;
                            return (t = console).log.apply(t, arguments);
                          })(e))
                      : (t.prototype[e] = function () {}));
                }
              },
            },
          ]) && at(e.prototype, n),
          i && at(e, i),
          t
        );
      })(),
      ht = (n(134), 0.5);
    function lt() {
      return (function () {
        throw new Error("Unimplemented abstract method.");
      })();
    }
    var pt = 0;
    function ft(t) {
      return t.ol_uid || (t.ol_uid = String(++pt));
    }
    var dt = "5.3.3",
      gt = { IDLE: 0, LOADING: 1, LOADED: 2, ERROR: 3, EMPTY: 4, ABORT: 5 };
    function yt(t) {
      return Math.pow(t, 3);
    }
    function _t(t) {
      return 1 - yt(1 - t);
    }
    function vt(t) {
      return 3 * t * t - 2 * t * t * t;
    }
    function mt(t) {
      return t;
    }
    var xt = function () {
      this.disposed_ = !1;
    };
    (xt.prototype.dispose = function () {
      this.disposed_ || ((this.disposed_ = !0), this.disposeInternal());
    }),
      (xt.prototype.disposeInternal = function () {});
    var Et = xt,
      bt =
        "function" == typeof Object.assign
          ? Object.assign
          : function (t, e) {
              var n = arguments;
              if (null == t)
                throw new TypeError(
                  "Cannot convert undefined or null to object"
                );
              for (var i = Object(t), r = 1, o = arguments.length; r < o; ++r) {
                var s = n[r];
                if (null != s)
                  for (var a in s) s.hasOwnProperty(a) && (i[a] = s[a]);
              }
              return i;
            };
    function wt(t) {
      for (var e in t) delete t[e];
    }
    function It(t) {
      var e = [];
      for (var n in t) e.push(t[n]);
      return e;
    }
    function St(t) {
      var e;
      for (e in t) return !1;
      return !e;
    }
    function Ct(t, e, n, i) {
      for (var r, o = 0, s = t.length; o < s; ++o)
        if ((r = t[o]).listener === e && r.bindTo === n)
          return i && (r.deleteIndex = o), r;
    }
    function Tt(t, e) {
      var n = Ot(t);
      return n ? n[e] : void 0;
    }
    function Ot(t, e) {
      var n = t.ol_lm;
      return !n && e && (n = t.ol_lm = {}), n;
    }
    function Rt(t, e) {
      var n = Tt(t, e);
      if (n) {
        for (var i = 0, r = n.length; i < r; ++i)
          t.removeEventListener(e, n[i].boundListener), wt(n[i]);
        n.length = 0;
        var o = Ot(t);
        o &&
          (delete o[e],
          0 === Object.keys(o).length &&
            (function (t) {
              delete t.ol_lm;
            })(t));
      }
    }
    function Lt(t, e, n, i, r) {
      var o = Ot(t, !0),
        s = o[e];
      s || (s = o[e] = []);
      var a = Ct(s, n, i, !1);
      return (
        a
          ? r || (a.callOnce = !1)
          : ((a = {
              bindTo: i,
              callOnce: !!r,
              listener: n,
              target: t,
              type: e,
            }),
            t.addEventListener(
              e,
              (function (t) {
                var e = function (e) {
                  var n = t.listener,
                    i = t.bindTo || t.target;
                  return t.callOnce && Nt(t), n.call(i, e);
                };
                return (t.boundListener = e), e;
              })(a)
            ),
            s.push(a)),
        a
      );
    }
    function Mt(t, e, n, i) {
      return Lt(t, e, n, i, !0);
    }
    function At(t, e, n, i) {
      var r = Tt(t, e);
      if (r) {
        var o = Ct(r, n, i, !0);
        o && Nt(o);
      }
    }
    function Nt(t) {
      if (t && t.target) {
        t.target.removeEventListener(t.type, t.boundListener);
        var e = Tt(t.target, t.type);
        if (e) {
          var n = "deleteIndex" in t ? t.deleteIndex : e.indexOf(t);
          -1 !== n && e.splice(n, 1), 0 === e.length && Rt(t.target, t.type);
        }
        wt(t);
      }
    }
    function Pt() {
      return !0;
    }
    function Dt() {
      return !1;
    }
    function kt() {}
    var Ft = (function (t) {
        function e() {
          t.call(this),
            (this.pendingRemovals_ = {}),
            (this.dispatching_ = {}),
            (this.listeners_ = {});
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.addEventListener = function (t, e) {
            var n = this.listeners_[t];
            n || (n = this.listeners_[t] = []),
              -1 === n.indexOf(e) && n.push(e);
          }),
          (e.prototype.dispatchEvent = function (t) {
            var e = "string" == typeof t ? new tt(t) : t,
              n = e.type;
            e.target = this;
            var i,
              r = this.listeners_[n];
            if (r) {
              n in this.dispatching_ ||
                ((this.dispatching_[n] = 0), (this.pendingRemovals_[n] = 0)),
                ++this.dispatching_[n];
              for (var o = 0, s = r.length; o < s; ++o)
                if (!1 === r[o].call(this, e) || e.propagationStopped) {
                  i = !1;
                  break;
                }
              if ((--this.dispatching_[n], 0 === this.dispatching_[n])) {
                var a = this.pendingRemovals_[n];
                for (delete this.pendingRemovals_[n]; a--; )
                  this.removeEventListener(n, kt);
                delete this.dispatching_[n];
              }
              return i;
            }
          }),
          (e.prototype.disposeInternal = function () {
            !(function (t) {
              var e = Ot(t);
              if (e) for (var n in e) Rt(t, n);
            })(this);
          }),
          (e.prototype.getListeners = function (t) {
            return this.listeners_[t];
          }),
          (e.prototype.hasListener = function (t) {
            return t
              ? t in this.listeners_
              : Object.keys(this.listeners_).length > 0;
          }),
          (e.prototype.removeEventListener = function (t, e) {
            var n = this.listeners_[t];
            if (n) {
              var i = n.indexOf(e);
              t in this.pendingRemovals_
                ? ((n[i] = kt), ++this.pendingRemovals_[t])
                : (n.splice(i, 1), 0 === n.length && delete this.listeners_[t]);
            }
          }),
          e
        );
      })(Et),
      Gt = {
        CHANGE: "change",
        CLEAR: "clear",
        CONTEXTMENU: "contextmenu",
        CLICK: "click",
        DBLCLICK: "dblclick",
        DRAGENTER: "dragenter",
        DRAGOVER: "dragover",
        DROP: "drop",
        ERROR: "error",
        KEYDOWN: "keydown",
        KEYPRESS: "keypress",
        LOAD: "load",
        MOUSEDOWN: "mousedown",
        MOUSEMOVE: "mousemove",
        MOUSEOUT: "mouseout",
        MOUSEUP: "mouseup",
        MOUSEWHEEL: "mousewheel",
        MSPOINTERDOWN: "MSPointerDown",
        RESIZE: "resize",
        TOUCHSTART: "touchstart",
        TOUCHMOVE: "touchmove",
        TOUCHEND: "touchend",
        WHEEL: "wheel",
      },
      jt = (function (t) {
        function e(e, n, i) {
          t.call(this);
          var r = i || {};
          (this.tileCoord = e),
            (this.state = n),
            (this.interimTile = null),
            (this.key = ""),
            (this.transition_ = void 0 === r.transition ? 250 : r.transition),
            (this.transitionStarts_ = {});
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.changed = function () {
            this.dispatchEvent(Gt.CHANGE);
          }),
          (e.prototype.getKey = function () {
            return this.key + "/" + this.tileCoord;
          }),
          (e.prototype.getInterimTile = function () {
            if (!this.interimTile) return this;
            var t = this.interimTile;
            do {
              if (t.getState() == gt.LOADED) return t;
              t = t.interimTile;
            } while (t);
            return this;
          }),
          (e.prototype.refreshInterimChain = function () {
            if (this.interimTile) {
              var t = this.interimTile,
                e = this;
              do {
                if (t.getState() == gt.LOADED) {
                  t.interimTile = null;
                  break;
                }
                t.getState() == gt.LOADING
                  ? (e = t)
                  : t.getState() == gt.IDLE
                  ? (e.interimTile = t.interimTile)
                  : (e = t),
                  (t = e.interimTile);
              } while (t);
            }
          }),
          (e.prototype.getTileCoord = function () {
            return this.tileCoord;
          }),
          (e.prototype.getState = function () {
            return this.state;
          }),
          (e.prototype.setState = function (t) {
            (this.state = t), this.changed();
          }),
          (e.prototype.load = function () {}),
          (e.prototype.getAlpha = function (t, e) {
            if (!this.transition_) return 1;
            var n = this.transitionStarts_[t];
            if (n) {
              if (-1 === n) return 1;
            } else (n = e), (this.transitionStarts_[t] = n);
            var i = e - n + 1e3 / 60;
            return i >= this.transition_ ? 1 : yt(i / this.transition_);
          }),
          (e.prototype.inTransition = function (t) {
            return !!this.transition_ && -1 !== this.transitionStarts_[t];
          }),
          (e.prototype.endTransition = function (t) {
            this.transition_ && (this.transitionStarts_[t] = -1);
          }),
          e
        );
      })(Ft);
    function Bt(t, e) {
      var n = document.createElement("canvas");
      return t && (n.width = t), e && (n.height = e), n.getContext("2d");
    }
    function Ut(t, e) {
      var n = e.parentNode;
      n && n.replaceChild(t, e);
    }
    function Yt(t) {
      return t && t.parentNode ? t.parentNode.removeChild(t) : null;
    }
    function Xt() {
      var t = Bt(1, 1);
      return (t.fillStyle = "rgba(0,0,0,0)"), t.fillRect(0, 0, 1, 1), t.canvas;
    }
    var zt = (function (t) {
        function e(e, n, i, r, o, s) {
          t.call(this, e, n, s),
            (this.crossOrigin_ = r),
            (this.src_ = i),
            (this.image_ = new Image()),
            null !== r && (this.image_.crossOrigin = r),
            (this.imageListenerKeys_ = null),
            (this.tileLoadFunction_ = o);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.disposeInternal = function () {
            this.state == gt.LOADING &&
              (this.unlistenImage_(), (this.image_ = Xt())),
              this.interimTile && this.interimTile.dispose(),
              (this.state = gt.ABORT),
              this.changed(),
              t.prototype.disposeInternal.call(this);
          }),
          (e.prototype.getImage = function () {
            return this.image_;
          }),
          (e.prototype.getKey = function () {
            return this.src_;
          }),
          (e.prototype.handleImageError_ = function () {
            (this.state = gt.ERROR),
              this.unlistenImage_(),
              (this.image_ = Xt()),
              this.changed();
          }),
          (e.prototype.handleImageLoad_ = function () {
            var t = this.image_;
            t.naturalWidth && t.naturalHeight
              ? (this.state = gt.LOADED)
              : (this.state = gt.EMPTY),
              this.unlistenImage_(),
              this.changed();
          }),
          (e.prototype.load = function () {
            this.state == gt.ERROR &&
              ((this.state = gt.IDLE),
              (this.image_ = new Image()),
              null !== this.crossOrigin_ &&
                (this.image_.crossOrigin = this.crossOrigin_)),
              this.state == gt.IDLE &&
                ((this.state = gt.LOADING),
                this.changed(),
                (this.imageListenerKeys_ = [
                  Mt(this.image_, Gt.ERROR, this.handleImageError_, this),
                  Mt(this.image_, Gt.LOAD, this.handleImageLoad_, this),
                ]),
                this.tileLoadFunction_(this, this.src_));
          }),
          (e.prototype.unlistenImage_ = function () {
            this.imageListenerKeys_.forEach(Nt),
              (this.imageListenerKeys_ = null);
          }),
          e
        );
      })(jt),
      Vt = (function (t) {
        function e(e) {
          var n =
            "Assertion failed. See https://openlayers.org/en/" +
            ("latest" === dt ? dt : "v" + dt.split("-")[0]) +
            "/doc/errors/#" +
            e +
            " for details.";
          t.call(this, n),
            (this.code = e),
            (this.name = "AssertionError"),
            (this.message = n);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(Error);
    function qt(t, e) {
      if (!t) throw new Vt(e);
    }
    var Wt = (function (t) {
      function e(e) {
        t.call(this),
          (this.highWaterMark = void 0 !== e ? e : 2048),
          (this.count_ = 0),
          (this.entries_ = {}),
          (this.oldest_ = null),
          (this.newest_ = null);
      }
      return (
        t && (e.__proto__ = t),
        (e.prototype = Object.create(t && t.prototype)),
        (e.prototype.constructor = e),
        (e.prototype.canExpireCache = function () {
          return this.getCount() > this.highWaterMark;
        }),
        (e.prototype.clear = function () {
          (this.count_ = 0),
            (this.entries_ = {}),
            (this.oldest_ = null),
            (this.newest_ = null),
            this.dispatchEvent(Gt.CLEAR);
        }),
        (e.prototype.containsKey = function (t) {
          return this.entries_.hasOwnProperty(t);
        }),
        (e.prototype.forEach = function (t, e) {
          for (var n = this.oldest_; n; )
            t.call(e, n.value_, n.key_, this), (n = n.newer);
        }),
        (e.prototype.get = function (t) {
          var e = this.entries_[t];
          return (
            qt(void 0 !== e, 15),
            e === this.newest_
              ? e.value_
              : (e === this.oldest_
                  ? ((this.oldest_ = this.oldest_.newer),
                    (this.oldest_.older = null))
                  : ((e.newer.older = e.older), (e.older.newer = e.newer)),
                (e.newer = null),
                (e.older = this.newest_),
                (this.newest_.newer = e),
                (this.newest_ = e),
                e.value_)
          );
        }),
        (e.prototype.remove = function (t) {
          var e = this.entries_[t];
          return (
            qt(void 0 !== e, 15),
            e === this.newest_
              ? ((this.newest_ = e.older),
                this.newest_ && (this.newest_.newer = null))
              : e === this.oldest_
              ? ((this.oldest_ = e.newer),
                this.oldest_ && (this.oldest_.older = null))
              : ((e.newer.older = e.older), (e.older.newer = e.newer)),
            delete this.entries_[t],
            --this.count_,
            e.value_
          );
        }),
        (e.prototype.getCount = function () {
          return this.count_;
        }),
        (e.prototype.getKeys = function () {
          var t,
            e = new Array(this.count_),
            n = 0;
          for (t = this.newest_; t; t = t.older) e[n++] = t.key_;
          return e;
        }),
        (e.prototype.getValues = function () {
          var t,
            e = new Array(this.count_),
            n = 0;
          for (t = this.newest_; t; t = t.older) e[n++] = t.value_;
          return e;
        }),
        (e.prototype.peekLast = function () {
          return this.oldest_.value_;
        }),
        (e.prototype.peekLastKey = function () {
          return this.oldest_.key_;
        }),
        (e.prototype.peekFirstKey = function () {
          return this.newest_.key_;
        }),
        (e.prototype.pop = function () {
          var t = this.oldest_;
          return (
            delete this.entries_[t.key_],
            t.newer && (t.newer.older = null),
            (this.oldest_ = t.newer),
            this.oldest_ || (this.newest_ = null),
            --this.count_,
            t.value_
          );
        }),
        (e.prototype.replace = function (t, e) {
          this.get(t), (this.entries_[t].value_ = e);
        }),
        (e.prototype.set = function (t, e) {
          qt(!(t in this.entries_), 16);
          var n = { key_: t, newer: null, older: this.newest_, value_: e };
          this.newest_ ? (this.newest_.newer = n) : (this.oldest_ = n),
            (this.newest_ = n),
            (this.entries_[t] = n),
            ++this.count_;
        }),
        (e.prototype.setSize = function (t) {
          this.highWaterMark = t;
        }),
        (e.prototype.prune = function () {
          for (; this.canExpireCache(); ) this.pop();
        }),
        e
      );
    })(Ft);
    function Ht(t, e, n, i) {
      return void 0 !== i ? ((i[0] = t), (i[1] = e), (i[2] = n), i) : [t, e, n];
    }
    function Kt(t, e, n) {
      return t + "/" + e + "/" + n;
    }
    function Zt(t) {
      return Kt(t[0], t[1], t[2]);
    }
    var Jt = (function (t) {
      function e(e) {
        t.call(this, e);
      }
      return (
        t && (e.__proto__ = t),
        (e.prototype = Object.create(t && t.prototype)),
        (e.prototype.constructor = e),
        (e.prototype.expireCache = function (t) {
          for (; this.canExpireCache(); ) {
            var e = this.peekLast(),
              n = e.tileCoord[0].toString();
            if (n in t && t[n].contains(e.tileCoord)) break;
            this.pop().dispose();
          }
        }),
        (e.prototype.pruneExceptNewestZ = function () {
          if (0 !== this.getCount()) {
            var t = (function (t) {
              return t.split("/").map(Number);
            })(this.peekFirstKey())[0];
            this.forEach(function (e) {
              e.tileCoord[0] !== t &&
                (this.remove(Zt(e.tileCoord)), e.dispose());
            }, this);
          }
        }),
        e
      );
    })(Wt);
    function Qt(t, e, n) {
      return Math.min(Math.max(t, e), n);
    }
    var $t =
      "cosh" in Math
        ? Math.cosh
        : function (t) {
            var e = Math.exp(t);
            return (e + 1 / e) / 2;
          };
    function te(t, e, n, i, r, o) {
      var s = r - n,
        a = o - i;
      if (0 !== s || 0 !== a) {
        var u = ((t - n) * s + (e - i) * a) / (s * s + a * a);
        u > 1 ? ((n = r), (i = o)) : u > 0 && ((n += s * u), (i += a * u));
      }
      return ee(t, e, n, i);
    }
    function ee(t, e, n, i) {
      var r = n - t,
        o = i - e;
      return r * r + o * o;
    }
    function ne(t) {
      return (180 * t) / Math.PI;
    }
    function ie(t) {
      return (t * Math.PI) / 180;
    }
    function re(t, e) {
      var n = t % e;
      return n * e < 0 ? n + e : n;
    }
    function oe(t, e, n) {
      return t + n * (e - t);
    }
    var se = {
        POINT: "Point",
        LINE_STRING: "LineString",
        LINEAR_RING: "LinearRing",
        POLYGON: "Polygon",
        MULTI_POINT: "MultiPoint",
        MULTI_LINE_STRING: "MultiLineString",
        MULTI_POLYGON: "MultiPolygon",
        GEOMETRY_COLLECTION: "GeometryCollection",
        CIRCLE: "Circle",
      },
      ae = 6371008.8;
    /**
     * @license
     * Latitude/longitude spherical geodesy formulae taken from
     * http://www.movable-type.co.uk/scripts/latlong.html
     * Licensed under CC-BY-3.0.
     */ function ue(t, e, n) {
      var i = n || ae,
        r = ie(t[1]),
        o = ie(e[1]),
        s = (o - r) / 2,
        a = ie(e[0] - t[0]) / 2,
        u =
          Math.sin(s) * Math.sin(s) +
          Math.sin(a) * Math.sin(a) * Math.cos(r) * Math.cos(o);
      return 2 * i * Math.atan2(Math.sqrt(u), Math.sqrt(1 - u));
    }
    function ce(t, e, n, i) {
      var r = i || ae,
        o = ie(t[1]),
        s = ie(t[0]),
        a = e / r,
        u = Math.asin(
          Math.sin(o) * Math.cos(a) + Math.cos(o) * Math.sin(a) * Math.cos(n)
        );
      return [
        ne(
          s +
            Math.atan2(
              Math.sin(n) * Math.sin(a) * Math.cos(o),
              Math.cos(a) - Math.sin(o) * Math.sin(u)
            )
        ),
        ne(u),
      ];
    }
    var he = {
        BOTTOM_LEFT: "bottom-left",
        BOTTOM_RIGHT: "bottom-right",
        TOP_LEFT: "top-left",
        TOP_RIGHT: "top-right",
      },
      le = {
        UNKNOWN: 0,
        INTERSECTING: 1,
        ABOVE: 2,
        RIGHT: 4,
        BELOW: 8,
        LEFT: 16,
      };
    function pe(t) {
      for (var e = xe(), n = 0, i = t.length; n < i; ++n) Se(e, t[n]);
      return e;
    }
    function fe(t, e, n) {
      return n
        ? ((n[0] = t[0] - e),
          (n[1] = t[1] - e),
          (n[2] = t[2] + e),
          (n[3] = t[3] + e),
          n)
        : [t[0] - e, t[1] - e, t[2] + e, t[3] + e];
    }
    function de(t, e) {
      return e
        ? ((e[0] = t[0]), (e[1] = t[1]), (e[2] = t[2]), (e[3] = t[3]), e)
        : t.slice();
    }
    function ge(t, e, n) {
      var i, r;
      return (
        (i = e < t[0] ? t[0] - e : t[2] < e ? e - t[2] : 0) * i +
        (r = n < t[1] ? t[1] - n : t[3] < n ? n - t[3] : 0) * r
      );
    }
    function ye(t, e) {
      return ve(t, e[0], e[1]);
    }
    function _e(t, e) {
      return t[0] <= e[0] && e[2] <= t[2] && t[1] <= e[1] && e[3] <= t[3];
    }
    function ve(t, e, n) {
      return t[0] <= e && e <= t[2] && t[1] <= n && n <= t[3];
    }
    function me(t, e) {
      var n = t[0],
        i = t[1],
        r = t[2],
        o = t[3],
        s = e[0],
        a = e[1],
        u = le.UNKNOWN;
      return (
        s < n ? (u |= le.LEFT) : s > r && (u |= le.RIGHT),
        a < i ? (u |= le.BELOW) : a > o && (u |= le.ABOVE),
        u === le.UNKNOWN && (u = le.INTERSECTING),
        u
      );
    }
    function xe() {
      return [1 / 0, 1 / 0, -1 / 0, -1 / 0];
    }
    function Ee(t, e, n, i, r) {
      return r
        ? ((r[0] = t), (r[1] = e), (r[2] = n), (r[3] = i), r)
        : [t, e, n, i];
    }
    function be(t) {
      return Ee(1 / 0, 1 / 0, -1 / 0, -1 / 0, t);
    }
    function we(t, e) {
      return t[0] == e[0] && t[2] == e[2] && t[1] == e[1] && t[3] == e[3];
    }
    function Ie(t, e) {
      return (
        e[0] < t[0] && (t[0] = e[0]),
        e[2] > t[2] && (t[2] = e[2]),
        e[1] < t[1] && (t[1] = e[1]),
        e[3] > t[3] && (t[3] = e[3]),
        t
      );
    }
    function Se(t, e) {
      e[0] < t[0] && (t[0] = e[0]),
        e[0] > t[2] && (t[2] = e[0]),
        e[1] < t[1] && (t[1] = e[1]),
        e[1] > t[3] && (t[3] = e[1]);
    }
    function Ce(t, e) {
      for (var n = 0, i = e.length; n < i; ++n) Se(t, e[n]);
      return t;
    }
    function Te(t, e, n, i, r) {
      for (; n < i; n += r) Oe(t, e[n], e[n + 1]);
      return t;
    }
    function Oe(t, e, n) {
      (t[0] = Math.min(t[0], e)),
        (t[1] = Math.min(t[1], n)),
        (t[2] = Math.max(t[2], e)),
        (t[3] = Math.max(t[3], n));
    }
    function Re(t, e, n) {
      var i;
      return (i = e.call(n, Me(t)))
        ? i
        : (i = e.call(n, Ae(t)))
        ? i
        : (i = e.call(n, je(t)))
        ? i
        : (i = e.call(n, Ge(t))) || !1;
    }
    function Le(t) {
      var e = 0;
      return Ye(t) || (e = Be(t) * ke(t)), e;
    }
    function Me(t) {
      return [t[0], t[1]];
    }
    function Ae(t) {
      return [t[2], t[1]];
    }
    function Ne(t) {
      return [(t[0] + t[2]) / 2, (t[1] + t[3]) / 2];
    }
    function Pe(t, e) {
      var n;
      return (
        e === he.BOTTOM_LEFT
          ? (n = Me(t))
          : e === he.BOTTOM_RIGHT
          ? (n = Ae(t))
          : e === he.TOP_LEFT
          ? (n = Ge(t))
          : e === he.TOP_RIGHT
          ? (n = je(t))
          : qt(!1, 13),
        n
      );
    }
    function De(t, e, n, i, r) {
      var o = (e * i[0]) / 2,
        s = (e * i[1]) / 2,
        a = Math.cos(n),
        u = Math.sin(n),
        c = o * a,
        h = o * u,
        l = s * a,
        p = s * u,
        f = t[0],
        d = t[1],
        g = f - c + p,
        y = f - c - p,
        _ = f + c - p,
        v = f + c + p,
        m = d - h - l,
        x = d - h + l,
        E = d + h + l,
        b = d + h - l;
      return Ee(
        Math.min(g, y, _, v),
        Math.min(m, x, E, b),
        Math.max(g, y, _, v),
        Math.max(m, x, E, b),
        r
      );
    }
    function ke(t) {
      return t[3] - t[1];
    }
    function Fe(t, e, n) {
      var i = n || [1 / 0, 1 / 0, -1 / 0, -1 / 0];
      return (
        Ue(t, e)
          ? (t[0] > e[0] ? (i[0] = t[0]) : (i[0] = e[0]),
            t[1] > e[1] ? (i[1] = t[1]) : (i[1] = e[1]),
            t[2] < e[2] ? (i[2] = t[2]) : (i[2] = e[2]),
            t[3] < e[3] ? (i[3] = t[3]) : (i[3] = e[3]))
          : be(i),
        i
      );
    }
    function Ge(t) {
      return [t[0], t[3]];
    }
    function je(t) {
      return [t[2], t[3]];
    }
    function Be(t) {
      return t[2] - t[0];
    }
    function Ue(t, e) {
      return t[0] <= e[2] && t[2] >= e[0] && t[1] <= e[3] && t[3] >= e[1];
    }
    function Ye(t) {
      return t[2] < t[0] || t[3] < t[1];
    }
    var Xe = {
        DEGREES: "degrees",
        FEET: "ft",
        METERS: "m",
        PIXELS: "pixels",
        TILE_PIXELS: "tile-pixels",
        USFEET: "us-ft",
      },
      ze = {};
    (ze[Xe.DEGREES] = (2 * Math.PI * 6370997) / 360),
      (ze[Xe.FEET] = 0.3048),
      (ze[Xe.METERS] = 1),
      (ze[Xe.USFEET] = 1200 / 3937);
    var Ve = Xe,
      qe = function (t) {
        (this.code_ = t.code),
          (this.units_ = t.units),
          (this.extent_ = void 0 !== t.extent ? t.extent : null),
          (this.worldExtent_ = void 0 !== t.worldExtent ? t.worldExtent : null),
          (this.axisOrientation_ =
            void 0 !== t.axisOrientation ? t.axisOrientation : "enu"),
          (this.global_ = void 0 !== t.global && t.global),
          (this.canWrapX_ = !(!this.global_ || !this.extent_)),
          (this.getPointResolutionFunc_ = t.getPointResolution),
          (this.defaultTileGrid_ = null),
          (this.metersPerUnit_ = t.metersPerUnit);
      };
    (qe.prototype.canWrapX = function () {
      return this.canWrapX_;
    }),
      (qe.prototype.getCode = function () {
        return this.code_;
      }),
      (qe.prototype.getExtent = function () {
        return this.extent_;
      }),
      (qe.prototype.getUnits = function () {
        return this.units_;
      }),
      (qe.prototype.getMetersPerUnit = function () {
        return this.metersPerUnit_ || ze[this.units_];
      }),
      (qe.prototype.getWorldExtent = function () {
        return this.worldExtent_;
      }),
      (qe.prototype.getAxisOrientation = function () {
        return this.axisOrientation_;
      }),
      (qe.prototype.isGlobal = function () {
        return this.global_;
      }),
      (qe.prototype.setGlobal = function (t) {
        (this.global_ = t), (this.canWrapX_ = !(!t || !this.extent_));
      }),
      (qe.prototype.getDefaultTileGrid = function () {
        return this.defaultTileGrid_;
      }),
      (qe.prototype.setDefaultTileGrid = function (t) {
        this.defaultTileGrid_ = t;
      }),
      (qe.prototype.setExtent = function (t) {
        (this.extent_ = t), (this.canWrapX_ = !(!this.global_ || !t));
      }),
      (qe.prototype.setWorldExtent = function (t) {
        this.worldExtent_ = t;
      }),
      (qe.prototype.setGetPointResolution = function (t) {
        this.getPointResolutionFunc_ = t;
      }),
      (qe.prototype.getPointResolutionFunc = function () {
        return this.getPointResolutionFunc_;
      });
    var We = qe,
      He = 6378137,
      Ke = Math.PI * He,
      Ze = [-Ke, -Ke, Ke, Ke],
      Je = [-180, -85, 180, 85],
      Qe = (function (t) {
        function e(e) {
          t.call(this, {
            code: e,
            units: Ve.METERS,
            extent: Ze,
            global: !0,
            worldExtent: Je,
            getPointResolution: function (t, e) {
              return t / $t(e[1] / He);
            },
          });
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(We),
      $e = [
        new Qe("EPSG:3857"),
        new Qe("EPSG:102100"),
        new Qe("EPSG:102113"),
        new Qe("EPSG:900913"),
        new Qe("urn:ogc:def:crs:EPSG:6.18:3:3857"),
        new Qe("urn:ogc:def:crs:EPSG::3857"),
        new Qe("http://www.opengis.net/gml/srs/epsg.xml#3857"),
      ];
    function tn(t, e, n) {
      var i = t.length,
        r = n > 1 ? n : 2,
        o = e;
      void 0 === o && (o = r > 2 ? t.slice() : new Array(i));
      for (var s = Ke, a = 0; a < i; a += r) {
        o[a] = (s * t[a]) / 180;
        var u = He * Math.log(Math.tan((Math.PI * (t[a + 1] + 90)) / 360));
        u > s ? (u = s) : u < -s && (u = -s), (o[a + 1] = u);
      }
      return o;
    }
    function en(t, e, n) {
      var i = t.length,
        r = n > 1 ? n : 2,
        o = e;
      void 0 === o && (o = r > 2 ? t.slice() : new Array(i));
      for (var s = 0; s < i; s += r)
        (o[s] = (180 * t[s]) / Ke),
          (o[s + 1] =
            (360 * Math.atan(Math.exp(t[s + 1] / He))) / Math.PI - 90);
      return o;
    }
    var nn = [-180, -90, 180, 90],
      rn = (6378137 * Math.PI) / 180,
      on = (function (t) {
        function e(e, n) {
          t.call(this, {
            code: e,
            units: Ve.DEGREES,
            extent: nn,
            axisOrientation: n,
            global: !0,
            metersPerUnit: rn,
            worldExtent: nn,
          });
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(We),
      sn = [
        new on("CRS:84"),
        new on("EPSG:4326", "neu"),
        new on("urn:ogc:def:crs:EPSG::4326", "neu"),
        new on("urn:ogc:def:crs:EPSG:6.6:4326", "neu"),
        new on("urn:ogc:def:crs:OGC:1.3:CRS84"),
        new on("urn:ogc:def:crs:OGC:2:84"),
        new on("http://www.opengis.net/gml/srs/epsg.xml#4326", "neu"),
        new on("urn:x-ogc:def:crs:EPSG:4326", "neu"),
      ],
      an = {};
    var un,
      cn,
      hn,
      ln = {};
    function pn(t, e, n) {
      var i = t.getCode(),
        r = e.getCode();
      i in ln || (ln[i] = {}), (ln[i][r] = n);
    }
    function fn(t, e, n) {
      var i;
      if (void 0 !== e) {
        for (var r = 0, o = t.length; r < o; ++r) e[r] = t[r];
        i = e;
      } else i = t.slice();
      return i;
    }
    function dn(t, e, n) {
      if (void 0 !== e && t !== e) {
        for (var i = 0, r = t.length; i < r; ++i) e[i] = t[i];
        t = e;
      }
      return t;
    }
    function gn(t) {
      !(function (t, e) {
        an[t] = e;
      })(t.getCode(), t),
        pn(t, t, fn);
    }
    function yn(t) {
      return "string" == typeof t ? an[t] || null : t || null;
    }
    function _n(t, e, n, i) {
      var r,
        o = (t = yn(t)).getPointResolutionFunc();
      if (o) r = o(e, n);
      else if ((t.getUnits() == Ve.DEGREES && !i) || i == Ve.DEGREES) r = e;
      else {
        var s = wn(t, yn("EPSG:4326")),
          a = [
            n[0] - e / 2,
            n[1],
            n[0] + e / 2,
            n[1],
            n[0],
            n[1] - e / 2,
            n[0],
            n[1] + e / 2,
          ];
        r =
          (ue((a = s(a, a, 2)).slice(0, 2), a.slice(2, 4)) +
            ue(a.slice(4, 6), a.slice(6, 8))) /
          2;
        var u = i ? ze[i] : t.getMetersPerUnit();
        void 0 !== u && (r /= u);
      }
      return r;
    }
    function vn(t) {
      !(function (t) {
        t.forEach(gn);
      })(t),
        t.forEach(function (e) {
          t.forEach(function (t) {
            e !== t && pn(e, t, fn);
          });
        });
    }
    function mn(t, e) {
      return t ? ("string" == typeof t ? yn(t) : t) : yn(e);
    }
    function xn(t) {
      return function (e, n, i) {
        for (
          var r = e.length,
            o = void 0 !== i ? i : 2,
            s = void 0 !== n ? n : new Array(r),
            a = 0;
          a < r;
          a += o
        ) {
          var u = t([e[a], e[a + 1]]);
          (s[a] = u[0]), (s[a + 1] = u[1]);
          for (var c = o - 1; c >= 2; --c) s[a + c] = e[a + c];
        }
        return s;
      };
    }
    function En(t, e, n, i) {
      var r = yn(t),
        o = yn(e);
      pn(r, o, xn(n)), pn(o, r, xn(i));
    }
    function bn(t, e) {
      if (t === e) return !0;
      var n = t.getUnits() === e.getUnits();
      return t.getCode() === e.getCode() ? n : wn(t, e) === fn && n;
    }
    function wn(t, e) {
      var n = (function (t, e) {
        var n;
        return t in ln && e in ln[t] && (n = ln[t][e]), n;
      })(t.getCode(), e.getCode());
      return n || (n = dn), n;
    }
    function In(t, e) {
      return wn(yn(t), yn(e));
    }
    function Sn(t, e, n) {
      return In(e, n)(t, void 0, t.length);
    }
    function Cn(t, e, n, i) {
      var r = n - t,
        o = i - e,
        s = Math.sqrt(r * r + o * o);
      return [Math.round(n + r / s), Math.round(i + o / s)];
    }
    function Tn(t, e, n, i, r, o, s, a, u, c, h) {
      var l = Bt(Math.round(n * t), Math.round(n * e));
      if (0 === u.length) return l.canvas;
      l.scale(n, n);
      var p = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
      u.forEach(function (t, e, n) {
        Ie(p, t.extent);
      });
      var f = Be(p),
        d = ke(p),
        g = Bt(Math.round((n * f) / i), Math.round((n * d) / i)),
        y = n / i;
      u.forEach(function (t, e, n) {
        var i = t.extent[0] - p[0],
          r = -(t.extent[3] - p[3]),
          o = Be(t.extent),
          s = ke(t.extent);
        g.drawImage(
          t.image,
          c,
          c,
          t.image.width - 2 * c,
          t.image.height - 2 * c,
          i * y,
          r * y,
          o * y,
          s * y
        );
      });
      var _ = Ge(s);
      return (
        a.getTriangles().forEach(function (t, e, r) {
          var s = t.source,
            a = t.target,
            u = s[0][0],
            c = s[0][1],
            h = s[1][0],
            f = s[1][1],
            d = s[2][0],
            y = s[2][1],
            v = (a[0][0] - _[0]) / o,
            m = -(a[0][1] - _[1]) / o,
            x = (a[1][0] - _[0]) / o,
            E = -(a[1][1] - _[1]) / o,
            b = (a[2][0] - _[0]) / o,
            w = -(a[2][1] - _[1]) / o,
            I = u,
            S = c;
          (u = 0), (c = 0);
          var C = (function (t) {
            for (var e = t.length, n = 0; n < e; n++) {
              for (var i = n, r = Math.abs(t[n][n]), o = n + 1; o < e; o++) {
                var s = Math.abs(t[o][n]);
                s > r && ((r = s), (i = o));
              }
              if (0 === r) return null;
              var a = t[i];
              (t[i] = t[n]), (t[n] = a);
              for (var u = n + 1; u < e; u++)
                for (var c = -t[u][n] / t[n][n], h = n; h < e + 1; h++)
                  n == h ? (t[u][h] = 0) : (t[u][h] += c * t[n][h]);
            }
            for (var l = new Array(e), p = e - 1; p >= 0; p--) {
              l[p] = t[p][e] / t[p][p];
              for (var f = p - 1; f >= 0; f--) t[f][e] -= t[f][p] * l[p];
            }
            return l;
          })([
            [(h -= I), (f -= S), 0, 0, x - v],
            [(d -= I), (y -= S), 0, 0, b - v],
            [0, 0, h, f, E - m],
            [0, 0, d, y, w - m],
          ]);
          if (C) {
            l.save(), l.beginPath();
            var T = (v + x + b) / 3,
              O = (m + E + w) / 3,
              R = Cn(T, O, v, m),
              L = Cn(T, O, x, E),
              M = Cn(T, O, b, w);
            l.moveTo(L[0], L[1]),
              l.lineTo(R[0], R[1]),
              l.lineTo(M[0], M[1]),
              l.clip(),
              l.transform(C[0], C[2], C[1], C[3], v, m),
              l.translate(p[0] - I, p[3] - S),
              l.scale(i / n, -i / n),
              l.drawImage(g.canvas, 0, 0),
              l.restore();
          }
        }),
        h &&
          (l.save(),
          (l.strokeStyle = "black"),
          (l.lineWidth = 1),
          a.getTriangles().forEach(function (t, e, n) {
            var i = t.target,
              r = (i[0][0] - _[0]) / o,
              s = -(i[0][1] - _[1]) / o,
              a = (i[1][0] - _[0]) / o,
              u = -(i[1][1] - _[1]) / o,
              c = (i[2][0] - _[0]) / o,
              h = -(i[2][1] - _[1]) / o;
            l.beginPath(),
              l.moveTo(a, u),
              l.lineTo(r, s),
              l.lineTo(c, h),
              l.closePath(),
              l.stroke();
          }),
          l.restore()),
        l.canvas
      );
    }
    vn($e),
      vn(sn),
      (un = $e),
      (cn = tn),
      (hn = en),
      sn.forEach(function (t) {
        un.forEach(function (e) {
          pn(t, e, cn), pn(e, t, hn);
        });
      });
    var On = function (t, e, n, i, r) {
      (this.sourceProj_ = t), (this.targetProj_ = e);
      var o = {},
        s = In(this.targetProj_, this.sourceProj_);
      (this.transformInv_ = function (t) {
        var e = t[0] + "/" + t[1];
        return o[e] || (o[e] = s(t)), o[e];
      }),
        (this.maxSourceExtent_ = i),
        (this.errorThresholdSquared_ = r * r),
        (this.triangles_ = []),
        (this.wrapsXInSource_ = !1),
        (this.canWrapXInSource_ =
          this.sourceProj_.canWrapX() &&
          !!i &&
          !!this.sourceProj_.getExtent() &&
          Be(i) == Be(this.sourceProj_.getExtent())),
        (this.sourceWorldWidth_ = this.sourceProj_.getExtent()
          ? Be(this.sourceProj_.getExtent())
          : null),
        (this.targetWorldWidth_ = this.targetProj_.getExtent()
          ? Be(this.targetProj_.getExtent())
          : null);
      var a = Ge(n),
        u = je(n),
        c = Ae(n),
        h = Me(n),
        l = this.transformInv_(a),
        p = this.transformInv_(u),
        f = this.transformInv_(c),
        d = this.transformInv_(h);
      if ((this.addQuad_(a, u, c, h, l, p, f, d, 10), this.wrapsXInSource_)) {
        var g = 1 / 0;
        this.triangles_.forEach(function (t, e, n) {
          g = Math.min(g, t.source[0][0], t.source[1][0], t.source[2][0]);
        }),
          this.triangles_.forEach(
            function (t) {
              if (
                Math.max(t.source[0][0], t.source[1][0], t.source[2][0]) - g >
                this.sourceWorldWidth_ / 2
              ) {
                var e = [
                  [t.source[0][0], t.source[0][1]],
                  [t.source[1][0], t.source[1][1]],
                  [t.source[2][0], t.source[2][1]],
                ];
                e[0][0] - g > this.sourceWorldWidth_ / 2 &&
                  (e[0][0] -= this.sourceWorldWidth_),
                  e[1][0] - g > this.sourceWorldWidth_ / 2 &&
                    (e[1][0] -= this.sourceWorldWidth_),
                  e[2][0] - g > this.sourceWorldWidth_ / 2 &&
                    (e[2][0] -= this.sourceWorldWidth_);
                var n = Math.min(e[0][0], e[1][0], e[2][0]);
                Math.max(e[0][0], e[1][0], e[2][0]) - n <
                  this.sourceWorldWidth_ / 2 && (t.source = e);
              }
            }.bind(this)
          );
      }
      o = {};
    };
    (On.prototype.addTriangle_ = function (t, e, n, i, r, o) {
      this.triangles_.push({ source: [i, r, o], target: [t, e, n] });
    }),
      (On.prototype.addQuad_ = function (t, e, n, i, r, o, s, a, u) {
        var c = pe([r, o, s, a]),
          h = this.sourceWorldWidth_ ? Be(c) / this.sourceWorldWidth_ : null,
          l = this.sourceWorldWidth_,
          p = this.sourceProj_.canWrapX() && h > 0.5 && h < 1,
          f = !1;
        if (u > 0) {
          if (this.targetProj_.isGlobal() && this.targetWorldWidth_)
            f = Be(pe([t, e, n, i])) / this.targetWorldWidth_ > 0.25 || f;
          !p && this.sourceProj_.isGlobal() && h && (f = h > 0.25 || f);
        }
        if (f || !this.maxSourceExtent_ || Ue(c, this.maxSourceExtent_)) {
          if (
            !(
              f ||
              (isFinite(r[0]) &&
                isFinite(r[1]) &&
                isFinite(o[0]) &&
                isFinite(o[1]) &&
                isFinite(s[0]) &&
                isFinite(s[1]) &&
                isFinite(a[0]) &&
                isFinite(a[1]))
            )
          ) {
            if (!(u > 0)) return;
            f = !0;
          }
          if (u > 0) {
            if (!f) {
              var d,
                g = [(t[0] + n[0]) / 2, (t[1] + n[1]) / 2],
                y = this.transformInv_(g);
              if (p) d = (re(r[0], l) + re(s[0], l)) / 2 - re(y[0], l);
              else d = (r[0] + s[0]) / 2 - y[0];
              var _ = (r[1] + s[1]) / 2 - y[1];
              f = d * d + _ * _ > this.errorThresholdSquared_;
            }
            if (f) {
              if (Math.abs(t[0] - n[0]) <= Math.abs(t[1] - n[1])) {
                var v = [(e[0] + n[0]) / 2, (e[1] + n[1]) / 2],
                  m = this.transformInv_(v),
                  x = [(i[0] + t[0]) / 2, (i[1] + t[1]) / 2],
                  E = this.transformInv_(x);
                this.addQuad_(t, e, v, x, r, o, m, E, u - 1),
                  this.addQuad_(x, v, n, i, E, m, s, a, u - 1);
              } else {
                var b = [(t[0] + e[0]) / 2, (t[1] + e[1]) / 2],
                  w = this.transformInv_(b),
                  I = [(n[0] + i[0]) / 2, (n[1] + i[1]) / 2],
                  S = this.transformInv_(I);
                this.addQuad_(t, b, I, i, r, w, S, a, u - 1),
                  this.addQuad_(b, e, n, I, w, o, s, S, u - 1);
              }
              return;
            }
          }
          if (p) {
            if (!this.canWrapXInSource_) return;
            this.wrapsXInSource_ = !0;
          }
          this.addTriangle_(t, n, i, r, s, a),
            this.addTriangle_(t, e, n, r, o, s);
        }
      }),
      (On.prototype.calculateSourceExtent = function () {
        var t = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
        return (
          this.triangles_.forEach(function (e, n, i) {
            var r = e.source;
            Se(t, r[0]), Se(t, r[1]), Se(t, r[2]);
          }),
          t
        );
      }),
      (On.prototype.getTriangles = function () {
        return this.triangles_;
      });
    var Rn = On,
      Ln = (function (t) {
        function e(e, n, i, r, o, s, a, u, c, h, l) {
          t.call(this, o, gt.IDLE),
            (this.renderEdges_ = void 0 !== l && l),
            (this.pixelRatio_ = a),
            (this.gutter_ = u),
            (this.canvas_ = null),
            (this.sourceTileGrid_ = n),
            (this.targetTileGrid_ = r),
            (this.wrappedTileCoord_ = s || o),
            (this.sourceTiles_ = []),
            (this.sourcesListenerKeys_ = null),
            (this.sourceZ_ = 0);
          var p = r.getTileCoordExtent(this.wrappedTileCoord_),
            f = this.targetTileGrid_.getExtent(),
            d = this.sourceTileGrid_.getExtent(),
            g = f ? Fe(p, f) : p;
          if (0 !== Le(g)) {
            var y = e.getExtent();
            y && (d = d ? Fe(d, y) : y);
            var _ = r.getResolution(this.wrappedTileCoord_[0]),
              v = (function (t, e, n, i) {
                var r = Sn(n, e, t),
                  o = _n(e, i, n),
                  s = e.getMetersPerUnit();
                void 0 !== s && (o *= s);
                var a = t.getMetersPerUnit();
                void 0 !== a && (o /= a);
                var u = t.getExtent();
                if (!u || ye(u, r)) {
                  var c = _n(t, o, r) / o;
                  isFinite(c) && c > 0 && (o /= c);
                }
                return o;
              })(e, i, Ne(g), _);
            if (!isFinite(v) || v <= 0) this.state = gt.EMPTY;
            else {
              var m = void 0 !== h ? h : ht;
              if (
                ((this.triangulation_ = new Rn(e, i, g, d, v * m)),
                0 !== this.triangulation_.getTriangles().length)
              ) {
                this.sourceZ_ = n.getZForResolution(v);
                var x = this.triangulation_.calculateSourceExtent();
                if (
                  (d &&
                    (e.canWrapX()
                      ? ((x[1] = Qt(x[1], d[1], d[3])),
                        (x[3] = Qt(x[3], d[1], d[3])))
                      : (x = Fe(x, d))),
                  Le(x))
                ) {
                  for (
                    var E = n.getTileRangeForExtentAndZ(x, this.sourceZ_),
                      b = E.minX;
                    b <= E.maxX;
                    b++
                  )
                    for (var w = E.minY; w <= E.maxY; w++) {
                      var I = c(this.sourceZ_, b, w, a);
                      I && this.sourceTiles_.push(I);
                    }
                  0 === this.sourceTiles_.length && (this.state = gt.EMPTY);
                } else this.state = gt.EMPTY;
              } else this.state = gt.EMPTY;
            }
          } else this.state = gt.EMPTY;
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.disposeInternal = function () {
            this.state == gt.LOADING && this.unlistenSources_(),
              t.prototype.disposeInternal.call(this);
          }),
          (e.prototype.getImage = function () {
            return this.canvas_;
          }),
          (e.prototype.reproject_ = function () {
            var t = [];
            if (
              (this.sourceTiles_.forEach(
                function (e, n, i) {
                  e &&
                    e.getState() == gt.LOADED &&
                    t.push({
                      extent: this.sourceTileGrid_.getTileCoordExtent(
                        e.tileCoord
                      ),
                      image: e.getImage(),
                    });
                }.bind(this)
              ),
              (this.sourceTiles_.length = 0),
              0 === t.length)
            )
              this.state = gt.ERROR;
            else {
              var e = this.wrappedTileCoord_[0],
                n = this.targetTileGrid_.getTileSize(e),
                i = "number" == typeof n ? n : n[0],
                r = "number" == typeof n ? n : n[1],
                o = this.targetTileGrid_.getResolution(e),
                s = this.sourceTileGrid_.getResolution(this.sourceZ_),
                a = this.targetTileGrid_.getTileCoordExtent(
                  this.wrappedTileCoord_
                );
              (this.canvas_ = Tn(
                i,
                r,
                this.pixelRatio_,
                s,
                this.sourceTileGrid_.getExtent(),
                o,
                a,
                this.triangulation_,
                t,
                this.gutter_,
                this.renderEdges_
              )),
                (this.state = gt.LOADED);
            }
            this.changed();
          }),
          (e.prototype.load = function () {
            if (this.state == gt.IDLE) {
              (this.state = gt.LOADING), this.changed();
              var t = 0;
              (this.sourcesListenerKeys_ = []),
                this.sourceTiles_.forEach(
                  function (e, n, i) {
                    var r = e.getState();
                    if (r == gt.IDLE || r == gt.LOADING) {
                      t++;
                      var o = Lt(
                        e,
                        Gt.CHANGE,
                        function (n) {
                          var i = e.getState();
                          (i != gt.LOADED && i != gt.ERROR && i != gt.EMPTY) ||
                            (Nt(o),
                            0 === --t &&
                              (this.unlistenSources_(), this.reproject_()));
                        },
                        this
                      );
                      this.sourcesListenerKeys_.push(o);
                    }
                  }.bind(this)
                ),
                this.sourceTiles_.forEach(function (t, e, n) {
                  t.getState() == gt.IDLE && t.load();
                }),
                0 === t && setTimeout(this.reproject_.bind(this), 0);
            }
          }),
          (e.prototype.unlistenSources_ = function () {
            this.sourcesListenerKeys_.forEach(Nt),
              (this.sourcesListenerKeys_ = null);
          }),
          e
        );
      })(jt);
    function Mn(t, e) {
      var n = /\{z\}/g,
        i = /\{x\}/g,
        r = /\{y\}/g,
        o = /\{-y\}/g;
      return function (s, a, u) {
        return s
          ? t
              .replace(n, s[0].toString())
              .replace(i, s[1].toString())
              .replace(r, function () {
                return (-s[2] - 1).toString();
              })
              .replace(o, function () {
                var t = s[0],
                  n = e.getFullTileRange(t);
                return qt(n, 55), (n.getHeight() + s[2]).toString();
              })
          : void 0;
      };
    }
    function An(t, e) {
      for (var n = t.length, i = new Array(n), r = 0; r < n; ++r)
        i[r] = Mn(t[r], e);
      return (function (t) {
        if (1 === t.length) return t[0];
        return function (e, n, i) {
          if (e) {
            var r = re(
              (function (t) {
                return (t[1] << t[0]) + t[2];
              })(e),
              t.length
            );
            return t[r](e, n, i);
          }
        };
      })(i);
    }
    function Nn(t, e, n) {}
    function Pn(t) {
      var e = [],
        n = /\{([a-z])-([a-z])\}/.exec(t);
      if (n) {
        var i,
          r = n[1].charCodeAt(0),
          o = n[2].charCodeAt(0);
        for (i = r; i <= o; ++i)
          e.push(t.replace(n[0], String.fromCharCode(i)));
        return e;
      }
      if ((n = n = /\{(\d+)-(\d+)\}/.exec(t))) {
        for (var s = parseInt(n[2], 10), a = parseInt(n[1], 10); a <= s; a++)
          e.push(t.replace(n[0], a.toString()));
        return e;
      }
      return e.push(t), e;
    }
    function Dn(t, e) {
      return Array.isArray(t)
        ? t
        : (void 0 === e ? (e = [t, t]) : (e[0] = e[1] = t), e);
    }
    var kn = "propertychange";
    var Fn = (function (t) {
        function e() {
          t.call(this), (this.revision_ = 0);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.changed = function () {
            ++this.revision_, this.dispatchEvent(Gt.CHANGE);
          }),
          (e.prototype.getRevision = function () {
            return this.revision_;
          }),
          (e.prototype.on = function (t, e) {
            if (Array.isArray(t)) {
              for (var n = t.length, i = new Array(n), r = 0; r < n; ++r)
                i[r] = Lt(this, t[r], e);
              return i;
            }
            return Lt(this, t, e);
          }),
          (e.prototype.once = function (t, e) {
            if (Array.isArray(t)) {
              for (var n = t.length, i = new Array(n), r = 0; r < n; ++r)
                i[r] = Mt(this, t[r], e);
              return i;
            }
            return Mt(this, t, e);
          }),
          (e.prototype.un = function (t, e) {
            if (Array.isArray(t))
              for (var n = 0, i = t.length; n < i; ++n) At(this, t[n], e);
            else At(this, t, e);
          }),
          e
        );
      })(Ft),
      Gn = (function (t) {
        function e(e, n, i) {
          t.call(this, e), (this.key = n), (this.oldValue = i);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(tt),
      jn = {};
    function Bn(t) {
      return jn.hasOwnProperty(t) ? jn[t] : (jn[t] = "change:" + t);
    }
    var Un = (function (t) {
        function e(e) {
          t.call(this),
            ft(this),
            (this.values_ = {}),
            void 0 !== e && this.setProperties(e);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.get = function (t) {
            var e;
            return this.values_.hasOwnProperty(t) && (e = this.values_[t]), e;
          }),
          (e.prototype.getKeys = function () {
            return Object.keys(this.values_);
          }),
          (e.prototype.getProperties = function () {
            return bt({}, this.values_);
          }),
          (e.prototype.notify = function (t, e) {
            var n;
            (n = Bn(t)),
              this.dispatchEvent(new Gn(n, t, e)),
              (n = kn),
              this.dispatchEvent(new Gn(n, t, e));
          }),
          (e.prototype.set = function (t, e, n) {
            if (n) this.values_[t] = e;
            else {
              var i = this.values_[t];
              (this.values_[t] = e), i !== e && this.notify(t, i);
            }
          }),
          (e.prototype.setProperties = function (t, e) {
            for (var n in t) this.set(n, t[n], e);
          }),
          (e.prototype.unset = function (t, e) {
            if (t in this.values_) {
              var n = this.values_[t];
              delete this.values_[t], e || this.notify(t, n);
            }
          }),
          e
        );
      })(Fn),
      Yn = {
        UNDEFINED: "undefined",
        LOADING: "loading",
        READY: "ready",
        ERROR: "error",
      };
    function Xn(t) {
      return t
        ? Array.isArray(t)
          ? function (e) {
              return t;
            }
          : "function" == typeof t
          ? t
          : function (e) {
              return [t];
            }
        : null;
    }
    var zn = (function (t) {
        function e(e) {
          t.call(this),
            (this.projection_ = yn(e.projection)),
            (this.attributions_ = Xn(e.attributions)),
            (this.attributionsCollapsible_ =
              void 0 === e.attributionsCollapsible ||
              e.attributionsCollapsible),
            (this.loading = !1),
            (this.state_ = void 0 !== e.state ? e.state : Yn.READY),
            (this.wrapX_ = void 0 !== e.wrapX && e.wrapX);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.getAttributions = function () {
            return this.attributions_;
          }),
          (e.prototype.getAttributionsCollapsible = function () {
            return this.attributionsCollapsible_;
          }),
          (e.prototype.getProjection = function () {
            return this.projection_;
          }),
          (e.prototype.getResolutions = function () {
            return lt();
          }),
          (e.prototype.getState = function () {
            return this.state_;
          }),
          (e.prototype.getWrapX = function () {
            return this.wrapX_;
          }),
          (e.prototype.refresh = function () {
            this.changed();
          }),
          (e.prototype.setAttributions = function (t) {
            (this.attributions_ = Xn(t)), this.changed();
          }),
          (e.prototype.setState = function (t) {
            (this.state_ = t), this.changed();
          }),
          e
        );
      })(Un),
      Vn = 42,
      qn = 256,
      Wn = function (t, e, n, i) {
        (this.minX = t), (this.maxX = e), (this.minY = n), (this.maxY = i);
      };
    function Hn(t, e, n, i, r) {
      return void 0 !== r
        ? ((r.minX = t), (r.maxX = e), (r.minY = n), (r.maxY = i), r)
        : new Wn(t, e, n, i);
    }
    (Wn.prototype.contains = function (t) {
      return this.containsXY(t[1], t[2]);
    }),
      (Wn.prototype.containsTileRange = function (t) {
        return (
          this.minX <= t.minX &&
          t.maxX <= this.maxX &&
          this.minY <= t.minY &&
          t.maxY <= this.maxY
        );
      }),
      (Wn.prototype.containsXY = function (t, e) {
        return (
          this.minX <= t && t <= this.maxX && this.minY <= e && e <= this.maxY
        );
      }),
      (Wn.prototype.equals = function (t) {
        return (
          this.minX == t.minX &&
          this.minY == t.minY &&
          this.maxX == t.maxX &&
          this.maxY == t.maxY
        );
      }),
      (Wn.prototype.extend = function (t) {
        t.minX < this.minX && (this.minX = t.minX),
          t.maxX > this.maxX && (this.maxX = t.maxX),
          t.minY < this.minY && (this.minY = t.minY),
          t.maxY > this.maxY && (this.maxY = t.maxY);
      }),
      (Wn.prototype.getHeight = function () {
        return this.maxY - this.minY + 1;
      }),
      (Wn.prototype.getSize = function () {
        return [this.getWidth(), this.getHeight()];
      }),
      (Wn.prototype.getWidth = function () {
        return this.maxX - this.minX + 1;
      }),
      (Wn.prototype.intersects = function (t) {
        return (
          this.minX <= t.maxX &&
          this.maxX >= t.minX &&
          this.minY <= t.maxY &&
          this.maxY >= t.minY
        );
      });
    var Kn = Wn;
    function Zn(t, e) {
      return t > e ? 1 : t < e ? -1 : 0;
    }
    function Jn(t, e, n) {
      var i,
        r = t.length;
      if (t[0] <= e) return 0;
      if (e <= t[r - 1]) return r - 1;
      if (n > 0) {
        for (i = 1; i < r; ++i) if (t[i] < e) return i - 1;
      } else if (n < 0) {
        for (i = 1; i < r; ++i) if (t[i] <= e) return i;
      } else
        for (i = 1; i < r; ++i) {
          if (t[i] == e) return i;
          if (t[i] < e) return t[i - 1] - e < e - t[i] ? i - 1 : i;
        }
      return r - 1;
    }
    function Qn(t, e, n) {
      for (; e < n; ) {
        var i = t[e];
        (t[e] = t[n]), (t[n] = i), ++e, --n;
      }
    }
    function $n(t, e) {
      for (var n = Array.isArray(e) ? e : [e], i = n.length, r = 0; r < i; r++)
        t[t.length] = n[r];
    }
    function ti(t, e) {
      var n = t.length;
      if (n !== e.length) return !1;
      for (var i = 0; i < n; i++) if (t[i] !== e[i]) return !1;
      return !0;
    }
    var ei = [0, 0, 0],
      ni = function (t) {
        var e, n, i, r;
        if (
          ((this.minZoom = void 0 !== t.minZoom ? t.minZoom : 0),
          (this.resolutions_ = t.resolutions),
          qt(
            ((e = this.resolutions_),
            (n = !0),
            (i =
              function (t, e) {
                return e - t;
              } || Zn),
            e.every(function (t, r) {
              if (0 === r) return !0;
              var o = i(e[r - 1], t);
              return !(o > 0 || (n && 0 === o));
            })),
            17
          ),
          !t.origins)
        )
          for (var o = 0, s = this.resolutions_.length - 1; o < s; ++o)
            if (r) {
              if (this.resolutions_[o] / this.resolutions_[o + 1] !== r) {
                r = void 0;
                break;
              }
            } else r = this.resolutions_[o] / this.resolutions_[o + 1];
        (this.zoomFactor_ = r),
          (this.maxZoom = this.resolutions_.length - 1),
          (this.origin_ = void 0 !== t.origin ? t.origin : null),
          (this.origins_ = null),
          void 0 !== t.origins &&
            ((this.origins_ = t.origins),
            qt(this.origins_.length == this.resolutions_.length, 20));
        var a = t.extent;
        void 0 === a || this.origin_ || this.origins_ || (this.origin_ = Ge(a)),
          qt(
            (!this.origin_ && this.origins_) ||
              (this.origin_ && !this.origins_),
            18
          ),
          (this.tileSizes_ = null),
          void 0 !== t.tileSizes &&
            ((this.tileSizes_ = t.tileSizes),
            qt(this.tileSizes_.length == this.resolutions_.length, 19)),
          (this.tileSize_ =
            void 0 !== t.tileSize ? t.tileSize : this.tileSizes_ ? null : qn),
          qt(
            (!this.tileSize_ && this.tileSizes_) ||
              (this.tileSize_ && !this.tileSizes_),
            22
          ),
          (this.extent_ = void 0 !== a ? a : null),
          (this.fullTileRanges_ = null),
          (this.tmpSize_ = [0, 0]),
          void 0 !== t.sizes
            ? (this.fullTileRanges_ = t.sizes.map(function (t, e) {
                return new Kn(
                  Math.min(0, t[0]),
                  Math.max(t[0] - 1, -1),
                  Math.min(0, t[1]),
                  Math.max(t[1] - 1, -1)
                );
              }, this))
            : a && this.calculateTileRanges_(a);
      };
    (ni.prototype.forEachTileCoord = function (t, e, n) {
      for (
        var i = this.getTileRangeForExtentAndZ(t, e), r = i.minX, o = i.maxX;
        r <= o;
        ++r
      )
        for (var s = i.minY, a = i.maxY; s <= a; ++s) n([e, r, s]);
    }),
      (ni.prototype.forEachTileCoordParentTileRange = function (t, e, n, i, r) {
        var o,
          s,
          a,
          u = null,
          c = t[0] - 1;
        for (
          2 === this.zoomFactor_
            ? ((s = t[1]), (a = t[2]))
            : (u = this.getTileCoordExtent(t, r));
          c >= this.minZoom;

        ) {
          if (
            ((o =
              2 === this.zoomFactor_
                ? Hn((s = Math.floor(s / 2)), s, (a = Math.floor(a / 2)), a, i)
                : this.getTileRangeForExtentAndZ(u, c, i)),
            e.call(n, c, o))
          )
            return !0;
          --c;
        }
        return !1;
      }),
      (ni.prototype.getExtent = function () {
        return this.extent_;
      }),
      (ni.prototype.getMaxZoom = function () {
        return this.maxZoom;
      }),
      (ni.prototype.getMinZoom = function () {
        return this.minZoom;
      }),
      (ni.prototype.getOrigin = function (t) {
        return this.origin_ ? this.origin_ : this.origins_[t];
      }),
      (ni.prototype.getResolution = function (t) {
        return this.resolutions_[t];
      }),
      (ni.prototype.getResolutions = function () {
        return this.resolutions_;
      }),
      (ni.prototype.getTileCoordChildTileRange = function (t, e, n) {
        if (t[0] < this.maxZoom) {
          if (2 === this.zoomFactor_) {
            var i = 2 * t[1],
              r = 2 * t[2];
            return Hn(i, i + 1, r, r + 1, e);
          }
          var o = this.getTileCoordExtent(t, n);
          return this.getTileRangeForExtentAndZ(o, t[0] + 1, e);
        }
        return null;
      }),
      (ni.prototype.getTileRangeExtent = function (t, e, n) {
        var i = this.getOrigin(t),
          r = this.getResolution(t),
          o = Dn(this.getTileSize(t), this.tmpSize_),
          s = i[0] + e.minX * o[0] * r,
          a = i[0] + (e.maxX + 1) * o[0] * r;
        return Ee(
          s,
          i[1] + e.minY * o[1] * r,
          a,
          i[1] + (e.maxY + 1) * o[1] * r,
          n
        );
      }),
      (ni.prototype.getTileRangeForExtentAndZ = function (t, e, n) {
        var i = ei;
        this.getTileCoordForXYAndZ_(t[0], t[1], e, !1, i);
        var r = i[1],
          o = i[2];
        return (
          this.getTileCoordForXYAndZ_(t[2], t[3], e, !0, i),
          Hn(r, i[1], o, i[2], n)
        );
      }),
      (ni.prototype.getTileCoordCenter = function (t) {
        var e = this.getOrigin(t[0]),
          n = this.getResolution(t[0]),
          i = Dn(this.getTileSize(t[0]), this.tmpSize_);
        return [e[0] + (t[1] + 0.5) * i[0] * n, e[1] + (t[2] + 0.5) * i[1] * n];
      }),
      (ni.prototype.getTileCoordExtent = function (t, e) {
        var n = this.getOrigin(t[0]),
          i = this.getResolution(t[0]),
          r = Dn(this.getTileSize(t[0]), this.tmpSize_),
          o = n[0] + t[1] * r[0] * i,
          s = n[1] + t[2] * r[1] * i;
        return Ee(o, s, o + r[0] * i, s + r[1] * i, e);
      }),
      (ni.prototype.getTileCoordForCoordAndResolution = function (t, e, n) {
        return this.getTileCoordForXYAndResolution_(t[0], t[1], e, !1, n);
      }),
      (ni.prototype.getTileCoordForXYAndResolution_ = function (t, e, n, i, r) {
        var o = this.getZForResolution(n),
          s = n / this.getResolution(o),
          a = this.getOrigin(o),
          u = Dn(this.getTileSize(o), this.tmpSize_),
          c = i ? 0.5 : 0,
          h = i ? 0 : 0.5,
          l = Math.floor((t - a[0]) / n + c),
          p = Math.floor((e - a[1]) / n + h),
          f = (s * l) / u[0],
          d = (s * p) / u[1];
        return (
          i
            ? ((f = Math.ceil(f) - 1), (d = Math.ceil(d) - 1))
            : ((f = Math.floor(f)), (d = Math.floor(d))),
          Ht(o, f, d, r)
        );
      }),
      (ni.prototype.getTileCoordForXYAndZ_ = function (t, e, n, i, r) {
        var o = this.getOrigin(n),
          s = this.getResolution(n),
          a = Dn(this.getTileSize(n), this.tmpSize_),
          u = i ? 0.5 : 0,
          c = i ? 0 : 0.5,
          h = Math.floor((t - o[0]) / s + u),
          l = Math.floor((e - o[1]) / s + c),
          p = h / a[0],
          f = l / a[1];
        return (
          i
            ? ((p = Math.ceil(p) - 1), (f = Math.ceil(f) - 1))
            : ((p = Math.floor(p)), (f = Math.floor(f))),
          Ht(n, p, f, r)
        );
      }),
      (ni.prototype.getTileCoordForCoordAndZ = function (t, e, n) {
        return this.getTileCoordForXYAndZ_(t[0], t[1], e, !1, n);
      }),
      (ni.prototype.getTileCoordResolution = function (t) {
        return this.resolutions_[t[0]];
      }),
      (ni.prototype.getTileSize = function (t) {
        return this.tileSize_ ? this.tileSize_ : this.tileSizes_[t];
      }),
      (ni.prototype.getFullTileRange = function (t) {
        return this.fullTileRanges_ ? this.fullTileRanges_[t] : null;
      }),
      (ni.prototype.getZForResolution = function (t, e) {
        return Qt(Jn(this.resolutions_, t, e || 0), this.minZoom, this.maxZoom);
      }),
      (ni.prototype.calculateTileRanges_ = function (t) {
        for (
          var e = this.resolutions_.length, n = new Array(e), i = this.minZoom;
          i < e;
          ++i
        )
          n[i] = this.getTileRangeForExtentAndZ(t, i);
        this.fullTileRanges_ = n;
      });
    var ii = ni;
    function ri(t) {
      var e = t.getDefaultTileGrid();
      return (
        e ||
          ((e = (function (t, e, n, i) {
            return (function (t, e, n, i) {
              var r = void 0 !== i ? i : he.TOP_LEFT,
                o = oi(t, e, n);
              return new ii({
                extent: t,
                origin: Pe(t, r),
                resolutions: o,
                tileSize: n,
              });
            })(si(t), e, n, i);
          })(t)),
          t.setDefaultTileGrid(e)),
        e
      );
    }
    function oi(t, e, n) {
      for (
        var i = void 0 !== e ? e : Vn,
          r = ke(t),
          o = Be(t),
          s = Dn(void 0 !== n ? n : qn),
          a = Math.max(o / s[0], r / s[1]),
          u = i + 1,
          c = new Array(u),
          h = 0;
        h < u;
        ++h
      )
        c[h] = a / Math.pow(2, h);
      return c;
    }
    function si(t) {
      var e = (t = yn(t)).getExtent();
      if (!e) {
        var n = (180 * ze[Ve.DEGREES]) / t.getMetersPerUnit();
        e = Ee(-n, -n, n, n);
      }
      return e;
    }
    var ai = (function (t) {
        function e(e) {
          t.call(this, {
            attributions: e.attributions,
            attributionsCollapsible: e.attributionsCollapsible,
            projection: e.projection,
            state: e.state,
            wrapX: e.wrapX,
          }),
            (this.opaque_ = void 0 !== e.opaque && e.opaque),
            (this.tilePixelRatio_ =
              void 0 !== e.tilePixelRatio ? e.tilePixelRatio : 1),
            (this.tileGrid = void 0 !== e.tileGrid ? e.tileGrid : null),
            (this.tileCache = new Jt(e.cacheSize)),
            (this.tmpSize = [0, 0]),
            (this.key_ = e.key || ""),
            (this.tileOptions = { transition: e.transition });
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.canExpireCache = function () {
            return this.tileCache.canExpireCache();
          }),
          (e.prototype.expireCache = function (t, e) {
            var n = this.getTileCacheForProjection(t);
            n && n.expireCache(e);
          }),
          (e.prototype.forEachLoadedTile = function (t, e, n, i) {
            var r = this.getTileCacheForProjection(t);
            if (!r) return !1;
            for (var o, s, a, u = !0, c = n.minX; c <= n.maxX; ++c)
              for (var h = n.minY; h <= n.maxY; ++h)
                (s = Kt(e, c, h)),
                  (a = !1),
                  r.containsKey(s) &&
                    (a = (o = r.get(s)).getState() === gt.LOADED) &&
                    (a = !1 !== i(o)),
                  a || (u = !1);
            return u;
          }),
          (e.prototype.getGutterForProjection = function (t) {
            return 0;
          }),
          (e.prototype.getKey = function () {
            return this.key_;
          }),
          (e.prototype.setKey = function (t) {
            this.key_ !== t && ((this.key_ = t), this.changed());
          }),
          (e.prototype.getOpaque = function (t) {
            return this.opaque_;
          }),
          (e.prototype.getResolutions = function () {
            return this.tileGrid.getResolutions();
          }),
          (e.prototype.getTile = function (t, e, n, i, r) {
            return lt();
          }),
          (e.prototype.getTileGrid = function () {
            return this.tileGrid;
          }),
          (e.prototype.getTileGridForProjection = function (t) {
            return this.tileGrid ? this.tileGrid : ri(t);
          }),
          (e.prototype.getTileCacheForProjection = function (t) {
            var e = this.getProjection();
            return e && !bn(e, t) ? null : this.tileCache;
          }),
          (e.prototype.getTilePixelRatio = function (t) {
            return this.tilePixelRatio_;
          }),
          (e.prototype.getTilePixelSize = function (t, e, n) {
            var i,
              r,
              o,
              s = this.getTileGridForProjection(n),
              a = this.getTilePixelRatio(e),
              u = Dn(s.getTileSize(t), this.tmpSize);
            return 1 == a
              ? u
              : ((i = u),
                (r = a),
                void 0 === (o = this.tmpSize) && (o = [0, 0]),
                (o[0] = (i[0] * r + 0.5) | 0),
                (o[1] = (i[1] * r + 0.5) | 0),
                o);
          }),
          (e.prototype.getTileCoordForTileUrlFunction = function (t, e) {
            var n = void 0 !== e ? e : this.getProjection(),
              i = this.getTileGridForProjection(n);
            return (
              this.getWrapX() &&
                n.isGlobal() &&
                (t = (function (t, e, n) {
                  var i = e[0],
                    r = t.getTileCoordCenter(e),
                    o = si(n);
                  if (ye(o, r)) return e;
                  var s = Be(o),
                    a = Math.ceil((o[0] - r[0]) / s);
                  return (r[0] += s * a), t.getTileCoordForCoordAndZ(r, i);
                })(i, t, n)),
              (function (t, e) {
                var n = t[0],
                  i = t[1],
                  r = t[2];
                if (e.getMinZoom() > n || n > e.getMaxZoom()) return !1;
                var o,
                  s = e.getExtent();
                return (
                  !(o = s
                    ? e.getTileRangeForExtentAndZ(s, n)
                    : e.getFullTileRange(n)) || o.containsXY(i, r)
                );
              })(t, i)
                ? t
                : null
            );
          }),
          (e.prototype.refresh = function () {
            this.tileCache.clear(), this.changed();
          }),
          (e.prototype.useTile = function (t, e, n, i) {}),
          e
        );
      })(zn),
      ui = (function (t) {
        function e(e, n) {
          t.call(this, e), (this.tile = n);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(tt),
      ci = "tileloadstart",
      hi = "tileloadend",
      li = "tileloaderror";
    function pi(t, e) {
      t.getImage().src = e;
    }
    var fi = (function (t) {
        function e(e) {
          var n = e || {},
            i = void 0 !== n.projection ? n.projection : "EPSG:3857",
            r =
              void 0 !== n.tileGrid
                ? n.tileGrid
                : (function (t) {
                    var e = t || {},
                      n = e.extent || yn("EPSG:3857").getExtent(),
                      i = {
                        extent: n,
                        minZoom: e.minZoom,
                        tileSize: e.tileSize,
                        resolutions: oi(n, e.maxZoom, e.tileSize),
                      };
                    return new ii(i);
                  })({
                    extent: si(i),
                    maxZoom: n.maxZoom,
                    minZoom: n.minZoom,
                    tileSize: n.tileSize,
                  });
          t.call(this, {
            attributions: n.attributions,
            cacheSize: n.cacheSize,
            crossOrigin: n.crossOrigin,
            opaque: n.opaque,
            projection: i,
            reprojectionErrorThreshold: n.reprojectionErrorThreshold,
            tileGrid: r,
            tileLoadFunction: n.tileLoadFunction,
            tilePixelRatio: n.tilePixelRatio,
            tileUrlFunction: n.tileUrlFunction,
            url: n.url,
            urls: n.urls,
            wrapX: void 0 === n.wrapX || n.wrapX,
            transition: n.transition,
            attributionsCollapsible: n.attributionsCollapsible,
          });
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(
        (function (t) {
          function e(e) {
            t.call(this, {
              attributions: e.attributions,
              cacheSize: e.cacheSize,
              opaque: e.opaque,
              projection: e.projection,
              state: e.state,
              tileGrid: e.tileGrid,
              tileLoadFunction: e.tileLoadFunction ? e.tileLoadFunction : pi,
              tilePixelRatio: e.tilePixelRatio,
              tileUrlFunction: e.tileUrlFunction,
              url: e.url,
              urls: e.urls,
              wrapX: e.wrapX,
              transition: e.transition,
              key: e.key,
              attributionsCollapsible: e.attributionsCollapsible,
            }),
              (this.crossOrigin =
                void 0 !== e.crossOrigin ? e.crossOrigin : null),
              (this.tileClass = void 0 !== e.tileClass ? e.tileClass : zt),
              (this.tileCacheForProjection = {}),
              (this.tileGridForProjection = {}),
              (this.reprojectionErrorThreshold_ = e.reprojectionErrorThreshold),
              (this.renderReprojectionEdges_ = !1);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.canExpireCache = function () {
              if (this.tileCache.canExpireCache()) return !0;
              for (var t in this.tileCacheForProjection)
                if (this.tileCacheForProjection[t].canExpireCache()) return !0;
              return !1;
            }),
            (e.prototype.expireCache = function (t, e) {
              var n = this.getTileCacheForProjection(t);
              for (var i in (this.tileCache.expireCache(
                this.tileCache == n ? e : {}
              ),
              this.tileCacheForProjection)) {
                var r = this.tileCacheForProjection[i];
                r.expireCache(r == n ? e : {});
              }
            }),
            (e.prototype.getGutterForProjection = function (t) {
              return this.getProjection() && t && !bn(this.getProjection(), t)
                ? 0
                : this.getGutter();
            }),
            (e.prototype.getGutter = function () {
              return 0;
            }),
            (e.prototype.getOpaque = function (e) {
              return (
                !(this.getProjection() && e && !bn(this.getProjection(), e)) &&
                t.prototype.getOpaque.call(this, e)
              );
            }),
            (e.prototype.getTileGridForProjection = function (t) {
              var e = this.getProjection();
              if (!this.tileGrid || (e && !bn(e, t))) {
                var n = ft(t);
                return (
                  n in this.tileGridForProjection ||
                    (this.tileGridForProjection[n] = ri(t)),
                  this.tileGridForProjection[n]
                );
              }
              return this.tileGrid;
            }),
            (e.prototype.getTileCacheForProjection = function (t) {
              var e = this.getProjection();
              if (!e || bn(e, t)) return this.tileCache;
              var n = ft(t);
              return (
                n in this.tileCacheForProjection ||
                  (this.tileCacheForProjection[n] = new Jt(
                    this.tileCache.highWaterMark
                  )),
                this.tileCacheForProjection[n]
              );
            }),
            (e.prototype.createTile_ = function (t, e, n, i, r, o) {
              var s = [t, e, n],
                a = this.getTileCoordForTileUrlFunction(s, r),
                u = a ? this.tileUrlFunction(a, i, r) : void 0,
                c = new this.tileClass(
                  s,
                  void 0 !== u ? gt.IDLE : gt.EMPTY,
                  void 0 !== u ? u : "",
                  this.crossOrigin,
                  this.tileLoadFunction,
                  this.tileOptions
                );
              return (
                (c.key = o), Lt(c, Gt.CHANGE, this.handleTileChange, this), c
              );
            }),
            (e.prototype.getTile = function (t, e, n, i, r) {
              var o = this.getProjection();
              if (o && r && !bn(o, r)) {
                var s,
                  a = this.getTileCacheForProjection(r),
                  u = [t, e, n],
                  c = Zt(u);
                a.containsKey(c) && (s = a.get(c));
                var h = this.getKey();
                if (s && s.key == h) return s;
                var l = this.getTileGridForProjection(o),
                  p = this.getTileGridForProjection(r),
                  f = this.getTileCoordForTileUrlFunction(u, r),
                  d = new Ln(
                    o,
                    l,
                    r,
                    p,
                    u,
                    f,
                    this.getTilePixelRatio(i),
                    this.getGutter(),
                    function (t, e, n, i) {
                      return this.getTileInternal(t, e, n, i, o);
                    }.bind(this),
                    this.reprojectionErrorThreshold_,
                    this.renderReprojectionEdges_
                  );
                return (
                  (d.key = h),
                  s
                    ? ((d.interimTile = s),
                      d.refreshInterimChain(),
                      a.replace(c, d))
                    : a.set(c, d),
                  d
                );
              }
              return this.getTileInternal(t, e, n, i, o || r);
            }),
            (e.prototype.getTileInternal = function (t, e, n, i, r) {
              var o = null,
                s = Kt(t, e, n),
                a = this.getKey();
              if (this.tileCache.containsKey(s)) {
                if ((o = this.tileCache.get(s)).key != a) {
                  var u = o;
                  (o = this.createTile_(t, e, n, i, r, a)),
                    u.getState() == gt.IDLE
                      ? (o.interimTile = u.interimTile)
                      : (o.interimTile = u),
                    o.refreshInterimChain(),
                    this.tileCache.replace(s, o);
                }
              } else
                (o = this.createTile_(t, e, n, i, r, a)),
                  this.tileCache.set(s, o);
              return o;
            }),
            (e.prototype.setRenderReprojectionEdges = function (t) {
              if (this.renderReprojectionEdges_ != t) {
                for (var e in ((this.renderReprojectionEdges_ = t),
                this.tileCacheForProjection))
                  this.tileCacheForProjection[e].clear();
                this.changed();
              }
            }),
            (e.prototype.setTileGridForProjection = function (t, e) {
              var n = yn(t);
              if (n) {
                var i = ft(n);
                i in this.tileGridForProjection ||
                  (this.tileGridForProjection[i] = e);
              }
            }),
            e
          );
        })(
          (function (t) {
            function e(e) {
              t.call(this, {
                attributions: e.attributions,
                cacheSize: e.cacheSize,
                opaque: e.opaque,
                projection: e.projection,
                state: e.state,
                tileGrid: e.tileGrid,
                tilePixelRatio: e.tilePixelRatio,
                wrapX: e.wrapX,
                transition: e.transition,
                key: e.key,
                attributionsCollapsible: e.attributionsCollapsible,
              }),
                (this.generateTileUrlFunction_ = !e.tileUrlFunction),
                (this.tileLoadFunction = e.tileLoadFunction),
                (this.tileUrlFunction = e.tileUrlFunction
                  ? e.tileUrlFunction.bind(this)
                  : Nn),
                (this.urls = null),
                e.urls ? this.setUrls(e.urls) : e.url && this.setUrl(e.url),
                e.tileUrlFunction &&
                  this.setTileUrlFunction(e.tileUrlFunction, this.key_),
                (this.tileLoadingKeys_ = {});
            }
            return (
              t && (e.__proto__ = t),
              (e.prototype = Object.create(t && t.prototype)),
              (e.prototype.constructor = e),
              (e.prototype.getTileLoadFunction = function () {
                return this.tileLoadFunction;
              }),
              (e.prototype.getTileUrlFunction = function () {
                return this.tileUrlFunction;
              }),
              (e.prototype.getUrls = function () {
                return this.urls;
              }),
              (e.prototype.handleTileChange = function (t) {
                var e,
                  n = t.target,
                  i = ft(n),
                  r = n.getState();
                r == gt.LOADING
                  ? ((this.tileLoadingKeys_[i] = !0), (e = ci))
                  : i in this.tileLoadingKeys_ &&
                    (delete this.tileLoadingKeys_[i],
                    (e =
                      r == gt.ERROR
                        ? li
                        : r == gt.LOADED || r == gt.ABORT
                        ? hi
                        : void 0)),
                  null != e && this.dispatchEvent(new ui(e, n));
              }),
              (e.prototype.setTileLoadFunction = function (t) {
                this.tileCache.clear(),
                  (this.tileLoadFunction = t),
                  this.changed();
              }),
              (e.prototype.setTileUrlFunction = function (t, e) {
                (this.tileUrlFunction = t),
                  this.tileCache.pruneExceptNewestZ(),
                  void 0 !== e ? this.setKey(e) : this.changed();
              }),
              (e.prototype.setUrl = function (t) {
                var e = (this.urls = Pn(t));
                this.setUrls(e);
              }),
              (e.prototype.setUrls = function (t) {
                this.urls = t;
                var e = t.join("\n");
                this.generateTileUrlFunction_
                  ? this.setTileUrlFunction(An(t, this.tileGrid), e)
                  : this.setKey(e);
              }),
              (e.prototype.useTile = function (t, e, n) {
                var i = Kt(t, e, n);
                this.tileCache.containsKey(i) && this.tileCache.get(i);
              }),
              e
            );
          })(ai)
        )
      ),
      di =
        '&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',
      gi = (function (t) {
        function e(e) {
          var n,
            i = e || {};
          n = void 0 !== i.attributions ? i.attributions : [di];
          var r = void 0 !== i.crossOrigin ? i.crossOrigin : "anonymous",
            o =
              void 0 !== i.url
                ? i.url
                : "https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";
          t.call(this, {
            attributions: n,
            cacheSize: i.cacheSize,
            crossOrigin: r,
            opaque: void 0 === i.opaque || i.opaque,
            maxZoom: void 0 !== i.maxZoom ? i.maxZoom : 19,
            reprojectionErrorThreshold: i.reprojectionErrorThreshold,
            tileLoadFunction: i.tileLoadFunction,
            url: o,
            wrapX: i.wrapX,
            attributionsCollapsible: !1,
          });
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(fi),
      yi = 20037508.342789244,
      _i = [
        [0, 0],
        [0, 1],
        [1, 0],
        [0, -1],
        [-1, 0],
      ],
      vi =
        "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAAB3RJTUUH3QgIBToaSbAjlwAAABd0RVh0U29mdHdhcmUAR0xEUE5HIHZlciAzLjRxhaThAAAACHRwTkdHTEQzAAAAAEqAKR8AAAAEZ0FNQQAAsY8L/GEFAAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAAFRJREFUeNrtwQEBAAAAgJD+r+4ICgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgBDwABHHIJwwAAAABJRU5ErkJggg==",
      mi = 256,
      xi = '<canvas width="'
        .concat(mi, '" height="')
        .concat(mi, '" src="')
        .concat(vi, '"></canvas>'),
      Ei = n(0),
      bi = n(86),
      wi = n(22),
      Ii = n(87);
    function Si(t) {
      return (Si =
        "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
          ? function (t) {
              return typeof t;
            }
          : function (t) {
              return t &&
                "function" == typeof Symbol &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
                ? "symbol"
                : typeof t;
            })(t);
    }
    function Ci(t, e) {
      if (!(t instanceof e))
        throw new TypeError("Cannot call a class as a function");
    }
    function Ti(t, e) {
      for (var n = 0; n < e.length; n++) {
        var i = e[n];
        (i.enumerable = i.enumerable || !1),
          (i.configurable = !0),
          "value" in i && (i.writable = !0),
          Object.defineProperty(t, i.key, i);
      }
    }
    function Oi(t, e, n) {
      return e && Ti(t.prototype, e), n && Ti(t, n), t;
    }
    function Ri(t, e) {
      return !e || ("object" !== Si(e) && "function" != typeof e) ? Li(t) : e;
    }
    function Li(t) {
      if (void 0 === t)
        throw new ReferenceError(
          "this hasn't been initialised - super() hasn't been called"
        );
      return t;
    }
    function Mi(t) {
      return (Mi = Object.setPrototypeOf
        ? Object.getPrototypeOf
        : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t);
          })(t);
    }
    function Ai(t, e) {
      if ("function" != typeof e && null !== e)
        throw new TypeError(
          "Super expression must either be null or a function"
        );
      (t.prototype = Object.create(e && e.prototype, {
        constructor: { value: t, writable: !0, configurable: !0 },
      })),
        e && Ni(t, e);
    }
    function Ni(t, e) {
      return (Ni =
        Object.setPrototypeOf ||
        function (t, e) {
          return (t.__proto__ = e), t;
        })(t, e);
    }
    function Pi(t) {
      return (function (e) {
        function n() {
          return Ci(this, n), Ri(this, Mi(n).apply(this, arguments));
        }
        return (
          Ai(n, t),
          Oi(n, [
            {
              key: "setupTileCacheAsnyc",
              value: function () {
                var t = this;
                return new Promise(function (e) {
                  var n = indexedDB.open("MaplatDB_".concat(t.sourceID));
                  (n.onupgradeneeded = function (t) {
                    t.target.result.createObjectStore("tileCache", {
                      keyPath: "z_x_y",
                    });
                  }),
                    (n.onsuccess = function (n) {
                      var i = n.target.result;
                      (t.cache_db = i), e();
                    }),
                    (n.onerror = function (n) {
                      (t.cache_db = void 0), e();
                    });
                });
              },
            },
            {
              key: "clearTileCacheAsync",
              value: function (t) {
                var e = this;
                return new Promise(function (n, i) {
                  if (e.cache_db) {
                    var r = e.cache_db;
                    e.cache_db = void 0;
                    var o = "MaplatDB_".concat(e.sourceID);
                    r.close();
                    var s = indexedDB.deleteDatabase(o);
                    (s.onsuccess = function (r) {
                      t
                        ? e
                            .setupTileCacheAsnyc()
                            .then(function () {
                              n();
                            })
                            .catch(function (t) {
                              i(t);
                            })
                        : n();
                    }),
                      (s.onerror = function (t) {
                        i(t);
                      });
                  } else
                    t
                      ? e
                          .setupTileCacheAsnyc()
                          .then(function () {
                            n();
                          })
                          .catch(function (t) {
                            i(t);
                          })
                      : n();
                });
              },
            },
            {
              key: "getTileCacheSizeAsync",
              value: function () {
                var t = this;
                return new Promise(function (e, n) {
                  if (t.cache_db) {
                    var i = t.cache_db.transaction("tileCache", "readonly"),
                      r = i.objectStore("tileCache"),
                      o = [];
                    i.oncomplete = function (t) {
                      var n = (function (t) {
                        for (var e = 0, n = 0; n < t.length; n++) {
                          e += JSON.stringify(t[n]).length;
                        }
                        return e;
                      })(o);
                      e(n);
                    };
                    var s = r.openCursor();
                    (s.onerror = function (t) {
                      n(t);
                    }),
                      (s.onsuccess = function (t) {
                        var e = t.target.result;
                        e && (o.push(e.value), e.continue());
                      });
                  } else e(0);
                });
              },
            },
            {
              key: "getMap",
              value: function () {
                return this._map;
              },
            },
            {
              key: "setViewpointRadian",
              value: function (t) {
                var e,
                  n,
                  i = this,
                  r = t.mercZoom,
                  o = t.zoom,
                  s = t.direction,
                  a = t.rotation,
                  u = this._map.getView();
                null != t.latitude &&
                  null != t.longitude &&
                  (e = Sn([t.longitude, t.latitude], "EPSG:4326", "EPSG:3857")),
                  null != t.x && null != t.y && (n = [t.x, t.y]),
                  i
                    .size2MercsAsync()
                    .then(function (t) {
                      return i.mercs2MercSizeAsync(t);
                    })
                    .then(function (t) {
                      var c = i.mercsFromGivenMercZoom(
                        e || t[0],
                        r || t[1],
                        null != s ? s : t[2]
                      );
                      i.mercs2SizeAsync(c).then(function (t) {
                        null != e
                          ? u.setCenter(t[0])
                          : null != n && u.setCenter(n),
                          null != r
                            ? u.setZoom(t[1])
                            : null != o && u.setZoom(o),
                          null != s
                            ? u.setRotation(t[2])
                            : null != a && u.setRotation(a);
                      });
                    });
              },
            },
            {
              key: "setViewpoint",
              value: function (t) {
                t.rotation && (t.rotation = (t.rotation * Math.PI) / 180),
                  t.direction && (t.direction = (t.direction * Math.PI) / 180),
                  this.setViewpointRadian(t);
              },
            },
            {
              key: "goHome",
              value: function () {
                this.setViewpointRadian({
                  longitude: this.home_position[0],
                  latitude: this.home_position[1],
                  mercZoom: this.merc_zoom,
                  rotation: 0,
                });
              },
            },
            {
              key: "setGPSMarkerAsync",
              value: function (t, e) {
                var n = this,
                  i = n.getMap(),
                  r = i.getView();
                if (!t)
                  return new Promise(function (t, e) {
                    i.setGPSPosition(null), t(!0);
                  });
                var o = n.mercsFromGPSValue(t.lnglat, t.acc);
                return n
                  .mercs2XysAsync(o)
                  .then(function (t) {
                    var o = !t[0],
                      s = o ? t[1] : t[0],
                      a = o ? null : t[1],
                      u = { xy: s[0] };
                    if (!n.insideCheckHistMapCoords(s[0]))
                      return i.handleGPS(!1, !0), !1;
                    var c = s.slice(1);
                    return (
                      (u.rad = c.reduce(function (t, e, n) {
                        var i =
                          t +
                          Math.sqrt(
                            Math.pow(e[0] - u.xy[0], 2) +
                              Math.pow(e[1] - u.xy[1], 2)
                          );
                        return 3 == n ? i / 4 : i;
                      }, 0)),
                      e || r.setCenter(u.xy),
                      i.setGPSPosition(u, o ? "hide" : null),
                      a && i.setGPSPosition({ xy: a[0] }, "sub"),
                      !0
                    );
                  })
                  .catch(function (t) {
                    throw t;
                  });
              },
            },
            {
              key: "setGPSMarker",
              value: function (t, e) {
                this.setGPSMarkerAsync(t, e).then(function () {});
              },
            },
            {
              key: "getRadius",
              value: function (t, e) {
                var n = Math.floor(Math.min(t[0], t[1]) / 4);
                return (
                  null == e && (e = this._map.getView().getDecimalZoom()),
                  (n * yi) / 128 / Math.pow(2, e)
                );
              },
            },
            {
              key: "mercsFromGivenMercZoom",
              value: function (t, e, n) {
                null == e && (e = 17);
                var i = this._map.getSize(),
                  r =
                    (Math.floor(Math.min(i[0], i[1]) / 4) * yi) /
                    128 /
                    Math.pow(2, e);
                return this.rotateMatrix(_i, n).map(function (e) {
                  return [e[0] * r + t[0], e[1] * r + t[1]];
                });
              },
            },
            {
              key: "mercsFromGPSValue",
              value: function (t, e) {
                var n = Sn(t, "EPSG:4326", "EPSG:3857"),
                  i = (t[1] * Math.PI) / 180,
                  r = e / Math.cos(i);
                return _i.map(function (t) {
                  return [t[0] * r + n[0], t[1] * r + n[1]];
                });
              },
            },
            {
              key: "rotateMatrix",
              value: function (t, e) {
                null == e && (e = 1 * this._map.getView().getRotation());
                for (var n = [], i = 0; i < t.length; i++) {
                  var r = t[i],
                    o = r[0] * Math.cos(e) - r[1] * Math.sin(e),
                    s = r[0] * Math.sin(e) + r[1] * Math.cos(e);
                  n.push([o, s]);
                }
                return n;
              },
            },
            {
              key: "size2Xys",
              value: function (t, e, n) {
                t || (t = this._map.getView().getCenter());
                var i = this._map.getSize(),
                  r = this.getRadius(i, e),
                  o = this.rotateMatrix(_i, n).map(function (e) {
                    return [e[0] * r + t[0], e[1] * r + t[1]];
                  });
                return o.push(i), o;
              },
            },
            {
              key: "size2MercsAsync",
              value: function (t, e, n) {
                var i = this.size2Xys(t, e, n),
                  r = this,
                  o = i.map(function (t, e) {
                    return 5 == e ? t : r.xy2MercAsync(t);
                  });
                return Promise.all(o).catch(function (t) {
                  throw t;
                });
              },
            },
            {
              key: "mercs2SizeAsync",
              value: function (t, e) {
                var n = this;
                return (e
                  ? Promise.resolve(t)
                  : Promise.all(
                      t.map(function (t, e) {
                        return 5 == e ? t : n.merc2XyAsync(t);
                      })
                    )
                )
                  .then(function (t) {
                    return n.xys2Size(t);
                  })
                  .catch(function (t) {
                    throw t;
                  });
              },
            },
            {
              key: "mercs2MercSizeAsync",
              value: function (t) {
                return this.mercs2SizeAsync(t, !0);
              },
            },
            {
              key: "xys2Size",
              value: function (t) {
                for (
                  var e = t[0],
                    n = t[5],
                    i = t.slice(1, 5).map(function (t) {
                      return [t[0] - e[0], t[1] - e[1]];
                    }),
                    r = [
                      [0, 1],
                      [1, 0],
                      [0, -1],
                      [-1, 0],
                    ],
                    o = 0,
                    s = 0,
                    a = 0,
                    u = 0;
                  u < 4;
                  u++
                ) {
                  var c = i[u],
                    h = r[u],
                    l = Math.sqrt(Math.pow(c[0], 2) + Math.pow(c[1], 2));
                  o += l;
                  var p = c[0] * h[1] - c[1] * h[0],
                    f = Math.acos((c[0] * h[0] + c[1] * h[1]) / l),
                    d = p > 0 ? -1 * f : f;
                  (s += Math.cos(d)), (a += Math.sin(d));
                }
                var g = o / 4,
                  y = Math.atan2(a, s);
                n || (n = this._map.getSize());
                var _ = Math.floor(Math.min(n[0], n[1]) / 4),
                  v = Math.log((_ * yi) / 128 / g) / Math.log(2);
                return [e, v, y];
              },
            },
            {
              key: "mercs2MercRotation",
              value: function (t) {
                for (
                  var e = t[0],
                    n = t.slice(1, 5).map(function (t) {
                      return [t[0] - e[0], t[1] - e[1]];
                    }),
                    i = [
                      [0, 1],
                      [1, 0],
                      [0, -1],
                      [-1, 0],
                    ],
                    r = 0,
                    o = 0,
                    s = 0;
                  s < 4;
                  s++
                ) {
                  var a = n[s],
                    u = i[s],
                    c = Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2)),
                    h = a[0] * u[1] - a[1] * u[0],
                    l = Math.acos((a[0] * u[0] + a[1] * u[1]) / c),
                    p = h > 0 ? -1 * l : l;
                  (r += Math.cos(p)), (o += Math.sin(p));
                }
                return Math.atan2(o, r);
              },
            },
            {
              key: "mercs2XysAsync",
              value: function (t) {
                var e = this;
                return Promise.all(
                  t.map(function (t, n) {
                    return 5 == n ? t : e.merc2XyAsync(t);
                  })
                ).then(function (t) {
                  return [t];
                });
              },
            },
            {
              key: "resolvePois",
              value: function (t) {
                var e,
                  n = this;
                return (
                  t || (t = []),
                  "string" == typeof t
                    ? (e = new Promise(function (e, i) {
                        var r = t.match(/\//) ? t : "pois/".concat(t),
                          o = new XMLHttpRequest();
                        o.open("GET", r, !0),
                          (o.responseType = "json"),
                          (o.onload = function (t) {
                            if (200 == this.status || 0 == this.status)
                              try {
                                var r = this.response;
                                "object" != Si(r) && (r = JSON.parse(r)),
                                  (n.pois = r),
                                  e();
                              } catch (t) {
                                i(t);
                              }
                            else i("Fail to load poi json");
                          }),
                          o.send();
                      }))
                    : ((n.pois = t), (e = Promise.resolve())),
                  e.then(function () {
                    Array.isArray(n.pois)
                      ? ((n.pois = {
                          main: {
                            namespace_id: "".concat(n.sourceID, "#main"),
                            name: n.officialTitle || n.title,
                            pois: n.pois,
                          },
                        }),
                        n.addIdToPoi("main"))
                      : (n.pois.main || (n.pois.main = {}),
                        Object.keys(n.pois).map(function (t) {
                          n.pois[t].name ||
                            (n.pois[t].name =
                              "main" == t ? n.officialTitle || n.title : t),
                            n.pois[t].pois || (n.pois[t].pois = []),
                            (n.pois[t].namespace_id = ""
                              .concat(n.sourceID, "#")
                              .concat(t)),
                            n.addIdToPoi(t);
                        }));
                  })
                );
              },
            },
            {
              key: "addIdToPoi",
              value: function (t) {
                var e = this;
                if (e.pois[t]) {
                  var n = e.pois[t],
                    i = n.pois;
                  n.__nextId || (n.__nextId = 0),
                    i.map(function (i) {
                      i.id ||
                        ((i.id = "".concat(t, "_").concat(n.__nextId)),
                        n.__nextId++),
                        i.namespace_id ||
                          (i.namespace_id = ""
                            .concat(e.sourceID, "#")
                            .concat(i.id));
                    });
                }
              },
            },
            {
              key: "getPoi",
              value: function (t) {
                var e,
                  n = this;
                return (
                  Object.keys(n.pois).map(function (i) {
                    n.pois[i].pois.map(function (r, o) {
                      r.id == t && (e = n.pois[i].pois[o]);
                    });
                  }),
                  e
                );
              },
            },
            {
              key: "addPoi",
              value: function (t, e) {
                if ((e || (e = "main"), this.pois[e]))
                  return (
                    this.pois[e].pois.push(t),
                    this.addIdToPoi(e),
                    t.namespace_id
                  );
              },
            },
            {
              key: "removePoi",
              value: function (t) {
                var e = this;
                Object.keys(e.pois).map(function (n) {
                  e.pois[n].pois.map(function (i, r) {
                    i.id == t && delete e.pois[n].pois[r];
                  });
                });
              },
            },
            {
              key: "clearPoi",
              value: function (t) {
                var e = this;
                t || (t = "main"),
                  "all" == t
                    ? Object.keys(e.pois).map(function (t) {
                        e.pois[t].pois = [];
                      })
                    : e.pois[t] && (e.pois[t].pois = []);
              },
            },
            {
              key: "listPoiLayers",
              value: function (t, e) {
                var n = this;
                return Object.keys(n.pois)
                  .sort(function (t, e) {
                    return "main" == t
                      ? -1
                      : "main" == e
                      ? 1
                      : t < e
                      ? -1
                      : t > e
                      ? 1
                      : 0;
                  })
                  .map(function (t) {
                    return n.pois[t];
                  })
                  .filter(function (n) {
                    return e
                      ? t
                        ? n.pois.length && n.hide
                        : n.pois.length
                      : !t || n.hide;
                  });
              },
            },
            {
              key: "getPoiLayer",
              value: function (t) {
                return this.pois[t];
              },
            },
            {
              key: "addPoiLayer",
              value: function (t, e) {
                "main" != t &&
                  (this.pois[t] ||
                    (e
                      ? (e.name || (e.name = t),
                        e.pois || (e.pois = []),
                        (e.namespace_id = ""
                          .concat(this.sourceID, "#")
                          .concat(t)))
                      : (e = {
                          namespace_id: "".concat(this.sourceID, "#").concat(t),
                          name: t,
                          pois: [],
                        }),
                    (this.pois[t] = e)));
              },
            },
            {
              key: "removePoiLayer",
              value: function (t) {
                "main" != t && this.pois[t] && delete this.pois[t];
              },
            },
          ]),
          n
        );
      })();
    }
    var Di = [
      "title",
      "officialTitle",
      "author",
      "createdAt",
      "era",
      "contributor",
      "mapper",
      "license",
      "dataLicense",
      "attr",
      "dataAttr",
      "reference",
      "description",
    ];
    function ki(t, e) {
      if (
        ((t.sourceID = e.sourceID),
        (t.map_option = e.map_option || {}),
        (t.home_position = e.home_position),
        (t.merc_zoom = e.merc_zoom),
        (t.thumbnail =
          e.thumbnail || "./tmbs/".concat(e.mapID || e.sourceID, "_menu.jpg")),
        (t.label = e.label),
        (t.maxZoom = e.maxZoom),
        (t.minZoom = e.minZoom),
        e.envelopeLngLats || e.envelopLngLats)
      ) {
        var n = (e.envelopeLngLats || e.envelopLngLats).map(function (t) {
          return Sn(t, "EPSG:4326", "EPSG:3857");
        });
        n.push(n[0]),
          (t.envelope = Object(Ei.g)([n])),
          (t.centroid = Object(bi.a)(t.envelope).geometry.coordinates);
      }
      for (var i = 0; i < Di.length; i++) {
        var r = Di[i];
        t[r] = e[r];
      }
      var o = e.cache_enable ? t.setupTileCacheAsnyc() : Promise.resolve(),
        s = t.resolvePois(e.pois);
      t.initialWait = Promise.all([o, s]);
    }
    function Fi(t) {
      var e,
        n,
        i = t;
      t.setTileLoadFunction(
        ((e = i.getTileLoadFunction()),
        (n = function (t, n, r, o) {
          var s = n.tImage;
          s ||
            (((s = document.createElement("img")).crossOrigin = "Anonymous"),
            (n.tImage = s)),
            (s.onload = s.onerror = function () {
              if (s.width && s.height) {
                var r = document.createElement("div");
                r.innerHTML = xi;
                var a = r.childNodes[0],
                  u = a.getContext("2d");
                u.drawImage(s, 0, 0);
                var c = a.toDataURL();
                if (
                  ((t.crossOrigin = null),
                  e(n, c),
                  (a = s = u = null),
                  i.cache_db)
                ) {
                  var h = i.cache_db.transaction(["tileCache"], "readwrite"),
                    l = h.objectStore("tileCache"),
                    p = ""
                      .concat(n.tileCoord[0], "-")
                      .concat(n.tileCoord[1], "-")
                      .concat(n.tileCoord[2]);
                  (l.put({
                    z_x_y: p,
                    data: c,
                    epoch: new Date().getTime(),
                  }).onsuccess = function () {}),
                    (h.oncomplete = function () {});
                }
              } else o ? e(n, o) : n.handleImageError_();
            }),
            (s.src = r);
        }),
        function (t, r) {
          var o = t.getImage();
          if (i.cache_db) {
            var s = i.cache_db
                .transaction(["tileCache"], "readonly")
                .objectStore("tileCache"),
              a = ""
                .concat(t.tileCoord[0], "-")
                .concat(t.tileCoord[1], "-")
                .concat(t.tileCoord[2]),
              u = s.get(a);
            (u.onsuccess = function (i) {
              var s = i.target.result;
              if (s) {
                var a = s.epoch,
                  u = new Date().getTime();
                if (!a || u - a > 864e5) n(o, t, r, s.data);
                else {
                  var c = s.data;
                  (o.crossOrigin = null), e(t, c);
                }
              } else n(o, t, r);
            }),
              (u.onerror = function (e) {
                n(o, t, r);
              });
          } else n(o, t, r);
        })
      );
    }
    var Gi = (function (t) {
        function e(t) {
          var n;
          Ci(this, e);
          var i = t || {};
          return (
            i.imageExtention || (i.imageExtention = "jpg"),
            i.mapID &&
              "osm" != i.mapID &&
              (i.url =
                i.url ||
                (i.tms
                  ? "tiles/"
                      .concat(i.mapID, "/{z}/{x}/{-y}.")
                      .concat(i.imageExtention)
                  : "tiles/"
                      .concat(i.mapID, "/{z}/{x}/{y}.")
                      .concat(i.imageExtention))),
            (n = Ri(this, Mi(e).call(this, i))),
            i.mapID && (n.mapID = i.mapID),
            ki(Li(n), i),
            Fi(Li(n)),
            n
          );
        }
        return (
          Ai(e, Pi(gi)),
          Oi(
            e,
            [
              {
                key: "xy2MercAsync",
                value: function (t) {
                  return new Promise(function (e, n) {
                    e(t);
                  }).catch(function (t) {
                    throw t;
                  });
                },
              },
              {
                key: "merc2XyAsync",
                value: function (t) {
                  return new Promise(function (e, n) {
                    e(t);
                  });
                },
              },
              {
                key: "insideCheckXy",
                value: function (t) {
                  if (!this.envelope) return !0;
                  var e = Object(Ei.f)(t);
                  return Object(wi.a)(e, this.envelope);
                },
              },
              {
                key: "insideCheckHistMapCoords",
                value: function (t) {
                  return this.insideCheckXy(t);
                },
              },
              {
                key: "modulateXyInside",
                value: function (t) {
                  if (!this.centroid) return t;
                  var e = Object(Ei.e)([t, this.centroid]),
                    n = Object(Ii.a)(this.envelope, e);
                  return n.features.length > 0 && n.features[0].geometry
                    ? n.features[0].geometry.coordinates
                    : t;
                },
              },
              {
                key: "modulateHistMapCoordsInside",
                value: function (t) {
                  return this.modulateXyInside(t);
                },
              },
            ],
            [
              {
                key: "createAsync",
                value: function (t) {
                  return new Promise(function (n, i) {
                    n(new e(t));
                  }).catch(function (t) {
                    throw t;
                  });
                },
              },
            ]
          ),
          e
        );
      })(),
      ji = (function (t) {
        function e(t) {
          Ci(this, e);
          var n = t || {};
          return Ri(this, Mi(e).call(this, n));
        }
        return (
          Ai(e, Gi),
          Oi(e, null, [
            {
              key: "createAsync",
              value: function (t) {
                return new Promise(function (n, i) {
                  n(new e(t));
                }).catch(function (t) {
                  throw t;
                });
              },
            },
          ]),
          e
        );
      })();
    function Bi(t) {
      var e = document,
        n = [],
        i = 0,
        r = e.createDocumentFragment().appendChild(e.createElement("div"));
      for (r.innerHTML = t; i < r.childNodes.length; i++) {
        var o = r.childNodes[i];
        if (o.tagName && "script" === o.tagName.toLowerCase()) {
          var s = e.createElement("script");
          o.type && (s.type = o.type),
            o.src ? (s.src = o.src) : (s.text = o.text),
            (n[i] = s);
        } else n[i] = o;
      }
      return n;
    }
    function Ui(t) {
      for (; !(t <= 180 && t > -180); ) {
        t += 360 * (t > 0 ? -1 : 1);
      }
      return t;
    }
    function Yi(t) {
      if (t) {
        for (var e = { sourceID: t.sourceID }, n = 0; n < Di.length; n++) {
          var i = Di[n];
          t[i] && (e[i] = t[i]);
        }
        return e;
      }
    }
    var Xi = (function (t) {
        function e(e) {
          if (
            (t.call(this),
            (this.id_ = void 0),
            (this.geometryName_ = "geometry"),
            (this.style_ = null),
            (this.styleFunction_ = void 0),
            (this.geometryChangeKey_ = null),
            Lt(this, Bn(this.geometryName_), this.handleGeometryChanged_, this),
            e)
          )
            if ("function" == typeof e.getSimplifiedGeometry) {
              var n = e;
              this.setGeometry(n);
            } else {
              var i = e;
              this.setProperties(i);
            }
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.clone = function () {
            var t = new e(this.getProperties());
            t.setGeometryName(this.getGeometryName());
            var n = this.getGeometry();
            n && t.setGeometry(n.clone());
            var i = this.getStyle();
            return i && t.setStyle(i), t;
          }),
          (e.prototype.getGeometry = function () {
            return this.get(this.geometryName_);
          }),
          (e.prototype.getId = function () {
            return this.id_;
          }),
          (e.prototype.getGeometryName = function () {
            return this.geometryName_;
          }),
          (e.prototype.getStyle = function () {
            return this.style_;
          }),
          (e.prototype.getStyleFunction = function () {
            return this.styleFunction_;
          }),
          (e.prototype.handleGeometryChange_ = function () {
            this.changed();
          }),
          (e.prototype.handleGeometryChanged_ = function () {
            this.geometryChangeKey_ &&
              (Nt(this.geometryChangeKey_), (this.geometryChangeKey_ = null));
            var t = this.getGeometry();
            t &&
              (this.geometryChangeKey_ = Lt(
                t,
                Gt.CHANGE,
                this.handleGeometryChange_,
                this
              )),
              this.changed();
          }),
          (e.prototype.setGeometry = function (t) {
            this.set(this.geometryName_, t);
          }),
          (e.prototype.setStyle = function (t) {
            (this.style_ = t),
              (this.styleFunction_ = t
                ? (function (t) {
                    if ("function" == typeof t) return t;
                    var e;
                    Array.isArray(t)
                      ? (e = t)
                      : (qt("function" == typeof t.getZIndex, 41), (e = [t]));
                    return function () {
                      return e;
                    };
                  })(t)
                : void 0),
              this.changed();
          }),
          (e.prototype.setId = function (t) {
            (this.id_ = t), this.changed();
          }),
          (e.prototype.setGeometryName = function (t) {
            At(this, Bn(this.geometryName_), this.handleGeometryChanged_, this),
              (this.geometryName_ = t),
              Lt(
                this,
                Bn(this.geometryName_),
                this.handleGeometryChanged_,
                this
              ),
              this.handleGeometryChanged_();
          }),
          e
        );
      })(Un),
      zi = { XY: "XY", XYZ: "XYZ", XYM: "XYM", XYZM: "XYZM" };
    function Vi(t, e, n, i, r, o) {
      for (var s = o || [], a = 0, u = e; u < n; u += i) {
        var c = t[u],
          h = t[u + 1];
        (s[a++] = r[0] * c + r[2] * h + r[4]),
          (s[a++] = r[1] * c + r[3] * h + r[5]);
      }
      return o && s.length != a && (s.length = a), s;
    }
    var qi = new Array(6);
    function Wi(t) {
      return Ki(t, 1, 0, 0, 1, 0, 0);
    }
    function Hi(t, e) {
      var n = t[0],
        i = t[1],
        r = t[2],
        o = t[3],
        s = t[4],
        a = t[5],
        u = e[0],
        c = e[1],
        h = e[2],
        l = e[3],
        p = e[4],
        f = e[5];
      return (
        (t[0] = n * u + r * c),
        (t[1] = i * u + o * c),
        (t[2] = n * h + r * l),
        (t[3] = i * h + o * l),
        (t[4] = n * p + r * f + s),
        (t[5] = i * p + o * f + a),
        t
      );
    }
    function Ki(t, e, n, i, r, o, s) {
      return (
        (t[0] = e),
        (t[1] = n),
        (t[2] = i),
        (t[3] = r),
        (t[4] = o),
        (t[5] = s),
        t
      );
    }
    function Zi(t, e) {
      return (
        (t[0] = e[0]),
        (t[1] = e[1]),
        (t[2] = e[2]),
        (t[3] = e[3]),
        (t[4] = e[4]),
        (t[5] = e[5]),
        t
      );
    }
    function Ji(t, e) {
      var n = e[0],
        i = e[1];
      return (
        (e[0] = t[0] * n + t[2] * i + t[4]),
        (e[1] = t[1] * n + t[3] * i + t[5]),
        e
      );
    }
    function Qi(t, e, n) {
      return Hi(t, Ki(qi, e, 0, 0, n, 0, 0));
    }
    function $i(t, e, n) {
      return Hi(t, Ki(qi, 1, 0, 0, 1, e, n));
    }
    function tr(t, e, n, i, r, o, s, a) {
      var u = Math.sin(o),
        c = Math.cos(o);
      return (
        (t[0] = i * c),
        (t[1] = r * u),
        (t[2] = -i * u),
        (t[3] = r * c),
        (t[4] = s * i * c - a * i * u + e),
        (t[5] = s * r * u + a * r * c + n),
        t
      );
    }
    var er = [1, 0, 0, 1, 0, 0];
    function nr(t) {
      var e;
      return (
        t == zi.XY
          ? (e = 2)
          : t == zi.XYZ || t == zi.XYM
          ? (e = 3)
          : t == zi.XYZM && (e = 4),
        e
      );
    }
    var ir = (function (t) {
      function e() {
        t.call(this),
          (this.layout = zi.XY),
          (this.stride = 2),
          (this.flatCoordinates = null);
      }
      return (
        t && (e.__proto__ = t),
        (e.prototype = Object.create(t && t.prototype)),
        (e.prototype.constructor = e),
        (e.prototype.computeExtent = function (t) {
          return (
            (e = this.flatCoordinates),
            (n = 0),
            (i = this.flatCoordinates.length),
            (r = this.stride),
            Te(be(t), e, n, i, r)
          );
          var e, n, i, r;
        }),
        (e.prototype.getCoordinates = function () {
          return lt();
        }),
        (e.prototype.getFirstCoordinate = function () {
          return this.flatCoordinates.slice(0, this.stride);
        }),
        (e.prototype.getFlatCoordinates = function () {
          return this.flatCoordinates;
        }),
        (e.prototype.getLastCoordinate = function () {
          return this.flatCoordinates.slice(
            this.flatCoordinates.length - this.stride
          );
        }),
        (e.prototype.getLayout = function () {
          return this.layout;
        }),
        (e.prototype.getSimplifiedGeometry = function (t) {
          if (
            (this.simplifiedGeometryRevision != this.getRevision() &&
              (wt(this.simplifiedGeometryCache),
              (this.simplifiedGeometryMaxMinSquaredTolerance = 0),
              (this.simplifiedGeometryRevision = this.getRevision())),
            t < 0 ||
              (0 !== this.simplifiedGeometryMaxMinSquaredTolerance &&
                t <= this.simplifiedGeometryMaxMinSquaredTolerance))
          )
            return this;
          var e = t.toString();
          if (this.simplifiedGeometryCache.hasOwnProperty(e))
            return this.simplifiedGeometryCache[e];
          var n = this.getSimplifiedGeometryInternal(t);
          return n.getFlatCoordinates().length < this.flatCoordinates.length
            ? ((this.simplifiedGeometryCache[e] = n), n)
            : ((this.simplifiedGeometryMaxMinSquaredTolerance = t), this);
        }),
        (e.prototype.getSimplifiedGeometryInternal = function (t) {
          return this;
        }),
        (e.prototype.getStride = function () {
          return this.stride;
        }),
        (e.prototype.setFlatCoordinates = function (t, e) {
          (this.stride = nr(t)), (this.layout = t), (this.flatCoordinates = e);
        }),
        (e.prototype.setCoordinates = function (t, e) {
          lt();
        }),
        (e.prototype.setLayout = function (t, e, n) {
          var i;
          if (t) i = nr(t);
          else {
            for (var r = 0; r < n; ++r) {
              if (0 === e.length)
                return (this.layout = zi.XY), void (this.stride = 2);
              e = e[0];
            }
            t = (function (t) {
              var e;
              2 == t
                ? (e = zi.XY)
                : 3 == t
                ? (e = zi.XYZ)
                : 4 == t && (e = zi.XYZM);
              return e;
            })((i = e.length));
          }
          (this.layout = t), (this.stride = i);
        }),
        (e.prototype.applyTransform = function (t) {
          this.flatCoordinates &&
            (t(this.flatCoordinates, this.flatCoordinates, this.stride),
            this.changed());
        }),
        (e.prototype.rotate = function (t, e) {
          var n = this.getFlatCoordinates();
          if (n) {
            var i = this.getStride();
            !(function (t, e, n, i, r, o, s) {
              for (
                var a = s || [],
                  u = Math.cos(r),
                  c = Math.sin(r),
                  h = o[0],
                  l = o[1],
                  p = 0,
                  f = e;
                f < n;
                f += i
              ) {
                var d = t[f] - h,
                  g = t[f + 1] - l;
                (a[p++] = h + d * u - g * c), (a[p++] = l + d * c + g * u);
                for (var y = f + 2; y < f + i; ++y) a[p++] = t[y];
              }
              s && a.length != p && (a.length = p);
            })(n, 0, n.length, i, t, e, n),
              this.changed();
          }
        }),
        (e.prototype.scale = function (t, e, n) {
          var i = e;
          void 0 === i && (i = t);
          var r = n;
          r || (r = Ne(this.getExtent()));
          var o = this.getFlatCoordinates();
          if (o) {
            var s = this.getStride();
            !(function (t, e, n, i, r, o, s, a) {
              for (
                var u = a || [], c = s[0], h = s[1], l = 0, p = e;
                p < n;
                p += i
              ) {
                var f = t[p] - c,
                  d = t[p + 1] - h;
                (u[l++] = c + r * f), (u[l++] = h + o * d);
                for (var g = p + 2; g < p + i; ++g) u[l++] = t[g];
              }
              a && u.length != l && (u.length = l);
            })(o, 0, o.length, s, t, i, r, o),
              this.changed();
          }
        }),
        (e.prototype.translate = function (t, e) {
          var n = this.getFlatCoordinates();
          if (n) {
            var i = this.getStride();
            !(function (t, e, n, i, r, o, s) {
              for (var a = s || [], u = 0, c = e; c < n; c += i) {
                (a[u++] = t[c] + r), (a[u++] = t[c + 1] + o);
                for (var h = c + 2; h < c + i; ++h) a[u++] = t[h];
              }
              s && a.length != u && (a.length = u);
            })(n, 0, n.length, i, t, e, n),
              this.changed();
          }
        }),
        e
      );
    })(
      (function (t) {
        function e() {
          t.call(this),
            (this.extent_ = [1 / 0, 1 / 0, -1 / 0, -1 / 0]),
            (this.extentRevision_ = -1),
            (this.simplifiedGeometryCache = {}),
            (this.simplifiedGeometryMaxMinSquaredTolerance = 0),
            (this.simplifiedGeometryRevision = 0);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.clone = function () {
            return lt();
          }),
          (e.prototype.closestPointXY = function (t, e, n, i) {
            return lt();
          }),
          (e.prototype.containsXY = function (t, e) {
            return !1;
          }),
          (e.prototype.getClosestPoint = function (t, e) {
            var n = e || [NaN, NaN];
            return this.closestPointXY(t[0], t[1], n, 1 / 0), n;
          }),
          (e.prototype.intersectsCoordinate = function (t) {
            return this.containsXY(t[0], t[1]);
          }),
          (e.prototype.computeExtent = function (t) {
            return lt();
          }),
          (e.prototype.getExtent = function (t) {
            return (
              this.extentRevision_ != this.getRevision() &&
                ((this.extent_ = this.computeExtent(this.extent_)),
                (this.extentRevision_ = this.getRevision())),
              (function (t, e) {
                return e
                  ? ((e[0] = t[0]),
                    (e[1] = t[1]),
                    (e[2] = t[2]),
                    (e[3] = t[3]),
                    e)
                  : t;
              })(this.extent_, t)
            );
          }),
          (e.prototype.rotate = function (t, e) {
            lt();
          }),
          (e.prototype.scale = function (t, e, n) {
            lt();
          }),
          (e.prototype.simplify = function (t) {
            return this.getSimplifiedGeometry(t * t);
          }),
          (e.prototype.getSimplifiedGeometry = function (t) {
            return lt();
          }),
          (e.prototype.getType = function () {
            return lt();
          }),
          (e.prototype.applyTransform = function (t) {
            lt();
          }),
          (e.prototype.intersectsExtent = function (t) {
            return lt();
          }),
          (e.prototype.translate = function (t, e) {
            lt();
          }),
          (e.prototype.transform = function (t, e) {
            var n = yn(t),
              i =
                n.getUnits() == Ve.TILE_PIXELS
                  ? function (t, i, r) {
                      var o = n.getExtent(),
                        s = n.getWorldExtent(),
                        a = ke(s) / ke(o);
                      return (
                        tr(er, s[0], s[3], a, -a, 0, 0, 0),
                        Vi(t, 0, t.length, r, er, i),
                        In(n, e)(t, i, r)
                      );
                    }
                  : In(n, e);
            return this.applyTransform(i), this;
          }),
          e
        );
      })(Un)
    );
    function rr(t, e, n, i) {
      for (var r = 0, o = t[n - i], s = t[n - i + 1]; e < n; e += i) {
        var a = t[e],
          u = t[e + 1];
        (r += s * a - o * u), (o = a), (s = u);
      }
      return r / 2;
    }
    function or(t, e, n, i) {
      for (var r = 0, o = 0, s = n.length; o < s; ++o) {
        var a = n[o];
        (r += rr(t, e, a, i)), (e = a);
      }
      return r;
    }
    function sr(t, e, n, i, r, o, s) {
      var a,
        u = t[e],
        c = t[e + 1],
        h = t[n] - u,
        l = t[n + 1] - c;
      if (0 === h && 0 === l) a = e;
      else {
        var p = ((r - u) * h + (o - c) * l) / (h * h + l * l);
        if (p > 1) a = n;
        else {
          if (p > 0) {
            for (var f = 0; f < i; ++f) s[f] = oe(t[e + f], t[n + f], p);
            return void (s.length = i);
          }
          a = e;
        }
      }
      for (var d = 0; d < i; ++d) s[d] = t[a + d];
      s.length = i;
    }
    function ar(t, e, n, i, r) {
      var o = t[e],
        s = t[e + 1];
      for (e += i; e < n; e += i) {
        var a = t[e],
          u = t[e + 1],
          c = ee(o, s, a, u);
        c > r && (r = c), (o = a), (s = u);
      }
      return r;
    }
    function ur(t, e, n, i, r) {
      for (var o = 0, s = n.length; o < s; ++o) {
        var a = n[o];
        (r = ar(t, e, a, i, r)), (e = a);
      }
      return r;
    }
    function cr(t, e, n, i, r, o, s, a, u, c, h) {
      if (e == n) return c;
      var l, p;
      if (0 === r) {
        if ((p = ee(s, a, t[e], t[e + 1])) < c) {
          for (l = 0; l < i; ++l) u[l] = t[e + l];
          return (u.length = i), p;
        }
        return c;
      }
      for (var f = h || [NaN, NaN], d = e + i; d < n; )
        if ((sr(t, d - i, d, i, s, a, f), (p = ee(s, a, f[0], f[1])) < c)) {
          for (c = p, l = 0; l < i; ++l) u[l] = f[l];
          (u.length = i), (d += i);
        } else d += i * Math.max(((Math.sqrt(p) - Math.sqrt(c)) / r) | 0, 1);
      if (o && (sr(t, n - i, e, i, s, a, f), (p = ee(s, a, f[0], f[1])) < c)) {
        for (c = p, l = 0; l < i; ++l) u[l] = f[l];
        u.length = i;
      }
      return c;
    }
    function hr(t, e, n, i, r, o, s, a, u, c, h) {
      for (var l = h || [NaN, NaN], p = 0, f = n.length; p < f; ++p) {
        var d = n[p];
        (c = cr(t, e, d, i, r, o, s, a, u, c, l)), (e = d);
      }
      return c;
    }
    function lr(t, e, n, i) {
      for (var r = 0, o = n.length; r < o; ++r) t[e++] = n[r];
      return e;
    }
    function pr(t, e, n, i) {
      for (var r = 0, o = n.length; r < o; ++r)
        for (var s = n[r], a = 0; a < i; ++a) t[e++] = s[a];
      return e;
    }
    function fr(t, e, n, i, r) {
      for (var o = r || [], s = 0, a = 0, u = n.length; a < u; ++a) {
        var c = pr(t, e, n[a], i);
        (o[s++] = c), (e = c);
      }
      return (o.length = s), o;
    }
    function dr(t, e, n, i, r) {
      for (var o = void 0 !== r ? r : [], s = 0, a = e; a < n; a += i)
        o[s++] = t.slice(a, a + i);
      return (o.length = s), o;
    }
    function gr(t, e, n, i, r) {
      for (
        var o = void 0 !== r ? r : [], s = 0, a = 0, u = n.length;
        a < u;
        ++a
      ) {
        var c = n[a];
        (o[s++] = dr(t, e, c, i, o[s])), (e = c);
      }
      return (o.length = s), o;
    }
    function yr(t, e, n, i, r) {
      for (
        var o = void 0 !== r ? r : [], s = 0, a = 0, u = n.length;
        a < u;
        ++a
      ) {
        var c = n[a];
        (o[s++] = gr(t, e, c, i, o[s])), (e = c[c.length - 1]);
      }
      return (o.length = s), o;
    }
    function _r(t, e, n, i, r, o, s) {
      var a = (n - e) / i;
      if (a < 3) {
        for (; e < n; e += i) (o[s++] = t[e]), (o[s++] = t[e + 1]);
        return s;
      }
      var u = new Array(a);
      (u[0] = 1), (u[a - 1] = 1);
      for (var c = [e, n - i], h = 0; c.length > 0; ) {
        for (
          var l = c.pop(),
            p = c.pop(),
            f = 0,
            d = t[p],
            g = t[p + 1],
            y = t[l],
            _ = t[l + 1],
            v = p + i;
          v < l;
          v += i
        ) {
          var m = te(t[v], t[v + 1], d, g, y, _);
          m > f && ((h = v), (f = m));
        }
        f > r &&
          ((u[(h - e) / i] = 1),
          p + i < h && c.push(p, h),
          h + i < l && c.push(h, l));
      }
      for (var x = 0; x < a; ++x)
        u[x] && ((o[s++] = t[e + x * i]), (o[s++] = t[e + x * i + 1]));
      return s;
    }
    function vr(t, e) {
      return e * Math.round(t / e);
    }
    function mr(t, e, n, i, r, o, s) {
      if (e == n) return s;
      var a,
        u,
        c = vr(t[e], r),
        h = vr(t[e + 1], r);
      (e += i), (o[s++] = c), (o[s++] = h);
      do {
        if (((a = vr(t[e], r)), (u = vr(t[e + 1], r)), (e += i) == n))
          return (o[s++] = a), (o[s++] = u), s;
      } while (a == c && u == h);
      for (; e < n; ) {
        var l = vr(t[e], r),
          p = vr(t[e + 1], r);
        if (((e += i), l != a || p != u)) {
          var f = a - c,
            d = u - h,
            g = l - c,
            y = p - h;
          f * y == d * g &&
          ((f < 0 && g < f) || f == g || (f > 0 && g > f)) &&
          ((d < 0 && y < d) || d == y || (d > 0 && y > d))
            ? ((a = l), (u = p))
            : ((o[s++] = a), (o[s++] = u), (c = a), (h = u), (a = l), (u = p));
        }
      }
      return (o[s++] = a), (o[s++] = u), s;
    }
    function xr(t, e, n, i, r, o, s, a) {
      for (var u = 0, c = n.length; u < c; ++u) {
        var h = n[u];
        (s = mr(t, e, h, i, r, o, s)), a.push(s), (e = h);
      }
      return s;
    }
    var Er = (function (t) {
        function e(e, n) {
          t.call(this),
            (this.maxDelta_ = -1),
            (this.maxDeltaRevision_ = -1),
            void 0 === n || Array.isArray(e[0])
              ? this.setCoordinates(e, n)
              : this.setFlatCoordinates(n, e);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.clone = function () {
            return new e(this.flatCoordinates.slice(), this.layout);
          }),
          (e.prototype.closestPointXY = function (t, e, n, i) {
            return i < ge(this.getExtent(), t, e)
              ? i
              : (this.maxDeltaRevision_ != this.getRevision() &&
                  ((this.maxDelta_ = Math.sqrt(
                    ar(
                      this.flatCoordinates,
                      0,
                      this.flatCoordinates.length,
                      this.stride,
                      0
                    )
                  )),
                  (this.maxDeltaRevision_ = this.getRevision())),
                cr(
                  this.flatCoordinates,
                  0,
                  this.flatCoordinates.length,
                  this.stride,
                  this.maxDelta_,
                  !0,
                  t,
                  e,
                  n,
                  i
                ));
          }),
          (e.prototype.getArea = function () {
            return rr(
              this.flatCoordinates,
              0,
              this.flatCoordinates.length,
              this.stride
            );
          }),
          (e.prototype.getCoordinates = function () {
            return dr(
              this.flatCoordinates,
              0,
              this.flatCoordinates.length,
              this.stride
            );
          }),
          (e.prototype.getSimplifiedGeometryInternal = function (t) {
            var n = [];
            return (
              (n.length = _r(
                this.flatCoordinates,
                0,
                this.flatCoordinates.length,
                this.stride,
                t,
                n,
                0
              )),
              new e(n, zi.XY)
            );
          }),
          (e.prototype.getType = function () {
            return se.LINEAR_RING;
          }),
          (e.prototype.intersectsExtent = function (t) {
            return !1;
          }),
          (e.prototype.setCoordinates = function (t, e) {
            this.setLayout(e, t, 1),
              this.flatCoordinates || (this.flatCoordinates = []),
              (this.flatCoordinates.length = pr(
                this.flatCoordinates,
                0,
                t,
                this.stride
              )),
              this.changed();
          }),
          e
        );
      })(ir),
      br = (function (t) {
        function e(e, n) {
          t.call(this), this.setCoordinates(e, n);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.clone = function () {
            return new e(this.flatCoordinates.slice(), this.layout);
          }),
          (e.prototype.closestPointXY = function (t, e, n, i) {
            var r = this.flatCoordinates,
              o = ee(t, e, r[0], r[1]);
            if (o < i) {
              for (var s = this.stride, a = 0; a < s; ++a) n[a] = r[a];
              return (n.length = s), o;
            }
            return i;
          }),
          (e.prototype.getCoordinates = function () {
            return this.flatCoordinates ? this.flatCoordinates.slice() : [];
          }),
          (e.prototype.computeExtent = function (t) {
            return (
              (e = this.flatCoordinates),
              (n = t),
              (i = e[0]),
              (r = e[1]),
              Ee(i, r, i, r, n)
            );
            var e, n, i, r;
          }),
          (e.prototype.getType = function () {
            return se.POINT;
          }),
          (e.prototype.intersectsExtent = function (t) {
            return ve(t, this.flatCoordinates[0], this.flatCoordinates[1]);
          }),
          (e.prototype.setCoordinates = function (t, e) {
            this.setLayout(e, t, 0),
              this.flatCoordinates || (this.flatCoordinates = []),
              (this.flatCoordinates.length = lr(
                this.flatCoordinates,
                0,
                t,
                this.stride
              )),
              this.changed();
          }),
          e
        );
      })(ir);
    function wr(t, e, n, i, r) {
      return !Re(r, function (r) {
        return !Ir(t, e, n, i, r[0], r[1]);
      });
    }
    function Ir(t, e, n, i, r, o) {
      for (var s = 0, a = t[n - i], u = t[n - i + 1]; e < n; e += i) {
        var c = t[e],
          h = t[e + 1];
        u <= o
          ? h > o && (c - a) * (o - u) - (r - a) * (h - u) > 0 && s++
          : h <= o && (c - a) * (o - u) - (r - a) * (h - u) < 0 && s--,
          (a = c),
          (u = h);
      }
      return 0 !== s;
    }
    function Sr(t, e, n, i, r, o) {
      if (0 === n.length) return !1;
      if (!Ir(t, e, n[0], i, r, o)) return !1;
      for (var s = 1, a = n.length; s < a; ++s)
        if (Ir(t, n[s - 1], n[s], i, r, o)) return !1;
      return !0;
    }
    function Cr(t, e, n, i, r, o, s) {
      for (
        var a, u, c, h, l, p, f, d = r[o + 1], g = [], y = 0, _ = n.length;
        y < _;
        ++y
      ) {
        var v = n[y];
        for (h = t[v - i], p = t[v - i + 1], a = e; a < v; a += i)
          (l = t[a]),
            (f = t[a + 1]),
            ((d <= p && f <= d) || (p <= d && d <= f)) &&
              ((c = ((d - p) / (f - p)) * (l - h) + h), g.push(c)),
            (h = l),
            (p = f);
      }
      var m = NaN,
        x = -1 / 0;
      for (g.sort(Zn), h = g[0], a = 1, u = g.length; a < u; ++a) {
        l = g[a];
        var E = Math.abs(l - h);
        E > x && Sr(t, e, n, i, (c = (h + l) / 2), d) && ((m = c), (x = E)),
          (h = l);
      }
      return isNaN(m) && (m = r[o]), s ? (s.push(m, d, x), s) : [m, d, x];
    }
    function Tr(t, e, n, i, r, o) {
      for (var s, a = [t[e], t[e + 1]], u = []; e + i < n; e += i) {
        if (((u[0] = t[e + i]), (u[1] = t[e + i + 1]), (s = r.call(o, a, u))))
          return s;
        (a[0] = u[0]), (a[1] = u[1]);
      }
      return !1;
    }
    function Or(t, e, n, i, r) {
      var o = Te([1 / 0, 1 / 0, -1 / 0, -1 / 0], t, e, n, i);
      return (
        !!Ue(r, o) &&
        (!!_e(r, o) ||
          (o[0] >= r[0] && o[2] <= r[2]) ||
          (o[1] >= r[1] && o[3] <= r[3]) ||
          Tr(t, e, n, i, function (t, e) {
            return (function (t, e, n) {
              var i = !1,
                r = me(t, e),
                o = me(t, n);
              if (r === le.INTERSECTING || o === le.INTERSECTING) i = !0;
              else {
                var s,
                  a,
                  u = t[0],
                  c = t[1],
                  h = t[2],
                  l = t[3],
                  p = e[0],
                  f = e[1],
                  d = n[0],
                  g = n[1],
                  y = (g - f) / (d - p);
                o & le.ABOVE &&
                  !(r & le.ABOVE) &&
                  (i = (s = d - (g - l) / y) >= u && s <= h),
                  i ||
                    !(o & le.RIGHT) ||
                    r & le.RIGHT ||
                    (i = (a = g - (d - h) * y) >= c && a <= l),
                  i ||
                    !(o & le.BELOW) ||
                    r & le.BELOW ||
                    (i = (s = d - (g - c) / y) >= u && s <= h),
                  i ||
                    !(o & le.LEFT) ||
                    r & le.LEFT ||
                    (i = (a = g - (d - u) * y) >= c && a <= l);
              }
              return i;
            })(r, t, e);
          }))
      );
    }
    function Rr(t, e, n, i, r) {
      if (
        !(function (t, e, n, i, r) {
          return (
            !!Or(t, e, n, i, r) ||
            !!Ir(t, e, n, i, r[0], r[1]) ||
            !!Ir(t, e, n, i, r[0], r[3]) ||
            !!Ir(t, e, n, i, r[2], r[1]) ||
            !!Ir(t, e, n, i, r[2], r[3])
          );
        })(t, e, n[0], i, r)
      )
        return !1;
      if (1 === n.length) return !0;
      for (var o = 1, s = n.length; o < s; ++o)
        if (wr(t, n[o - 1], n[o], i, r) && !Or(t, n[o - 1], n[o], i, r))
          return !1;
      return !0;
    }
    function Lr(t, e, n, i) {
      for (; e < n - i; ) {
        for (var r = 0; r < i; ++r) {
          var o = t[e + r];
          (t[e + r] = t[n - i + r]), (t[n - i + r] = o);
        }
        (e += i), (n -= i);
      }
    }
    function Mr(t, e, n, i) {
      for (var r = 0, o = t[n - i], s = t[n - i + 1]; e < n; e += i) {
        var a = t[e],
          u = t[e + 1];
        (r += (a - o) * (u + s)), (o = a), (s = u);
      }
      return r > 0;
    }
    function Ar(t, e, n, i, r) {
      for (var o = void 0 !== r && r, s = 0, a = n.length; s < a; ++s) {
        var u = n[s],
          c = Mr(t, e, u, i);
        if (0 === s) {
          if ((o && c) || (!o && !c)) return !1;
        } else if ((o && !c) || (!o && c)) return !1;
        e = u;
      }
      return !0;
    }
    function Nr(t, e, n, i, r) {
      for (var o = void 0 !== r && r, s = 0, a = n.length; s < a; ++s) {
        var u = n[s],
          c = Mr(t, e, u, i);
        (0 === s ? (o && c) || (!o && !c) : (o && !c) || (!o && c)) &&
          Lr(t, e, u, i),
          (e = u);
      }
      return e;
    }
    var Pr = (function (t) {
        function e(e, n, i) {
          t.call(this),
            (this.ends_ = []),
            (this.flatInteriorPointRevision_ = -1),
            (this.flatInteriorPoint_ = null),
            (this.maxDelta_ = -1),
            (this.maxDeltaRevision_ = -1),
            (this.orientedRevision_ = -1),
            (this.orientedFlatCoordinates_ = null),
            void 0 !== n && i
              ? (this.setFlatCoordinates(n, e), (this.ends_ = i))
              : this.setCoordinates(e, n);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.appendLinearRing = function (t) {
            this.flatCoordinates
              ? $n(this.flatCoordinates, t.getFlatCoordinates())
              : (this.flatCoordinates = t.getFlatCoordinates().slice()),
              this.ends_.push(this.flatCoordinates.length),
              this.changed();
          }),
          (e.prototype.clone = function () {
            return new e(
              this.flatCoordinates.slice(),
              this.layout,
              this.ends_.slice()
            );
          }),
          (e.prototype.closestPointXY = function (t, e, n, i) {
            return i < ge(this.getExtent(), t, e)
              ? i
              : (this.maxDeltaRevision_ != this.getRevision() &&
                  ((this.maxDelta_ = Math.sqrt(
                    ur(this.flatCoordinates, 0, this.ends_, this.stride, 0)
                  )),
                  (this.maxDeltaRevision_ = this.getRevision())),
                hr(
                  this.flatCoordinates,
                  0,
                  this.ends_,
                  this.stride,
                  this.maxDelta_,
                  !0,
                  t,
                  e,
                  n,
                  i
                ));
          }),
          (e.prototype.containsXY = function (t, e) {
            return Sr(
              this.getOrientedFlatCoordinates(),
              0,
              this.ends_,
              this.stride,
              t,
              e
            );
          }),
          (e.prototype.getArea = function () {
            return or(
              this.getOrientedFlatCoordinates(),
              0,
              this.ends_,
              this.stride
            );
          }),
          (e.prototype.getCoordinates = function (t) {
            var e;
            return (
              void 0 !== t
                ? Nr(
                    (e = this.getOrientedFlatCoordinates().slice()),
                    0,
                    this.ends_,
                    this.stride,
                    t
                  )
                : (e = this.flatCoordinates),
              gr(e, 0, this.ends_, this.stride)
            );
          }),
          (e.prototype.getEnds = function () {
            return this.ends_;
          }),
          (e.prototype.getFlatInteriorPoint = function () {
            if (this.flatInteriorPointRevision_ != this.getRevision()) {
              var t = Ne(this.getExtent());
              (this.flatInteriorPoint_ = Cr(
                this.getOrientedFlatCoordinates(),
                0,
                this.ends_,
                this.stride,
                t,
                0
              )),
                (this.flatInteriorPointRevision_ = this.getRevision());
            }
            return this.flatInteriorPoint_;
          }),
          (e.prototype.getInteriorPoint = function () {
            return new br(this.getFlatInteriorPoint(), zi.XYM);
          }),
          (e.prototype.getLinearRingCount = function () {
            return this.ends_.length;
          }),
          (e.prototype.getLinearRing = function (t) {
            return t < 0 || this.ends_.length <= t
              ? null
              : new Er(
                  this.flatCoordinates.slice(
                    0 === t ? 0 : this.ends_[t - 1],
                    this.ends_[t]
                  ),
                  this.layout
                );
          }),
          (e.prototype.getLinearRings = function () {
            for (
              var t = this.layout,
                e = this.flatCoordinates,
                n = this.ends_,
                i = [],
                r = 0,
                o = 0,
                s = n.length;
              o < s;
              ++o
            ) {
              var a = n[o],
                u = new Er(e.slice(r, a), t);
              i.push(u), (r = a);
            }
            return i;
          }),
          (e.prototype.getOrientedFlatCoordinates = function () {
            if (this.orientedRevision_ != this.getRevision()) {
              var t = this.flatCoordinates;
              Ar(t, 0, this.ends_, this.stride)
                ? (this.orientedFlatCoordinates_ = t)
                : ((this.orientedFlatCoordinates_ = t.slice()),
                  (this.orientedFlatCoordinates_.length = Nr(
                    this.orientedFlatCoordinates_,
                    0,
                    this.ends_,
                    this.stride
                  ))),
                (this.orientedRevision_ = this.getRevision());
            }
            return this.orientedFlatCoordinates_;
          }),
          (e.prototype.getSimplifiedGeometryInternal = function (t) {
            var n = [],
              i = [];
            return (
              (n.length = xr(
                this.flatCoordinates,
                0,
                this.ends_,
                this.stride,
                Math.sqrt(t),
                n,
                0,
                i
              )),
              new e(n, zi.XY, i)
            );
          }),
          (e.prototype.getType = function () {
            return se.POLYGON;
          }),
          (e.prototype.intersectsExtent = function (t) {
            return Rr(
              this.getOrientedFlatCoordinates(),
              0,
              this.ends_,
              this.stride,
              t
            );
          }),
          (e.prototype.setCoordinates = function (t, e) {
            this.setLayout(e, t, 2),
              this.flatCoordinates || (this.flatCoordinates = []);
            var n = fr(this.flatCoordinates, 0, t, this.stride, this.ends_);
            (this.flatCoordinates.length =
              0 === n.length ? 0 : n[n.length - 1]),
              this.changed();
          }),
          e
        );
      })(ir),
      Dr = Pr;
    function kr(t) {
      var e = t[0],
        n = t[1],
        i = t[2],
        r = t[3],
        o = [e, n, e, r, i, r, i, n, e, n];
      return new Pr(o, zi.XY, [o.length]);
    }
    var Fr =
        "undefined" != typeof navigator
          ? navigator.userAgent.toLowerCase()
          : "",
      Gr = -1 !== Fr.indexOf("firefox"),
      jr = -1 !== Fr.indexOf("safari") && -1 == Fr.indexOf("chrom"),
      Br = -1 !== Fr.indexOf("webkit") && -1 == Fr.indexOf("edge"),
      Ur = -1 !== Fr.indexOf("macintosh"),
      Yr = window.devicePixelRatio || 1,
      Xr = (function () {
        var t = !1;
        try {
          t = !!document.createElement("canvas").getContext("2d").setLineDash;
        } catch (t) {}
        return t;
      })(),
      zr = "geolocation" in navigator,
      Vr = "ontouchstart" in window,
      qr = "PointerEvent" in window,
      Wr = !!navigator.msPointerEnabled,
      Hr = {
        ACCURACY: "accuracy",
        ACCURACY_GEOMETRY: "accuracyGeometry",
        ALTITUDE: "altitude",
        ALTITUDE_ACCURACY: "altitudeAccuracy",
        HEADING: "heading",
        POSITION: "position",
        PROJECTION: "projection",
        SPEED: "speed",
        TRACKING: "tracking",
        TRACKING_OPTIONS: "trackingOptions",
      },
      Kr = (function (t) {
        function e(e) {
          t.call(this, Gt.ERROR),
            (this.code = e.code),
            (this.message = e.message);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(tt),
      Zr = (function (t) {
        function e(e) {
          t.call(this);
          var n = e || {};
          (this.position_ = null),
            (this.transform_ = dn),
            (this.watchId_ = void 0),
            Lt(this, Bn(Hr.PROJECTION), this.handleProjectionChanged_, this),
            Lt(this, Bn(Hr.TRACKING), this.handleTrackingChanged_, this),
            void 0 !== n.projection && this.setProjection(n.projection),
            void 0 !== n.trackingOptions &&
              this.setTrackingOptions(n.trackingOptions),
            this.setTracking(void 0 !== n.tracking && n.tracking);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.disposeInternal = function () {
            this.setTracking(!1), t.prototype.disposeInternal.call(this);
          }),
          (e.prototype.handleProjectionChanged_ = function () {
            var t = this.getProjection();
            t &&
              ((this.transform_ = wn(yn("EPSG:4326"), t)),
              this.position_ &&
                this.set(Hr.POSITION, this.transform_(this.position_)));
          }),
          (e.prototype.handleTrackingChanged_ = function () {
            if (zr) {
              var t = this.getTracking();
              t && void 0 === this.watchId_
                ? (this.watchId_ = navigator.geolocation.watchPosition(
                    this.positionChange_.bind(this),
                    this.positionError_.bind(this),
                    this.getTrackingOptions()
                  ))
                : t ||
                  void 0 === this.watchId_ ||
                  (navigator.geolocation.clearWatch(this.watchId_),
                  (this.watchId_ = void 0));
            }
          }),
          (e.prototype.positionChange_ = function (t) {
            var e = t.coords;
            this.set(Hr.ACCURACY, e.accuracy),
              this.set(Hr.ALTITUDE, null === e.altitude ? void 0 : e.altitude),
              this.set(
                Hr.ALTITUDE_ACCURACY,
                null === e.altitudeAccuracy ? void 0 : e.altitudeAccuracy
              ),
              this.set(Hr.HEADING, null === e.heading ? void 0 : ie(e.heading)),
              this.position_
                ? ((this.position_[0] = e.longitude),
                  (this.position_[1] = e.latitude))
                : (this.position_ = [e.longitude, e.latitude]);
            var n = this.transform_(this.position_);
            this.set(Hr.POSITION, n),
              this.set(Hr.SPEED, null === e.speed ? void 0 : e.speed);
            var i = (function (t, e, n, i) {
              for (var r = n || 32, o = [], s = 0; s < r; ++s)
                $n(o, ce(t, e, (2 * Math.PI * s) / r, i));
              return o.push(o[0], o[1]), new Pr(o, zi.XY, [o.length]);
            })(this.position_, e.accuracy);
            i.applyTransform(this.transform_),
              this.set(Hr.ACCURACY_GEOMETRY, i),
              this.changed();
          }),
          (e.prototype.positionError_ = function (t) {
            this.setTracking(!1), this.dispatchEvent(new Kr(t));
          }),
          (e.prototype.getAccuracy = function () {
            return this.get(Hr.ACCURACY);
          }),
          (e.prototype.getAccuracyGeometry = function () {
            return this.get(Hr.ACCURACY_GEOMETRY) || null;
          }),
          (e.prototype.getAltitude = function () {
            return this.get(Hr.ALTITUDE);
          }),
          (e.prototype.getAltitudeAccuracy = function () {
            return this.get(Hr.ALTITUDE_ACCURACY);
          }),
          (e.prototype.getHeading = function () {
            return this.get(Hr.HEADING);
          }),
          (e.prototype.getPosition = function () {
            return this.get(Hr.POSITION);
          }),
          (e.prototype.getProjection = function () {
            return this.get(Hr.PROJECTION);
          }),
          (e.prototype.getSpeed = function () {
            return this.get(Hr.SPEED);
          }),
          (e.prototype.getTracking = function () {
            return this.get(Hr.TRACKING);
          }),
          (e.prototype.getTrackingOptions = function () {
            return this.get(Hr.TRACKING_OPTIONS);
          }),
          (e.prototype.setProjection = function (t) {
            this.set(Hr.PROJECTION, yn(t));
          }),
          (e.prototype.setTracking = function (t) {
            this.set(Hr.TRACKING, t);
          }),
          (e.prototype.setTrackingOptions = function (t) {
            this.set(Hr.TRACKING_OPTIONS, t);
          }),
          e
        );
      })(Un),
      Jr = (function (t) {
        function e(e, n, i) {
          t.call(this, e),
            (this.map = n),
            (this.frameState = void 0 !== i ? i : null);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(tt),
      Qr = { ADD: "add", REMOVE: "remove" },
      $r = "length",
      to = (function (t) {
        function e(e, n) {
          t.call(this, e), (this.element = n);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(tt),
      eo = (function (t) {
        function e(e, n) {
          t.call(this);
          var i = n || {};
          if (
            ((this.unique_ = !!i.unique), (this.array_ = e || []), this.unique_)
          )
            for (var r = 0, o = this.array_.length; r < o; ++r)
              this.assertUnique_(this.array_[r], r);
          this.updateLength_();
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.clear = function () {
            for (; this.getLength() > 0; ) this.pop();
          }),
          (e.prototype.extend = function (t) {
            for (var e = 0, n = t.length; e < n; ++e) this.push(t[e]);
            return this;
          }),
          (e.prototype.forEach = function (t) {
            for (var e = this.array_, n = 0, i = e.length; n < i; ++n)
              t(e[n], n, e);
          }),
          (e.prototype.getArray = function () {
            return this.array_;
          }),
          (e.prototype.item = function (t) {
            return this.array_[t];
          }),
          (e.prototype.getLength = function () {
            return this.get($r);
          }),
          (e.prototype.insertAt = function (t, e) {
            this.unique_ && this.assertUnique_(e),
              this.array_.splice(t, 0, e),
              this.updateLength_(),
              this.dispatchEvent(new to(Qr.ADD, e));
          }),
          (e.prototype.pop = function () {
            return this.removeAt(this.getLength() - 1);
          }),
          (e.prototype.push = function (t) {
            this.unique_ && this.assertUnique_(t);
            var e = this.getLength();
            return this.insertAt(e, t), this.getLength();
          }),
          (e.prototype.remove = function (t) {
            for (var e = this.array_, n = 0, i = e.length; n < i; ++n)
              if (e[n] === t) return this.removeAt(n);
          }),
          (e.prototype.removeAt = function (t) {
            var e = this.array_[t];
            return (
              this.array_.splice(t, 1),
              this.updateLength_(),
              this.dispatchEvent(new to(Qr.REMOVE, e)),
              e
            );
          }),
          (e.prototype.setAt = function (t, e) {
            var n = this.getLength();
            if (t < n) {
              this.unique_ && this.assertUnique_(e, t);
              var i = this.array_[t];
              (this.array_[t] = e),
                this.dispatchEvent(new to(Qr.REMOVE, i)),
                this.dispatchEvent(new to(Qr.ADD, e));
            } else {
              for (var r = n; r < t; ++r) this.insertAt(r, void 0);
              this.insertAt(t, e);
            }
          }),
          (e.prototype.updateLength_ = function () {
            this.set($r, this.array_.length);
          }),
          (e.prototype.assertUnique_ = function (t, e) {
            for (var n = 0, i = this.array_.length; n < i; ++n)
              if (this.array_[n] === t && n !== e) throw new Vt(58);
          }),
          e
        );
      })(Un),
      no = (function (t) {
        function e(e, n, i, r, o) {
          t.call(this, e, n, o),
            (this.originalEvent = i),
            (this.pixel = n.getEventPixel(i)),
            (this.coordinate = n.getCoordinateFromPixel(this.pixel)),
            (this.dragging = void 0 !== r && r);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.preventDefault = function () {
            t.prototype.preventDefault.call(this),
              this.originalEvent.preventDefault();
          }),
          (e.prototype.stopPropagation = function () {
            t.prototype.stopPropagation.call(this),
              this.originalEvent.stopPropagation();
          }),
          e
        );
      })(Jr),
      io = {
        SINGLECLICK: "singleclick",
        CLICK: Gt.CLICK,
        DBLCLICK: Gt.DBLCLICK,
        POINTERDRAG: "pointerdrag",
        POINTERMOVE: "pointermove",
        POINTERDOWN: "pointerdown",
        POINTERUP: "pointerup",
        POINTEROVER: "pointerover",
        POINTEROUT: "pointerout",
        POINTERENTER: "pointerenter",
        POINTERLEAVE: "pointerleave",
        POINTERCANCEL: "pointercancel",
      },
      ro = (function (t) {
        function e(e, n, i, r, o) {
          t.call(this, e, n, i.originalEvent, r, o), (this.pointerEvent = i);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(no),
      oo = {
        POINTERMOVE: "pointermove",
        POINTERDOWN: "pointerdown",
        POINTERUP: "pointerup",
        POINTEROVER: "pointerover",
        POINTEROUT: "pointerout",
        POINTERENTER: "pointerenter",
        POINTERLEAVE: "pointerleave",
        POINTERCANCEL: "pointercancel",
      },
      so = function (t, e) {
        (this.dispatcher = t), (this.mapping_ = e);
      };
    (so.prototype.getEvents = function () {
      return Object.keys(this.mapping_);
    }),
      (so.prototype.getHandlerForEvent = function (t) {
        return this.mapping_[t];
      });
    var ao = so,
      uo = 1,
      co = "mouse";
    function ho(t) {
      if (!this.isEventSimulatedFromTouch_(t)) {
        uo.toString() in this.pointerMap && this.cancel(t);
        var e = yo(t, this.dispatcher);
        (this.pointerMap[uo.toString()] = t), this.dispatcher.down(e, t);
      }
    }
    function lo(t) {
      if (!this.isEventSimulatedFromTouch_(t)) {
        var e = yo(t, this.dispatcher);
        this.dispatcher.move(e, t);
      }
    }
    function po(t) {
      if (!this.isEventSimulatedFromTouch_(t)) {
        var e = this.pointerMap[uo.toString()];
        if (e && e.button === t.button) {
          var n = yo(t, this.dispatcher);
          this.dispatcher.up(n, t), this.cleanupMouse();
        }
      }
    }
    function fo(t) {
      if (!this.isEventSimulatedFromTouch_(t)) {
        var e = yo(t, this.dispatcher);
        this.dispatcher.enterOver(e, t);
      }
    }
    function go(t) {
      if (!this.isEventSimulatedFromTouch_(t)) {
        var e = yo(t, this.dispatcher);
        this.dispatcher.leaveOut(e, t);
      }
    }
    function yo(t, e) {
      var n = e.cloneEvent(t, t),
        i = n.preventDefault;
      return (
        (n.preventDefault = function () {
          t.preventDefault(), i();
        }),
        (n.pointerId = uo),
        (n.isPrimary = !0),
        (n.pointerType = co),
        n
      );
    }
    var _o = (function (t) {
        function e(e) {
          var n = {
            mousedown: ho,
            mousemove: lo,
            mouseup: po,
            mouseover: fo,
            mouseout: go,
          };
          t.call(this, e, n),
            (this.pointerMap = e.pointerMap),
            (this.lastTouches = []);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.isEventSimulatedFromTouch_ = function (t) {
            for (
              var e = this.lastTouches,
                n = t.clientX,
                i = t.clientY,
                r = 0,
                o = e.length,
                s = void 0;
              r < o && (s = e[r]);
              r++
            ) {
              var a = Math.abs(n - s[0]),
                u = Math.abs(i - s[1]);
              if (a <= 25 && u <= 25) return !0;
            }
            return !1;
          }),
          (e.prototype.cancel = function (t) {
            var e = yo(t, this.dispatcher);
            this.dispatcher.cancel(e, t), this.cleanupMouse();
          }),
          (e.prototype.cleanupMouse = function () {
            delete this.pointerMap[uo.toString()];
          }),
          e
        );
      })(ao),
      vo = ["", "unavailable", "touch", "pen", "mouse"];
    function mo(t) {
      this.pointerMap[t.pointerId.toString()] = t;
      var e = this.prepareEvent_(t);
      this.dispatcher.down(e, t);
    }
    function xo(t) {
      var e = this.prepareEvent_(t);
      this.dispatcher.move(e, t);
    }
    function Eo(t) {
      var e = this.prepareEvent_(t);
      this.dispatcher.up(e, t), this.cleanup(t.pointerId);
    }
    function bo(t) {
      var e = this.prepareEvent_(t);
      this.dispatcher.leaveOut(e, t);
    }
    function wo(t) {
      var e = this.prepareEvent_(t);
      this.dispatcher.enterOver(e, t);
    }
    function Io(t) {
      var e = this.prepareEvent_(t);
      this.dispatcher.cancel(e, t), this.cleanup(t.pointerId);
    }
    function So(t) {
      var e = this.dispatcher.makeEvent("lostpointercapture", t, t);
      this.dispatcher.dispatchEvent(e);
    }
    function Co(t) {
      var e = this.dispatcher.makeEvent("gotpointercapture", t, t);
      this.dispatcher.dispatchEvent(e);
    }
    var To = (function (t) {
      function e(e) {
        var n = {
          MSPointerDown: mo,
          MSPointerMove: xo,
          MSPointerUp: Eo,
          MSPointerOut: bo,
          MSPointerOver: wo,
          MSPointerCancel: Io,
          MSGotPointerCapture: Co,
          MSLostPointerCapture: So,
        };
        t.call(this, e, n), (this.pointerMap = e.pointerMap);
      }
      return (
        t && (e.__proto__ = t),
        (e.prototype = Object.create(t && t.prototype)),
        (e.prototype.constructor = e),
        (e.prototype.prepareEvent_ = function (t) {
          var e = t;
          return (
            "number" == typeof t.pointerType &&
              ((e = this.dispatcher.cloneEvent(t, t)).pointerType =
                vo[t.pointerType]),
            e
          );
        }),
        (e.prototype.cleanup = function (t) {
          delete this.pointerMap[t.toString()];
        }),
        e
      );
    })(ao);
    function Oo(t) {
      this.dispatcher.fireNativeEvent(t);
    }
    function Ro(t) {
      this.dispatcher.fireNativeEvent(t);
    }
    function Lo(t) {
      this.dispatcher.fireNativeEvent(t);
    }
    function Mo(t) {
      this.dispatcher.fireNativeEvent(t);
    }
    function Ao(t) {
      this.dispatcher.fireNativeEvent(t);
    }
    function No(t) {
      this.dispatcher.fireNativeEvent(t);
    }
    function Po(t) {
      this.dispatcher.fireNativeEvent(t);
    }
    function Do(t) {
      this.dispatcher.fireNativeEvent(t);
    }
    var ko = (function (t) {
        function e(e) {
          var n = {
            pointerdown: Oo,
            pointermove: Ro,
            pointerup: Lo,
            pointerout: Mo,
            pointerover: Ao,
            pointercancel: No,
            gotpointercapture: Do,
            lostpointercapture: Po,
          };
          t.call(this, e, n);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(ao),
      Fo = !1,
      Go = (function (t) {
        function e(e, n, i) {
          t.call(this, e), (this.originalEvent = n);
          var r = i || {};
          (this.buttons = (function (t) {
            var e;
            if (t.buttons || Fo) e = t.buttons;
            else
              switch (t.which) {
                case 1:
                  e = 1;
                  break;
                case 2:
                  e = 4;
                  break;
                case 3:
                  e = 2;
                  break;
                default:
                  e = 0;
              }
            return e;
          })(r)),
            (this.pressure = (function (t, e) {
              var n = 0;
              n = t.pressure ? t.pressure : e ? 0.5 : 0;
              return n;
            })(r, this.buttons)),
            (this.bubbles = "bubbles" in r && r.bubbles),
            (this.cancelable = "cancelable" in r && r.cancelable),
            (this.view = "view" in r ? r.view : null),
            (this.detail = "detail" in r ? r.detail : null),
            (this.screenX = "screenX" in r ? r.screenX : 0),
            (this.screenY = "screenY" in r ? r.screenY : 0),
            (this.clientX = "clientX" in r ? r.clientX : 0),
            (this.clientY = "clientY" in r ? r.clientY : 0),
            (this.ctrlKey = "ctrlKey" in r && r.ctrlKey),
            (this.altKey = "altKey" in r && r.altKey),
            (this.shiftKey = "shiftKey" in r && r.shiftKey),
            (this.metaKey = "metaKey" in r && r.metaKey),
            (this.button = "button" in r ? r.button : 0),
            (this.relatedTarget =
              "relatedTarget" in r ? r.relatedTarget : null),
            (this.pointerId = "pointerId" in r ? r.pointerId : 0),
            (this.width = "width" in r ? r.width : 0),
            (this.height = "height" in r ? r.height : 0),
            (this.tiltX = "tiltX" in r ? r.tiltX : 0),
            (this.tiltY = "tiltY" in r ? r.tiltY : 0),
            (this.pointerType = "pointerType" in r ? r.pointerType : ""),
            (this.hwTimestamp = "hwTimestamp" in r ? r.hwTimestamp : 0),
            (this.isPrimary = "isPrimary" in r && r.isPrimary),
            n.preventDefault &&
              (this.preventDefault = function () {
                n.preventDefault();
              });
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(tt);
    !(function () {
      try {
        var t = new MouseEvent("click", { buttons: 1 });
        Fo = 1 === t.buttons;
      } catch (t) {}
    })();
    var jo = Go;
    function Bo(t) {
      this.vacuumTouches_(t),
        this.setPrimaryTouch_(t.changedTouches[0]),
        this.dedupSynthMouse_(t),
        this.clickCount_++,
        this.processTouches_(t, this.overDown_);
    }
    function Uo(t) {
      this.processTouches_(t, this.moveOverOut_);
    }
    function Yo(t) {
      this.dedupSynthMouse_(t), this.processTouches_(t, this.upOut_);
    }
    function Xo(t) {
      this.processTouches_(t, this.cancelOut_);
    }
    var zo = (function (t) {
        function e(e, n) {
          var i = {
            touchstart: Bo,
            touchmove: Uo,
            touchend: Yo,
            touchcancel: Xo,
          };
          t.call(this, e, i),
            (this.pointerMap = e.pointerMap),
            (this.mouseSource = n),
            (this.firstTouchId_ = void 0),
            (this.clickCount_ = 0),
            this.resetId_,
            (this.dedupTimeout_ = 2500);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.isPrimaryTouch_ = function (t) {
            return this.firstTouchId_ === t.identifier;
          }),
          (e.prototype.setPrimaryTouch_ = function (t) {
            var e = Object.keys(this.pointerMap).length;
            (0 === e || (1 === e && uo.toString() in this.pointerMap)) &&
              ((this.firstTouchId_ = t.identifier),
              this.cancelResetClickCount_());
          }),
          (e.prototype.removePrimaryPointer_ = function (t) {
            t.isPrimary &&
              ((this.firstTouchId_ = void 0), this.resetClickCount_());
          }),
          (e.prototype.resetClickCount_ = function () {
            this.resetId_ = setTimeout(
              this.resetClickCountHandler_.bind(this),
              200
            );
          }),
          (e.prototype.resetClickCountHandler_ = function () {
            (this.clickCount_ = 0), (this.resetId_ = void 0);
          }),
          (e.prototype.cancelResetClickCount_ = function () {
            void 0 !== this.resetId_ && clearTimeout(this.resetId_);
          }),
          (e.prototype.touchToPointer_ = function (t, e) {
            var n = this.dispatcher.cloneEvent(t, e);
            return (
              (n.pointerId = e.identifier + 2),
              (n.bubbles = !0),
              (n.cancelable = !0),
              (n.detail = this.clickCount_),
              (n.button = 0),
              (n.buttons = 1),
              (n.width = e.radiusX || 0),
              (n.height = e.radiusY || 0),
              (n.pressure = e.force || 0.5),
              (n.isPrimary = this.isPrimaryTouch_(e)),
              (n.pointerType = "touch"),
              (n.clientX = e.clientX),
              (n.clientY = e.clientY),
              (n.screenX = e.screenX),
              (n.screenY = e.screenY),
              n
            );
          }),
          (e.prototype.processTouches_ = function (t, e) {
            var n = Array.prototype.slice.call(t.changedTouches),
              i = n.length;
            function r() {
              t.preventDefault();
            }
            for (var o = 0; o < i; ++o) {
              var s = this.touchToPointer_(t, n[o]);
              (s.preventDefault = r), e.call(this, t, s);
            }
          }),
          (e.prototype.findTouch_ = function (t, e) {
            for (var n = t.length, i = 0; i < n; i++) {
              if (t[i].identifier === e) return !0;
            }
            return !1;
          }),
          (e.prototype.vacuumTouches_ = function (t) {
            var e = t.touches,
              n = Object.keys(this.pointerMap),
              i = n.length;
            if (i >= e.length) {
              for (var r = [], o = 0; o < i; ++o) {
                var s = Number(n[o]),
                  a = this.pointerMap[s];
                s == uo || this.findTouch_(e, s - 2) || r.push(a.out);
              }
              for (var u = 0; u < r.length; ++u) this.cancelOut_(t, r[u]);
            }
          }),
          (e.prototype.overDown_ = function (t, e) {
            (this.pointerMap[e.pointerId] = {
              target: e.target,
              out: e,
              outTarget: e.target,
            }),
              this.dispatcher.over(e, t),
              this.dispatcher.enter(e, t),
              this.dispatcher.down(e, t);
          }),
          (e.prototype.moveOverOut_ = function (t, e) {
            var n = e,
              i = this.pointerMap[n.pointerId];
            if (i) {
              var r = i.out,
                o = i.outTarget;
              this.dispatcher.move(n, t),
                r &&
                  o !== n.target &&
                  ((r.relatedTarget = n.target),
                  (n.relatedTarget = o),
                  (r.target = o),
                  n.target
                    ? (this.dispatcher.leaveOut(r, t),
                      this.dispatcher.enterOver(n, t))
                    : ((n.target = o),
                      (n.relatedTarget = null),
                      this.cancelOut_(t, n))),
                (i.out = n),
                (i.outTarget = n.target);
            }
          }),
          (e.prototype.upOut_ = function (t, e) {
            this.dispatcher.up(e, t),
              this.dispatcher.out(e, t),
              this.dispatcher.leave(e, t),
              this.cleanUpPointer_(e);
          }),
          (e.prototype.cancelOut_ = function (t, e) {
            this.dispatcher.cancel(e, t),
              this.dispatcher.out(e, t),
              this.dispatcher.leave(e, t),
              this.cleanUpPointer_(e);
          }),
          (e.prototype.cleanUpPointer_ = function (t) {
            delete this.pointerMap[t.pointerId], this.removePrimaryPointer_(t);
          }),
          (e.prototype.dedupSynthMouse_ = function (t) {
            var e = this.mouseSource.lastTouches,
              n = t.changedTouches[0];
            if (this.isPrimaryTouch_(n)) {
              var i = [n.clientX, n.clientY];
              e.push(i),
                setTimeout(function () {
                  var t, n, r;
                  (n = i), (r = (t = e).indexOf(n)), r > -1 && t.splice(r, 1);
                }, this.dedupTimeout_);
            }
          }),
          e
        );
      })(ao),
      Vo = [
        ["bubbles", !1],
        ["cancelable", !1],
        ["view", null],
        ["detail", null],
        ["screenX", 0],
        ["screenY", 0],
        ["clientX", 0],
        ["clientY", 0],
        ["ctrlKey", !1],
        ["altKey", !1],
        ["shiftKey", !1],
        ["metaKey", !1],
        ["button", 0],
        ["relatedTarget", null],
        ["buttons", 0],
        ["pointerId", 0],
        ["width", 0],
        ["height", 0],
        ["pressure", 0],
        ["tiltX", 0],
        ["tiltY", 0],
        ["pointerType", ""],
        ["hwTimestamp", 0],
        ["isPrimary", !1],
        ["type", ""],
        ["target", null],
        ["currentTarget", null],
        ["which", 0],
      ],
      qo = (function (t) {
        function e(e) {
          t.call(this),
            (this.element_ = e),
            (this.pointerMap = {}),
            (this.eventMap_ = {}),
            (this.eventSourceList_ = []),
            this.registerSources();
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.registerSources = function () {
            if (qr) this.registerSource("native", new ko(this));
            else if (Wr) this.registerSource("ms", new To(this));
            else {
              var t = new _o(this);
              this.registerSource("mouse", t),
                Vr && this.registerSource("touch", new zo(this, t));
            }
            this.register_();
          }),
          (e.prototype.registerSource = function (t, e) {
            var n = e,
              i = n.getEvents();
            i &&
              (i.forEach(
                function (t) {
                  var e = n.getHandlerForEvent(t);
                  e && (this.eventMap_[t] = e.bind(n));
                }.bind(this)
              ),
              this.eventSourceList_.push(n));
          }),
          (e.prototype.register_ = function () {
            for (var t = this.eventSourceList_.length, e = 0; e < t; e++) {
              var n = this.eventSourceList_[e];
              this.addEvents_(n.getEvents());
            }
          }),
          (e.prototype.unregister_ = function () {
            for (var t = this.eventSourceList_.length, e = 0; e < t; e++) {
              var n = this.eventSourceList_[e];
              this.removeEvents_(n.getEvents());
            }
          }),
          (e.prototype.eventHandler_ = function (t) {
            var e = t.type,
              n = this.eventMap_[e];
            n && n(t);
          }),
          (e.prototype.addEvents_ = function (t) {
            t.forEach(
              function (t) {
                Lt(this.element_, t, this.eventHandler_, this);
              }.bind(this)
            );
          }),
          (e.prototype.removeEvents_ = function (t) {
            t.forEach(
              function (t) {
                At(this.element_, t, this.eventHandler_, this);
              }.bind(this)
            );
          }),
          (e.prototype.cloneEvent = function (t, e) {
            for (var n = {}, i = 0, r = Vo.length; i < r; i++) {
              var o = Vo[i][0];
              n[o] = t[o] || e[o] || Vo[i][1];
            }
            return n;
          }),
          (e.prototype.down = function (t, e) {
            this.fireEvent(oo.POINTERDOWN, t, e);
          }),
          (e.prototype.move = function (t, e) {
            this.fireEvent(oo.POINTERMOVE, t, e);
          }),
          (e.prototype.up = function (t, e) {
            this.fireEvent(oo.POINTERUP, t, e);
          }),
          (e.prototype.enter = function (t, e) {
            (t.bubbles = !1), this.fireEvent(oo.POINTERENTER, t, e);
          }),
          (e.prototype.leave = function (t, e) {
            (t.bubbles = !1), this.fireEvent(oo.POINTERLEAVE, t, e);
          }),
          (e.prototype.over = function (t, e) {
            (t.bubbles = !0), this.fireEvent(oo.POINTEROVER, t, e);
          }),
          (e.prototype.out = function (t, e) {
            (t.bubbles = !0), this.fireEvent(oo.POINTEROUT, t, e);
          }),
          (e.prototype.cancel = function (t, e) {
            this.fireEvent(oo.POINTERCANCEL, t, e);
          }),
          (e.prototype.leaveOut = function (t, e) {
            this.out(t, e),
              this.contains_(t.target, t.relatedTarget) || this.leave(t, e);
          }),
          (e.prototype.enterOver = function (t, e) {
            this.over(t, e),
              this.contains_(t.target, t.relatedTarget) || this.enter(t, e);
          }),
          (e.prototype.contains_ = function (t, e) {
            return !(!t || !e) && t.contains(e);
          }),
          (e.prototype.makeEvent = function (t, e, n) {
            return new jo(t, n, e);
          }),
          (e.prototype.fireEvent = function (t, e, n) {
            var i = this.makeEvent(t, e, n);
            this.dispatchEvent(i);
          }),
          (e.prototype.fireNativeEvent = function (t) {
            var e = this.makeEvent(t.type, t, t);
            this.dispatchEvent(e);
          }),
          (e.prototype.wrapMouseEvent = function (t, e) {
            return this.makeEvent(t, yo(e, this), e);
          }),
          (e.prototype.disposeInternal = function () {
            this.unregister_(), t.prototype.disposeInternal.call(this);
          }),
          e
        );
      })(Ft),
      Wo = (function (t) {
        function e(e, n) {
          t.call(this),
            (this.map_ = e),
            this.clickTimeoutId_,
            (this.dragging_ = !1),
            (this.dragListenerKeys_ = []),
            (this.moveTolerance_ = n ? n * Yr : Yr),
            (this.down_ = null);
          var i = this.map_.getViewport();
          (this.activePointers_ = 0),
            (this.trackedTouches_ = {}),
            (this.pointerEventHandler_ = new qo(i)),
            (this.documentPointerEventHandler_ = null),
            (this.pointerdownListenerKey_ = Lt(
              this.pointerEventHandler_,
              oo.POINTERDOWN,
              this.handlePointerDown_,
              this
            )),
            (this.relayedListenerKey_ = Lt(
              this.pointerEventHandler_,
              oo.POINTERMOVE,
              this.relayEvent_,
              this
            ));
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.emulateClick_ = function (t) {
            var e = new ro(io.CLICK, this.map_, t);
            this.dispatchEvent(e),
              void 0 !== this.clickTimeoutId_
                ? (clearTimeout(this.clickTimeoutId_),
                  (this.clickTimeoutId_ = void 0),
                  (e = new ro(io.DBLCLICK, this.map_, t)),
                  this.dispatchEvent(e))
                : (this.clickTimeoutId_ = setTimeout(
                    function () {
                      this.clickTimeoutId_ = void 0;
                      var e = new ro(io.SINGLECLICK, this.map_, t);
                      this.dispatchEvent(e);
                    }.bind(this),
                    250
                  ));
          }),
          (e.prototype.updateActivePointers_ = function (t) {
            var e = t;
            e.type == io.POINTERUP || e.type == io.POINTERCANCEL
              ? delete this.trackedTouches_[e.pointerId]
              : e.type == io.POINTERDOWN &&
                (this.trackedTouches_[e.pointerId] = !0),
              (this.activePointers_ = Object.keys(this.trackedTouches_).length);
          }),
          (e.prototype.handlePointerUp_ = function (t) {
            this.updateActivePointers_(t);
            var e = new ro(io.POINTERUP, this.map_, t);
            this.dispatchEvent(e),
              e.propagationStopped ||
                this.dragging_ ||
                !this.isMouseActionButton_(t) ||
                this.emulateClick_(this.down_),
              0 === this.activePointers_ &&
                (this.dragListenerKeys_.forEach(Nt),
                (this.dragListenerKeys_.length = 0),
                (this.dragging_ = !1),
                (this.down_ = null),
                this.documentPointerEventHandler_.dispose(),
                (this.documentPointerEventHandler_ = null));
          }),
          (e.prototype.isMouseActionButton_ = function (t) {
            return 0 === t.button;
          }),
          (e.prototype.handlePointerDown_ = function (t) {
            this.updateActivePointers_(t);
            var e = new ro(io.POINTERDOWN, this.map_, t);
            this.dispatchEvent(e),
              (this.down_ = t),
              0 === this.dragListenerKeys_.length &&
                ((this.documentPointerEventHandler_ = new qo(document)),
                this.dragListenerKeys_.push(
                  Lt(
                    this.documentPointerEventHandler_,
                    io.POINTERMOVE,
                    this.handlePointerMove_,
                    this
                  ),
                  Lt(
                    this.documentPointerEventHandler_,
                    io.POINTERUP,
                    this.handlePointerUp_,
                    this
                  ),
                  Lt(
                    this.pointerEventHandler_,
                    io.POINTERCANCEL,
                    this.handlePointerUp_,
                    this
                  )
                ));
          }),
          (e.prototype.handlePointerMove_ = function (t) {
            if (this.isMoving_(t)) {
              this.dragging_ = !0;
              var e = new ro(io.POINTERDRAG, this.map_, t, this.dragging_);
              this.dispatchEvent(e);
            }
            t.preventDefault();
          }),
          (e.prototype.relayEvent_ = function (t) {
            var e = !(!this.down_ || !this.isMoving_(t));
            this.dispatchEvent(new ro(t.type, this.map_, t, e));
          }),
          (e.prototype.isMoving_ = function (t) {
            return (
              this.dragging_ ||
              Math.abs(t.clientX - this.down_.clientX) > this.moveTolerance_ ||
              Math.abs(t.clientY - this.down_.clientY) > this.moveTolerance_
            );
          }),
          (e.prototype.disposeInternal = function () {
            this.relayedListenerKey_ &&
              (Nt(this.relayedListenerKey_), (this.relayedListenerKey_ = null)),
              this.pointerdownListenerKey_ &&
                (Nt(this.pointerdownListenerKey_),
                (this.pointerdownListenerKey_ = null)),
              this.dragListenerKeys_.forEach(Nt),
              (this.dragListenerKeys_.length = 0),
              this.documentPointerEventHandler_ &&
                (this.documentPointerEventHandler_.dispose(),
                (this.documentPointerEventHandler_ = null)),
              this.pointerEventHandler_ &&
                (this.pointerEventHandler_.dispose(),
                (this.pointerEventHandler_ = null)),
              t.prototype.disposeInternal.call(this);
          }),
          e
        );
      })(Ft),
      Ho = "postrender",
      Ko = "movestart",
      Zo = "moveend",
      Jo = {
        LAYERGROUP: "layergroup",
        SIZE: "size",
        TARGET: "target",
        VIEW: "view",
      },
      Qo = "postcompose",
      $o = "precompose",
      ts = "render",
      es = "rendercomplete",
      ns = function (t, e) {
        (this.priorityFunction_ = t),
          (this.keyFunction_ = e),
          (this.elements_ = []),
          (this.priorities_ = []),
          (this.queuedElements_ = {});
      };
    (ns.prototype.clear = function () {
      (this.elements_.length = 0),
        (this.priorities_.length = 0),
        wt(this.queuedElements_);
    }),
      (ns.prototype.dequeue = function () {
        var t = this.elements_,
          e = this.priorities_,
          n = t[0];
        1 == t.length
          ? ((t.length = 0), (e.length = 0))
          : ((t[0] = t.pop()), (e[0] = e.pop()), this.siftUp_(0));
        var i = this.keyFunction_(n);
        return delete this.queuedElements_[i], n;
      }),
      (ns.prototype.enqueue = function (t) {
        qt(!(this.keyFunction_(t) in this.queuedElements_), 31);
        var e = this.priorityFunction_(t);
        return (
          e != 1 / 0 &&
          (this.elements_.push(t),
          this.priorities_.push(e),
          (this.queuedElements_[this.keyFunction_(t)] = !0),
          this.siftDown_(0, this.elements_.length - 1),
          !0)
        );
      }),
      (ns.prototype.getCount = function () {
        return this.elements_.length;
      }),
      (ns.prototype.getLeftChildIndex_ = function (t) {
        return 2 * t + 1;
      }),
      (ns.prototype.getRightChildIndex_ = function (t) {
        return 2 * t + 2;
      }),
      (ns.prototype.getParentIndex_ = function (t) {
        return (t - 1) >> 1;
      }),
      (ns.prototype.heapify_ = function () {
        var t;
        for (t = (this.elements_.length >> 1) - 1; t >= 0; t--) this.siftUp_(t);
      }),
      (ns.prototype.isEmpty = function () {
        return 0 === this.elements_.length;
      }),
      (ns.prototype.isKeyQueued = function (t) {
        return t in this.queuedElements_;
      }),
      (ns.prototype.isQueued = function (t) {
        return this.isKeyQueued(this.keyFunction_(t));
      }),
      (ns.prototype.siftUp_ = function (t) {
        for (
          var e = this.elements_,
            n = this.priorities_,
            i = e.length,
            r = e[t],
            o = n[t],
            s = t;
          t < i >> 1;

        ) {
          var a = this.getLeftChildIndex_(t),
            u = this.getRightChildIndex_(t),
            c = u < i && n[u] < n[a] ? u : a;
          (e[t] = e[c]), (n[t] = n[c]), (t = c);
        }
        (e[t] = r), (n[t] = o), this.siftDown_(s, t);
      }),
      (ns.prototype.siftDown_ = function (t, e) {
        for (
          var n = this.elements_, i = this.priorities_, r = n[e], o = i[e];
          e > t;

        ) {
          var s = this.getParentIndex_(e);
          if (!(i[s] > o)) break;
          (n[e] = n[s]), (i[e] = i[s]), (e = s);
        }
        (n[e] = r), (i[e] = o);
      }),
      (ns.prototype.reprioritize = function () {
        var t,
          e,
          n,
          i = this.priorityFunction_,
          r = this.elements_,
          o = this.priorities_,
          s = 0,
          a = r.length;
        for (e = 0; e < a; ++e)
          (n = i((t = r[e]))) == 1 / 0
            ? delete this.queuedElements_[this.keyFunction_(t)]
            : ((o[s] = n), (r[s++] = t));
        (r.length = s), (o.length = s), this.heapify_();
      });
    var is = (function (t) {
      function e(e, n) {
        t.call(
          this,
          function (t) {
            return e.apply(null, t);
          },
          function (t) {
            return t[0].getKey();
          }
        ),
          (this.tileChangeCallback_ = n),
          (this.tilesLoading_ = 0),
          (this.tilesLoadingKeys_ = {});
      }
      return (
        t && (e.__proto__ = t),
        (e.prototype = Object.create(t && t.prototype)),
        (e.prototype.constructor = e),
        (e.prototype.enqueue = function (e) {
          var n = t.prototype.enqueue.call(this, e);
          n && Lt(e[0], Gt.CHANGE, this.handleTileChange, this);
          return n;
        }),
        (e.prototype.getTilesLoading = function () {
          return this.tilesLoading_;
        }),
        (e.prototype.handleTileChange = function (t) {
          var e = t.target,
            n = e.getState();
          if (
            n === gt.LOADED ||
            n === gt.ERROR ||
            n === gt.EMPTY ||
            n === gt.ABORT
          ) {
            At(e, Gt.CHANGE, this.handleTileChange, this);
            var i = e.getKey();
            i in this.tilesLoadingKeys_ &&
              (delete this.tilesLoadingKeys_[i], --this.tilesLoading_),
              this.tileChangeCallback_();
          }
        }),
        (e.prototype.loadMoreTiles = function (t, e) {
          for (
            var n, i, r, o = 0, s = !1;
            this.tilesLoading_ < t && o < e && this.getCount() > 0;

          )
            (r = (i = this.dequeue()[0]).getKey()),
              (n = i.getState()) === gt.ABORT
                ? (s = !0)
                : n !== gt.IDLE ||
                  r in this.tilesLoadingKeys_ ||
                  ((this.tilesLoadingKeys_[r] = !0),
                  ++this.tilesLoading_,
                  ++o,
                  i.load());
          0 === o && s && this.tileChangeCallback_();
        }),
        e
      );
    })(ns);
    function rs(t) {
      return t;
    }
    function os(t, e) {
      return void 0 !== t ? 0 : void 0;
    }
    function ss(t, e) {
      return void 0 !== t ? t + e : void 0;
    }
    var as = 0,
      us = 1,
      cs = "center",
      hs = "resolution",
      ls = "rotation";
    function ps(t, e) {
      return (t[0] += e[0]), (t[1] += e[1]), t;
    }
    function fs(t, e) {
      var n = Math.cos(e),
        i = Math.sin(e),
        r = t[0] * n - t[1] * i,
        o = t[1] * n + t[0] * i;
      return (t[0] = r), (t[1] = o), t;
    }
    function ds(t, e) {
      return (t[0] *= e), (t[1] *= e), t;
    }
    var gs = 0;
    function ys(t, e) {
      setTimeout(function () {
        t(e);
      }, 0);
    }
    function _s(t) {
      return (
        !(
          t.sourceCenter &&
          t.targetCenter &&
          !(function (t, e) {
            for (var n = !0, i = t.length - 1; i >= 0; --i)
              if (t[i] != e[i]) {
                n = !1;
                break;
              }
            return n;
          })(t.sourceCenter, t.targetCenter)
        ) &&
        t.sourceResolution === t.targetResolution &&
        t.sourceRotation === t.targetRotation
      );
    }
    var vs = (function (t) {
        function e(e) {
          t.call(this);
          var n = bt({}, e);
          (this.hints_ = [0, 0]),
            (this.animations_ = []),
            this.updateAnimationKey_,
            (this.updateAnimations_ = this.updateAnimations_.bind(this)),
            (this.projection_ = mn(n.projection, "EPSG:3857")),
            this.applyOptions_(n);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.applyOptions_ = function (t) {
            var e = {};
            e[cs] = void 0 !== t.center ? t.center : null;
            var n = (function (t) {
              var e,
                n,
                i,
                r = void 0 !== t.minZoom ? t.minZoom : gs,
                o = void 0 !== t.maxZoom ? t.maxZoom : 28,
                s = void 0 !== t.zoomFactor ? t.zoomFactor : 2;
              if (void 0 !== t.resolutions) {
                var a = t.resolutions;
                (n = a[r]),
                  (i = void 0 !== a[o] ? a[o] : a[a.length - 1]),
                  (e = (function (t) {
                    return function (e, n, i) {
                      if (void 0 !== e) {
                        var r = Jn(t, e, i);
                        r = Qt(r + n, 0, t.length - 1);
                        var o = Math.floor(r);
                        if (r != o && o < t.length - 1) {
                          var s = t[o] / t[o + 1];
                          return t[o] / Math.pow(s, r - o);
                        }
                        return t[o];
                      }
                    };
                  })(a));
              } else {
                var u = mn(t.projection, "EPSG:3857"),
                  c = u.getExtent(),
                  h =
                    (c
                      ? Math.max(Be(c), ke(c))
                      : (360 * ze[Ve.DEGREES]) / u.getMetersPerUnit()) /
                    qn /
                    Math.pow(2, gs),
                  l = h / Math.pow(2, 28 - gs);
                void 0 !== (n = t.maxResolution)
                  ? (r = 0)
                  : (n = h / Math.pow(s, r)),
                  void 0 === (i = t.minResolution) &&
                    (i =
                      void 0 !== t.maxZoom
                        ? void 0 !== t.maxResolution
                          ? n / Math.pow(s, o)
                          : h / Math.pow(s, o)
                        : l),
                  (o = r + Math.floor(Math.log(n / i) / Math.log(s))),
                  (i = n / Math.pow(s, o - r)),
                  (e = (function (t, e, n) {
                    return function (i, r, o) {
                      if (void 0 !== i) {
                        var s = -o / 2 + 0.5,
                          a = Math.floor(Math.log(e / i) / Math.log(t) + s),
                          u = Math.max(a + r, 0);
                        return (
                          void 0 !== n && (u = Math.min(u, n)),
                          e / Math.pow(t, u)
                        );
                      }
                    };
                  })(s, n, o - r));
              }
              return {
                constraint: e,
                maxResolution: n,
                minResolution: i,
                minZoom: r,
                zoomFactor: s,
              };
            })(t);
            (this.maxResolution_ = n.maxResolution),
              (this.minResolution_ = n.minResolution),
              (this.zoomFactor_ = n.zoomFactor),
              (this.resolutions_ = t.resolutions),
              (this.minZoom_ = n.minZoom);
            var i = (function (t) {
                return void 0 !== t.extent
                  ? ((e = t.extent),
                    function (t) {
                      return t
                        ? [Qt(t[0], e[0], e[2]), Qt(t[1], e[1], e[3])]
                        : void 0;
                    })
                  : rs;
                var e;
              })(t),
              r = n.constraint,
              o = (function (t) {
                if (void 0 === t.enableRotation || t.enableRotation) {
                  var e = t.constrainRotation;
                  return void 0 === e || !0 === e
                    ? ((o = r || ie(5)),
                      function (t, e) {
                        return void 0 !== t
                          ? Math.abs(t + e) <= o
                            ? 0
                            : t + e
                          : void 0;
                      })
                    : !1 === e
                    ? ss
                    : "number" == typeof e
                    ? ((n = e),
                      (i = (2 * Math.PI) / n),
                      function (t, e) {
                        return void 0 !== t
                          ? (t = Math.floor((t + e) / i + 0.5) * i)
                          : void 0;
                      })
                    : ss;
                }
                return os;
                var n, i;
                var r, o;
              })(t);
            (this.constraints_ = { center: i, resolution: r, rotation: o }),
              void 0 !== t.resolution
                ? (e[hs] = t.resolution)
                : void 0 !== t.zoom &&
                  ((e[hs] = this.constrainResolution(
                    this.maxResolution_,
                    t.zoom - this.minZoom_
                  )),
                  this.resolutions_ &&
                    (e[hs] = Qt(
                      Number(this.getResolution() || e[hs]),
                      this.minResolution_,
                      this.maxResolution_
                    ))),
              (e[ls] = void 0 !== t.rotation ? t.rotation : 0),
              this.setProperties(e),
              (this.options_ = t);
          }),
          (e.prototype.getUpdatedOptions_ = function (t) {
            var e = bt({}, this.options_);
            return (
              void 0 !== e.resolution
                ? (e.resolution = this.getResolution())
                : (e.zoom = this.getZoom()),
              (e.center = this.getCenter()),
              (e.rotation = this.getRotation()),
              bt({}, e, t)
            );
          }),
          (e.prototype.animate = function (t) {
            var e,
              n = arguments,
              i = arguments.length;
            if (
              (i > 1 &&
                "function" == typeof arguments[i - 1] &&
                ((e = arguments[i - 1]), --i),
              !this.isDef())
            ) {
              var r = arguments[i - 1];
              return (
                r.center && this.setCenter(r.center),
                void 0 !== r.zoom && this.setZoom(r.zoom),
                void 0 !== r.rotation && this.setRotation(r.rotation),
                void (e && ys(e, !0))
              );
            }
            for (
              var o = Date.now(),
                s = this.getCenter().slice(),
                a = this.getResolution(),
                u = this.getRotation(),
                c = [],
                h = 0;
              h < i;
              ++h
            ) {
              var l = n[h],
                p = {
                  start: o,
                  complete: !1,
                  anchor: l.anchor,
                  duration: void 0 !== l.duration ? l.duration : 1e3,
                  easing: l.easing || vt,
                };
              if (
                (l.center &&
                  ((p.sourceCenter = s),
                  (p.targetCenter = l.center),
                  (s = p.targetCenter)),
                void 0 !== l.zoom
                  ? ((p.sourceResolution = a),
                    (p.targetResolution = this.constrainResolution(
                      this.maxResolution_,
                      l.zoom - this.minZoom_,
                      0
                    )),
                    (a = p.targetResolution))
                  : l.resolution &&
                    ((p.sourceResolution = a),
                    (p.targetResolution = l.resolution),
                    (a = p.targetResolution)),
                void 0 !== l.rotation)
              ) {
                p.sourceRotation = u;
                var f = re(l.rotation - u + Math.PI, 2 * Math.PI) - Math.PI;
                (p.targetRotation = u + f), (u = p.targetRotation);
              }
              (p.callback = e),
                _s(p) ? (p.complete = !0) : (o += p.duration),
                c.push(p);
            }
            this.animations_.push(c),
              this.setHint(as, 1),
              this.updateAnimations_();
          }),
          (e.prototype.getAnimating = function () {
            return this.hints_[as] > 0;
          }),
          (e.prototype.getInteracting = function () {
            return this.hints_[us] > 0;
          }),
          (e.prototype.cancelAnimations = function () {
            this.setHint(as, -this.hints_[as]);
            for (var t = 0, e = this.animations_.length; t < e; ++t) {
              var n = this.animations_[t];
              n[0].callback && ys(n[0].callback, !1);
            }
            this.animations_.length = 0;
          }),
          (e.prototype.updateAnimations_ = function () {
            if (
              (void 0 !== this.updateAnimationKey_ &&
                (cancelAnimationFrame(this.updateAnimationKey_),
                (this.updateAnimationKey_ = void 0)),
              this.getAnimating())
            ) {
              for (
                var t = Date.now(), e = !1, n = this.animations_.length - 1;
                n >= 0;
                --n
              ) {
                for (
                  var i = this.animations_[n], r = !0, o = 0, s = i.length;
                  o < s;
                  ++o
                ) {
                  var a = i[o];
                  if (!a.complete) {
                    var u = t - a.start,
                      c = a.duration > 0 ? u / a.duration : 1;
                    c >= 1 ? ((a.complete = !0), (c = 1)) : (r = !1);
                    var h = a.easing(c);
                    if (a.sourceCenter) {
                      var l = a.sourceCenter[0],
                        p = a.sourceCenter[1],
                        f = l + h * (a.targetCenter[0] - l),
                        d = p + h * (a.targetCenter[1] - p);
                      this.set(cs, [f, d]);
                    }
                    if (a.sourceResolution && a.targetResolution) {
                      var g =
                        1 === h
                          ? a.targetResolution
                          : a.sourceResolution +
                            h * (a.targetResolution - a.sourceResolution);
                      a.anchor &&
                        this.set(cs, this.calculateCenterZoom(g, a.anchor)),
                        this.set(hs, g);
                    }
                    if (
                      void 0 !== a.sourceRotation &&
                      void 0 !== a.targetRotation
                    ) {
                      var y =
                        1 === h
                          ? re(a.targetRotation + Math.PI, 2 * Math.PI) -
                            Math.PI
                          : a.sourceRotation +
                            h * (a.targetRotation - a.sourceRotation);
                      a.anchor &&
                        this.set(cs, this.calculateCenterRotate(y, a.anchor)),
                        this.set(ls, y);
                    }
                    if (((e = !0), !a.complete)) break;
                  }
                }
                if (r) {
                  (this.animations_[n] = null), this.setHint(as, -1);
                  var _ = i[0].callback;
                  _ && ys(_, !0);
                }
              }
              (this.animations_ = this.animations_.filter(Boolean)),
                e &&
                  void 0 === this.updateAnimationKey_ &&
                  (this.updateAnimationKey_ = requestAnimationFrame(
                    this.updateAnimations_
                  ));
            }
          }),
          (e.prototype.calculateCenterRotate = function (t, e) {
            var n,
              i = this.getCenter();
            return (
              void 0 !== i &&
                (fs((n = [i[0] - e[0], i[1] - e[1]]), t - this.getRotation()),
                ps(n, e)),
              n
            );
          }),
          (e.prototype.calculateCenterZoom = function (t, e) {
            var n,
              i = this.getCenter(),
              r = this.getResolution();
            void 0 !== i &&
              void 0 !== r &&
              (n = [
                e[0] - (t * (e[0] - i[0])) / r,
                e[1] - (t * (e[1] - i[1])) / r,
              ]);
            return n;
          }),
          (e.prototype.getSizeFromViewport_ = function () {
            var t = [100, 100],
              e = '.ol-viewport[data-view="' + ft(this) + '"]',
              n = document.querySelector(e);
            if (n) {
              var i = getComputedStyle(n);
              (t[0] = parseInt(i.width, 10)), (t[1] = parseInt(i.height, 10));
            }
            return t;
          }),
          (e.prototype.constrainCenter = function (t) {
            return this.constraints_.center(t);
          }),
          (e.prototype.constrainResolution = function (t, e, n) {
            var i = e || 0,
              r = n || 0;
            return this.constraints_.resolution(t, i, r);
          }),
          (e.prototype.constrainRotation = function (t, e) {
            var n = e || 0;
            return this.constraints_.rotation(t, n);
          }),
          (e.prototype.getCenter = function () {
            return this.get(cs);
          }),
          (e.prototype.getConstraints = function () {
            return this.constraints_;
          }),
          (e.prototype.getHints = function (t) {
            return void 0 !== t
              ? ((t[0] = this.hints_[0]), (t[1] = this.hints_[1]), t)
              : this.hints_.slice();
          }),
          (e.prototype.calculateExtent = function (t) {
            var e = t || this.getSizeFromViewport_(),
              n = this.getCenter();
            qt(n, 1);
            var i = this.getResolution();
            qt(void 0 !== i, 2);
            var r = this.getRotation();
            return qt(void 0 !== r, 3), De(n, i, r, e);
          }),
          (e.prototype.getMaxResolution = function () {
            return this.maxResolution_;
          }),
          (e.prototype.getMinResolution = function () {
            return this.minResolution_;
          }),
          (e.prototype.getMaxZoom = function () {
            return this.getZoomForResolution(this.minResolution_);
          }),
          (e.prototype.setMaxZoom = function (t) {
            this.applyOptions_(this.getUpdatedOptions_({ maxZoom: t }));
          }),
          (e.prototype.getMinZoom = function () {
            return this.getZoomForResolution(this.maxResolution_);
          }),
          (e.prototype.setMinZoom = function (t) {
            this.applyOptions_(this.getUpdatedOptions_({ minZoom: t }));
          }),
          (e.prototype.getProjection = function () {
            return this.projection_;
          }),
          (e.prototype.getResolution = function () {
            return this.get(hs);
          }),
          (e.prototype.getResolutions = function () {
            return this.resolutions_;
          }),
          (e.prototype.getResolutionForExtent = function (t, e) {
            var n = e || this.getSizeFromViewport_(),
              i = Be(t) / n[0],
              r = ke(t) / n[1];
            return Math.max(i, r);
          }),
          (e.prototype.getResolutionForValueFunction = function (t) {
            var e = t || 2,
              n = this.maxResolution_,
              i = this.minResolution_,
              r = Math.log(n / i) / Math.log(e);
            return function (t) {
              return n / Math.pow(e, t * r);
            };
          }),
          (e.prototype.getRotation = function () {
            return this.get(ls);
          }),
          (e.prototype.getValueForResolutionFunction = function (t) {
            var e = t || 2,
              n = this.maxResolution_,
              i = this.minResolution_,
              r = Math.log(n / i) / Math.log(e);
            return function (t) {
              return Math.log(n / t) / Math.log(e) / r;
            };
          }),
          (e.prototype.getState = function (t) {
            var e = this.getCenter(),
              n = this.getProjection(),
              i = this.getResolution(),
              r = i / t,
              o = this.getRotation();
            return {
              center: [Math.round(e[0] / r) * r, Math.round(e[1] / r) * r],
              projection: void 0 !== n ? n : null,
              resolution: i,
              rotation: o,
              zoom: this.getZoom(),
            };
          }),
          (e.prototype.getZoom = function () {
            var t,
              e = this.getResolution();
            return void 0 !== e && (t = this.getZoomForResolution(e)), t;
          }),
          (e.prototype.getZoomForResolution = function (t) {
            var e,
              n,
              i = this.minZoom_ || 0;
            if (this.resolutions_) {
              var r = Jn(this.resolutions_, t, 1);
              (i = r),
                (e = this.resolutions_[r]),
                (n =
                  r == this.resolutions_.length - 1
                    ? 2
                    : e / this.resolutions_[r + 1]);
            } else (e = this.maxResolution_), (n = this.zoomFactor_);
            return i + Math.log(e / t) / Math.log(n);
          }),
          (e.prototype.getResolutionForZoom = function (t) {
            return this.constrainResolution(
              this.maxResolution_,
              t - this.minZoom_,
              0
            );
          }),
          (e.prototype.fit = function (t, e) {
            var n,
              i = e || {},
              r = i.size;
            r || (r = this.getSizeFromViewport_()),
              qt(
                Array.isArray(t) ||
                  "function" == typeof t.getSimplifiedGeometry,
                24
              ),
              Array.isArray(t)
                ? (qt(!Ye(t), 25), (n = kr(t)))
                : t.getType() === se.CIRCLE
                ? (n = kr((t = t.getExtent()))).rotate(
                    this.getRotation(),
                    Ne(t)
                  )
                : (n = t);
            var o,
              s = void 0 !== i.padding ? i.padding : [0, 0, 0, 0],
              a = void 0 === i.constrainResolution || i.constrainResolution,
              u = void 0 !== i.nearest && i.nearest;
            o =
              void 0 !== i.minResolution
                ? i.minResolution
                : void 0 !== i.maxZoom
                ? this.constrainResolution(
                    this.maxResolution_,
                    i.maxZoom - this.minZoom_,
                    0
                  )
                : 0;
            for (
              var c = n.getFlatCoordinates(),
                h = this.getRotation(),
                l = Math.cos(-h),
                p = Math.sin(-h),
                f = 1 / 0,
                d = 1 / 0,
                g = -1 / 0,
                y = -1 / 0,
                _ = n.getStride(),
                v = 0,
                m = c.length;
              v < m;
              v += _
            ) {
              var x = c[v] * l - c[v + 1] * p,
                E = c[v] * p + c[v + 1] * l;
              (f = Math.min(f, x)),
                (d = Math.min(d, E)),
                (g = Math.max(g, x)),
                (y = Math.max(y, E));
            }
            var b = this.getResolutionForExtent(
              [f, d, g, y],
              [r[0] - s[1] - s[3], r[1] - s[0] - s[2]]
            );
            if (((b = isNaN(b) ? o : Math.max(b, o)), a)) {
              var w = this.constrainResolution(b, 0, 0);
              !u && w < b && (w = this.constrainResolution(w, -1, 0)), (b = w);
            }
            p = -p;
            var I = (f + g) / 2,
              S = (d + y) / 2,
              C = [
                (I += ((s[1] - s[3]) / 2) * b) * l -
                  (S += ((s[0] - s[2]) / 2) * b) * p,
                S * l + I * p,
              ],
              T = i.callback ? i.callback : kt;
            void 0 !== i.duration
              ? this.animate(
                  {
                    resolution: b,
                    center: C,
                    duration: i.duration,
                    easing: i.easing,
                  },
                  T
                )
              : (this.setResolution(b), this.setCenter(C), ys(T, !0));
          }),
          (e.prototype.centerOn = function (t, e, n) {
            var i = this.getRotation(),
              r = Math.cos(-i),
              o = Math.sin(-i),
              s = t[0] * r - t[1] * o,
              a = t[1] * r + t[0] * o,
              u = this.getResolution(),
              c =
                (s += (e[0] / 2 - n[0]) * u) * r -
                (a += (n[1] - e[1] / 2) * u) * (o = -o),
              h = a * r + s * o;
            this.setCenter([c, h]);
          }),
          (e.prototype.isDef = function () {
            return !!this.getCenter() && void 0 !== this.getResolution();
          }),
          (e.prototype.rotate = function (t, e) {
            if (void 0 !== e) {
              var n = this.calculateCenterRotate(t, e);
              this.setCenter(n);
            }
            this.setRotation(t);
          }),
          (e.prototype.setCenter = function (t) {
            this.set(cs, t), this.getAnimating() && this.cancelAnimations();
          }),
          (e.prototype.setHint = function (t, e) {
            return (this.hints_[t] += e), this.changed(), this.hints_[t];
          }),
          (e.prototype.setResolution = function (t) {
            this.set(hs, t), this.getAnimating() && this.cancelAnimations();
          }),
          (e.prototype.setRotation = function (t) {
            this.set(ls, t), this.getAnimating() && this.cancelAnimations();
          }),
          (e.prototype.setZoom = function (t) {
            this.setResolution(this.getResolutionForZoom(t));
          }),
          e
        );
      })(Un),
      ms = {
        OPACITY: "opacity",
        VISIBLE: "visible",
        EXTENT: "extent",
        Z_INDEX: "zIndex",
        MAX_RESOLUTION: "maxResolution",
        MIN_RESOLUTION: "minResolution",
        SOURCE: "source",
      },
      xs = (function (t) {
        function e(e) {
          t.call(this);
          var n = bt({}, e);
          (n[ms.OPACITY] = void 0 !== e.opacity ? e.opacity : 1),
            (n[ms.VISIBLE] = void 0 === e.visible || e.visible),
            (n[ms.Z_INDEX] = e.zIndex),
            (n[ms.MAX_RESOLUTION] =
              void 0 !== e.maxResolution ? e.maxResolution : 1 / 0),
            (n[ms.MIN_RESOLUTION] =
              void 0 !== e.minResolution ? e.minResolution : 0),
            this.setProperties(n),
            (this.state_ = null),
            this.type;
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.getType = function () {
            return this.type;
          }),
          (e.prototype.getLayerState = function () {
            var t = this.state_ || { layer: this, managed: !0 };
            return (
              (t.opacity = Qt(this.getOpacity(), 0, 1)),
              (t.sourceState = this.getSourceState()),
              (t.visible = this.getVisible()),
              (t.extent = this.getExtent()),
              (t.zIndex = this.getZIndex() || 0),
              (t.maxResolution = this.getMaxResolution()),
              (t.minResolution = Math.max(this.getMinResolution(), 0)),
              (this.state_ = t),
              t
            );
          }),
          (e.prototype.getLayersArray = function (t) {
            return lt();
          }),
          (e.prototype.getLayerStatesArray = function (t) {
            return lt();
          }),
          (e.prototype.getExtent = function () {
            return this.get(ms.EXTENT);
          }),
          (e.prototype.getMaxResolution = function () {
            return this.get(ms.MAX_RESOLUTION);
          }),
          (e.prototype.getMinResolution = function () {
            return this.get(ms.MIN_RESOLUTION);
          }),
          (e.prototype.getOpacity = function () {
            return this.get(ms.OPACITY);
          }),
          (e.prototype.getSourceState = function () {
            return lt();
          }),
          (e.prototype.getVisible = function () {
            return this.get(ms.VISIBLE);
          }),
          (e.prototype.getZIndex = function () {
            return this.get(ms.Z_INDEX);
          }),
          (e.prototype.setExtent = function (t) {
            this.set(ms.EXTENT, t);
          }),
          (e.prototype.setMaxResolution = function (t) {
            this.set(ms.MAX_RESOLUTION, t);
          }),
          (e.prototype.setMinResolution = function (t) {
            this.set(ms.MIN_RESOLUTION, t);
          }),
          (e.prototype.setOpacity = function (t) {
            this.set(ms.OPACITY, t);
          }),
          (e.prototype.setVisible = function (t) {
            this.set(ms.VISIBLE, t);
          }),
          (e.prototype.setZIndex = function (t) {
            this.set(ms.Z_INDEX, t);
          }),
          e
        );
      })(Un),
      Es = { LAYERS: "layers" },
      bs = (function (t) {
        function e(e) {
          var n = e || {},
            i = bt({}, n);
          delete i.layers;
          var r = n.layers;
          t.call(this, i),
            (this.layersListenerKeys_ = []),
            (this.listenerKeys_ = {}),
            Lt(this, Bn(Es.LAYERS), this.handleLayersChanged_, this),
            r
              ? Array.isArray(r)
                ? (r = new eo(r.slice(), { unique: !0 }))
                : qt("function" == typeof r.getArray, 43)
              : (r = new eo(void 0, { unique: !0 })),
            this.setLayers(r);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.handleLayerChange_ = function () {
            this.changed();
          }),
          (e.prototype.handleLayersChanged_ = function () {
            this.layersListenerKeys_.forEach(Nt),
              (this.layersListenerKeys_.length = 0);
            var t = this.getLayers();
            for (var e in (this.layersListenerKeys_.push(
              Lt(t, Qr.ADD, this.handleLayersAdd_, this),
              Lt(t, Qr.REMOVE, this.handleLayersRemove_, this)
            ),
            this.listenerKeys_))
              this.listenerKeys_[e].forEach(Nt);
            wt(this.listenerKeys_);
            for (var n = t.getArray(), i = 0, r = n.length; i < r; i++) {
              var o = n[i];
              this.listenerKeys_[ft(o)] = [
                Lt(o, kn, this.handleLayerChange_, this),
                Lt(o, Gt.CHANGE, this.handleLayerChange_, this),
              ];
            }
            this.changed();
          }),
          (e.prototype.handleLayersAdd_ = function (t) {
            var e = t.element;
            (this.listenerKeys_[ft(e)] = [
              Lt(e, kn, this.handleLayerChange_, this),
              Lt(e, Gt.CHANGE, this.handleLayerChange_, this),
            ]),
              this.changed();
          }),
          (e.prototype.handleLayersRemove_ = function (t) {
            var e = ft(t.element);
            this.listenerKeys_[e].forEach(Nt),
              delete this.listenerKeys_[e],
              this.changed();
          }),
          (e.prototype.getLayers = function () {
            return this.get(Es.LAYERS);
          }),
          (e.prototype.setLayers = function (t) {
            this.set(Es.LAYERS, t);
          }),
          (e.prototype.getLayersArray = function (t) {
            var e = void 0 !== t ? t : [];
            return (
              this.getLayers().forEach(function (t) {
                t.getLayersArray(e);
              }),
              e
            );
          }),
          (e.prototype.getLayerStatesArray = function (t) {
            var e = void 0 !== t ? t : [],
              n = e.length;
            this.getLayers().forEach(function (t) {
              t.getLayerStatesArray(e);
            });
            for (
              var i = this.getLayerState(), r = n, o = e.length;
              r < o;
              r++
            ) {
              var s = e[r];
              (s.opacity *= i.opacity),
                (s.visible = s.visible && i.visible),
                (s.maxResolution = Math.min(s.maxResolution, i.maxResolution)),
                (s.minResolution = Math.max(s.minResolution, i.minResolution)),
                void 0 !== i.extent &&
                  (void 0 !== s.extent
                    ? (s.extent = Fe(s.extent, i.extent))
                    : (s.extent = i.extent));
            }
            return e;
          }),
          (e.prototype.getSourceState = function () {
            return Yn.READY;
          }),
          e
        );
      })(xs);
    var ws = (function (t) {
      function e(e) {
        t.call(this);
        var n = (function (t) {
          var e = null;
          void 0 !== t.keyboardEventTarget &&
            (e =
              "string" == typeof t.keyboardEventTarget
                ? document.getElementById(t.keyboardEventTarget)
                : t.keyboardEventTarget);
          var n,
            i,
            r,
            o = {},
            s =
              t.layers && "function" == typeof t.layers.getLayers
                ? t.layers
                : new bs({ layers: t.layers });
          (o[Jo.LAYERGROUP] = s),
            (o[Jo.TARGET] = t.target),
            (o[Jo.VIEW] = void 0 !== t.view ? t.view : new vs()),
            void 0 !== t.controls &&
              (Array.isArray(t.controls)
                ? (n = new eo(t.controls.slice()))
                : (qt("function" == typeof t.controls.getArray, 47),
                  (n = t.controls)));
          void 0 !== t.interactions &&
            (Array.isArray(t.interactions)
              ? (i = new eo(t.interactions.slice()))
              : (qt("function" == typeof t.interactions.getArray, 48),
                (i = t.interactions)));
          void 0 !== t.overlays
            ? Array.isArray(t.overlays)
              ? (r = new eo(t.overlays.slice()))
              : (qt("function" == typeof t.overlays.getArray, 49),
                (r = t.overlays))
            : (r = new eo());
          return {
            controls: n,
            interactions: i,
            keyboardEventTarget: e,
            overlays: r,
            values: o,
          };
        })(e);
        (this.maxTilesLoading_ =
          void 0 !== e.maxTilesLoading ? e.maxTilesLoading : 16),
          (this.loadTilesWhileAnimating_ =
            void 0 !== e.loadTilesWhileAnimating && e.loadTilesWhileAnimating),
          (this.loadTilesWhileInteracting_ =
            void 0 !== e.loadTilesWhileInteracting &&
            e.loadTilesWhileInteracting),
          (this.pixelRatio_ = void 0 !== e.pixelRatio ? e.pixelRatio : Yr),
          this.animationDelayKey_,
          (this.animationDelay_ = function () {
            (this.animationDelayKey_ = void 0),
              this.renderFrame_.call(this, Date.now());
          }.bind(this)),
          (this.coordinateToPixelTransform_ = [1, 0, 0, 1, 0, 0]),
          (this.pixelToCoordinateTransform_ = [1, 0, 0, 1, 0, 0]),
          (this.frameIndex_ = 0),
          (this.frameState_ = null),
          (this.previousExtent_ = null),
          (this.viewPropertyListenerKey_ = null),
          (this.viewChangeListenerKey_ = null),
          (this.layerGroupPropertyListenerKeys_ = null),
          (this.viewport_ = document.createElement("div")),
          (this.viewport_.className = "ol-viewport" + (Vr ? " ol-touch" : "")),
          (this.viewport_.style.position = "relative"),
          (this.viewport_.style.overflow = "hidden"),
          (this.viewport_.style.width = "100%"),
          (this.viewport_.style.height = "100%"),
          (this.viewport_.style.msTouchAction = "none"),
          (this.viewport_.style.touchAction = "none"),
          (this.overlayContainer_ = document.createElement("div")),
          (this.overlayContainer_.className = "ol-overlaycontainer"),
          this.viewport_.appendChild(this.overlayContainer_),
          (this.overlayContainerStopEvent_ = document.createElement("div")),
          (this.overlayContainerStopEvent_.className =
            "ol-overlaycontainer-stopevent");
        for (
          var i = [
              Gt.CLICK,
              Gt.DBLCLICK,
              Gt.MOUSEDOWN,
              Gt.TOUCHSTART,
              Gt.MSPOINTERDOWN,
              io.POINTERDOWN,
              Gt.MOUSEWHEEL,
              Gt.WHEEL,
            ],
            r = 0,
            o = i.length;
          r < o;
          ++r
        )
          Lt(this.overlayContainerStopEvent_, i[r], $);
        for (var s in (this.viewport_.appendChild(
          this.overlayContainerStopEvent_
        ),
        (this.mapBrowserEventHandler_ = new Wo(this, e.moveTolerance)),
        io))
          Lt(
            this.mapBrowserEventHandler_,
            io[s],
            this.handleMapBrowserEvent,
            this
          );
        (this.keyboardEventTarget_ = n.keyboardEventTarget),
          (this.keyHandlerKeys_ = null),
          Lt(this.viewport_, Gt.CONTEXTMENU, this.handleBrowserEvent, this),
          Lt(this.viewport_, Gt.WHEEL, this.handleBrowserEvent, this),
          Lt(this.viewport_, Gt.MOUSEWHEEL, this.handleBrowserEvent, this),
          (this.controls = n.controls || new eo()),
          (this.interactions = n.interactions || new eo()),
          (this.overlays_ = n.overlays),
          (this.overlayIdIndex_ = {}),
          (this.renderer_ = this.createRenderer()),
          this.handleResize_,
          (this.focus_ = null),
          (this.postRenderFunctions_ = []),
          (this.tileQueue_ = new is(
            this.getTilePriority.bind(this),
            this.handleTileChange_.bind(this)
          )),
          (this.skippedFeatureUids_ = {}),
          Lt(this, Bn(Jo.LAYERGROUP), this.handleLayerGroupChanged_, this),
          Lt(this, Bn(Jo.VIEW), this.handleViewChanged_, this),
          Lt(this, Bn(Jo.SIZE), this.handleSizeChanged_, this),
          Lt(this, Bn(Jo.TARGET), this.handleTargetChanged_, this),
          this.setProperties(n.values),
          this.controls.forEach(
            function (t) {
              t.setMap(this);
            }.bind(this)
          ),
          Lt(
            this.controls,
            Qr.ADD,
            function (t) {
              t.element.setMap(this);
            },
            this
          ),
          Lt(
            this.controls,
            Qr.REMOVE,
            function (t) {
              t.element.setMap(null);
            },
            this
          ),
          this.interactions.forEach(
            function (t) {
              t.setMap(this);
            }.bind(this)
          ),
          Lt(
            this.interactions,
            Qr.ADD,
            function (t) {
              t.element.setMap(this);
            },
            this
          ),
          Lt(
            this.interactions,
            Qr.REMOVE,
            function (t) {
              t.element.setMap(null);
            },
            this
          ),
          this.overlays_.forEach(this.addOverlayInternal_.bind(this)),
          Lt(
            this.overlays_,
            Qr.ADD,
            function (t) {
              this.addOverlayInternal_(t.element);
            },
            this
          ),
          Lt(
            this.overlays_,
            Qr.REMOVE,
            function (t) {
              var e = t.element.getId();
              void 0 !== e && delete this.overlayIdIndex_[e.toString()],
                t.element.setMap(null);
            },
            this
          );
      }
      return (
        t && (e.__proto__ = t),
        (e.prototype = Object.create(t && t.prototype)),
        (e.prototype.constructor = e),
        (e.prototype.createRenderer = function () {
          throw new Error("Use a map type that has a createRenderer method");
        }),
        (e.prototype.addControl = function (t) {
          this.getControls().push(t);
        }),
        (e.prototype.addInteraction = function (t) {
          this.getInteractions().push(t);
        }),
        (e.prototype.addLayer = function (t) {
          this.getLayerGroup().getLayers().push(t);
        }),
        (e.prototype.addOverlay = function (t) {
          this.getOverlays().push(t);
        }),
        (e.prototype.addOverlayInternal_ = function (t) {
          var e = t.getId();
          void 0 !== e && (this.overlayIdIndex_[e.toString()] = t),
            t.setMap(this);
        }),
        (e.prototype.disposeInternal = function () {
          this.mapBrowserEventHandler_.dispose(),
            At(this.viewport_, Gt.CONTEXTMENU, this.handleBrowserEvent, this),
            At(this.viewport_, Gt.WHEEL, this.handleBrowserEvent, this),
            At(this.viewport_, Gt.MOUSEWHEEL, this.handleBrowserEvent, this),
            void 0 !== this.handleResize_ &&
              (removeEventListener(Gt.RESIZE, this.handleResize_, !1),
              (this.handleResize_ = void 0)),
            this.animationDelayKey_ &&
              (cancelAnimationFrame(this.animationDelayKey_),
              (this.animationDelayKey_ = void 0)),
            this.setTarget(null),
            t.prototype.disposeInternal.call(this);
        }),
        (e.prototype.forEachFeatureAtPixel = function (t, e, n) {
          if (this.frameState_) {
            var i = this.getCoordinateFromPixel(t),
              r =
                void 0 !== (n = void 0 !== n ? n : {}).hitTolerance
                  ? n.hitTolerance * this.frameState_.pixelRatio
                  : 0,
              o = void 0 !== n.layerFilter ? n.layerFilter : Pt;
            return this.renderer_.forEachFeatureAtCoordinate(
              i,
              this.frameState_,
              r,
              e,
              null,
              o,
              null
            );
          }
        }),
        (e.prototype.getFeaturesAtPixel = function (t, e) {
          var n = null;
          return (
            this.forEachFeatureAtPixel(
              t,
              function (t) {
                n || (n = []), n.push(t);
              },
              e
            ),
            n
          );
        }),
        (e.prototype.forEachLayerAtPixel = function (t, e, n) {
          if (this.frameState_) {
            var i = n || {},
              r =
                void 0 !== i.hitTolerance
                  ? n.hitTolerance * this.frameState_.pixelRatio
                  : 0,
              o = i.layerFilter || Pt;
            return this.renderer_.forEachLayerAtPixel(
              t,
              this.frameState_,
              r,
              e,
              null,
              o,
              null
            );
          }
        }),
        (e.prototype.hasFeatureAtPixel = function (t, e) {
          if (!this.frameState_) return !1;
          var n = this.getCoordinateFromPixel(t),
            i =
              void 0 !== (e = void 0 !== e ? e : {}).layerFilter
                ? e.layerFilter
                : Pt,
            r =
              void 0 !== e.hitTolerance
                ? e.hitTolerance * this.frameState_.pixelRatio
                : 0;
          return this.renderer_.hasFeatureAtCoordinate(
            n,
            this.frameState_,
            r,
            i,
            null
          );
        }),
        (e.prototype.getEventCoordinate = function (t) {
          return this.getCoordinateFromPixel(this.getEventPixel(t));
        }),
        (e.prototype.getEventPixel = function (t) {
          var e = this.viewport_.getBoundingClientRect(),
            n = "changedTouches" in t ? t.changedTouches[0] : t;
          return [n.clientX - e.left, n.clientY - e.top];
        }),
        (e.prototype.getTarget = function () {
          return this.get(Jo.TARGET);
        }),
        (e.prototype.getTargetElement = function () {
          var t = this.getTarget();
          return void 0 !== t
            ? "string" == typeof t
              ? document.getElementById(t)
              : t
            : null;
        }),
        (e.prototype.getCoordinateFromPixel = function (t) {
          var e = this.frameState_;
          return e ? Ji(e.pixelToCoordinateTransform, t.slice()) : null;
        }),
        (e.prototype.getControls = function () {
          return this.controls;
        }),
        (e.prototype.getOverlays = function () {
          return this.overlays_;
        }),
        (e.prototype.getOverlayById = function (t) {
          var e = this.overlayIdIndex_[t.toString()];
          return void 0 !== e ? e : null;
        }),
        (e.prototype.getInteractions = function () {
          return this.interactions;
        }),
        (e.prototype.getLayerGroup = function () {
          return this.get(Jo.LAYERGROUP);
        }),
        (e.prototype.getLayers = function () {
          return this.getLayerGroup().getLayers();
        }),
        (e.prototype.getPixelFromCoordinate = function (t) {
          var e = this.frameState_;
          return e ? Ji(e.coordinateToPixelTransform, t.slice(0, 2)) : null;
        }),
        (e.prototype.getRenderer = function () {
          return this.renderer_;
        }),
        (e.prototype.getSize = function () {
          return this.get(Jo.SIZE);
        }),
        (e.prototype.getView = function () {
          return this.get(Jo.VIEW);
        }),
        (e.prototype.getViewport = function () {
          return this.viewport_;
        }),
        (e.prototype.getOverlayContainer = function () {
          return this.overlayContainer_;
        }),
        (e.prototype.getOverlayContainerStopEvent = function () {
          return this.overlayContainerStopEvent_;
        }),
        (e.prototype.getTilePriority = function (t, e, n, i) {
          var r = this.frameState_;
          if (!(r && e in r.wantedTiles)) return 1 / 0;
          if (!r.wantedTiles[e][t.getKey()]) return 1 / 0;
          var o = n[0] - r.focus[0],
            s = n[1] - r.focus[1];
          return 65536 * Math.log(i) + Math.sqrt(o * o + s * s) / i;
        }),
        (e.prototype.handleBrowserEvent = function (t, e) {
          var n = e || t.type,
            i = new no(n, this, t);
          this.handleMapBrowserEvent(i);
        }),
        (e.prototype.handleMapBrowserEvent = function (t) {
          if (this.frameState_) {
            (this.focus_ = t.coordinate), (t.frameState = this.frameState_);
            var e = this.getInteractions().getArray();
            if (!1 !== this.dispatchEvent(t))
              for (var n = e.length - 1; n >= 0; n--) {
                var i = e[n];
                if (i.getActive()) if (!i.handleEvent(t)) break;
              }
          }
        }),
        (e.prototype.handlePostRender = function () {
          var t = this.frameState_,
            e = this.tileQueue_;
          if (!e.isEmpty()) {
            var n = this.maxTilesLoading_,
              i = n;
            if (t) {
              var r = t.viewHints;
              r[as] && ((n = this.loadTilesWhileAnimating_ ? 8 : 0), (i = 2)),
                r[us] &&
                  ((n = this.loadTilesWhileInteracting_ ? 8 : 0), (i = 2));
            }
            e.getTilesLoading() < n &&
              (e.reprioritize(), e.loadMoreTiles(n, i));
          }
          !t ||
            !this.hasListener(es) ||
            t.animate ||
            this.tileQueue_.getTilesLoading() ||
            (function t(e) {
              for (var n = 0, i = e.length; n < i; ++n) {
                var r = e[n];
                if ("function" == typeof r.getLayers)
                  return t(r.getLayers().getArray());
                var o = r.getSource();
                if (o && o.loading) return !0;
              }
              return !1;
            })(this.getLayers().getArray()) ||
            this.renderer_.dispatchRenderEvent(es, t);
          for (
            var o = this.postRenderFunctions_, s = 0, a = o.length;
            s < a;
            ++s
          )
            o[s](this, t);
          o.length = 0;
        }),
        (e.prototype.handleSizeChanged_ = function () {
          this.render();
        }),
        (e.prototype.handleTargetChanged_ = function () {
          var t;
          if (
            (this.getTarget() && (t = this.getTargetElement()),
            this.keyHandlerKeys_)
          ) {
            for (var e = 0, n = this.keyHandlerKeys_.length; e < n; ++e)
              Nt(this.keyHandlerKeys_[e]);
            this.keyHandlerKeys_ = null;
          }
          if (t) {
            t.appendChild(this.viewport_);
            var i = this.keyboardEventTarget_ ? this.keyboardEventTarget_ : t;
            (this.keyHandlerKeys_ = [
              Lt(i, Gt.KEYDOWN, this.handleBrowserEvent, this),
              Lt(i, Gt.KEYPRESS, this.handleBrowserEvent, this),
            ]),
              this.handleResize_ ||
                ((this.handleResize_ = this.updateSize.bind(this)),
                window.addEventListener(Gt.RESIZE, this.handleResize_, !1));
          } else
            this.renderer_.removeLayerRenderers(),
              Yt(this.viewport_),
              void 0 !== this.handleResize_ &&
                (removeEventListener(Gt.RESIZE, this.handleResize_, !1),
                (this.handleResize_ = void 0));
          this.updateSize();
        }),
        (e.prototype.handleTileChange_ = function () {
          this.render();
        }),
        (e.prototype.handleViewPropertyChanged_ = function () {
          this.render();
        }),
        (e.prototype.handleViewChanged_ = function () {
          this.viewPropertyListenerKey_ &&
            (Nt(this.viewPropertyListenerKey_),
            (this.viewPropertyListenerKey_ = null)),
            this.viewChangeListenerKey_ &&
              (Nt(this.viewChangeListenerKey_),
              (this.viewChangeListenerKey_ = null));
          var t = this.getView();
          t &&
            (this.viewport_.setAttribute("data-view", ft(t)),
            (this.viewPropertyListenerKey_ = Lt(
              t,
              kn,
              this.handleViewPropertyChanged_,
              this
            )),
            (this.viewChangeListenerKey_ = Lt(
              t,
              Gt.CHANGE,
              this.handleViewPropertyChanged_,
              this
            ))),
            this.render();
        }),
        (e.prototype.handleLayerGroupChanged_ = function () {
          this.layerGroupPropertyListenerKeys_ &&
            (this.layerGroupPropertyListenerKeys_.forEach(Nt),
            (this.layerGroupPropertyListenerKeys_ = null));
          var t = this.getLayerGroup();
          t &&
            (this.layerGroupPropertyListenerKeys_ = [
              Lt(t, kn, this.render, this),
              Lt(t, Gt.CHANGE, this.render, this),
            ]),
            this.render();
        }),
        (e.prototype.isRendered = function () {
          return !!this.frameState_;
        }),
        (e.prototype.renderSync = function () {
          this.animationDelayKey_ &&
            cancelAnimationFrame(this.animationDelayKey_),
            this.animationDelay_();
        }),
        (e.prototype.render = function () {
          void 0 === this.animationDelayKey_ &&
            (this.animationDelayKey_ = requestAnimationFrame(
              this.animationDelay_
            ));
        }),
        (e.prototype.removeControl = function (t) {
          return this.getControls().remove(t);
        }),
        (e.prototype.removeInteraction = function (t) {
          return this.getInteractions().remove(t);
        }),
        (e.prototype.removeLayer = function (t) {
          return this.getLayerGroup().getLayers().remove(t);
        }),
        (e.prototype.removeOverlay = function (t) {
          return this.getOverlays().remove(t);
        }),
        (e.prototype.renderFrame_ = function (t) {
          var e,
            n = this.getSize(),
            i = this.getView(),
            r = [1 / 0, 1 / 0, -1 / 0, -1 / 0],
            o = this.frameState_,
            s = null;
          if (
            void 0 !== n &&
            (function (t) {
              return t[0] > 0 && t[1] > 0;
            })(n) &&
            i &&
            i.isDef()
          ) {
            for (
              var a = i.getHints(
                  this.frameState_ ? this.frameState_.viewHints : void 0
                ),
                u = this.getLayerGroup().getLayerStatesArray(),
                c = {},
                h = 0,
                l = u.length;
              h < l;
              ++h
            )
              c[ft(u[h].layer)] = u[h];
            (e = i.getState(this.pixelRatio_)),
              (s = {
                animate: !1,
                coordinateToPixelTransform: this.coordinateToPixelTransform_,
                extent: r,
                focus: this.focus_ ? this.focus_ : e.center,
                index: this.frameIndex_++,
                layerStates: c,
                layerStatesArray: u,
                pixelRatio: this.pixelRatio_,
                pixelToCoordinateTransform: this.pixelToCoordinateTransform_,
                postRenderFunctions: [],
                size: n,
                skippedFeatureUids: this.skippedFeatureUids_,
                tileQueue: this.tileQueue_,
                time: t,
                usedTiles: {},
                viewState: e,
                viewHints: a,
                wantedTiles: {},
              });
          }
          if (
            (s &&
              (s.extent = De(e.center, e.resolution, e.rotation, s.size, r)),
            (this.frameState_ = s),
            this.renderer_.renderFrame(s),
            s)
          ) {
            if (
              (s.animate && this.render(),
              Array.prototype.push.apply(
                this.postRenderFunctions_,
                s.postRenderFunctions
              ),
              o)
            )
              (!this.previousExtent_ ||
                (!Ye(this.previousExtent_) &&
                  !we(s.extent, this.previousExtent_))) &&
                (this.dispatchEvent(new Jr(Ko, this, o)),
                (this.previousExtent_ = be(this.previousExtent_)));
            this.previousExtent_ &&
              !s.viewHints[as] &&
              !s.viewHints[us] &&
              !we(s.extent, this.previousExtent_) &&
              (this.dispatchEvent(new Jr(Zo, this, s)),
              de(s.extent, this.previousExtent_));
          }
          this.dispatchEvent(new Jr(Ho, this, s)),
            setTimeout(this.handlePostRender.bind(this), 0);
        }),
        (e.prototype.setLayerGroup = function (t) {
          this.set(Jo.LAYERGROUP, t);
        }),
        (e.prototype.setSize = function (t) {
          this.set(Jo.SIZE, t);
        }),
        (e.prototype.setTarget = function (t) {
          this.set(Jo.TARGET, t);
        }),
        (e.prototype.setView = function (t) {
          this.set(Jo.VIEW, t);
        }),
        (e.prototype.skipFeature = function (t) {
          (this.skippedFeatureUids_[ft(t)] = !0), this.render();
        }),
        (e.prototype.updateSize = function () {
          var t = this.getTargetElement();
          if (t) {
            var e = getComputedStyle(t);
            this.setSize([
              t.offsetWidth -
                parseFloat(e.borderLeftWidth) -
                parseFloat(e.paddingLeft) -
                parseFloat(e.paddingRight) -
                parseFloat(e.borderRightWidth),
              t.offsetHeight -
                parseFloat(e.borderTopWidth) -
                parseFloat(e.paddingTop) -
                parseFloat(e.paddingBottom) -
                parseFloat(e.borderBottomWidth),
            ]);
          } else this.setSize(void 0);
        }),
        (e.prototype.unskipFeature = function (t) {
          delete this.skippedFeatureUids_[ft(t)], this.render();
        }),
        e
      );
    })(Un);
    var Is,
      Ss,
      Cs = (function (t) {
        function e(e) {
          t.call(this),
            (this.element = e.element ? e.element : null),
            (this.target_ = null),
            (this.map_ = null),
            (this.listenerKeys = []),
            (this.render = e.render ? e.render : kt),
            e.target && this.setTarget(e.target);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.disposeInternal = function () {
            Yt(this.element), t.prototype.disposeInternal.call(this);
          }),
          (e.prototype.getMap = function () {
            return this.map_;
          }),
          (e.prototype.setMap = function (t) {
            this.map_ && Yt(this.element);
            for (var e = 0, n = this.listenerKeys.length; e < n; ++e)
              Nt(this.listenerKeys[e]);
            ((this.listenerKeys.length = 0), (this.map_ = t), this.map_) &&
              ((this.target_
                ? this.target_
                : t.getOverlayContainerStopEvent()
              ).appendChild(this.element),
              this.render !== kt &&
                this.listenerKeys.push(Lt(t, Ho, this.render, this)),
              t.render());
          }),
          (e.prototype.setTarget = function (t) {
            this.target_ =
              "string" == typeof t ? document.getElementById(t) : t;
          }),
          e
        );
      })(Un),
      Ts = "ol-hidden",
      Os = "ol-unselectable",
      Rs = "ol-control",
      Ls = "ol-collapsed",
      Ms =
        ((Ss = {}),
        function (t) {
          if ((Is || (Is = document.createElement("div").style), !(t in Ss))) {
            Is.font = t;
            var e = Is.fontFamily;
            if (((Is.font = ""), !e)) return null;
            Ss[t] = e.split(/,\s?/);
          }
          return Ss[t];
        });
    function As(t, e) {
      return t.visible && e >= t.minResolution && e < t.maxResolution;
    }
    var Ns = (function (t) {
      function e(e) {
        var n = bt({}, e);
        delete n.source,
          t.call(this, n),
          (this.mapPrecomposeKey_ = null),
          (this.mapRenderKey_ = null),
          (this.sourceChangeKey_ = null),
          e.map && this.setMap(e.map),
          Lt(this, Bn(ms.SOURCE), this.handleSourcePropertyChange_, this);
        var i = e.source ? e.source : null;
        this.setSource(i);
      }
      return (
        t && (e.__proto__ = t),
        (e.prototype = Object.create(t && t.prototype)),
        (e.prototype.constructor = e),
        (e.prototype.getLayersArray = function (t) {
          var e = t || [];
          return e.push(this), e;
        }),
        (e.prototype.getLayerStatesArray = function (t) {
          var e = t || [];
          return e.push(this.getLayerState()), e;
        }),
        (e.prototype.getSource = function () {
          return this.get(ms.SOURCE) || null;
        }),
        (e.prototype.getSourceState = function () {
          var t = this.getSource();
          return t ? t.getState() : Yn.UNDEFINED;
        }),
        (e.prototype.handleSourceChange_ = function () {
          this.changed();
        }),
        (e.prototype.handleSourcePropertyChange_ = function () {
          this.sourceChangeKey_ &&
            (Nt(this.sourceChangeKey_), (this.sourceChangeKey_ = null));
          var t = this.getSource();
          t &&
            (this.sourceChangeKey_ = Lt(
              t,
              Gt.CHANGE,
              this.handleSourceChange_,
              this
            )),
            this.changed();
        }),
        (e.prototype.setMap = function (t) {
          this.mapPrecomposeKey_ &&
            (Nt(this.mapPrecomposeKey_), (this.mapPrecomposeKey_ = null)),
            t || this.changed(),
            this.mapRenderKey_ &&
              (Nt(this.mapRenderKey_), (this.mapRenderKey_ = null)),
            t &&
              ((this.mapPrecomposeKey_ = Lt(
                t,
                $o,
                function (t) {
                  var e = t,
                    n = this.getLayerState();
                  (n.managed = !1),
                    void 0 === this.getZIndex() && (n.zIndex = 1 / 0),
                    e.frameState.layerStatesArray.push(n),
                    (e.frameState.layerStates[ft(this)] = n);
                },
                this
              )),
              (this.mapRenderKey_ = Lt(this, Gt.CHANGE, t.render, t)),
              this.changed());
        }),
        (e.prototype.setSource = function (t) {
          this.set(ms.SOURCE, t);
        }),
        e
      );
    })(xs);
    function Ps(t) {
      this.updateElement_(t.frameState);
    }
    var Ds = (function (t) {
      function e(e) {
        var n = e || {};
        t.call(this, {
          element: document.createElement("div"),
          render: n.render || Ps,
          target: n.target,
        }),
          (this.ulElement_ = document.createElement("ul")),
          (this.collapsed_ = void 0 === n.collapsed || n.collapsed),
          (this.overrideCollapsible_ = void 0 !== n.collapsible),
          (this.collapsible_ = void 0 === n.collapsible || n.collapsible),
          this.collapsible_ || (this.collapsed_ = !1);
        var i = void 0 !== n.className ? n.className : "ol-attribution",
          r = void 0 !== n.tipLabel ? n.tipLabel : "Attributions",
          o = void 0 !== n.collapseLabel ? n.collapseLabel : "»";
        "string" == typeof o
          ? ((this.collapseLabel_ = document.createElement("span")),
            (this.collapseLabel_.textContent = o))
          : (this.collapseLabel_ = o);
        var s = void 0 !== n.label ? n.label : "i";
        "string" == typeof s
          ? ((this.label_ = document.createElement("span")),
            (this.label_.textContent = s))
          : (this.label_ = s);
        var a =
            this.collapsible_ && !this.collapsed_
              ? this.collapseLabel_
              : this.label_,
          u = document.createElement("button");
        u.setAttribute("type", "button"),
          (u.title = r),
          u.appendChild(a),
          Lt(u, Gt.CLICK, this.handleClick_, this);
        var c =
            i +
            " " +
            Os +
            " " +
            Rs +
            (this.collapsed_ && this.collapsible_ ? " " + Ls : "") +
            (this.collapsible_ ? "" : " ol-uncollapsible"),
          h = this.element;
        (h.className = c),
          h.appendChild(this.ulElement_),
          h.appendChild(u),
          (this.renderedAttributions_ = []),
          (this.renderedVisible_ = !0);
      }
      return (
        t && (e.__proto__ = t),
        (e.prototype = Object.create(t && t.prototype)),
        (e.prototype.constructor = e),
        (e.prototype.collectSourceAttributions_ = function (t) {
          for (
            var e = {},
              n = [],
              i = t.layerStatesArray,
              r = t.viewState.resolution,
              o = 0,
              s = i.length;
            o < s;
            ++o
          ) {
            var a = i[o];
            if (As(a, r)) {
              var u = a.layer.getSource();
              if (u) {
                var c = u.getAttributions();
                if (c) {
                  var h = c(t);
                  if (h)
                    if (
                      (this.overrideCollapsible_ ||
                        !1 !== u.getAttributionsCollapsible() ||
                        this.setCollapsible(!1),
                      Array.isArray(h))
                    )
                      for (var l = 0, p = h.length; l < p; ++l)
                        h[l] in e || (n.push(h[l]), (e[h[l]] = !0));
                    else h in e || (n.push(h), (e[h] = !0));
                }
              }
            }
          }
          return n;
        }),
        (e.prototype.updateElement_ = function (t) {
          if (t) {
            var e = this.collectSourceAttributions_(t),
              n = e.length > 0;
            if (
              (this.renderedVisible_ != n &&
                ((this.element.style.display = n ? "" : "none"),
                (this.renderedVisible_ = n)),
              !ti(e, this.renderedAttributions_))
            ) {
              !(function (t) {
                for (; t.lastChild; ) t.removeChild(t.lastChild);
              })(this.ulElement_);
              for (var i = 0, r = e.length; i < r; ++i) {
                var o = document.createElement("li");
                (o.innerHTML = e[i]), this.ulElement_.appendChild(o);
              }
              this.renderedAttributions_ = e;
            }
          } else
            this.renderedVisible_ &&
              ((this.element.style.display = "none"),
              (this.renderedVisible_ = !1));
        }),
        (e.prototype.handleClick_ = function (t) {
          t.preventDefault(), this.handleToggle_();
        }),
        (e.prototype.handleToggle_ = function () {
          this.element.classList.toggle(Ls),
            this.collapsed_
              ? Ut(this.collapseLabel_, this.label_)
              : Ut(this.label_, this.collapseLabel_),
            (this.collapsed_ = !this.collapsed_);
        }),
        (e.prototype.getCollapsible = function () {
          return this.collapsible_;
        }),
        (e.prototype.setCollapsible = function (t) {
          this.collapsible_ !== t &&
            ((this.collapsible_ = t),
            this.element.classList.toggle("ol-uncollapsible"),
            !t && this.collapsed_ && this.handleToggle_());
        }),
        (e.prototype.setCollapsed = function (t) {
          this.collapsible_ && this.collapsed_ !== t && this.handleToggle_();
        }),
        (e.prototype.getCollapsed = function () {
          return this.collapsed_;
        }),
        e
      );
    })(Cs);
    function ks(t) {
      var e = t.frameState;
      if (e) {
        var n = e.viewState.rotation;
        if (n != this.rotation_) {
          var i = "rotate(" + n + "rad)";
          if (this.autoHide_) {
            var r = this.element.classList.contains(Ts);
            r || 0 !== n
              ? r && 0 !== n && this.element.classList.remove(Ts)
              : this.element.classList.add(Ts);
          }
          (this.label_.style.msTransform = i),
            (this.label_.style.webkitTransform = i),
            (this.label_.style.transform = i);
        }
        this.rotation_ = n;
      }
    }
    var Fs = (function (t) {
        function e(e) {
          var n = e || {};
          t.call(this, {
            element: document.createElement("div"),
            render: n.render || ks,
            target: n.target,
          });
          var i = void 0 !== n.className ? n.className : "ol-rotate",
            r = void 0 !== n.label ? n.label : "⇧";
          (this.label_ = null),
            "string" == typeof r
              ? ((this.label_ = document.createElement("span")),
                (this.label_.className = "ol-compass"),
                (this.label_.textContent = r))
              : ((this.label_ = r), this.label_.classList.add("ol-compass"));
          var o = n.tipLabel ? n.tipLabel : "Reset rotation",
            s = document.createElement("button");
          (s.className = i + "-reset"),
            s.setAttribute("type", "button"),
            (s.title = o),
            s.appendChild(this.label_),
            Lt(s, Gt.CLICK, this.handleClick_, this);
          var a = i + " " + Os + " " + Rs,
            u = this.element;
          (u.className = a),
            u.appendChild(s),
            (this.callResetNorth_ = n.resetNorth ? n.resetNorth : void 0),
            (this.duration_ = void 0 !== n.duration ? n.duration : 250),
            (this.autoHide_ = void 0 === n.autoHide || n.autoHide),
            (this.rotation_ = void 0),
            this.autoHide_ && this.element.classList.add(Ts);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.handleClick_ = function (t) {
            t.preventDefault(),
              void 0 !== this.callResetNorth_
                ? this.callResetNorth_()
                : this.resetNorth_();
          }),
          (e.prototype.resetNorth_ = function () {
            var t = this.getMap().getView();
            t &&
              void 0 !== t.getRotation() &&
              (this.duration_ > 0
                ? t.animate({
                    rotation: 0,
                    duration: this.duration_,
                    easing: _t,
                  })
                : t.setRotation(0));
          }),
          e
        );
      })(Cs),
      Gs = (function (t) {
        function e(e) {
          var n = e || {};
          t.call(this, {
            element: document.createElement("div"),
            target: n.target,
          });
          var i = void 0 !== n.className ? n.className : "ol-zoom",
            r = void 0 !== n.delta ? n.delta : 1,
            o = void 0 !== n.zoomInLabel ? n.zoomInLabel : "+",
            s = void 0 !== n.zoomOutLabel ? n.zoomOutLabel : "−",
            a = void 0 !== n.zoomInTipLabel ? n.zoomInTipLabel : "Zoom in",
            u = void 0 !== n.zoomOutTipLabel ? n.zoomOutTipLabel : "Zoom out",
            c = document.createElement("button");
          (c.className = i + "-in"),
            c.setAttribute("type", "button"),
            (c.title = a),
            c.appendChild(
              "string" == typeof o ? document.createTextNode(o) : o
            ),
            Lt(c, Gt.CLICK, this.handleClick_.bind(this, r));
          var h = document.createElement("button");
          (h.className = i + "-out"),
            h.setAttribute("type", "button"),
            (h.title = u),
            h.appendChild(
              "string" == typeof s ? document.createTextNode(s) : s
            ),
            Lt(h, Gt.CLICK, this.handleClick_.bind(this, -r));
          var l = i + " " + Os + " " + Rs,
            p = this.element;
          (p.className = l),
            p.appendChild(c),
            p.appendChild(h),
            (this.duration_ = void 0 !== n.duration ? n.duration : 250);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.handleClick_ = function (t, e) {
            e.preventDefault(), this.zoomByDelta_(t);
          }),
          (e.prototype.zoomByDelta_ = function (t) {
            var e = this.getMap().getView();
            if (e) {
              var n = e.getResolution();
              if (n) {
                var i = e.constrainResolution(n, t);
                this.duration_ > 0
                  ? (e.getAnimating() && e.cancelAnimations(),
                    e.animate({
                      resolution: i,
                      duration: this.duration_,
                      easing: _t,
                    }))
                  : e.setResolution(i);
              }
            }
          }),
          e
        );
      })(Cs);
    var js = function (t, e, n) {
      (this.decay_ = t),
        (this.minVelocity_ = e),
        (this.delay_ = n),
        (this.points_ = []),
        (this.angle_ = 0),
        (this.initialVelocity_ = 0);
    };
    (js.prototype.begin = function () {
      (this.points_.length = 0), (this.angle_ = 0), (this.initialVelocity_ = 0);
    }),
      (js.prototype.update = function (t, e) {
        this.points_.push(t, e, Date.now());
      }),
      (js.prototype.end = function () {
        if (this.points_.length < 6) return !1;
        var t = Date.now() - this.delay_,
          e = this.points_.length - 3;
        if (this.points_[e + 2] < t) return !1;
        for (var n = e - 3; n > 0 && this.points_[n + 2] > t; ) n -= 3;
        var i = this.points_[e + 2] - this.points_[n + 2];
        if (i < 1e3 / 60) return !1;
        var r = this.points_[e] - this.points_[n],
          o = this.points_[e + 1] - this.points_[n + 1];
        return (
          (this.angle_ = Math.atan2(o, r)),
          (this.initialVelocity_ = Math.sqrt(r * r + o * o) / i),
          this.initialVelocity_ > this.minVelocity_
        );
      }),
      (js.prototype.getDistance = function () {
        return (this.minVelocity_ - this.initialVelocity_) / this.decay_;
      }),
      (js.prototype.getAngle = function () {
        return this.angle_;
      });
    var Bs = js,
      Us = "active";
    function Ys(t, e, n, i) {
      (e = t.constrainRotation(e, 0)), Xs(t, e, n, i);
    }
    function Xs(t, e, n, i) {
      if (void 0 !== e) {
        var r = t.getRotation(),
          o = t.getCenter();
        void 0 !== r && o && i > 0
          ? t.animate({ rotation: e, anchor: n, duration: i, easing: _t })
          : t.rotate(e, n);
      }
    }
    function zs(t, e, n, i, r) {
      (e = t.constrainResolution(e, 0, r)), qs(t, e, n, i);
    }
    function Vs(t, e, n, i) {
      var r = t.getResolution(),
        o = t.constrainResolution(r, e, 0);
      if (void 0 !== o) {
        var s = t.getResolutions();
        o = Qt(
          o,
          t.getMinResolution() || s[s.length - 1],
          t.getMaxResolution() || s[0]
        );
      }
      if (n && void 0 !== o && o !== r) {
        var a = t.getCenter(),
          u = t.calculateCenterZoom(o, n);
        (u = t.constrainCenter(u)),
          (n = [
            (o * a[0] - r * u[0]) / (o - r),
            (o * a[1] - r * u[1]) / (o - r),
          ]);
      }
      qs(t, o, n, i);
    }
    function qs(t, e, n, i) {
      if (e) {
        var r = t.getResolution(),
          o = t.getCenter();
        if (void 0 !== r && o && e !== r && i)
          t.animate({ resolution: e, anchor: n, duration: i, easing: _t });
        else {
          if (n) {
            var s = t.calculateCenterZoom(e, n);
            t.setCenter(s);
          }
          t.setResolution(e);
        }
      }
    }
    var Ws = (function (t) {
      function e(e) {
        t.call(this),
          e.handleEvent && (this.handleEvent = e.handleEvent),
          (this.map_ = null),
          this.setActive(!0);
      }
      return (
        t && (e.__proto__ = t),
        (e.prototype = Object.create(t && t.prototype)),
        (e.prototype.constructor = e),
        (e.prototype.getActive = function () {
          return this.get(Us);
        }),
        (e.prototype.getMap = function () {
          return this.map_;
        }),
        (e.prototype.handleEvent = function (t) {
          return !0;
        }),
        (e.prototype.setActive = function (t) {
          this.set(Us, t);
        }),
        (e.prototype.setMap = function (t) {
          this.map_ = t;
        }),
        e
      );
    })(Un);
    function Hs(t) {
      var e = !1;
      if (t.type == io.DBLCLICK) {
        var n = t.originalEvent,
          i = t.map,
          r = t.coordinate,
          o = n.shiftKey ? -this.delta_ : this.delta_;
        Vs(i.getView(), o, r, this.duration_), t.preventDefault(), (e = !0);
      }
      return !e;
    }
    var Ks = (function (t) {
        function e(e) {
          t.call(this, { handleEvent: Hs });
          var n = e || {};
          (this.delta_ = n.delta ? n.delta : 1),
            (this.duration_ = void 0 !== n.duration ? n.duration : 250);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(Ws),
      Zs = function (t) {
        var e = t.originalEvent;
        return e.altKey && !(e.metaKey || e.ctrlKey) && !e.shiftKey;
      },
      Js = function (t) {
        var e = t.originalEvent;
        return e.altKey && !(e.metaKey || e.ctrlKey) && e.shiftKey;
      },
      Qs = function (t) {
        return t.target.getTargetElement() === document.activeElement;
      },
      $s = Pt,
      ta = function (t) {
        var e = t.originalEvent;
        return 0 == e.button && !(Br && Ur && e.ctrlKey);
      },
      ea = function (t) {
        var e = t.originalEvent;
        return !e.altKey && !(e.metaKey || e.ctrlKey) && !e.shiftKey;
      },
      na = function (t) {
        var e = t.originalEvent;
        return !e.altKey && !(e.metaKey || e.ctrlKey) && e.shiftKey;
      },
      ia = function (t) {
        var e = t.originalEvent.target.tagName;
        return "INPUT" !== e && "SELECT" !== e && "TEXTAREA" !== e;
      },
      ra = function (t) {
        var e = t.pointerEvent;
        return qt(void 0 !== e, 56), "mouse" == e.pointerType;
      };
    function oa(t) {
      for (var e = t.length, n = 0, i = 0, r = 0; r < e; r++)
        (n += t[r].clientX), (i += t[r].clientY);
      return [n / e, i / e];
    }
    var sa = (function (t) {
        function e(e) {
          var n = e || {};
          t.call(this, n),
            n.handleDownEvent && (this.handleDownEvent = n.handleDownEvent),
            n.handleDragEvent && (this.handleDragEvent = n.handleDragEvent),
            n.handleMoveEvent && (this.handleMoveEvent = n.handleMoveEvent),
            n.handleUpEvent && (this.handleUpEvent = n.handleUpEvent),
            n.stopDown && (this.stopDown = n.stopDown),
            (this.handlingDownUpSequence = !1),
            (this.trackedPointers_ = {}),
            (this.targetPointers = []);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.handleDownEvent = function (t) {
            return !1;
          }),
          (e.prototype.handleDragEvent = function (t) {}),
          (e.prototype.handleEvent = function (t) {
            if (!t.pointerEvent) return !0;
            var e = !1;
            if ((this.updateTrackedPointers_(t), this.handlingDownUpSequence)) {
              if (t.type == io.POINTERDRAG) this.handleDragEvent(t);
              else if (t.type == io.POINTERUP) {
                var n = this.handleUpEvent(t);
                this.handlingDownUpSequence =
                  n && this.targetPointers.length > 0;
              }
            } else if (t.type == io.POINTERDOWN) {
              var i = this.handleDownEvent(t);
              i && t.preventDefault(),
                (this.handlingDownUpSequence = i),
                (e = this.stopDown(i));
            } else t.type == io.POINTERMOVE && this.handleMoveEvent(t);
            return !e;
          }),
          (e.prototype.handleMoveEvent = function (t) {}),
          (e.prototype.handleUpEvent = function (t) {
            return !1;
          }),
          (e.prototype.stopDown = function (t) {
            return t;
          }),
          (e.prototype.updateTrackedPointers_ = function (t) {
            if (
              (function (t) {
                var e = t.type;
                return (
                  e === io.POINTERDOWN ||
                  e === io.POINTERDRAG ||
                  e === io.POINTERUP
                );
              })(t)
            ) {
              var e = t.pointerEvent,
                n = e.pointerId.toString();
              t.type == io.POINTERUP
                ? delete this.trackedPointers_[n]
                : t.type == io.POINTERDOWN
                ? (this.trackedPointers_[n] = e)
                : n in this.trackedPointers_ && (this.trackedPointers_[n] = e),
                (this.targetPointers = It(this.trackedPointers_));
            }
          }),
          e
        );
      })(Ws),
      aa = (function (t) {
        function e(e) {
          t.call(this, { stopDown: Dt });
          var n = e || {};
          (this.kinetic_ = n.kinetic),
            (this.lastCentroid = null),
            this.lastPointersCount_,
            (this.panning_ = !1),
            (this.condition_ = n.condition ? n.condition : ea),
            (this.noKinetic_ = !1);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.handleDragEvent = function (t) {
            this.panning_ ||
              ((this.panning_ = !0), this.getMap().getView().setHint(us, 1));
            var e = this.targetPointers,
              n = oa(e);
            if (e.length == this.lastPointersCount_) {
              if (
                (this.kinetic_ && this.kinetic_.update(n[0], n[1]),
                this.lastCentroid)
              ) {
                var i = this.lastCentroid[0] - n[0],
                  r = n[1] - this.lastCentroid[1],
                  o = t.map.getView(),
                  s = [i, r];
                ds(s, o.getResolution()),
                  fs(s, o.getRotation()),
                  ps(s, o.getCenter()),
                  (s = o.constrainCenter(s)),
                  o.setCenter(s);
              }
            } else this.kinetic_ && this.kinetic_.begin();
            (this.lastCentroid = n), (this.lastPointersCount_ = e.length);
          }),
          (e.prototype.handleUpEvent = function (t) {
            var e = t.map,
              n = e.getView();
            if (0 === this.targetPointers.length) {
              if (!this.noKinetic_ && this.kinetic_ && this.kinetic_.end()) {
                var i = this.kinetic_.getDistance(),
                  r = this.kinetic_.getAngle(),
                  o = n.getCenter(),
                  s = e.getPixelFromCoordinate(o),
                  a = e.getCoordinateFromPixel([
                    s[0] - i * Math.cos(r),
                    s[1] - i * Math.sin(r),
                  ]);
                n.animate({
                  center: n.constrainCenter(a),
                  duration: 500,
                  easing: _t,
                });
              }
              return (
                this.panning_ && ((this.panning_ = !1), n.setHint(us, -1)), !1
              );
            }
            return (
              this.kinetic_ && this.kinetic_.begin(),
              (this.lastCentroid = null),
              !0
            );
          }),
          (e.prototype.handleDownEvent = function (t) {
            if (this.targetPointers.length > 0 && this.condition_(t)) {
              var e = t.map.getView();
              return (
                (this.lastCentroid = null),
                e.getAnimating() && e.setCenter(t.frameState.viewState.center),
                this.kinetic_ && this.kinetic_.begin(),
                (this.noKinetic_ = this.targetPointers.length > 1),
                !0
              );
            }
            return !1;
          }),
          e
        );
      })(sa),
      ua = (function (t) {
        function e(e) {
          var n = e || {};
          t.call(this, { stopDown: Dt }),
            (this.condition_ = n.condition ? n.condition : Js),
            (this.lastAngle_ = void 0),
            (this.duration_ = void 0 !== n.duration ? n.duration : 250);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.handleDragEvent = function (t) {
            if (ra(t)) {
              var e = t.map,
                n = e.getView();
              if (n.getConstraints().rotation !== os) {
                var i = e.getSize(),
                  r = t.pixel,
                  o = Math.atan2(i[1] / 2 - r[1], r[0] - i[0] / 2);
                if (void 0 !== this.lastAngle_) {
                  var s = o - this.lastAngle_,
                    a = n.getRotation();
                  Xs(n, a - s);
                }
                this.lastAngle_ = o;
              }
            }
          }),
          (e.prototype.handleUpEvent = function (t) {
            if (!ra(t)) return !0;
            var e = t.map.getView();
            e.setHint(us, -1);
            var n = e.getRotation();
            return Ys(e, n, void 0, this.duration_), !1;
          }),
          (e.prototype.handleDownEvent = function (t) {
            return (
              !!ra(t) &&
              !(!ta(t) || !this.condition_(t)) &&
              (t.map.getView().setHint(us, 1), (this.lastAngle_ = void 0), !0)
            );
          }),
          e
        );
      })(sa),
      ca = (function (t) {
        function e(e) {
          t.call(this),
            (this.geometry_ = null),
            (this.element_ = document.createElement("div")),
            (this.element_.style.position = "absolute"),
            (this.element_.className = "ol-box " + e),
            (this.map_ = null),
            (this.startPixel_ = null),
            (this.endPixel_ = null);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.disposeInternal = function () {
            this.setMap(null);
          }),
          (e.prototype.render_ = function () {
            var t = this.startPixel_,
              e = this.endPixel_,
              n = this.element_.style;
            (n.left = Math.min(t[0], e[0]) + "px"),
              (n.top = Math.min(t[1], e[1]) + "px"),
              (n.width = Math.abs(e[0] - t[0]) + "px"),
              (n.height = Math.abs(e[1] - t[1]) + "px");
          }),
          (e.prototype.setMap = function (t) {
            if (this.map_) {
              this.map_.getOverlayContainer().removeChild(this.element_);
              var e = this.element_.style;
              e.left = e.top = e.width = e.height = "inherit";
            }
            (this.map_ = t),
              this.map_ &&
                this.map_.getOverlayContainer().appendChild(this.element_);
          }),
          (e.prototype.setPixels = function (t, e) {
            (this.startPixel_ = t),
              (this.endPixel_ = e),
              this.createOrUpdateGeometry(),
              this.render_();
          }),
          (e.prototype.createOrUpdateGeometry = function () {
            var t = this.startPixel_,
              e = this.endPixel_,
              n = [t, [t[0], e[1]], e, [e[0], t[1]]].map(
                this.map_.getCoordinateFromPixel,
                this.map_
              );
            (n[4] = n[0].slice()),
              this.geometry_
                ? this.geometry_.setCoordinates([n])
                : (this.geometry_ = new Dr([n]));
          }),
          (e.prototype.getGeometry = function () {
            return this.geometry_;
          }),
          e
        );
      })(Et),
      ha = "boxstart",
      la = "boxdrag",
      pa = "boxend",
      fa = (function (t) {
        function e(e, n, i) {
          t.call(this, e), (this.coordinate = n), (this.mapBrowserEvent = i);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(tt);
    function da() {
      var t,
        e,
        n = this.getMap(),
        i = n.getView(),
        r = n.getSize(),
        o = this.getGeometry().getExtent();
      if (this.out_) {
        var s = i.calculateExtent(r),
          a =
            ((t = [
              n.getPixelFromCoordinate(Me(o)),
              n.getPixelFromCoordinate(je(o)),
            ]),
            Ce(be(e), t));
        !(function (t, e) {
          var n = ((t[2] - t[0]) / 2) * (e - 1),
            i = ((t[3] - t[1]) / 2) * (e - 1);
          (t[0] -= n), (t[2] += n), (t[1] -= i), (t[3] += i);
        })(s, 1 / i.getResolutionForExtent(a, r)),
          (o = s);
      }
      var u = i.constrainResolution(i.getResolutionForExtent(o, r)),
        c = Ne(o);
      (c = i.constrainCenter(c)),
        i.animate({
          resolution: u,
          center: c,
          duration: this.duration_,
          easing: _t,
        });
    }
    var ga = (function (t) {
        function e(e) {
          var n = e || {},
            i = n.condition ? n.condition : na;
          t.call(this, {
            condition: i,
            className: n.className || "ol-dragzoom",
            onBoxEnd: da,
          }),
            (this.duration_ = void 0 !== n.duration ? n.duration : 200),
            (this.out_ = void 0 !== n.out && n.out);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(
        (function (t) {
          function e(e) {
            t.call(this);
            var n = e || {};
            (this.box_ = new ca(n.className || "ol-dragbox")),
              (this.minArea_ = void 0 !== n.minArea ? n.minArea : 64),
              (this.onBoxEnd_ = n.onBoxEnd ? n.onBoxEnd : kt),
              (this.startPixel_ = null),
              (this.condition_ = n.condition ? n.condition : $s),
              (this.boxEndCondition_ = n.boxEndCondition
                ? n.boxEndCondition
                : this.defaultBoxEndCondition);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.defaultBoxEndCondition = function (t, e, n) {
              var i = n[0] - e[0],
                r = n[1] - e[1];
              return i * i + r * r >= this.minArea_;
            }),
            (e.prototype.getGeometry = function () {
              return this.box_.getGeometry();
            }),
            (e.prototype.handleDragEvent = function (t) {
              ra(t) &&
                (this.box_.setPixels(this.startPixel_, t.pixel),
                this.dispatchEvent(new fa(la, t.coordinate, t)));
            }),
            (e.prototype.handleUpEvent = function (t) {
              return (
                !ra(t) ||
                (this.box_.setMap(null),
                this.boxEndCondition_(t, this.startPixel_, t.pixel) &&
                  (this.onBoxEnd_(t),
                  this.dispatchEvent(new fa(pa, t.coordinate, t))),
                !1)
              );
            }),
            (e.prototype.handleDownEvent = function (t) {
              return (
                !!ra(t) &&
                !(!ta(t) || !this.condition_(t)) &&
                ((this.startPixel_ = t.pixel),
                this.box_.setMap(t.map),
                this.box_.setPixels(this.startPixel_, this.startPixel_),
                this.dispatchEvent(new fa(ha, t.coordinate, t)),
                !0)
              );
            }),
            e
          );
        })(sa)
      ),
      ya = { LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40 };
    function _a(t) {
      var e = !1;
      if (t.type == Gt.KEYDOWN) {
        var n = t.originalEvent.keyCode;
        if (
          this.condition_(t) &&
          (n == ya.DOWN || n == ya.LEFT || n == ya.RIGHT || n == ya.UP)
        ) {
          var i = t.map.getView(),
            r = i.getResolution() * this.pixelDelta_,
            o = 0,
            s = 0;
          n == ya.DOWN
            ? (s = -r)
            : n == ya.LEFT
            ? (o = -r)
            : n == ya.RIGHT
            ? (o = r)
            : (s = r);
          var a = [o, s];
          fs(a, i.getRotation()),
            (function (t, e, n) {
              var i = t.getCenter();
              if (i) {
                var r = t.constrainCenter([i[0] + e[0], i[1] + e[1]]);
                n
                  ? t.animate({ duration: n, easing: mt, center: r })
                  : t.setCenter(r);
              }
            })(i, a, this.duration_),
            t.preventDefault(),
            (e = !0);
        }
      }
      return !e;
    }
    var va = (function (t) {
      function e(e) {
        t.call(this, { handleEvent: _a });
        var n = e || {};
        (this.defaultCondition_ = function (t) {
          return ea(t) && ia(t);
        }),
          (this.condition_ =
            void 0 !== n.condition ? n.condition : this.defaultCondition_),
          (this.duration_ = void 0 !== n.duration ? n.duration : 100),
          (this.pixelDelta_ = void 0 !== n.pixelDelta ? n.pixelDelta : 128);
      }
      return (
        t && (e.__proto__ = t),
        (e.prototype = Object.create(t && t.prototype)),
        (e.prototype.constructor = e),
        e
      );
    })(Ws);
    function ma(t) {
      var e = !1;
      if (t.type == Gt.KEYDOWN || t.type == Gt.KEYPRESS) {
        var n = t.originalEvent.charCode;
        if (
          this.condition_(t) &&
          (n == "+".charCodeAt(0) || n == "-".charCodeAt(0))
        ) {
          var i = t.map,
            r = n == "+".charCodeAt(0) ? this.delta_ : -this.delta_;
          Vs(i.getView(), r, void 0, this.duration_),
            t.preventDefault(),
            (e = !0);
        }
      }
      return !e;
    }
    var xa = (function (t) {
        function e(e) {
          t.call(this, { handleEvent: ma });
          var n = e || {};
          (this.condition_ = n.condition ? n.condition : ia),
            (this.delta_ = n.delta ? n.delta : 1),
            (this.duration_ = void 0 !== n.duration ? n.duration : 100);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(Ws),
      Ea = "trackpad",
      ba = "wheel",
      wa = (function (t) {
        function e(e) {
          var n = e || {};
          t.call(this, n),
            (this.delta_ = 0),
            (this.duration_ = void 0 !== n.duration ? n.duration : 250),
            (this.timeout_ = void 0 !== n.timeout ? n.timeout : 80),
            (this.useAnchor_ = void 0 === n.useAnchor || n.useAnchor),
            (this.constrainResolution_ = n.constrainResolution || !1),
            (this.condition_ = n.condition ? n.condition : $s),
            (this.lastAnchor_ = null),
            (this.startTime_ = void 0),
            this.timeoutId_,
            (this.mode_ = void 0),
            (this.trackpadEventGap_ = 400),
            this.trackpadTimeoutId_,
            (this.trackpadDeltaPerZoom_ = 300),
            (this.trackpadZoomBuffer_ = 1.5);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.decrementInteractingHint_ = function () {
            (this.trackpadTimeoutId_ = void 0),
              this.getMap().getView().setHint(us, -1);
          }),
          (e.prototype.handleEvent = function (t) {
            if (!this.condition_(t)) return !0;
            var e = t.type;
            if (e !== Gt.WHEEL && e !== Gt.MOUSEWHEEL) return !0;
            t.preventDefault();
            var n,
              i = t.map,
              r = t.originalEvent;
            if (
              (this.useAnchor_ && (this.lastAnchor_ = t.coordinate),
              t.type == Gt.WHEEL
                ? ((n = r.deltaY),
                  Gr && r.deltaMode === WheelEvent.DOM_DELTA_PIXEL && (n /= Yr),
                  r.deltaMode === WheelEvent.DOM_DELTA_LINE && (n *= 40))
                : t.type == Gt.MOUSEWHEEL &&
                  ((n = -r.wheelDeltaY), jr && (n /= 3)),
              0 === n)
            )
              return !1;
            var o = Date.now();
            if (
              (void 0 === this.startTime_ && (this.startTime_ = o),
              (!this.mode_ || o - this.startTime_ > this.trackpadEventGap_) &&
                (this.mode_ = Math.abs(n) < 4 ? Ea : ba),
              this.mode_ === Ea)
            ) {
              var s = i.getView();
              this.trackpadTimeoutId_
                ? clearTimeout(this.trackpadTimeoutId_)
                : s.setHint(us, 1),
                (this.trackpadTimeoutId_ = setTimeout(
                  this.decrementInteractingHint_.bind(this),
                  this.trackpadEventGap_
                ));
              var a =
                  s.getResolution() *
                  Math.pow(2, n / this.trackpadDeltaPerZoom_),
                u = s.getMinResolution(),
                c = s.getMaxResolution(),
                h = 0;
              if (
                (a < u
                  ? ((a = Math.max(a, u / this.trackpadZoomBuffer_)), (h = 1))
                  : a > c &&
                    ((a = Math.min(a, c * this.trackpadZoomBuffer_)), (h = -1)),
                this.lastAnchor_)
              ) {
                var l = s.calculateCenterZoom(a, this.lastAnchor_);
                s.setCenter(s.constrainCenter(l));
              }
              return (
                s.setResolution(a),
                0 === h &&
                  this.constrainResolution_ &&
                  s.animate({
                    resolution: s.constrainResolution(a, n > 0 ? -1 : 1),
                    easing: _t,
                    anchor: this.lastAnchor_,
                    duration: this.duration_,
                  }),
                h > 0
                  ? s.animate({
                      resolution: u,
                      easing: _t,
                      anchor: this.lastAnchor_,
                      duration: 500,
                    })
                  : h < 0 &&
                    s.animate({
                      resolution: c,
                      easing: _t,
                      anchor: this.lastAnchor_,
                      duration: 500,
                    }),
                (this.startTime_ = o),
                !1
              );
            }
            this.delta_ += n;
            var p = Math.max(this.timeout_ - (o - this.startTime_), 0);
            return (
              clearTimeout(this.timeoutId_),
              (this.timeoutId_ = setTimeout(
                this.handleWheelZoom_.bind(this, i),
                p
              )),
              !1
            );
          }),
          (e.prototype.handleWheelZoom_ = function (t) {
            var e = t.getView();
            e.getAnimating() && e.cancelAnimations();
            Vs(e, -Qt(this.delta_, -1, 1), this.lastAnchor_, this.duration_),
              (this.mode_ = void 0),
              (this.delta_ = 0),
              (this.lastAnchor_ = null),
              (this.startTime_ = void 0),
              (this.timeoutId_ = void 0);
          }),
          (e.prototype.setMouseAnchor = function (t) {
            (this.useAnchor_ = t), t || (this.lastAnchor_ = null);
          }),
          e
        );
      })(Ws),
      Ia = (function (t) {
        function e(e) {
          var n = e || {},
            i = n;
          i.stopDown || (i.stopDown = Dt),
            t.call(this, i),
            (this.anchor_ = null),
            (this.lastAngle_ = void 0),
            (this.rotating_ = !1),
            (this.rotationDelta_ = 0),
            (this.threshold_ = void 0 !== n.threshold ? n.threshold : 0.3),
            (this.duration_ = void 0 !== n.duration ? n.duration : 250);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.handleDragEvent = function (t) {
            var e = 0,
              n = this.targetPointers[0],
              i = this.targetPointers[1],
              r = Math.atan2(i.clientY - n.clientY, i.clientX - n.clientX);
            if (void 0 !== this.lastAngle_) {
              var o = r - this.lastAngle_;
              (this.rotationDelta_ += o),
                !this.rotating_ &&
                  Math.abs(this.rotationDelta_) > this.threshold_ &&
                  (this.rotating_ = !0),
                (e = o);
            }
            this.lastAngle_ = r;
            var s = t.map,
              a = s.getView();
            if (a.getConstraints().rotation !== os) {
              var u = s.getViewport().getBoundingClientRect(),
                c = oa(this.targetPointers);
              if (
                ((c[0] -= u.left),
                (c[1] -= u.top),
                (this.anchor_ = s.getCoordinateFromPixel(c)),
                this.rotating_)
              ) {
                var h = a.getRotation();
                s.render(), Xs(a, h + e, this.anchor_);
              }
            }
          }),
          (e.prototype.handleUpEvent = function (t) {
            if (this.targetPointers.length < 2) {
              var e = t.map.getView();
              if ((e.setHint(us, -1), this.rotating_)) {
                var n = e.getRotation();
                Ys(e, n, this.anchor_, this.duration_);
              }
              return !1;
            }
            return !0;
          }),
          (e.prototype.handleDownEvent = function (t) {
            if (this.targetPointers.length >= 2) {
              var e = t.map;
              return (
                (this.anchor_ = null),
                (this.lastAngle_ = void 0),
                (this.rotating_ = !1),
                (this.rotationDelta_ = 0),
                this.handlingDownUpSequence || e.getView().setHint(us, 1),
                !0
              );
            }
            return !1;
          }),
          e
        );
      })(sa),
      Sa = (function (t) {
        function e(e) {
          var n = e || {},
            i = n;
          i.stopDown || (i.stopDown = Dt),
            t.call(this, i),
            (this.constrainResolution_ = n.constrainResolution || !1),
            (this.anchor_ = null),
            (this.duration_ = void 0 !== n.duration ? n.duration : 400),
            (this.lastDistance_ = void 0),
            (this.lastScaleDelta_ = 1);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.handleDragEvent = function (t) {
            var e = 1,
              n = this.targetPointers[0],
              i = this.targetPointers[1],
              r = n.clientX - i.clientX,
              o = n.clientY - i.clientY,
              s = Math.sqrt(r * r + o * o);
            void 0 !== this.lastDistance_ && (e = this.lastDistance_ / s),
              (this.lastDistance_ = s);
            var a = t.map,
              u = a.getView(),
              c = u.getResolution(),
              h = u.getMaxResolution(),
              l = u.getMinResolution(),
              p = c * e;
            p > h ? ((e = h / c), (p = h)) : p < l && ((e = l / c), (p = l)),
              1 != e && (this.lastScaleDelta_ = e);
            var f = a.getViewport().getBoundingClientRect(),
              d = oa(this.targetPointers);
            (d[0] -= f.left),
              (d[1] -= f.top),
              (this.anchor_ = a.getCoordinateFromPixel(d)),
              a.render(),
              qs(u, p, this.anchor_);
          }),
          (e.prototype.handleUpEvent = function (t) {
            if (this.targetPointers.length < 2) {
              var e = t.map.getView();
              e.setHint(us, -1);
              var n = e.getResolution();
              if (
                this.constrainResolution_ ||
                n < e.getMinResolution() ||
                n > e.getMaxResolution()
              ) {
                var i = this.lastScaleDelta_ - 1;
                zs(e, n, this.anchor_, this.duration_, i);
              }
              return !1;
            }
            return !0;
          }),
          (e.prototype.handleDownEvent = function (t) {
            if (this.targetPointers.length >= 2) {
              var e = t.map;
              return (
                (this.anchor_ = null),
                (this.lastDistance_ = void 0),
                (this.lastScaleDelta_ = 1),
                this.handlingDownUpSequence || e.getView().setHint(us, 1),
                !0
              );
            }
            return !1;
          }),
          e
        );
      })(sa);
    function Ca(t) {
      var e = t || {},
        n = new eo(),
        i = new Bs(-0.005, 0.05, 100);
      return (
        (void 0 === e.altShiftDragRotate || e.altShiftDragRotate) &&
          n.push(new ua()),
        (void 0 === e.doubleClickZoom || e.doubleClickZoom) &&
          n.push(new Ks({ delta: e.zoomDelta, duration: e.zoomDuration })),
        (void 0 === e.dragPan || e.dragPan) &&
          n.push(
            new aa({ condition: e.onFocusOnly ? Qs : void 0, kinetic: i })
          ),
        (void 0 === e.pinchRotate || e.pinchRotate) && n.push(new Ia()),
        (void 0 === e.pinchZoom || e.pinchZoom) &&
          n.push(
            new Sa({
              constrainResolution: e.constrainResolution,
              duration: e.zoomDuration,
            })
          ),
        (void 0 === e.keyboard || e.keyboard) &&
          (n.push(new va()),
          n.push(new xa({ delta: e.zoomDelta, duration: e.zoomDuration }))),
        (void 0 === e.mouseWheelZoom || e.mouseWheelZoom) &&
          n.push(
            new wa({
              condition: e.onFocusOnly ? Qs : void 0,
              constrainResolution: e.constrainResolution,
              duration: e.zoomDuration,
            })
          ),
        (void 0 === e.shiftDragZoom || e.shiftDragZoom) &&
          n.push(new ga({ duration: e.zoomDuration })),
        n
      );
    }
    var Ta = { IDLE: 0, LOADING: 1, LOADED: 2, ERROR: 3 },
      Oa = (function (t) {
        function e(e, n, i, r, o) {
          var s = void 0 !== o ? Ta.IDLE : Ta.LOADED;
          t.call(this, e, n, i, s),
            (this.loader_ = void 0 !== o ? o : null),
            (this.canvas_ = r),
            (this.error_ = null);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.getError = function () {
            return this.error_;
          }),
          (e.prototype.handleLoad_ = function (t) {
            t
              ? ((this.error_ = t), (this.state = Ta.ERROR))
              : (this.state = Ta.LOADED),
              this.changed();
          }),
          (e.prototype.load = function () {
            this.state == Ta.IDLE &&
              ((this.state = Ta.LOADING),
              this.changed(),
              this.loader_(this.handleLoad_.bind(this)));
          }),
          (e.prototype.getImage = function () {
            return this.canvas_;
          }),
          e
        );
      })(
        (function (t) {
          function e(e, n, i, r) {
            t.call(this),
              (this.extent = e),
              (this.pixelRatio_ = i),
              (this.resolution = n),
              (this.state = r);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.changed = function () {
              this.dispatchEvent(Gt.CHANGE);
            }),
            (e.prototype.getExtent = function () {
              return this.extent;
            }),
            (e.prototype.getImage = function () {
              return lt();
            }),
            (e.prototype.getPixelRatio = function () {
              return this.pixelRatio_;
            }),
            (e.prototype.getResolution = function () {
              return this.resolution;
            }),
            (e.prototype.getState = function () {
              return this.state;
            }),
            (e.prototype.load = function () {
              lt();
            }),
            e
          );
        })(Ft)
      ),
      Ra = {
        IMAGE: "IMAGE",
        TILE: "TILE",
        VECTOR_TILE: "VECTOR_TILE",
        VECTOR: "VECTOR",
      },
      La = { IMAGE: "image", VECTOR: "vector" },
      Ma = (function (t) {
        function e(e, n, i, r, o) {
          t.call(this, e),
            (this.vectorContext = n),
            (this.frameState = i),
            (this.context = r),
            (this.glContext = o);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(tt),
      Aa = [0, 0, 0, 1],
      Na = [],
      Pa = [0, 0, 0, 1],
      Da = [0, 0, 0, 0],
      ka = new Wt(),
      Fa = {},
      Ga = null,
      ja = {},
      Ba = (function () {
        var t,
          e,
          n = 60,
          i = Fa,
          r = "32px ",
          o = ["monospace", "serif"],
          s = o.length,
          a = "wmytzilWMYTZIL@#/&?$%10";
        function u(t) {
          for (var n = Ua(), i = 100; i <= 700; i += 300) {
            for (var u = i + " ", c = !0, h = 0; h < s; ++h) {
              var l = o[h];
              if (
                ((n.font = u + r + l), (e = n.measureText(a).width), t != l)
              ) {
                n.font = u + r + t + "," + l;
                var p = n.measureText(a).width;
                c = c && p != e;
              }
            }
            if (c) return !0;
          }
          return !1;
        }
        function c() {
          var e = !0;
          for (var r in i)
            i[r] < n &&
              (u(r)
                ? ((i[r] = n), wt(ja), (Ga = null), ka.clear())
                : (++i[r], (e = !1)));
          e && (clearInterval(t), (t = void 0));
        }
        return function (e) {
          var r = Ms(e);
          if (r)
            for (var o = 0, s = r.length; o < s; ++o) {
              var a = r[o];
              a in i ||
                ((i[a] = n),
                u(a) || ((i[a] = 0), void 0 === t && (t = setInterval(c, 32))));
            }
        };
      })();
    function Ua() {
      return Ga || (Ga = Bt(1, 1)), Ga;
    }
    var Ya,
      Xa,
      za =
        ((Xa = ja),
        function (t) {
          var e = Xa[t];
          return (
            null == e &&
              (Ya ||
                (((Ya = document.createElement("span")).textContent = "M"),
                (Ya.style.margin = Ya.style.padding = "0 !important"),
                (Ya.style.position = "absolute !important"),
                (Ya.style.left = "-99999px !important")),
              (Ya.style.font = t),
              document.body.appendChild(Ya),
              (e = Xa[t] = Ya.offsetHeight),
              document.body.removeChild(Ya)),
            e
          );
        });
    function Va(t, e) {
      var n = Ua();
      return t != n.font && (n.font = t), n.measureText(e).width;
    }
    function qa(t, e, n, i) {
      0 !== e && (t.translate(n, i), t.rotate(e), t.translate(-n, -i));
    }
    var Wa = [1, 0, 0, 1, 0, 0];
    function Ha(t, e, n, i, r, o, s, a, u, c, h) {
      var l;
      1 != n && ((l = t.globalAlpha), (t.globalAlpha = l * n)),
        e && t.setTransform.apply(t, e),
        t.drawImage(i, r, o, s, a, u, c, s * h, a * h),
        l && (t.globalAlpha = l),
        e && t.setTransform.apply(t, Wa);
    }
    var Ka = /^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,
      Za = /^([a-z]*)$/i;
    function Ja(t) {
      return "string" == typeof t ? t : tu(t);
    }
    var Qa = (function () {
      var t = {},
        e = 0;
      return function (n) {
        var i;
        if (t.hasOwnProperty(n)) i = t[n];
        else {
          if (e >= 1024) {
            var r = 0;
            for (var o in t) 0 == (3 & r++) && (delete t[o], --e);
          }
          (i = (function (t) {
            var e, n, i, r, o;
            Za.exec(t) &&
              (t = (function (t) {
                var e = document.createElement("div");
                if (((e.style.color = t), "" !== e.style.color)) {
                  document.body.appendChild(e);
                  var n = getComputedStyle(e).color;
                  return document.body.removeChild(e), n;
                }
                return "";
              })(t));
            if (Ka.exec(t)) {
              var s,
                a = t.length - 1;
              s = a <= 4 ? 1 : 2;
              var u = 4 === a || 8 === a;
              (e = parseInt(t.substr(1 + 0 * s, s), 16)),
                (n = parseInt(t.substr(1 + 1 * s, s), 16)),
                (i = parseInt(t.substr(1 + 2 * s, s), 16)),
                (r = u ? parseInt(t.substr(1 + 3 * s, s), 16) : 255),
                1 == s &&
                  ((e = (e << 4) + e),
                  (n = (n << 4) + n),
                  (i = (i << 4) + i),
                  u && (r = (r << 4) + r)),
                (o = [e, n, i, r / 255]);
            } else
              0 == t.indexOf("rgba(")
                ? $a((o = t.slice(5, -1).split(",").map(Number)))
                : 0 == t.indexOf("rgb(")
                ? ((o = t.slice(4, -1).split(",").map(Number)).push(1), $a(o))
                : qt(!1, 14);
            return o;
          })(n)),
            (t[n] = i),
            ++e;
        }
        return i;
      };
    })();
    function $a(t) {
      return (
        (t[0] = Qt((t[0] + 0.5) | 0, 0, 255)),
        (t[1] = Qt((t[1] + 0.5) | 0, 0, 255)),
        (t[2] = Qt((t[2] + 0.5) | 0, 0, 255)),
        (t[3] = Qt(t[3], 0, 1)),
        t
      );
    }
    function tu(t) {
      var e = t[0];
      e != (0 | e) && (e = (e + 0.5) | 0);
      var n = t[1];
      n != (0 | n) && (n = (n + 0.5) | 0);
      var i = t[2];
      return (
        i != (0 | i) && (i = (i + 0.5) | 0),
        "rgba(" +
          e +
          "," +
          n +
          "," +
          i +
          "," +
          (void 0 === t[3] ? 1 : t[3]) +
          ")"
      );
    }
    function eu(t) {
      return Array.isArray(t) ? tu(t) : t;
    }
    var nu = function () {};
    (nu.prototype.drawCustom = function (t, e, n) {}),
      (nu.prototype.drawGeometry = function (t) {}),
      (nu.prototype.setStyle = function (t) {}),
      (nu.prototype.drawCircle = function (t, e) {}),
      (nu.prototype.drawFeature = function (t, e) {}),
      (nu.prototype.drawGeometryCollection = function (t, e) {}),
      (nu.prototype.drawLineString = function (t, e) {}),
      (nu.prototype.drawMultiLineString = function (t, e) {}),
      (nu.prototype.drawMultiPoint = function (t, e) {}),
      (nu.prototype.drawMultiPolygon = function (t, e) {}),
      (nu.prototype.drawPoint = function (t, e) {}),
      (nu.prototype.drawPolygon = function (t, e) {}),
      (nu.prototype.drawText = function (t, e) {}),
      (nu.prototype.setFillStrokeStyle = function (t, e) {}),
      (nu.prototype.setImageStyle = function (t, e) {}),
      (nu.prototype.setTextStyle = function (t, e) {});
    var iu = nu,
      ru = (function (t) {
        function e(e, n, i, r, o) {
          t.call(this),
            (this.context_ = e),
            (this.pixelRatio_ = n),
            (this.extent_ = i),
            (this.transform_ = r),
            (this.viewRotation_ = o),
            (this.contextFillState_ = null),
            (this.contextStrokeState_ = null),
            (this.contextTextState_ = null),
            (this.fillState_ = null),
            (this.strokeState_ = null),
            (this.image_ = null),
            (this.imageAnchorX_ = 0),
            (this.imageAnchorY_ = 0),
            (this.imageHeight_ = 0),
            (this.imageOpacity_ = 0),
            (this.imageOriginX_ = 0),
            (this.imageOriginY_ = 0),
            (this.imageRotateWithView_ = !1),
            (this.imageRotation_ = 0),
            (this.imageScale_ = 0),
            (this.imageWidth_ = 0),
            (this.text_ = ""),
            (this.textOffsetX_ = 0),
            (this.textOffsetY_ = 0),
            (this.textRotateWithView_ = !1),
            (this.textRotation_ = 0),
            (this.textScale_ = 0),
            (this.textFillState_ = null),
            (this.textStrokeState_ = null),
            (this.textState_ = null),
            (this.pixelCoordinates_ = []),
            (this.tmpLocalTransform_ = [1, 0, 0, 1, 0, 0]);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.drawImages_ = function (t, e, n, i) {
            if (this.image_) {
              var r = Vi(t, e, n, 2, this.transform_, this.pixelCoordinates_),
                o = this.context_,
                s = this.tmpLocalTransform_,
                a = o.globalAlpha;
              1 != this.imageOpacity_ &&
                (o.globalAlpha = a * this.imageOpacity_);
              var u = this.imageRotation_;
              this.imageRotateWithView_ && (u += this.viewRotation_);
              for (var c = 0, h = r.length; c < h; c += 2) {
                var l = r[c] - this.imageAnchorX_,
                  p = r[c + 1] - this.imageAnchorY_;
                if (0 !== u || 1 != this.imageScale_) {
                  var f = l + this.imageAnchorX_,
                    d = p + this.imageAnchorY_;
                  tr(s, f, d, this.imageScale_, this.imageScale_, u, -f, -d),
                    o.setTransform.apply(o, s);
                }
                o.drawImage(
                  this.image_,
                  this.imageOriginX_,
                  this.imageOriginY_,
                  this.imageWidth_,
                  this.imageHeight_,
                  l,
                  p,
                  this.imageWidth_,
                  this.imageHeight_
                );
              }
              (0 === u && 1 == this.imageScale_) ||
                o.setTransform(1, 0, 0, 1, 0, 0),
                1 != this.imageOpacity_ && (o.globalAlpha = a);
            }
          }),
          (e.prototype.drawText_ = function (t, e, n, i) {
            if (this.textState_ && "" !== this.text_) {
              this.textFillState_ &&
                this.setContextFillState_(this.textFillState_),
                this.textStrokeState_ &&
                  this.setContextStrokeState_(this.textStrokeState_),
                this.setContextTextState_(this.textState_);
              var r = Vi(t, e, n, i, this.transform_, this.pixelCoordinates_),
                o = this.context_,
                s = this.textRotation_;
              for (
                this.textRotateWithView_ && (s += this.viewRotation_);
                e < n;
                e += i
              ) {
                var a = r[e] + this.textOffsetX_,
                  u = r[e + 1] + this.textOffsetY_;
                if (0 !== s || 1 != this.textScale_) {
                  var c = tr(
                    this.tmpLocalTransform_,
                    a,
                    u,
                    this.textScale_,
                    this.textScale_,
                    s,
                    -a,
                    -u
                  );
                  o.setTransform.apply(o, c);
                }
                this.textStrokeState_ && o.strokeText(this.text_, a, u),
                  this.textFillState_ && o.fillText(this.text_, a, u);
              }
              (0 === s && 1 == this.textScale_) ||
                o.setTransform(1, 0, 0, 1, 0, 0);
            }
          }),
          (e.prototype.moveToLineTo_ = function (t, e, n, i, r) {
            var o = this.context_,
              s = Vi(t, e, n, i, this.transform_, this.pixelCoordinates_);
            o.moveTo(s[0], s[1]);
            var a = s.length;
            r && (a -= 2);
            for (var u = 2; u < a; u += 2) o.lineTo(s[u], s[u + 1]);
            return r && o.closePath(), n;
          }),
          (e.prototype.drawRings_ = function (t, e, n, i) {
            for (var r = 0, o = n.length; r < o; ++r)
              e = this.moveToLineTo_(t, e, n[r], i, !0);
            return e;
          }),
          (e.prototype.drawCircle = function (t) {
            if (Ue(this.extent_, t.getExtent())) {
              if (this.fillState_ || this.strokeState_) {
                this.fillState_ && this.setContextFillState_(this.fillState_),
                  this.strokeState_ &&
                    this.setContextStrokeState_(this.strokeState_);
                var e = (function (t, e, n) {
                    var i = t.getFlatCoordinates();
                    if (i) {
                      var r = t.getStride();
                      return Vi(i, 0, i.length, r, e, n);
                    }
                    return null;
                  })(t, this.transform_, this.pixelCoordinates_),
                  n = e[2] - e[0],
                  i = e[3] - e[1],
                  r = Math.sqrt(n * n + i * i),
                  o = this.context_;
                o.beginPath(),
                  o.arc(e[0], e[1], r, 0, 2 * Math.PI),
                  this.fillState_ && o.fill(),
                  this.strokeState_ && o.stroke();
              }
              "" !== this.text_ && this.drawText_(t.getCenter(), 0, 2, 2);
            }
          }),
          (e.prototype.setStyle = function (t) {
            this.setFillStrokeStyle(t.getFill(), t.getStroke()),
              this.setImageStyle(t.getImage()),
              this.setTextStyle(t.getText());
          }),
          (e.prototype.drawGeometry = function (t) {
            switch (t.getType()) {
              case se.POINT:
                this.drawPoint(t);
                break;
              case se.LINE_STRING:
                this.drawLineString(t);
                break;
              case se.POLYGON:
                this.drawPolygon(t);
                break;
              case se.MULTI_POINT:
                this.drawMultiPoint(t);
                break;
              case se.MULTI_LINE_STRING:
                this.drawMultiLineString(t);
                break;
              case se.MULTI_POLYGON:
                this.drawMultiPolygon(t);
                break;
              case se.GEOMETRY_COLLECTION:
                this.drawGeometryCollection(t);
                break;
              case se.CIRCLE:
                this.drawCircle(t);
            }
          }),
          (e.prototype.drawFeature = function (t, e) {
            var n = e.getGeometryFunction()(t);
            n &&
              Ue(this.extent_, n.getExtent()) &&
              (this.setStyle(e), this.drawGeometry(n));
          }),
          (e.prototype.drawGeometryCollection = function (t) {
            for (
              var e = t.getGeometriesArray(), n = 0, i = e.length;
              n < i;
              ++n
            )
              this.drawGeometry(e[n]);
          }),
          (e.prototype.drawPoint = function (t) {
            var e = t.getFlatCoordinates(),
              n = t.getStride();
            this.image_ && this.drawImages_(e, 0, e.length, n),
              "" !== this.text_ && this.drawText_(e, 0, e.length, n);
          }),
          (e.prototype.drawMultiPoint = function (t) {
            var e = t.getFlatCoordinates(),
              n = t.getStride();
            this.image_ && this.drawImages_(e, 0, e.length, n),
              "" !== this.text_ && this.drawText_(e, 0, e.length, n);
          }),
          (e.prototype.drawLineString = function (t) {
            if (Ue(this.extent_, t.getExtent())) {
              if (this.strokeState_) {
                this.setContextStrokeState_(this.strokeState_);
                var e = this.context_,
                  n = t.getFlatCoordinates();
                e.beginPath(),
                  this.moveToLineTo_(n, 0, n.length, t.getStride(), !1),
                  e.stroke();
              }
              if ("" !== this.text_) {
                var i = t.getFlatMidpoint();
                this.drawText_(i, 0, 2, 2);
              }
            }
          }),
          (e.prototype.drawMultiLineString = function (t) {
            var e = t.getExtent();
            if (Ue(this.extent_, e)) {
              if (this.strokeState_) {
                this.setContextStrokeState_(this.strokeState_);
                var n = this.context_,
                  i = t.getFlatCoordinates(),
                  r = 0,
                  o = t.getEnds(),
                  s = t.getStride();
                n.beginPath();
                for (var a = 0, u = o.length; a < u; ++a)
                  r = this.moveToLineTo_(i, r, o[a], s, !1);
                n.stroke();
              }
              if ("" !== this.text_) {
                var c = t.getFlatMidpoints();
                this.drawText_(c, 0, c.length, 2);
              }
            }
          }),
          (e.prototype.drawPolygon = function (t) {
            if (Ue(this.extent_, t.getExtent())) {
              if (this.strokeState_ || this.fillState_) {
                this.fillState_ && this.setContextFillState_(this.fillState_),
                  this.strokeState_ &&
                    this.setContextStrokeState_(this.strokeState_);
                var e = this.context_;
                e.beginPath(),
                  this.drawRings_(
                    t.getOrientedFlatCoordinates(),
                    0,
                    t.getEnds(),
                    t.getStride()
                  ),
                  this.fillState_ && e.fill(),
                  this.strokeState_ && e.stroke();
              }
              if ("" !== this.text_) {
                var n = t.getFlatInteriorPoint();
                this.drawText_(n, 0, 2, 2);
              }
            }
          }),
          (e.prototype.drawMultiPolygon = function (t) {
            if (Ue(this.extent_, t.getExtent())) {
              if (this.strokeState_ || this.fillState_) {
                this.fillState_ && this.setContextFillState_(this.fillState_),
                  this.strokeState_ &&
                    this.setContextStrokeState_(this.strokeState_);
                var e = this.context_,
                  n = t.getOrientedFlatCoordinates(),
                  i = 0,
                  r = t.getEndss(),
                  o = t.getStride();
                e.beginPath();
                for (var s = 0, a = r.length; s < a; ++s) {
                  var u = r[s];
                  i = this.drawRings_(n, i, u, o);
                }
                this.fillState_ && e.fill(), this.strokeState_ && e.stroke();
              }
              if ("" !== this.text_) {
                var c = t.getFlatInteriorPoints();
                this.drawText_(c, 0, c.length, 2);
              }
            }
          }),
          (e.prototype.setContextFillState_ = function (t) {
            var e = this.context_,
              n = this.contextFillState_;
            n
              ? n.fillStyle != t.fillStyle &&
                (n.fillStyle = e.fillStyle = t.fillStyle)
              : ((e.fillStyle = t.fillStyle),
                (this.contextFillState_ = { fillStyle: t.fillStyle }));
          }),
          (e.prototype.setContextStrokeState_ = function (t) {
            var e = this.context_,
              n = this.contextStrokeState_;
            n
              ? (n.lineCap != t.lineCap && (n.lineCap = e.lineCap = t.lineCap),
                Xr &&
                  (ti(n.lineDash, t.lineDash) ||
                    e.setLineDash((n.lineDash = t.lineDash)),
                  n.lineDashOffset != t.lineDashOffset &&
                    (n.lineDashOffset = e.lineDashOffset = t.lineDashOffset)),
                n.lineJoin != t.lineJoin &&
                  (n.lineJoin = e.lineJoin = t.lineJoin),
                n.lineWidth != t.lineWidth &&
                  (n.lineWidth = e.lineWidth = t.lineWidth),
                n.miterLimit != t.miterLimit &&
                  (n.miterLimit = e.miterLimit = t.miterLimit),
                n.strokeStyle != t.strokeStyle &&
                  (n.strokeStyle = e.strokeStyle = t.strokeStyle))
              : ((e.lineCap = t.lineCap),
                Xr &&
                  (e.setLineDash(t.lineDash),
                  (e.lineDashOffset = t.lineDashOffset)),
                (e.lineJoin = t.lineJoin),
                (e.lineWidth = t.lineWidth),
                (e.miterLimit = t.miterLimit),
                (e.strokeStyle = t.strokeStyle),
                (this.contextStrokeState_ = {
                  lineCap: t.lineCap,
                  lineDash: t.lineDash,
                  lineDashOffset: t.lineDashOffset,
                  lineJoin: t.lineJoin,
                  lineWidth: t.lineWidth,
                  miterLimit: t.miterLimit,
                  strokeStyle: t.strokeStyle,
                }));
          }),
          (e.prototype.setContextTextState_ = function (t) {
            var e = this.context_,
              n = this.contextTextState_,
              i = t.textAlign ? t.textAlign : "center";
            n
              ? (n.font != t.font && (n.font = e.font = t.font),
                n.textAlign != i && (n.textAlign = e.textAlign = i),
                n.textBaseline != t.textBaseline &&
                  (n.textBaseline = e.textBaseline = t.textBaseline))
              : ((e.font = t.font),
                (e.textAlign = i),
                (e.textBaseline = t.textBaseline),
                (this.contextTextState_ = {
                  font: t.font,
                  textAlign: i,
                  textBaseline: t.textBaseline,
                }));
          }),
          (e.prototype.setFillStrokeStyle = function (t, e) {
            if (t) {
              var n = t.getColor();
              this.fillState_ = { fillStyle: eu(n || Aa) };
            } else this.fillState_ = null;
            if (e) {
              var i = e.getColor(),
                r = e.getLineCap(),
                o = e.getLineDash(),
                s = e.getLineDashOffset(),
                a = e.getLineJoin(),
                u = e.getWidth(),
                c = e.getMiterLimit();
              this.strokeState_ = {
                lineCap: void 0 !== r ? r : "round",
                lineDash: o || Na,
                lineDashOffset: s || 0,
                lineJoin: void 0 !== a ? a : "round",
                lineWidth: this.pixelRatio_ * (void 0 !== u ? u : 1),
                miterLimit: void 0 !== c ? c : 10,
                strokeStyle: eu(i || Pa),
              };
            } else this.strokeState_ = null;
          }),
          (e.prototype.setImageStyle = function (t) {
            if (t) {
              var e = t.getAnchor(),
                n = t.getImage(1),
                i = t.getOrigin(),
                r = t.getSize();
              (this.imageAnchorX_ = e[0]),
                (this.imageAnchorY_ = e[1]),
                (this.imageHeight_ = r[1]),
                (this.image_ = n),
                (this.imageOpacity_ = t.getOpacity()),
                (this.imageOriginX_ = i[0]),
                (this.imageOriginY_ = i[1]),
                (this.imageRotateWithView_ = t.getRotateWithView()),
                (this.imageRotation_ = t.getRotation()),
                (this.imageScale_ = t.getScale() * this.pixelRatio_),
                (this.imageWidth_ = r[0]);
            } else this.image_ = null;
          }),
          (e.prototype.setTextStyle = function (t) {
            if (t) {
              var e = t.getFill();
              if (e) {
                var n = e.getColor();
                this.textFillState_ = { fillStyle: eu(n || Aa) };
              } else this.textFillState_ = null;
              var i = t.getStroke();
              if (i) {
                var r = i.getColor(),
                  o = i.getLineCap(),
                  s = i.getLineDash(),
                  a = i.getLineDashOffset(),
                  u = i.getLineJoin(),
                  c = i.getWidth(),
                  h = i.getMiterLimit();
                this.textStrokeState_ = {
                  lineCap: void 0 !== o ? o : "round",
                  lineDash: s || Na,
                  lineDashOffset: a || 0,
                  lineJoin: void 0 !== u ? u : "round",
                  lineWidth: void 0 !== c ? c : 1,
                  miterLimit: void 0 !== h ? h : 10,
                  strokeStyle: eu(r || Pa),
                };
              } else this.textStrokeState_ = null;
              var l = t.getFont(),
                p = t.getOffsetX(),
                f = t.getOffsetY(),
                d = t.getRotateWithView(),
                g = t.getRotation(),
                y = t.getScale(),
                _ = t.getText(),
                v = t.getTextAlign(),
                m = t.getTextBaseline();
              (this.textState_ = {
                font: void 0 !== l ? l : "10px sans-serif",
                textAlign: void 0 !== v ? v : "center",
                textBaseline: void 0 !== m ? m : "middle",
              }),
                (this.text_ = void 0 !== _ ? _ : ""),
                (this.textOffsetX_ = void 0 !== p ? this.pixelRatio_ * p : 0),
                (this.textOffsetY_ = void 0 !== f ? this.pixelRatio_ * f : 0),
                (this.textRotateWithView_ = void 0 !== d && d),
                (this.textRotation_ = void 0 !== g ? g : 0),
                (this.textScale_ = this.pixelRatio_ * (void 0 !== y ? y : 1));
            } else this.text_ = "";
          }),
          e
        );
      })(iu),
      ou = function () {
        (this.cache_ = {}), (this.cacheSize_ = 0), (this.maxCacheSize_ = 32);
      };
    function su(t, e, n) {
      return e + ":" + t + ":" + (n ? Ja(n) : "null");
    }
    (ou.prototype.clear = function () {
      (this.cache_ = {}), (this.cacheSize_ = 0);
    }),
      (ou.prototype.expire = function () {
        if (this.cacheSize_ > this.maxCacheSize_) {
          var t = 0;
          for (var e in this.cache_) {
            var n = this.cache_[e];
            0 != (3 & t++) ||
              n.hasListener() ||
              (delete this.cache_[e], --this.cacheSize_);
          }
        }
      }),
      (ou.prototype.get = function (t, e, n) {
        var i = su(t, e, n);
        return i in this.cache_ ? this.cache_[i] : null;
      }),
      (ou.prototype.set = function (t, e, n, i) {
        var r = su(t, e, n);
        (this.cache_[r] = i), ++this.cacheSize_;
      }),
      (ou.prototype.setSize = function (t) {
        (this.maxCacheSize_ = t), this.expire();
      });
    var au = new ou();
    function uu(t, e) {
      au.expire();
    }
    function cu(t, e) {
      return t.zIndex - e.zIndex;
    }
    var hu = [],
      lu = (function (t) {
        function e(e) {
          t.call(this, e);
          var n = e.getViewport();
          (this.context_ = Bt()),
            (this.canvas_ = this.context_.canvas),
            (this.canvas_.style.width = "100%"),
            (this.canvas_.style.height = "100%"),
            (this.canvas_.style.display = "block"),
            (this.canvas_.className = Os),
            n.insertBefore(this.canvas_, n.childNodes[0] || null),
            (this.renderedVisible_ = !0),
            (this.transform_ = [1, 0, 0, 1, 0, 0]);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.dispatchRenderEvent = function (t, e) {
            var n = this.getMap(),
              i = this.context_;
            if (n.hasListener(t)) {
              var r = e.extent,
                o = e.pixelRatio,
                s = e.viewState.rotation,
                a = this.getTransform(e),
                u = new ru(i, o, r, a, s),
                c = new Ma(t, u, e, i, null);
              n.dispatchEvent(c);
            }
          }),
          (e.prototype.getTransform = function (t) {
            var e = t.viewState,
              n = this.canvas_.width / 2,
              i = this.canvas_.height / 2,
              r = t.pixelRatio / e.resolution,
              o = -r,
              s = -e.rotation,
              a = -e.center[0],
              u = -e.center[1];
            return tr(this.transform_, n, i, r, o, s, a, u);
          }),
          (e.prototype.renderFrame = function (t) {
            if (t) {
              var e = this.context_,
                n = t.pixelRatio,
                i = Math.round(t.size[0] * n),
                r = Math.round(t.size[1] * n);
              this.canvas_.width != i || this.canvas_.height != r
                ? ((this.canvas_.width = i), (this.canvas_.height = r))
                : e.clearRect(0, 0, i, r);
              var o = t.viewState.rotation;
              this.calculateMatrices2D(t), this.dispatchRenderEvent($o, t);
              var s = t.layerStatesArray;
              !(function (t, e) {
                var n,
                  i = t.length,
                  r = Array(t.length);
                for (n = 0; n < i; n++) r[n] = { index: n, value: t[n] };
                for (
                  r.sort(function (t, n) {
                    return e(t.value, n.value) || t.index - n.index;
                  }),
                    n = 0;
                  n < t.length;
                  n++
                )
                  t[n] = r[n].value;
              })(s, cu),
                o && (e.save(), qa(e, o, i / 2, r / 2));
              var a,
                u,
                c = t.viewState.resolution;
              for (a = 0, u = s.length; a < u; ++a) {
                var h = s[a],
                  l = h.layer,
                  p = this.getLayerRenderer(l);
                As(h, c) &&
                  h.sourceState == Yn.READY &&
                  p.prepareFrame(t, h) &&
                  p.composeFrame(t, h, e);
              }
              o && e.restore(),
                this.dispatchRenderEvent(Qo, t),
                this.renderedVisible_ ||
                  ((this.canvas_.style.display = ""),
                  (this.renderedVisible_ = !0)),
                this.scheduleRemoveUnusedLayerRenderers(t),
                this.scheduleExpireIconCache(t);
            } else
              this.renderedVisible_ &&
                ((this.canvas_.style.display = "none"),
                (this.renderedVisible_ = !1));
          }),
          (e.prototype.forEachLayerAtPixel = function (t, e, n, i, r, o, s) {
            var a,
              u,
              c = e.viewState.resolution,
              h = e.layerStatesArray,
              l = h.length,
              p = Ji(e.pixelToCoordinateTransform, t.slice());
            for (u = l - 1; u >= 0; --u) {
              var f = h[u],
                d = f.layer;
              if (As(f, c) && o.call(s, d))
                if (
                  (a = this.getLayerRenderer(d).forEachLayerAtCoordinate(
                    p,
                    e,
                    n,
                    i,
                    r
                  ))
                )
                  return a;
            }
          }),
          (e.prototype.registerLayerRenderers = function (e) {
            t.prototype.registerLayerRenderers.call(this, e);
            for (var n = 0, i = e.length; n < i; ++n) {
              var r = e[n];
              (o = r), hu.indexOf(o) >= 0 || hu.push(r);
            }
            var o;
          }),
          e
        );
      })(
        (function (t) {
          function e(e) {
            t.call(this),
              (this.map_ = e),
              (this.layerRenderers_ = {}),
              (this.layerRendererListeners_ = {}),
              (this.layerRendererConstructors_ = []);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.dispatchRenderEvent = function (t, e) {
              lt();
            }),
            (e.prototype.registerLayerRenderers = function (t) {
              this.layerRendererConstructors_.push.apply(
                this.layerRendererConstructors_,
                t
              );
            }),
            (e.prototype.calculateMatrices2D = function (t) {
              var e = t.viewState,
                n = t.coordinateToPixelTransform,
                i = t.pixelToCoordinateTransform;
              tr(
                n,
                t.size[0] / 2,
                t.size[1] / 2,
                1 / e.resolution,
                -1 / e.resolution,
                -e.rotation,
                -e.center[0],
                -e.center[1]
              ),
                (function (t) {
                  var e,
                    n = (e = t)[0] * e[3] - e[1] * e[2];
                  qt(0 !== n, 32);
                  var i = t[0],
                    r = t[1],
                    o = t[2],
                    s = t[3],
                    a = t[4],
                    u = t[5];
                  (t[0] = s / n),
                    (t[1] = -r / n),
                    (t[2] = -o / n),
                    (t[3] = i / n),
                    (t[4] = (o * u - s * a) / n),
                    (t[5] = -(i * u - r * a) / n);
                })(Zi(i, n));
            }),
            (e.prototype.removeLayerRenderers = function () {
              for (var t in this.layerRenderers_)
                this.removeLayerRendererByKey_(t).dispose();
            }),
            (e.prototype.forEachFeatureAtCoordinate = function (
              t,
              e,
              n,
              i,
              r,
              o,
              s
            ) {
              var a,
                u = e.viewState,
                c = u.resolution;
              function h(t, n) {
                var o = e.layerStates[ft(n)].managed;
                if (!(ft(t) in e.skippedFeatureUids) || o)
                  return i.call(r, t, o ? n : null);
              }
              var l = u.projection,
                p = t;
              if (l.canWrapX()) {
                var f = l.getExtent(),
                  d = Be(f),
                  g = t[0];
                if (g < f[0] || g > f[2])
                  p = [g + d * Math.ceil((f[0] - g) / d), t[1]];
              }
              var y,
                _ = e.layerStatesArray;
              for (y = _.length - 1; y >= 0; --y) {
                var v = _[y],
                  m = v.layer;
                if (As(v, c) && o.call(s, m)) {
                  var x = this.getLayerRenderer(m),
                    E = m.getSource();
                  if (
                    (E &&
                      (a = x.forEachFeatureAtCoordinate(
                        E.getWrapX() ? p : t,
                        e,
                        n,
                        h
                      )),
                    a)
                  )
                    return a;
                }
              }
            }),
            (e.prototype.forEachLayerAtPixel = function (t, e, n, i, r, o, s) {
              return lt();
            }),
            (e.prototype.hasFeatureAtCoordinate = function (t, e, n, i, r) {
              return (
                void 0 !==
                this.forEachFeatureAtCoordinate(t, e, n, Pt, this, i, r)
              );
            }),
            (e.prototype.getLayerRenderer = function (t) {
              var e = ft(t);
              if (e in this.layerRenderers_) return this.layerRenderers_[e];
              for (
                var n, i = 0, r = this.layerRendererConstructors_.length;
                i < r;
                ++i
              ) {
                var o = this.layerRendererConstructors_[i];
                if (o.handles(t)) {
                  n = o.create(this, t);
                  break;
                }
              }
              if (!n)
                throw new Error(
                  "Unable to create renderer for layer: " + t.getType()
                );
              return (
                (this.layerRenderers_[e] = n),
                (this.layerRendererListeners_[e] = Lt(
                  n,
                  Gt.CHANGE,
                  this.handleLayerRendererChange_,
                  this
                )),
                n
              );
            }),
            (e.prototype.getLayerRendererByKey = function (t) {
              return this.layerRenderers_[t];
            }),
            (e.prototype.getLayerRenderers = function () {
              return this.layerRenderers_;
            }),
            (e.prototype.getMap = function () {
              return this.map_;
            }),
            (e.prototype.handleLayerRendererChange_ = function () {
              this.map_.render();
            }),
            (e.prototype.removeLayerRendererByKey_ = function (t) {
              var e = this.layerRenderers_[t];
              return (
                delete this.layerRenderers_[t],
                Nt(this.layerRendererListeners_[t]),
                delete this.layerRendererListeners_[t],
                e
              );
            }),
            (e.prototype.removeUnusedLayerRenderers_ = function (t, e) {
              for (var n in this.layerRenderers_)
                (e && n in e.layerStates) ||
                  this.removeLayerRendererByKey_(n).dispose();
            }),
            (e.prototype.renderFrame = function (t) {
              lt();
            }),
            (e.prototype.scheduleExpireIconCache = function (t) {
              t.postRenderFunctions.push(uu);
            }),
            (e.prototype.scheduleRemoveUnusedLayerRenderers = function (t) {
              for (var e in this.layerRenderers_)
                if (!(e in t.layerStates))
                  return void t.postRenderFunctions.push(
                    this.removeUnusedLayerRenderers_.bind(this)
                  );
            }),
            e
          );
        })(Et)
      ),
      pu = (function (t) {
        function e(e) {
          t.call(this, e),
            this.renderedResolution,
            (this.transform_ = [1, 0, 0, 1, 0, 0]);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.clip = function (t, e, n) {
            var i = e.pixelRatio,
              r = e.size[0] * i,
              o = e.size[1] * i,
              s = e.viewState.rotation,
              a = Ge(n),
              u = je(n),
              c = Ae(n),
              h = Me(n);
            Ji(e.coordinateToPixelTransform, a),
              Ji(e.coordinateToPixelTransform, u),
              Ji(e.coordinateToPixelTransform, c),
              Ji(e.coordinateToPixelTransform, h),
              t.save(),
              qa(t, -s, r / 2, o / 2),
              t.beginPath(),
              t.moveTo(a[0] * i, a[1] * i),
              t.lineTo(u[0] * i, u[1] * i),
              t.lineTo(c[0] * i, c[1] * i),
              t.lineTo(h[0] * i, h[1] * i),
              t.clip(),
              qa(t, s, r / 2, o / 2);
          }),
          (e.prototype.dispatchComposeEvent_ = function (t, e, n, i) {
            var r = this.getLayer();
            if (r.hasListener(t)) {
              var o = n.size[0] * n.pixelRatio,
                s = n.size[1] * n.pixelRatio,
                a = n.viewState.rotation;
              qa(e, -a, o / 2, s / 2);
              var u = void 0 !== i ? i : this.getTransform(n, 0),
                c = new ru(e, n.pixelRatio, n.extent, u, n.viewState.rotation),
                h = new Ma(t, c, n, e, null);
              r.dispatchEvent(h), qa(e, a, o / 2, s / 2);
            }
          }),
          (e.prototype.forEachLayerAtCoordinate = function (t, e, n, i, r) {
            return this.forEachFeatureAtCoordinate(t, e, n, Pt)
              ? i.call(r, this.getLayer(), null)
              : void 0;
          }),
          (e.prototype.postCompose = function (t, e, n, i) {
            this.dispatchComposeEvent_(Qo, t, e, i);
          }),
          (e.prototype.preCompose = function (t, e, n) {
            this.dispatchComposeEvent_($o, t, e, n);
          }),
          (e.prototype.dispatchRenderEvent = function (t, e, n) {
            this.dispatchComposeEvent_(ts, t, e, n);
          }),
          (e.prototype.getTransform = function (t, e) {
            var n = t.viewState,
              i = t.pixelRatio,
              r = (i * t.size[0]) / 2,
              o = (i * t.size[1]) / 2,
              s = i / n.resolution,
              a = -s,
              u = -n.rotation,
              c = -n.center[0] + e,
              h = -n.center[1];
            return tr(this.transform_, r, o, s, a, u, c, h);
          }),
          (e.prototype.composeFrame = function (t, e, n) {
            lt();
          }),
          (e.prototype.prepareFrame = function (t, e) {
            return lt();
          }),
          e
        );
      })(
        (function (t) {
          function e(e) {
            t.call(this), (this.layer_ = e);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.createLoadedTileFinder = function (t, e, n) {
              return function (i, r) {
                return t.forEachLoadedTile(e, i, r, function (t) {
                  n[i] || (n[i] = {}), (n[i][t.tileCoord.toString()] = t);
                });
              };
            }),
            (e.prototype.forEachFeatureAtCoordinate = function (t, e, n, i) {}),
            (e.prototype.getLayer = function () {
              return this.layer_;
            }),
            (e.prototype.handleImageChange_ = function (t) {
              t.target.getState() === Ta.LOADED &&
                this.renderIfReadyAndVisible();
            }),
            (e.prototype.hasFeatureAtCoordinate = function (t, e) {
              return !1;
            }),
            (e.prototype.loadImage = function (t) {
              var e = t.getState();
              return (
                e != Ta.LOADED &&
                  e != Ta.ERROR &&
                  Lt(t, Gt.CHANGE, this.handleImageChange_, this),
                e == Ta.IDLE && (t.load(), (e = t.getState())),
                e == Ta.LOADED
              );
            }),
            (e.prototype.renderIfReadyAndVisible = function () {
              var t = this.getLayer();
              t.getVisible() &&
                t.getSourceState() == Yn.READY &&
                this.changed();
            }),
            (e.prototype.scheduleExpireCache = function (t, e) {
              if (e.canExpireCache()) {
                var n = function (t, e, n) {
                  var i = ft(t);
                  i in n.usedTiles &&
                    t.expireCache(n.viewState.projection, n.usedTiles[i]);
                }.bind(null, e);
                t.postRenderFunctions.push(n);
              }
            }),
            (e.prototype.updateUsedTiles = function (t, e, n, i) {
              var r = ft(e),
                o = n.toString();
              r in t
                ? o in t[r]
                  ? t[r][o].extend(i)
                  : (t[r][o] = i)
                : ((t[r] = {}), (t[r][o] = i));
            }),
            (e.prototype.manageTilePyramid = function (
              t,
              e,
              n,
              i,
              r,
              o,
              s,
              a,
              u,
              c
            ) {
              var h = ft(e);
              h in t.wantedTiles || (t.wantedTiles[h] = {});
              var l,
                p,
                f,
                d,
                g,
                y,
                _ = t.wantedTiles[h],
                v = t.tileQueue;
              for (y = n.getMinZoom(); y <= s; ++y)
                for (
                  p = n.getTileRangeForExtentAndZ(o, y, p),
                    f = n.getResolution(y),
                    d = p.minX;
                  d <= p.maxX;
                  ++d
                )
                  for (g = p.minY; g <= p.maxY; ++g)
                    s - y <= a
                      ? ((l = e.getTile(y, d, g, i, r)).getState() == gt.IDLE &&
                          ((_[l.getKey()] = !0),
                          v.isKeyQueued(l.getKey()) ||
                            v.enqueue([
                              l,
                              h,
                              n.getTileCoordCenter(l.tileCoord),
                              f,
                            ])),
                        void 0 !== u && u.call(c, l))
                      : e.useTile(y, d, g, r);
            }),
            e
          );
        })(Fn)
      ),
      fu = (function (t) {
        function e(e) {
          t.call(this, e),
            (this.coordinateToCanvasPixelTransform = [1, 0, 0, 1, 0, 0]),
            (this.hitCanvasContext_ = null);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.composeFrame = function (t, e, n) {
            this.preCompose(n, t);
            var i = this.getImage();
            if (i) {
              var r = e.extent,
                o = void 0 !== r && !_e(r, t.extent) && Ue(r, t.extent);
              o && this.clip(n, t, r);
              var s = this.getImageTransform(),
                a = n.globalAlpha;
              n.globalAlpha = e.opacity;
              var u = s[4],
                c = s[5],
                h = i.width * s[0],
                l = i.height * s[3];
              h >= 0.5 &&
                l >= 0.5 &&
                n.drawImage(
                  i,
                  0,
                  0,
                  +i.width,
                  +i.height,
                  Math.round(u),
                  Math.round(c),
                  Math.round(h),
                  Math.round(l)
                ),
                (n.globalAlpha = a),
                o && n.restore();
            }
            this.postCompose(n, t, e);
          }),
          (e.prototype.getImage = function () {
            return lt();
          }),
          (e.prototype.getImageTransform = function () {
            return lt();
          }),
          (e.prototype.forEachLayerAtCoordinate = function (t, e, n, i, r) {
            if (this.getImage()) {
              var o = Ji(this.coordinateToCanvasPixelTransform, t.slice());
              ds(o, e.viewState.resolution / this.renderedResolution),
                this.hitCanvasContext_ || (this.hitCanvasContext_ = Bt(1, 1)),
                this.hitCanvasContext_.clearRect(0, 0, 1, 1),
                this.hitCanvasContext_.drawImage(
                  this.getImage(),
                  o[0],
                  o[1],
                  1,
                  1,
                  0,
                  0,
                  1,
                  1
                );
              var s = this.hitCanvasContext_.getImageData(0, 0, 1, 1).data;
              return s[3] > 0 ? i.call(r, this.getLayer(), s) : void 0;
            }
          }),
          e
        );
      })(pu),
      du = (function (t) {
        function e(n) {
          if (
            (t.call(this, n),
            (this.image_ = null),
            (this.imageTransform_ = [1, 0, 0, 1, 0, 0]),
            (this.skippedFeatures_ = []),
            (this.vectorRenderer_ = null),
            n.getType() === Ra.VECTOR)
          )
            for (var i = 0, r = hu.length; i < r; ++i) {
              var o = hu[i];
              if (o !== e && o.handles(n)) {
                this.vectorRenderer_ = new o(n);
                break;
              }
            }
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.disposeInternal = function () {
            this.vectorRenderer_ && this.vectorRenderer_.dispose(),
              t.prototype.disposeInternal.call(this);
          }),
          (e.prototype.getImage = function () {
            return this.image_ ? this.image_.getImage() : null;
          }),
          (e.prototype.getImageTransform = function () {
            return this.imageTransform_;
          }),
          (e.prototype.prepareFrame = function (t, e) {
            var n,
              i = t.pixelRatio,
              r = t.size,
              o = t.viewState,
              s = o.center,
              a = o.resolution,
              u = this.getLayer().getSource(),
              c = t.viewHints,
              h = this.vectorRenderer_,
              l = t.extent;
            if (
              (h || void 0 === e.extent || (l = Fe(l, e.extent)),
              !c[as] && !c[us] && !Ye(l))
            ) {
              var p = o.projection,
                f = this.skippedFeatures_;
              if (h) {
                var d = h.context,
                  g = bt({}, t, {
                    size: [Be(l) / a, ke(l) / a],
                    viewState: bt({}, t.viewState, { rotation: 0 }),
                  }),
                  y = Object.keys(g.skippedFeatureUids).sort();
                n = new Oa(l, a, i, d.canvas, function (t) {
                  !h.prepareFrame(g, e) ||
                    (!h.replayGroupChanged && ti(f, y)) ||
                    ((d.canvas.width = g.size[0] * i),
                    (d.canvas.height = g.size[1] * i),
                    h.compose(d, g, e),
                    (f = y),
                    t());
                });
              } else n = u.getImage(l, a, i, p);
              n &&
                this.loadImage(n) &&
                ((this.image_ = n), (this.skippedFeatures_ = f));
            }
            if (this.image_) {
              var _ = (n = this.image_).getExtent(),
                v = n.getResolution(),
                m = n.getPixelRatio(),
                x = (i * v) / (a * m),
                E = tr(
                  this.imageTransform_,
                  (i * r[0]) / 2,
                  (i * r[1]) / 2,
                  x,
                  x,
                  0,
                  (m * (_[0] - s[0])) / v,
                  (m * (s[1] - _[3])) / v
                );
              tr(
                this.coordinateToCanvasPixelTransform,
                (i * r[0]) / 2 - E[4],
                (i * r[1]) / 2 - E[5],
                i / a,
                -i / a,
                0,
                -s[0],
                -s[1]
              ),
                (this.renderedResolution = (v * i) / m);
            }
            return !!this.image_;
          }),
          (e.prototype.forEachFeatureAtCoordinate = function (e, n, i, r) {
            return this.vectorRenderer_
              ? this.vectorRenderer_.forEachFeatureAtCoordinate(e, n, i, r)
              : t.prototype.forEachFeatureAtCoordinate.call(this, e, n, i, r);
          }),
          e
        );
      })(fu);
    (du.handles = function (t) {
      return (
        t.getType() === Ra.IMAGE ||
        (t.getType() === Ra.VECTOR && t.getRenderMode() === La.IMAGE)
      );
    }),
      (du.create = function (t, e) {
        return new du(e);
      });
    var gu = du,
      yu = (function (t) {
        function e(e, n) {
          t.call(this, e),
            (this.context = n ? null : Bt()),
            this.oversampling_,
            (this.renderedExtent_ = null),
            this.renderedRevision,
            (this.renderedTiles = []),
            (this.newTiles_ = !1),
            (this.tmpExtent = [1 / 0, 1 / 0, -1 / 0, -1 / 0]),
            (this.tmpTileRange_ = new Kn(0, 0, 0, 0)),
            (this.imageTransform_ = [1, 0, 0, 1, 0, 0]),
            (this.zDirection = 0);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.isDrawableTile_ = function (t) {
            var e = this.getLayer(),
              n = t.getState(),
              i = e.getUseInterimTilesOnError();
            return n == gt.LOADED || n == gt.EMPTY || (n == gt.ERROR && !i);
          }),
          (e.prototype.getTile = function (t, e, n, i, r) {
            var o = this.getLayer(),
              s = o.getSource().getTile(t, e, n, i, r);
            return (
              s.getState() == gt.ERROR &&
                (o.getUseInterimTilesOnError()
                  ? o.getPreload() > 0 && (this.newTiles_ = !0)
                  : s.setState(gt.LOADED)),
              this.isDrawableTile_(s) || (s = s.getInterimTile()),
              s
            );
          }),
          (e.prototype.prepareFrame = function (t, e) {
            var n = t.pixelRatio,
              i = t.size,
              r = t.viewState,
              o = r.projection,
              s = r.resolution,
              a = r.center,
              u = this.getLayer(),
              c = u.getSource(),
              h = c.getRevision(),
              l = c.getTileGridForProjection(o),
              p = l.getZForResolution(s, this.zDirection),
              f = l.getResolution(p),
              d = Math.round(s / f) || 1,
              g = t.extent;
            if ((void 0 !== e.extent && (g = Fe(g, e.extent)), Ye(g)))
              return !1;
            var y = l.getTileRangeForExtentAndZ(g, p),
              _ = l.getTileRangeExtent(p, y),
              v = c.getTilePixelRatio(n),
              m = {};
            m[p] = {};
            var x,
              E,
              b,
              w = this.createLoadedTileFinder(c, o, m),
              I = t.viewHints,
              S = I[as] || I[us],
              C = this.tmpExtent,
              T = this.tmpTileRange_;
            for (this.newTiles_ = !1, E = y.minX; E <= y.maxX; ++E)
              for (b = y.minY; b <= y.maxY; ++b)
                if (!(Date.now() - t.time > 16 && S)) {
                  if (
                    ((x = this.getTile(p, E, b, n, o)), this.isDrawableTile_(x))
                  ) {
                    var O = ft(this);
                    if (x.getState() == gt.LOADED) {
                      m[p][x.tileCoord.toString()] = x;
                      var R = x.inTransition(O);
                      this.newTiles_ ||
                        (!R && -1 !== this.renderedTiles.indexOf(x)) ||
                        (this.newTiles_ = !0);
                    }
                    if (1 === x.getAlpha(O, t.time)) continue;
                  }
                  var L = l.getTileCoordChildTileRange(x.tileCoord, T, C),
                    M = !1;
                  L && (M = w(p + 1, L)),
                    M ||
                      l.forEachTileCoordParentTileRange(
                        x.tileCoord,
                        w,
                        null,
                        T,
                        C
                      );
                }
            var A = ((f * n) / v) * d;
            if (
              !(this.renderedResolution && Date.now() - t.time > 16 && S) &&
              (this.newTiles_ ||
                !this.renderedExtent_ ||
                !_e(this.renderedExtent_, g) ||
                this.renderedRevision != h ||
                d != this.oversampling_ ||
                (!S && A != this.renderedResolution))
            ) {
              var N = this.context;
              if (N) {
                var P = c.getTilePixelSize(p, n, o),
                  D = Math.round((y.getWidth() * P[0]) / d),
                  k = Math.round((y.getHeight() * P[1]) / d),
                  F = N.canvas;
                F.width != D || F.height != k
                  ? ((this.oversampling_ = d), (F.width = D), (F.height = k))
                  : (((this.renderedExtent_ && !we(_, this.renderedExtent_)) ||
                      this.renderedRevision != h) &&
                      N.clearRect(0, 0, D, k),
                    (d = this.oversampling_));
              }
              this.renderedTiles.length = 0;
              var G,
                j,
                B,
                U,
                Y,
                X,
                z,
                V,
                q,
                W,
                H = Object.keys(m).map(Number);
              for (
                H.sort(function (t, e) {
                  return t === p
                    ? 1
                    : e === p
                    ? -1
                    : t > e
                    ? 1
                    : t < e
                    ? -1
                    : 0;
                }),
                  U = 0,
                  Y = H.length;
                U < Y;
                ++U
              )
                for (var K in ((B = H[U]),
                (j = c.getTilePixelSize(B, n, o)),
                (G = l.getResolution(B) / f),
                (z = v * c.getGutterForProjection(o)),
                (V = m[B])))
                  (x = V[K]),
                    (E =
                      ((((X = l.getTileCoordExtent(x.getTileCoord(), C))[0] -
                        _[0]) /
                        f) *
                        v) /
                      d),
                    (b = (((_[3] - X[3]) / f) * v) / d),
                    (q = (j[0] * G) / d),
                    (W = (j[1] * G) / d),
                    this.drawTileImage(x, t, e, E, b, q, W, z, p === B),
                    this.renderedTiles.push(x);
              (this.renderedRevision = h),
                (this.renderedResolution = ((f * n) / v) * d),
                (this.renderedExtent_ = _);
            }
            var Z = this.renderedResolution / s,
              J = tr(
                this.imageTransform_,
                (n * i[0]) / 2,
                (n * i[1]) / 2,
                Z,
                Z,
                0,
                ((this.renderedExtent_[0] - a[0]) / this.renderedResolution) *
                  n,
                ((a[1] - this.renderedExtent_[3]) / this.renderedResolution) * n
              );
            return (
              tr(
                this.coordinateToCanvasPixelTransform,
                (n * i[0]) / 2 - J[4],
                (n * i[1]) / 2 - J[5],
                n / s,
                -n / s,
                0,
                -a[0],
                -a[1]
              ),
              this.updateUsedTiles(t.usedTiles, c, p, y),
              this.manageTilePyramid(t, c, l, n, o, g, p, u.getPreload()),
              this.scheduleExpireCache(t, c),
              this.renderedTiles.length > 0
            );
          }),
          (e.prototype.drawTileImage = function (t, e, n, i, r, o, s, a, u) {
            var c = this.getTileImage(t);
            if (c) {
              var h = ft(this),
                l = u ? t.getAlpha(h, e.time) : 1,
                p = this.getLayer().getSource();
              1 !== l ||
                p.getOpaque(e.viewState.projection) ||
                this.context.clearRect(i, r, o, s);
              var f = l !== this.context.globalAlpha;
              f && (this.context.save(), (this.context.globalAlpha = l)),
                this.context.drawImage(
                  c,
                  a,
                  a,
                  c.width - 2 * a,
                  c.height - 2 * a,
                  i,
                  r,
                  o,
                  s
                ),
                f && this.context.restore(),
                1 !== l ? (e.animate = !0) : u && t.endTransition(h);
            }
          }),
          (e.prototype.getImage = function () {
            var t = this.context;
            return t ? t.canvas : null;
          }),
          (e.prototype.getImageTransform = function () {
            return this.imageTransform_;
          }),
          (e.prototype.getTileImage = function (t) {
            return t.getImage();
          }),
          e
        );
      })(fu);
    (yu.handles = function (t) {
      return t.getType() === Ra.TILE;
    }),
      (yu.create = function (t, e) {
        return new yu(e);
      }),
      yu.prototype.getLayer;
    var _u = yu,
      vu = n(52),
      mu = n.n(vu),
      xu = function () {};
    (xu.prototype.getReplay = function (t, e) {
      return lt();
    }),
      (xu.prototype.isEmpty = function () {
        return lt();
      }),
      (xu.prototype.addDeclutter = function (t) {
        return lt();
      });
    var Eu = xu,
      bu = {
        CIRCLE: "Circle",
        DEFAULT: "Default",
        IMAGE: "Image",
        LINE_STRING: "LineString",
        POLYGON: "Polygon",
        TEXT: "Text",
      };
    function wu(t, e, n, i) {
      for (var r = t[e], o = t[e + 1], s = 0, a = e + i; a < n; a += i) {
        var u = t[a],
          c = t[a + 1];
        (s += Math.sqrt((u - r) * (u - r) + (c - o) * (c - o))),
          (r = u),
          (o = c);
      }
      return s;
    }
    function Iu(t, e, n, i, r, o, s, a) {
      for (
        var u,
          c,
          h,
          l = [],
          p = t[e] > t[n - i],
          f = r.length,
          d = t[e],
          g = t[e + 1],
          y = t[(e += i)],
          _ = t[e + 1],
          v = 0,
          m = Math.sqrt(Math.pow(y - d, 2) + Math.pow(_ - g, 2)),
          x = "",
          E = 0,
          b = 0;
        b < f;
        ++b
      ) {
        c = p ? f - b - 1 : b;
        var w = r.charAt(c),
          I = o((x = p ? w + x : x + w)) - E;
        E += I;
        for (var S = s + I / 2; e < n - i && v + m < S; )
          (d = y),
            (g = _),
            (y = t[(e += i)]),
            (_ = t[e + 1]),
            (v += m),
            (m = Math.sqrt(Math.pow(y - d, 2) + Math.pow(_ - g, 2)));
        var C = S - v,
          T = Math.atan2(_ - g, y - d);
        if ((p && (T += T > 0 ? -Math.PI : Math.PI), void 0 !== h)) {
          var O = T - h;
          if (
            ((O += O > Math.PI ? -2 * Math.PI : O < -Math.PI ? 2 * Math.PI : 0),
            Math.abs(O) > a)
          )
            return null;
        }
        var R = C / m,
          L = oe(d, y, R),
          M = oe(g, _, R);
        h == T
          ? (p && ((u[0] = L), (u[1] = M), (u[2] = I / 2)), (u[4] = x))
          : ((E = I),
            (u = [L, M, I / 2, T, (x = w)]),
            p ? l.unshift(u) : l.push(u),
            (h = T)),
          (s += I);
      }
      return l;
    }
    var Su = {
        BEGIN_GEOMETRY: 0,
        BEGIN_PATH: 1,
        CIRCLE: 2,
        CLOSE_PATH: 3,
        CUSTOM: 4,
        DRAW_CHARS: 5,
        DRAW_IMAGE: 6,
        END_GEOMETRY: 7,
        FILL: 8,
        MOVE_TO_LINE_TO: 9,
        SET_FILL_STYLE: 10,
        SET_STROKE_STYLE: 11,
        STROKE: 12,
      },
      Cu = [Su.FILL],
      Tu = [Su.STROKE],
      Ou = [Su.BEGIN_PATH],
      Ru = [Su.CLOSE_PATH],
      Lu = Su,
      Mu = [
        bu.POLYGON,
        bu.CIRCLE,
        bu.LINE_STRING,
        bu.IMAGE,
        bu.TEXT,
        bu.DEFAULT,
      ],
      Au = {
        left: 0,
        end: 0,
        center: 0.5,
        right: 1,
        start: 1,
        top: 0,
        middle: 0.5,
        hanging: 0.2,
        alphabetic: 0.8,
        ideographic: 0.8,
        bottom: 1,
      },
      Nu = [1 / 0, 1 / 0, -1 / 0, -1 / 0],
      Pu = [1, 0, 0, 1, 0, 0],
      Du = (function (t) {
        function e(e, n, i, r, o, s) {
          t.call(this),
            (this.declutterTree = s),
            (this.tolerance = e),
            (this.maxExtent = n),
            (this.overlaps = o),
            (this.pixelRatio = r),
            (this.maxLineWidth = 0),
            (this.resolution = i),
            this.alignFill_,
            (this.beginGeometryInstruction1_ = null),
            (this.beginGeometryInstruction2_ = null),
            (this.bufferedMaxExtent_ = null),
            (this.instructions = []),
            (this.coordinates = []),
            (this.coordinateCache_ = {}),
            (this.renderedTransform_ = [1, 0, 0, 1, 0, 0]),
            (this.hitDetectionInstructions = []),
            (this.pixelCoordinates_ = null),
            (this.state = {}),
            (this.viewRotation_ = 0);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.replayTextBackground_ = function (t, e, n, i, r, o, s) {
            t.beginPath(),
              t.moveTo.apply(t, e),
              t.lineTo.apply(t, n),
              t.lineTo.apply(t, i),
              t.lineTo.apply(t, r),
              t.lineTo.apply(t, e),
              o && ((this.alignFill_ = o[2]), this.fill_(t)),
              s && (this.setStrokeStyle_(t, s), t.stroke());
          }),
          (e.prototype.replayImage_ = function (
            t,
            e,
            n,
            i,
            r,
            o,
            s,
            a,
            u,
            c,
            h,
            l,
            p,
            f,
            d,
            g,
            y,
            _
          ) {
            var v = y || _;
            (e -= r *= p), (n -= o *= p);
            var m,
              x,
              E,
              b,
              w = d + c > i.width ? i.width - c : d,
              I = a + h > i.height ? i.height - h : a,
              S = g[3] + w * p + g[1],
              C = g[0] + I * p + g[2],
              T = e - g[3],
              O = n - g[0];
            (v || 0 !== l) &&
              ((m = [T, O]),
              (x = [T + S, O]),
              (E = [T + S, O + C]),
              (b = [T, O + C]));
            var R = null;
            if (0 !== l) {
              var L = e + r,
                M = n + o;
              (R = tr(Pu, L, M, 1, 1, l, -L, -M)),
                be(Nu),
                Se(Nu, Ji(Pu, m)),
                Se(Nu, Ji(Pu, x)),
                Se(Nu, Ji(Pu, E)),
                Se(Nu, Ji(Pu, b));
            } else Ee(T, O, T + S, O + C, Nu);
            var A = t.canvas,
              N = _ ? (_[2] * p) / 2 : 0,
              P =
                Nu[0] - N <= A.width &&
                Nu[2] + N >= 0 &&
                Nu[1] - N <= A.height &&
                Nu[3] + N >= 0;
            if ((f && ((e = Math.round(e)), (n = Math.round(n))), s)) {
              if (!P && 1 == s[4]) return;
              Ie(s, Nu);
              var D = P
                ? [t, R ? R.slice(0) : null, u, i, c, h, w, I, e, n, p]
                : null;
              D && v && D.push(y, _, m, x, E, b), s.push(D);
            } else
              P &&
                (v && this.replayTextBackground_(t, m, x, E, b, y, _),
                Ha(t, R, u, i, c, h, w, I, e, n, p));
          }),
          (e.prototype.applyPixelRatio = function (t) {
            var e = this.pixelRatio;
            return 1 == e
              ? t
              : t.map(function (t) {
                  return t * e;
                });
          }),
          (e.prototype.appendFlatCoordinates = function (t, e, n, i, r, o) {
            var s = this.coordinates.length,
              a = this.getBufferedMaxExtent();
            o && (e += i);
            var u,
              c,
              h,
              l = [t[e], t[e + 1]],
              p = [NaN, NaN],
              f = !0;
            for (u = e + i; u < n; u += i)
              (p[0] = t[u]),
                (p[1] = t[u + 1]),
                (h = me(a, p)) !== c
                  ? (f &&
                      ((this.coordinates[s++] = l[0]),
                      (this.coordinates[s++] = l[1])),
                    (this.coordinates[s++] = p[0]),
                    (this.coordinates[s++] = p[1]),
                    (f = !1))
                  : h === le.INTERSECTING
                  ? ((this.coordinates[s++] = p[0]),
                    (this.coordinates[s++] = p[1]),
                    (f = !1))
                  : (f = !0),
                (l[0] = p[0]),
                (l[1] = p[1]),
                (c = h);
            return (
              ((r && f) || u === e + i) &&
                ((this.coordinates[s++] = l[0]),
                (this.coordinates[s++] = l[1])),
              s
            );
          }),
          (e.prototype.drawCustomCoordinates_ = function (t, e, n, i, r) {
            for (var o = 0, s = n.length; o < s; ++o) {
              var a = n[o],
                u = this.appendFlatCoordinates(t, e, a, i, !1, !1);
              r.push(u), (e = a);
            }
            return e;
          }),
          (e.prototype.drawCustom = function (t, e, n) {
            this.beginGeometry(t, e);
            var i,
              r,
              o,
              s,
              a,
              u = t.getType(),
              c = t.getStride(),
              h = this.coordinates.length;
            if (u == se.MULTI_POLYGON) {
              (i = (t = t).getOrientedFlatCoordinates()), (s = []);
              var l = t.getEndss();
              a = 0;
              for (var p = 0, f = l.length; p < f; ++p) {
                var d = [];
                (a = this.drawCustomCoordinates_(i, a, l[p], c, d)), s.push(d);
              }
              this.instructions.push([Lu.CUSTOM, h, s, t, n, yr]);
            } else
              u == se.POLYGON || u == se.MULTI_LINE_STRING
                ? ((o = []),
                  (i =
                    u == se.POLYGON
                      ? t.getOrientedFlatCoordinates()
                      : t.getFlatCoordinates()),
                  (a = this.drawCustomCoordinates_(i, 0, t.getEnds(), c, o)),
                  this.instructions.push([Lu.CUSTOM, h, o, t, n, gr]))
                : u == se.LINE_STRING || u == se.MULTI_POINT
                ? ((i = t.getFlatCoordinates()),
                  (r = this.appendFlatCoordinates(i, 0, i.length, c, !1, !1)),
                  this.instructions.push([Lu.CUSTOM, h, r, t, n, dr]))
                : u == se.POINT &&
                  ((i = t.getFlatCoordinates()),
                  this.coordinates.push(i[0], i[1]),
                  (r = this.coordinates.length),
                  this.instructions.push([Lu.CUSTOM, h, r, t, n]));
            this.endGeometry(t, e);
          }),
          (e.prototype.beginGeometry = function (t, e) {
            (this.beginGeometryInstruction1_ = [Lu.BEGIN_GEOMETRY, e, 0]),
              this.instructions.push(this.beginGeometryInstruction1_),
              (this.beginGeometryInstruction2_ = [Lu.BEGIN_GEOMETRY, e, 0]),
              this.hitDetectionInstructions.push(
                this.beginGeometryInstruction2_
              );
          }),
          (e.prototype.finish = function () {}),
          (e.prototype.fill_ = function (t) {
            if (this.alignFill_) {
              var e = Ji(this.renderedTransform_, [0, 0]),
                n = 512 * this.pixelRatio;
              t.translate(e[0] % n, e[1] % n), t.rotate(this.viewRotation_);
            }
            t.fill(), this.alignFill_ && t.setTransform.apply(t, Wa);
          }),
          (e.prototype.setStrokeStyle_ = function (t, e) {
            (t.strokeStyle = e[1]),
              (t.lineWidth = e[2]),
              (t.lineCap = e[3]),
              (t.lineJoin = e[4]),
              (t.miterLimit = e[5]),
              Xr && ((t.lineDashOffset = e[7]), t.setLineDash(e[6]));
          }),
          (e.prototype.renderDeclutter_ = function (t, e) {
            if (t && t.length > 5) {
              var n = t[4];
              if (1 == n || n == t.length - 5) {
                var i = {
                  minX: t[0],
                  minY: t[1],
                  maxX: t[2],
                  maxY: t[3],
                  value: e,
                };
                if (!this.declutterTree.collides(i)) {
                  this.declutterTree.insert(i);
                  for (var r = 5, o = t.length; r < o; ++r) {
                    var s = t[r];
                    s &&
                      (s.length > 11 &&
                        this.replayTextBackground_(
                          s[0],
                          s[13],
                          s[14],
                          s[15],
                          s[16],
                          s[11],
                          s[12]
                        ),
                      Ha.apply(void 0, s));
                  }
                }
                (t.length = 5), be(t);
              }
            }
          }),
          (e.prototype.replay_ = function (t, e, n, i, r, o, s) {
            var a;
            this.pixelCoordinates_ && ti(e, this.renderedTransform_)
              ? (a = this.pixelCoordinates_)
              : (this.pixelCoordinates_ || (this.pixelCoordinates_ = []),
                (a = Vi(
                  this.coordinates,
                  0,
                  this.coordinates.length,
                  2,
                  e,
                  this.pixelCoordinates_
                )),
                Zi(this.renderedTransform_, e));
            for (
              var u,
                c,
                h,
                l,
                p,
                f,
                d,
                g,
                y,
                _,
                v,
                m,
                x = !St(n),
                E = 0,
                b = i.length,
                w = 0,
                I = 0,
                S = 0,
                C = null,
                T = null,
                O = this.coordinateCache_,
                R = this.viewRotation_,
                L = {
                  context: t,
                  pixelRatio: this.pixelRatio,
                  resolution: this.resolution,
                  rotation: R,
                },
                M = this.instructions != i || this.overlaps ? 0 : 200;
              E < b;

            ) {
              var A = i[E];
              switch (A[0]) {
                case Lu.BEGIN_GEOMETRY:
                  (_ = A[1]),
                    (x && n[ft(_)]) || !_.getGeometry()
                      ? (E = A[2])
                      : void 0 === s || Ue(s, _.getGeometry().getExtent())
                      ? ++E
                      : (E = A[2] + 1);
                  break;
                case Lu.BEGIN_PATH:
                  I > M && (this.fill_(t), (I = 0)),
                    S > M && (t.stroke(), (S = 0)),
                    I || S || (t.beginPath(), (l = p = NaN)),
                    ++E;
                  break;
                case Lu.CIRCLE:
                  var N = a[(w = A[1])],
                    P = a[w + 1],
                    D = a[w + 2] - N,
                    k = a[w + 3] - P,
                    F = Math.sqrt(D * D + k * k);
                  t.moveTo(N + F, P), t.arc(N, P, F, 0, 2 * Math.PI, !0), ++E;
                  break;
                case Lu.CLOSE_PATH:
                  t.closePath(), ++E;
                  break;
                case Lu.CUSTOM:
                  (w = A[1]), (u = A[2]);
                  var G = A[3],
                    j = A[4],
                    B = 6 == A.length ? A[5] : void 0;
                  (L.geometry = G), (L.feature = _), E in O || (O[E] = []);
                  var U = O[E];
                  B
                    ? B(a, w, u, 2, U)
                    : ((U[0] = a[w]), (U[1] = a[w + 1]), (U.length = 2)),
                    j(U, L),
                    ++E;
                  break;
                case Lu.DRAW_IMAGE:
                  (w = A[1]),
                    (u = A[2]),
                    (y = A[3]),
                    (c = A[4]),
                    (h = A[5]),
                    (g = o ? null : A[6]);
                  var Y = A[7],
                    X = A[8],
                    z = A[9],
                    V = A[10],
                    q = A[11],
                    W = A[12],
                    H = A[13],
                    K = A[14],
                    Z = void 0,
                    J = void 0,
                    Q = void 0;
                  for (
                    A.length > 16
                      ? ((Z = A[15]), (J = A[16]), (Q = A[17]))
                      : ((Z = Da), (J = Q = !1)),
                      q && (W += R);
                    w < u;
                    w += 2
                  )
                    this.replayImage_(
                      t,
                      a[w],
                      a[w + 1],
                      y,
                      c,
                      h,
                      g,
                      Y,
                      X,
                      z,
                      V,
                      W,
                      H,
                      r,
                      K,
                      Z,
                      J ? C : null,
                      Q ? T : null
                    );
                  this.renderDeclutter_(g, _), ++E;
                  break;
                case Lu.DRAW_CHARS:
                  var $ = A[1],
                    tt = A[2],
                    et = A[3];
                  g = o ? null : A[4];
                  var nt = A[5],
                    it = A[6],
                    rt = A[7],
                    ot = A[8],
                    st = A[9],
                    at = A[10],
                    ut = A[11],
                    ct = A[12],
                    ht = A[13],
                    lt = A[14],
                    pt = wu(a, $, tt, 2),
                    dt = ot(ct);
                  if (nt || dt <= pt) {
                    var gt = this.textStates[ht].textAlign,
                      yt = Iu(a, $, tt, 2, ct, ot, (pt - dt) * Au[gt], rt);
                    if (yt) {
                      var _t = void 0,
                        vt = void 0,
                        mt = void 0,
                        xt = void 0,
                        Et = void 0;
                      if (at)
                        for (_t = 0, vt = yt.length; _t < vt; ++_t)
                          (mt = (Et = yt[_t])[4]),
                            (xt = this.getImage(mt, ht, "", at)),
                            (c = Et[2] + ut),
                            (h = et * xt.height + 2 * (0.5 - et) * ut - st),
                            this.replayImage_(
                              t,
                              Et[0],
                              Et[1],
                              xt,
                              c,
                              h,
                              g,
                              xt.height,
                              1,
                              0,
                              0,
                              Et[3],
                              lt,
                              !1,
                              xt.width,
                              Da,
                              null,
                              null
                            );
                      if (it)
                        for (_t = 0, vt = yt.length; _t < vt; ++_t)
                          (mt = (Et = yt[_t])[4]),
                            (xt = this.getImage(mt, ht, it, "")),
                            (c = Et[2]),
                            (h = et * xt.height - st),
                            this.replayImage_(
                              t,
                              Et[0],
                              Et[1],
                              xt,
                              c,
                              h,
                              g,
                              xt.height,
                              1,
                              0,
                              0,
                              Et[3],
                              lt,
                              !1,
                              xt.width,
                              Da,
                              null,
                              null
                            );
                    }
                  }
                  this.renderDeclutter_(g, _), ++E;
                  break;
                case Lu.END_GEOMETRY:
                  if (void 0 !== o) {
                    var bt = o((_ = A[1]));
                    if (bt) return bt;
                  }
                  ++E;
                  break;
                case Lu.FILL:
                  M ? I++ : this.fill_(t), ++E;
                  break;
                case Lu.MOVE_TO_LINE_TO:
                  for (
                    w = A[1],
                      u = A[2],
                      v = a[w],
                      d = ((m = a[w + 1]) + 0.5) | 0,
                      ((f = (v + 0.5) | 0) === l && d === p) ||
                        (t.moveTo(v, m), (l = f), (p = d)),
                      w += 2;
                    w < u;
                    w += 2
                  )
                    (f = ((v = a[w]) + 0.5) | 0),
                      (d = ((m = a[w + 1]) + 0.5) | 0),
                      (w != u - 2 && f === l && d === p) ||
                        (t.lineTo(v, m), (l = f), (p = d));
                  ++E;
                  break;
                case Lu.SET_FILL_STYLE:
                  (C = A),
                    (this.alignFill_ = A[2]),
                    I && (this.fill_(t), (I = 0), S && (t.stroke(), (S = 0))),
                    (t.fillStyle = A[1]),
                    ++E;
                  break;
                case Lu.SET_STROKE_STYLE:
                  (T = A),
                    S && (t.stroke(), (S = 0)),
                    this.setStrokeStyle_(t, A),
                    ++E;
                  break;
                case Lu.STROKE:
                  M ? S++ : t.stroke(), ++E;
                  break;
                default:
                  ++E;
              }
            }
            I && this.fill_(t), S && t.stroke();
          }),
          (e.prototype.replay = function (t, e, n, i, r) {
            (this.viewRotation_ = n),
              this.replay_(t, e, i, this.instructions, r, void 0, void 0);
          }),
          (e.prototype.replayHitDetection = function (t, e, n, i, r, o) {
            return (
              (this.viewRotation_ = n),
              this.replay_(t, e, i, this.hitDetectionInstructions, !0, r, o)
            );
          }),
          (e.prototype.reverseHitDetectionInstructions = function () {
            var t,
              e = this.hitDetectionInstructions;
            e.reverse();
            var n,
              i,
              r = e.length,
              o = -1;
            for (t = 0; t < r; ++t)
              (i = (n = e[t])[0]) == Lu.END_GEOMETRY
                ? (o = t)
                : i == Lu.BEGIN_GEOMETRY &&
                  ((n[2] = t),
                  Qn(this.hitDetectionInstructions, o, t),
                  (o = -1));
          }),
          (e.prototype.setFillStrokeStyle = function (t, e) {
            var n = this.state;
            if (t) {
              var i = t.getColor();
              n.fillStyle = eu(i || Aa);
            } else n.fillStyle = void 0;
            if (e) {
              var r = e.getColor();
              n.strokeStyle = eu(r || Pa);
              var o = e.getLineCap();
              n.lineCap = void 0 !== o ? o : "round";
              var s = e.getLineDash();
              n.lineDash = s ? s.slice() : Na;
              var a = e.getLineDashOffset();
              n.lineDashOffset = a || 0;
              var u = e.getLineJoin();
              n.lineJoin = void 0 !== u ? u : "round";
              var c = e.getWidth();
              n.lineWidth = void 0 !== c ? c : 1;
              var h = e.getMiterLimit();
              (n.miterLimit = void 0 !== h ? h : 10),
                n.lineWidth > this.maxLineWidth &&
                  ((this.maxLineWidth = n.lineWidth),
                  (this.bufferedMaxExtent_ = null));
            } else
              (n.strokeStyle = void 0),
                (n.lineCap = void 0),
                (n.lineDash = null),
                (n.lineDashOffset = void 0),
                (n.lineJoin = void 0),
                (n.lineWidth = void 0),
                (n.miterLimit = void 0);
          }),
          (e.prototype.createFill = function (t, e) {
            var n = t.fillStyle,
              i = [Lu.SET_FILL_STYLE, n];
            return "string" != typeof n && i.push(!0), i;
          }),
          (e.prototype.applyStroke = function (t) {
            this.instructions.push(this.createStroke(t));
          }),
          (e.prototype.createStroke = function (t) {
            return [
              Lu.SET_STROKE_STYLE,
              t.strokeStyle,
              t.lineWidth * this.pixelRatio,
              t.lineCap,
              t.lineJoin,
              t.miterLimit,
              this.applyPixelRatio(t.lineDash),
              t.lineDashOffset * this.pixelRatio,
            ];
          }),
          (e.prototype.updateFillStyle = function (t, e, n) {
            var i = t.fillStyle;
            ("string" == typeof i && t.currentFillStyle == i) ||
              (void 0 !== i && this.instructions.push(e.call(this, t, n)),
              (t.currentFillStyle = i));
          }),
          (e.prototype.updateStrokeStyle = function (t, e) {
            var n = t.strokeStyle,
              i = t.lineCap,
              r = t.lineDash,
              o = t.lineDashOffset,
              s = t.lineJoin,
              a = t.lineWidth,
              u = t.miterLimit;
            (t.currentStrokeStyle != n ||
              t.currentLineCap != i ||
              (r != t.currentLineDash && !ti(t.currentLineDash, r)) ||
              t.currentLineDashOffset != o ||
              t.currentLineJoin != s ||
              t.currentLineWidth != a ||
              t.currentMiterLimit != u) &&
              (void 0 !== n && e.call(this, t),
              (t.currentStrokeStyle = n),
              (t.currentLineCap = i),
              (t.currentLineDash = r),
              (t.currentLineDashOffset = o),
              (t.currentLineJoin = s),
              (t.currentLineWidth = a),
              (t.currentMiterLimit = u));
          }),
          (e.prototype.endGeometry = function (t, e) {
            (this.beginGeometryInstruction1_[2] = this.instructions.length),
              (this.beginGeometryInstruction1_ = null),
              (this.beginGeometryInstruction2_[2] = this.hitDetectionInstructions.length),
              (this.beginGeometryInstruction2_ = null);
            var n = [Lu.END_GEOMETRY, e];
            this.instructions.push(n), this.hitDetectionInstructions.push(n);
          }),
          (e.prototype.getBufferedMaxExtent = function () {
            if (
              !this.bufferedMaxExtent_ &&
              ((this.bufferedMaxExtent_ = de(this.maxExtent)),
              this.maxLineWidth > 0)
            ) {
              var t = (this.resolution * (this.maxLineWidth + 1)) / 2;
              fe(this.bufferedMaxExtent_, t, this.bufferedMaxExtent_);
            }
            return this.bufferedMaxExtent_;
          }),
          e
        );
      })(iu),
      ku = (function (t) {
        function e(e, n, i, r, o, s) {
          t.call(this, e, n, i, r, o, s),
            (this.declutterGroup_ = null),
            (this.hitDetectionImage_ = null),
            (this.image_ = null),
            (this.anchorX_ = void 0),
            (this.anchorY_ = void 0),
            (this.height_ = void 0),
            (this.opacity_ = void 0),
            (this.originX_ = void 0),
            (this.originY_ = void 0),
            (this.rotateWithView_ = void 0),
            (this.rotation_ = void 0),
            (this.scale_ = void 0),
            (this.width_ = void 0);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.drawCoordinates_ = function (t, e, n, i) {
            return this.appendFlatCoordinates(t, e, n, i, !1, !1);
          }),
          (e.prototype.drawPoint = function (t, e) {
            if (this.image_) {
              this.beginGeometry(t, e);
              var n = t.getFlatCoordinates(),
                i = t.getStride(),
                r = this.coordinates.length,
                o = this.drawCoordinates_(n, 0, n.length, i);
              this.instructions.push([
                Lu.DRAW_IMAGE,
                r,
                o,
                this.image_,
                this.anchorX_,
                this.anchorY_,
                this.declutterGroup_,
                this.height_,
                this.opacity_,
                this.originX_,
                this.originY_,
                this.rotateWithView_,
                this.rotation_,
                this.scale_ * this.pixelRatio,
                this.width_,
              ]),
                this.hitDetectionInstructions.push([
                  Lu.DRAW_IMAGE,
                  r,
                  o,
                  this.hitDetectionImage_,
                  this.anchorX_,
                  this.anchorY_,
                  this.declutterGroup_,
                  this.height_,
                  this.opacity_,
                  this.originX_,
                  this.originY_,
                  this.rotateWithView_,
                  this.rotation_,
                  this.scale_,
                  this.width_,
                ]),
                this.endGeometry(t, e);
            }
          }),
          (e.prototype.drawMultiPoint = function (t, e) {
            if (this.image_) {
              this.beginGeometry(t, e);
              var n = t.getFlatCoordinates(),
                i = t.getStride(),
                r = this.coordinates.length,
                o = this.drawCoordinates_(n, 0, n.length, i);
              this.instructions.push([
                Lu.DRAW_IMAGE,
                r,
                o,
                this.image_,
                this.anchorX_,
                this.anchorY_,
                this.declutterGroup_,
                this.height_,
                this.opacity_,
                this.originX_,
                this.originY_,
                this.rotateWithView_,
                this.rotation_,
                this.scale_ * this.pixelRatio,
                this.width_,
              ]),
                this.hitDetectionInstructions.push([
                  Lu.DRAW_IMAGE,
                  r,
                  o,
                  this.hitDetectionImage_,
                  this.anchorX_,
                  this.anchorY_,
                  this.declutterGroup_,
                  this.height_,
                  this.opacity_,
                  this.originX_,
                  this.originY_,
                  this.rotateWithView_,
                  this.rotation_,
                  this.scale_,
                  this.width_,
                ]),
                this.endGeometry(t, e);
            }
          }),
          (e.prototype.finish = function () {
            this.reverseHitDetectionInstructions(),
              (this.anchorX_ = void 0),
              (this.anchorY_ = void 0),
              (this.hitDetectionImage_ = null),
              (this.image_ = null),
              (this.height_ = void 0),
              (this.scale_ = void 0),
              (this.opacity_ = void 0),
              (this.originX_ = void 0),
              (this.originY_ = void 0),
              (this.rotateWithView_ = void 0),
              (this.rotation_ = void 0),
              (this.width_ = void 0);
          }),
          (e.prototype.setImageStyle = function (t, e) {
            var n = t.getAnchor(),
              i = t.getSize(),
              r = t.getHitDetectionImage(1),
              o = t.getImage(1),
              s = t.getOrigin();
            (this.anchorX_ = n[0]),
              (this.anchorY_ = n[1]),
              (this.declutterGroup_ = e),
              (this.hitDetectionImage_ = r),
              (this.image_ = o),
              (this.height_ = i[1]),
              (this.opacity_ = t.getOpacity()),
              (this.originX_ = s[0]),
              (this.originY_ = s[1]),
              (this.rotateWithView_ = t.getRotateWithView()),
              (this.rotation_ = t.getRotation()),
              (this.scale_ = t.getScale()),
              (this.width_ = i[0]);
          }),
          e
        );
      })(Du),
      Fu = (function (t) {
        function e(e, n, i, r, o, s) {
          t.call(this, e, n, i, r, o, s);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.drawFlatCoordinates_ = function (t, e, n, i) {
            var r = this.coordinates.length,
              o = this.appendFlatCoordinates(t, e, n, i, !1, !1),
              s = [Lu.MOVE_TO_LINE_TO, r, o];
            return (
              this.instructions.push(s),
              this.hitDetectionInstructions.push(s),
              n
            );
          }),
          (e.prototype.drawLineString = function (t, e) {
            var n = this.state,
              i = n.strokeStyle,
              r = n.lineWidth;
            if (void 0 !== i && void 0 !== r) {
              this.updateStrokeStyle(n, this.applyStroke),
                this.beginGeometry(t, e),
                this.hitDetectionInstructions.push(
                  [
                    Lu.SET_STROKE_STYLE,
                    n.strokeStyle,
                    n.lineWidth,
                    n.lineCap,
                    n.lineJoin,
                    n.miterLimit,
                    n.lineDash,
                    n.lineDashOffset,
                  ],
                  Ou
                );
              var o = t.getFlatCoordinates(),
                s = t.getStride();
              this.drawFlatCoordinates_(o, 0, o.length, s),
                this.hitDetectionInstructions.push(Tu),
                this.endGeometry(t, e);
            }
          }),
          (e.prototype.drawMultiLineString = function (t, e) {
            var n = this.state,
              i = n.strokeStyle,
              r = n.lineWidth;
            if (void 0 !== i && void 0 !== r) {
              this.updateStrokeStyle(n, this.applyStroke),
                this.beginGeometry(t, e),
                this.hitDetectionInstructions.push(
                  [
                    Lu.SET_STROKE_STYLE,
                    n.strokeStyle,
                    n.lineWidth,
                    n.lineCap,
                    n.lineJoin,
                    n.miterLimit,
                    n.lineDash,
                    n.lineDashOffset,
                  ],
                  Ou
                );
              for (
                var o = t.getEnds(),
                  s = t.getFlatCoordinates(),
                  a = t.getStride(),
                  u = 0,
                  c = 0,
                  h = o.length;
                c < h;
                ++c
              )
                u = this.drawFlatCoordinates_(s, u, o[c], a);
              this.hitDetectionInstructions.push(Tu), this.endGeometry(t, e);
            }
          }),
          (e.prototype.finish = function () {
            var t = this.state;
            null != t.lastStroke &&
              t.lastStroke != this.coordinates.length &&
              this.instructions.push(Tu),
              this.reverseHitDetectionInstructions(),
              (this.state = null);
          }),
          (e.prototype.applyStroke = function (e) {
            null != e.lastStroke &&
              e.lastStroke != this.coordinates.length &&
              (this.instructions.push(Tu),
              (e.lastStroke = this.coordinates.length)),
              (e.lastStroke = 0),
              t.prototype.applyStroke.call(this, e),
              this.instructions.push(Ou);
          }),
          e
        );
      })(Du),
      Gu = (function (t) {
        function e(e, n, i, r, o, s) {
          t.call(this, e, n, i, r, o, s);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.drawFlatCoordinatess_ = function (t, e, n, i) {
            var r = this.state,
              o = void 0 !== r.fillStyle,
              s = null != r.strokeStyle,
              a = n.length;
            this.instructions.push(Ou), this.hitDetectionInstructions.push(Ou);
            for (var u = 0; u < a; ++u) {
              var c = n[u],
                h = this.coordinates.length,
                l = this.appendFlatCoordinates(t, e, c, i, !0, !s),
                p = [Lu.MOVE_TO_LINE_TO, h, l];
              this.instructions.push(p),
                this.hitDetectionInstructions.push(p),
                s &&
                  (this.instructions.push(Ru),
                  this.hitDetectionInstructions.push(Ru)),
                (e = c);
            }
            return (
              o &&
                (this.instructions.push(Cu),
                this.hitDetectionInstructions.push(Cu)),
              s &&
                (this.instructions.push(Tu),
                this.hitDetectionInstructions.push(Tu)),
              e
            );
          }),
          (e.prototype.drawCircle = function (t, e) {
            var n = this.state,
              i = n.fillStyle,
              r = n.strokeStyle;
            if (void 0 !== i || void 0 !== r) {
              this.setFillStrokeStyles_(t),
                this.beginGeometry(t, e),
                void 0 !== n.fillStyle &&
                  this.hitDetectionInstructions.push([
                    Lu.SET_FILL_STYLE,
                    Ja(Aa),
                  ]),
                void 0 !== n.strokeStyle &&
                  this.hitDetectionInstructions.push([
                    Lu.SET_STROKE_STYLE,
                    n.strokeStyle,
                    n.lineWidth,
                    n.lineCap,
                    n.lineJoin,
                    n.miterLimit,
                    n.lineDash,
                    n.lineDashOffset,
                  ]);
              var o = t.getFlatCoordinates(),
                s = t.getStride(),
                a = this.coordinates.length;
              this.appendFlatCoordinates(o, 0, o.length, s, !1, !1);
              var u = [Lu.CIRCLE, a];
              this.instructions.push(Ou, u),
                this.hitDetectionInstructions.push(Ou, u),
                this.hitDetectionInstructions.push(Cu),
                void 0 !== n.fillStyle && this.instructions.push(Cu),
                void 0 !== n.strokeStyle &&
                  (this.instructions.push(Tu),
                  this.hitDetectionInstructions.push(Tu)),
                this.endGeometry(t, e);
            }
          }),
          (e.prototype.drawPolygon = function (t, e) {
            var n = this.state,
              i = n.fillStyle,
              r = n.strokeStyle;
            if (void 0 !== i || void 0 !== r) {
              this.setFillStrokeStyles_(t),
                this.beginGeometry(t, e),
                void 0 !== n.fillStyle &&
                  this.hitDetectionInstructions.push([
                    Lu.SET_FILL_STYLE,
                    Ja(Aa),
                  ]),
                void 0 !== n.strokeStyle &&
                  this.hitDetectionInstructions.push([
                    Lu.SET_STROKE_STYLE,
                    n.strokeStyle,
                    n.lineWidth,
                    n.lineCap,
                    n.lineJoin,
                    n.miterLimit,
                    n.lineDash,
                    n.lineDashOffset,
                  ]);
              var o = t.getEnds(),
                s = t.getOrientedFlatCoordinates(),
                a = t.getStride();
              this.drawFlatCoordinatess_(s, 0, o, a), this.endGeometry(t, e);
            }
          }),
          (e.prototype.drawMultiPolygon = function (t, e) {
            var n = this.state,
              i = n.fillStyle,
              r = n.strokeStyle;
            if (void 0 !== i || void 0 !== r) {
              this.setFillStrokeStyles_(t),
                this.beginGeometry(t, e),
                void 0 !== n.fillStyle &&
                  this.hitDetectionInstructions.push([
                    Lu.SET_FILL_STYLE,
                    Ja(Aa),
                  ]),
                void 0 !== n.strokeStyle &&
                  this.hitDetectionInstructions.push([
                    Lu.SET_STROKE_STYLE,
                    n.strokeStyle,
                    n.lineWidth,
                    n.lineCap,
                    n.lineJoin,
                    n.miterLimit,
                    n.lineDash,
                    n.lineDashOffset,
                  ]);
              for (
                var o = t.getEndss(),
                  s = t.getOrientedFlatCoordinates(),
                  a = t.getStride(),
                  u = 0,
                  c = 0,
                  h = o.length;
                c < h;
                ++c
              )
                u = this.drawFlatCoordinatess_(s, u, o[c], a);
              this.endGeometry(t, e);
            }
          }),
          (e.prototype.finish = function () {
            this.reverseHitDetectionInstructions(), (this.state = null);
            var t = this.tolerance;
            if (0 !== t)
              for (var e = this.coordinates, n = 0, i = e.length; n < i; ++n)
                e[n] = vr(e[n], t);
          }),
          (e.prototype.setFillStrokeStyles_ = function (t) {
            var e = this.state;
            void 0 !== e.fillStyle &&
              this.updateFillStyle(e, this.createFill, t),
              void 0 !== e.strokeStyle &&
                this.updateStrokeStyle(e, this.applyStroke);
          }),
          e
        );
      })(Du);
    function ju(t, e, n, i, r) {
      var o,
        s,
        a,
        u,
        c,
        h,
        l,
        p,
        f,
        d = n,
        g = n,
        y = 0,
        _ = 0,
        v = n;
      for (o = n; o < i; o += r) {
        var m = e[o],
          x = e[o + 1];
        void 0 !== u &&
          ((p = m - u),
          (f = x - c),
          (a = Math.sqrt(p * p + f * f)),
          void 0 !== h &&
            ((_ += s),
            Math.acos((h * p + l * f) / (s * a)) > t &&
              (_ > y && ((y = _), (d = v), (g = o)), (_ = 0), (v = o - r))),
          (s = a),
          (h = p),
          (l = f)),
          (u = m),
          (c = x);
      }
      return (_ += a) > y ? [v, o] : [d, g];
    }
    var Bu = "line";
    var Uu = {
        Circle: Gu,
        Default: Du,
        Image: ku,
        LineString: Fu,
        Polygon: Gu,
        Text: (function (t) {
          function e(e, n, i, r, o, s) {
            t.call(this, e, n, i, r, o, s),
              this.declutterGroup_,
              (this.labels_ = null),
              (this.text_ = ""),
              (this.textOffsetX_ = 0),
              (this.textOffsetY_ = 0),
              (this.textRotateWithView_ = void 0),
              (this.textRotation_ = 0),
              (this.textFillState_ = null),
              (this.fillStates = {}),
              (this.textStrokeState_ = null),
              (this.strokeStates = {}),
              (this.textState_ = {}),
              (this.textStates = {}),
              (this.textKey_ = ""),
              (this.fillKey_ = ""),
              (this.strokeKey_ = ""),
              (this.widths_ = {}),
              ka.prune();
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.drawText = function (t, e) {
              var n = this.textFillState_,
                i = this.textStrokeState_,
                r = this.textState_;
              if ("" !== this.text_ && r && (n || i)) {
                var o,
                  s,
                  a = this.coordinates.length,
                  u = t.getType(),
                  c = null,
                  h = 2,
                  l = 2;
                if (r.placement === Bu) {
                  if (!Ue(this.getBufferedMaxExtent(), t.getExtent())) return;
                  var p;
                  if (
                    ((c = t.getFlatCoordinates()),
                    (l = t.getStride()),
                    u == se.LINE_STRING)
                  )
                    p = [c.length];
                  else if (u == se.MULTI_LINE_STRING) p = t.getEnds();
                  else if (u == se.POLYGON) p = t.getEnds().slice(0, 1);
                  else if (u == se.MULTI_POLYGON) {
                    var f = t.getEndss();
                    for (p = [], o = 0, s = f.length; o < s; ++o)
                      p.push(f[o][0]);
                  }
                  this.beginGeometry(t, e);
                  for (
                    var d, g = r.textAlign, y = 0, _ = 0, v = p.length;
                    _ < v;
                    ++_
                  ) {
                    if (null == g) {
                      var m = ju(r.maxAngle, c, y, p[_], l);
                      (y = m[0]), (d = m[1]);
                    } else d = p[_];
                    for (o = y; o < d; o += l)
                      this.coordinates.push(c[o], c[o + 1]);
                    (h = this.coordinates.length),
                      (y = p[_]),
                      this.drawChars_(a, h, this.declutterGroup_),
                      (a = h);
                  }
                  this.endGeometry(t, e);
                } else {
                  var x = this.getImage(
                      this.text_,
                      this.textKey_,
                      this.fillKey_,
                      this.strokeKey_
                    ),
                    E = x.width / this.pixelRatio;
                  switch (u) {
                    case se.POINT:
                    case se.MULTI_POINT:
                      h = (c = t.getFlatCoordinates()).length;
                      break;
                    case se.LINE_STRING:
                      c = t.getFlatMidpoint();
                      break;
                    case se.CIRCLE:
                      c = t.getCenter();
                      break;
                    case se.MULTI_LINE_STRING:
                      h = (c = t.getFlatMidpoints()).length;
                      break;
                    case se.POLYGON:
                      if (
                        ((c = t.getFlatInteriorPoint()),
                        !r.overflow && c[2] / this.resolution < E)
                      )
                        return;
                      l = 3;
                      break;
                    case se.MULTI_POLYGON:
                      var b = t.getFlatInteriorPoints();
                      for (c = [], o = 0, s = b.length; o < s; o += 3)
                        (r.overflow || b[o + 2] / this.resolution >= E) &&
                          c.push(b[o], b[o + 1]);
                      if (0 == (h = c.length)) return;
                  }
                  (h = this.appendFlatCoordinates(c, 0, h, l, !1, !1)),
                    (r.backgroundFill || r.backgroundStroke) &&
                      (this.setFillStrokeStyle(
                        r.backgroundFill,
                        r.backgroundStroke
                      ),
                      r.backgroundFill &&
                        (this.updateFillStyle(this.state, this.createFill, t),
                        this.hitDetectionInstructions.push(
                          this.createFill(this.state, t)
                        )),
                      r.backgroundStroke &&
                        (this.updateStrokeStyle(this.state, this.applyStroke),
                        this.hitDetectionInstructions.push(
                          this.createStroke(this.state)
                        ))),
                    this.beginGeometry(t, e),
                    this.drawTextImage_(x, a, h),
                    this.endGeometry(t, e);
                }
              }
            }),
            (e.prototype.getImage = function (t, e, n, i) {
              var r,
                o = i + e + t + n + this.pixelRatio;
              if (!ka.containsKey(o)) {
                var s = i
                    ? this.strokeStates[i] || this.textStrokeState_
                    : null,
                  a = n ? this.fillStates[n] || this.textFillState_ : null,
                  u = this.textStates[e] || this.textState_,
                  c = this.pixelRatio,
                  h = u.scale * c,
                  l = Au[u.textAlign || "center"],
                  p = i && s.lineWidth ? s.lineWidth : 0,
                  f = t.split("\n"),
                  d = f.length,
                  g = [],
                  y = (function (t, e, n) {
                    for (var i = e.length, r = 0, o = 0; o < i; ++o) {
                      var s = Va(t, e[o]);
                      (r = Math.max(r, s)), n.push(s);
                    }
                    return r;
                  })(u.font, f, g),
                  _ = za(u.font),
                  v = _ * d,
                  m = y + p,
                  x = Bt(Math.ceil(m * h), Math.ceil((v + p) * h));
                (r = x.canvas),
                  ka.set(o, r),
                  1 != h && x.scale(h, h),
                  (x.font = u.font),
                  i &&
                    ((x.strokeStyle = s.strokeStyle),
                    (x.lineWidth = p),
                    (x.lineCap = s.lineCap),
                    (x.lineJoin = s.lineJoin),
                    (x.miterLimit = s.miterLimit),
                    Xr &&
                      s.lineDash.length &&
                      (x.setLineDash(s.lineDash),
                      (x.lineDashOffset = s.lineDashOffset))),
                  n && (x.fillStyle = a.fillStyle),
                  (x.textBaseline = "middle"),
                  (x.textAlign = "center");
                var E,
                  b = 0.5 - l,
                  w = (l * r.width) / h + b * p;
                if (i)
                  for (E = 0; E < d; ++E)
                    x.strokeText(f[E], w + b * g[E], 0.5 * (p + _) + E * _);
                if (n)
                  for (E = 0; E < d; ++E)
                    x.fillText(f[E], w + b * g[E], 0.5 * (p + _) + E * _);
              }
              return ka.get(o);
            }),
            (e.prototype.drawTextImage_ = function (t, e, n) {
              var i = this.textState_,
                r = this.textStrokeState_,
                o = this.pixelRatio,
                s = Au[i.textAlign || "center"],
                a = Au[i.textBaseline],
                u = r && r.lineWidth ? r.lineWidth : 0,
                c = (s * t.width) / o + 2 * (0.5 - s) * u,
                h = (a * t.height) / o + 2 * (0.5 - a) * u;
              this.instructions.push([
                Lu.DRAW_IMAGE,
                e,
                n,
                t,
                (c - this.textOffsetX_) * o,
                (h - this.textOffsetY_) * o,
                this.declutterGroup_,
                t.height,
                1,
                0,
                0,
                this.textRotateWithView_,
                this.textRotation_,
                1,
                t.width,
                i.padding == Da
                  ? Da
                  : i.padding.map(function (t) {
                      return t * o;
                    }),
                !!i.backgroundFill,
                !!i.backgroundStroke,
              ]),
                this.hitDetectionInstructions.push([
                  Lu.DRAW_IMAGE,
                  e,
                  n,
                  t,
                  (c - this.textOffsetX_) * o,
                  (h - this.textOffsetY_) * o,
                  this.declutterGroup_,
                  t.height,
                  1,
                  0,
                  0,
                  this.textRotateWithView_,
                  this.textRotation_,
                  1 / o,
                  t.width,
                  i.padding,
                  !!i.backgroundFill,
                  !!i.backgroundStroke,
                ]);
            }),
            (e.prototype.drawChars_ = function (t, e, n) {
              var i = this.textStrokeState_,
                r = this.textState_,
                o = this.textFillState_,
                s = this.strokeKey_;
              i &&
                (s in this.strokeStates ||
                  (this.strokeStates[s] = {
                    strokeStyle: i.strokeStyle,
                    lineCap: i.lineCap,
                    lineDashOffset: i.lineDashOffset,
                    lineWidth: i.lineWidth,
                    lineJoin: i.lineJoin,
                    miterLimit: i.miterLimit,
                    lineDash: i.lineDash,
                  }));
              var a = this.textKey_;
              this.textKey_ in this.textStates ||
                (this.textStates[this.textKey_] = {
                  font: r.font,
                  textAlign: r.textAlign || "center",
                  scale: r.scale,
                });
              var u = this.fillKey_;
              o &&
                (u in this.fillStates ||
                  (this.fillStates[u] = { fillStyle: o.fillStyle }));
              var c = this.pixelRatio,
                h = Au[r.textBaseline],
                l = this.textOffsetY_ * c,
                p = this.text_,
                f = r.font,
                d = r.scale,
                g = i ? (i.lineWidth * d) / 2 : 0,
                y = this.widths_[f];
              y || (this.widths_[f] = y = {}),
                this.instructions.push([
                  Lu.DRAW_CHARS,
                  t,
                  e,
                  h,
                  n,
                  r.overflow,
                  u,
                  r.maxAngle,
                  function (t) {
                    var e = y[t];
                    return e || (e = y[t] = Va(f, t)), e * d * c;
                  },
                  l,
                  s,
                  g * c,
                  p,
                  a,
                  1,
                ]),
                this.hitDetectionInstructions.push([
                  Lu.DRAW_CHARS,
                  t,
                  e,
                  h,
                  n,
                  r.overflow,
                  u,
                  r.maxAngle,
                  function (t) {
                    var e = y[t];
                    return e || (e = y[t] = Va(f, t)), e * d;
                  },
                  l,
                  s,
                  g,
                  p,
                  a,
                  1 / c,
                ]);
            }),
            (e.prototype.setTextStyle = function (t, e) {
              var n, i, r;
              if (t) {
                this.declutterGroup_ = e;
                var o = t.getFill();
                o
                  ? ((i = this.textFillState_) ||
                      (i = this.textFillState_ = {}),
                    (i.fillStyle = eu(o.getColor() || Aa)))
                  : (i = this.textFillState_ = null);
                var s = t.getStroke();
                if (s) {
                  (r = this.textStrokeState_) ||
                    (r = this.textStrokeState_ = {});
                  var a = s.getLineDash(),
                    u = s.getLineDashOffset(),
                    c = s.getWidth(),
                    h = s.getMiterLimit();
                  (r.lineCap = s.getLineCap() || "round"),
                    (r.lineDash = a ? a.slice() : Na),
                    (r.lineDashOffset = void 0 === u ? 0 : u),
                    (r.lineJoin = s.getLineJoin() || "round"),
                    (r.lineWidth = void 0 === c ? 1 : c),
                    (r.miterLimit = void 0 === h ? 10 : h),
                    (r.strokeStyle = eu(s.getColor() || Pa));
                } else r = this.textStrokeState_ = null;
                n = this.textState_;
                var l = t.getFont() || "10px sans-serif";
                Ba(l);
                var p = t.getScale();
                (n.overflow = t.getOverflow()),
                  (n.font = l),
                  (n.maxAngle = t.getMaxAngle()),
                  (n.placement = t.getPlacement()),
                  (n.textAlign = t.getTextAlign()),
                  (n.textBaseline = t.getTextBaseline() || "middle"),
                  (n.backgroundFill = t.getBackgroundFill()),
                  (n.backgroundStroke = t.getBackgroundStroke()),
                  (n.padding = t.getPadding() || Da),
                  (n.scale = void 0 === p ? 1 : p);
                var f = t.getOffsetX(),
                  d = t.getOffsetY(),
                  g = t.getRotateWithView(),
                  y = t.getRotation();
                (this.text_ = t.getText() || ""),
                  (this.textOffsetX_ = void 0 === f ? 0 : f),
                  (this.textOffsetY_ = void 0 === d ? 0 : d),
                  (this.textRotateWithView_ = void 0 !== g && g),
                  (this.textRotation_ = void 0 === y ? 0 : y),
                  (this.strokeKey_ = r
                    ? ("string" == typeof r.strokeStyle
                        ? r.strokeStyle
                        : ft(r.strokeStyle)) +
                      r.lineCap +
                      r.lineDashOffset +
                      "|" +
                      r.lineWidth +
                      r.lineJoin +
                      r.miterLimit +
                      "[" +
                      r.lineDash.join() +
                      "]"
                    : ""),
                  (this.textKey_ = n.font + n.scale + (n.textAlign || "?")),
                  (this.fillKey_ = i
                    ? "string" == typeof i.fillStyle
                      ? i.fillStyle
                      : "|" + ft(i.fillStyle)
                    : "");
              } else this.text_ = "";
            }),
            e
          );
        })(Du),
      },
      Yu = (function (t) {
        function e(e, n, i, r, o, s, a) {
          t.call(this),
            (this.declutterTree_ = s),
            (this.declutterGroup_ = null),
            (this.tolerance_ = e),
            (this.maxExtent_ = n),
            (this.overlaps_ = o),
            (this.pixelRatio_ = r),
            (this.resolution_ = i),
            (this.renderBuffer_ = a),
            (this.replaysByZIndex_ = {}),
            (this.hitDetectionContext_ = Bt(1, 1)),
            (this.hitDetectionTransform_ = [1, 0, 0, 1, 0, 0]);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.addDeclutter = function (t) {
            var e = null;
            return (
              this.declutterTree_ &&
                (t
                  ? (e = this.declutterGroup_)[4]++
                  : (e = this.declutterGroup_ = [
                      1 / 0,
                      1 / 0,
                      -1 / 0,
                      -1 / 0,
                    ]).push(1)),
              e
            );
          }),
          (e.prototype.clip = function (t, e) {
            var n = this.getClipCoords(e);
            t.beginPath(),
              t.moveTo(n[0], n[1]),
              t.lineTo(n[2], n[3]),
              t.lineTo(n[4], n[5]),
              t.lineTo(n[6], n[7]),
              t.clip();
          }),
          (e.prototype.hasReplays = function (t) {
            for (var e in this.replaysByZIndex_)
              for (
                var n = this.replaysByZIndex_[e], i = 0, r = t.length;
                i < r;
                ++i
              )
                if (t[i] in n) return !0;
            return !1;
          }),
          (e.prototype.finish = function () {
            for (var t in this.replaysByZIndex_) {
              var e = this.replaysByZIndex_[t];
              for (var n in e) e[n].finish();
            }
          }),
          (e.prototype.forEachFeatureAtCoordinate = function (
            t,
            e,
            n,
            i,
            r,
            o,
            s
          ) {
            var a,
              u = 2 * (i = Math.round(i)) + 1,
              c = tr(
                this.hitDetectionTransform_,
                i + 0.5,
                i + 0.5,
                1 / e,
                -1 / e,
                -n,
                -t[0],
                -t[1]
              ),
              h = this.hitDetectionContext_;
            h.canvas.width !== u || h.canvas.height !== u
              ? ((h.canvas.width = u), (h.canvas.height = u))
              : h.clearRect(0, 0, u, u),
              void 0 !== this.renderBuffer_ &&
                (Se((a = [1 / 0, 1 / 0, -1 / 0, -1 / 0]), t),
                fe(a, e * (this.renderBuffer_ + i), a));
            var l,
              p,
              f = (function (t) {
                if (void 0 !== Xu[t]) return Xu[t];
                for (var e = 2 * t + 1, n = new Array(e), i = 0; i < e; i++)
                  n[i] = new Array(e);
                var r = t,
                  o = 0,
                  s = 0;
                for (; r >= o; )
                  zu(n, t + r, t + o),
                    zu(n, t + o, t + r),
                    zu(n, t - o, t + r),
                    zu(n, t - r, t + o),
                    zu(n, t - r, t - o),
                    zu(n, t - o, t - r),
                    zu(n, t + o, t - r),
                    zu(n, t + r, t - o),
                    2 * ((s += 1 + 2 * ++o) - r) + 1 > 0 &&
                      (s += 1 - 2 * (r -= 1));
                return (Xu[t] = n), n;
              })(i);
            function d(t) {
              for (var e = h.getImageData(0, 0, u, u).data, n = 0; n < u; n++)
                for (var i = 0; i < u; i++)
                  if (f[n][i] && e[4 * (i * u + n) + 3] > 0) {
                    var r = void 0;
                    return (
                      (!l ||
                        (p != bu.IMAGE && p != bu.TEXT) ||
                        -1 !== l.indexOf(t)) &&
                        (r = o(t)),
                      r || void h.clearRect(0, 0, u, u)
                    );
                  }
            }
            this.declutterTree_ &&
              (l = this.declutterTree_.all().map(function (t) {
                return t.value;
              }));
            var g,
              y,
              _,
              v,
              m,
              x = Object.keys(this.replaysByZIndex_).map(Number);
            for (x.sort(Zn), g = x.length - 1; g >= 0; --g) {
              var E = x[g].toString();
              for (_ = this.replaysByZIndex_[E], y = Mu.length - 1; y >= 0; --y)
                if (void 0 !== (v = _[(p = Mu[y])]))
                  if (!s || (p != bu.IMAGE && p != bu.TEXT)) {
                    if ((m = v.replayHitDetection(h, c, n, r, d, a))) return m;
                  } else {
                    var b = s[E];
                    b ? b.push(v, c.slice(0)) : (s[E] = [v, c.slice(0)]);
                  }
            }
          }),
          (e.prototype.getClipCoords = function (t) {
            var e = this.maxExtent_,
              n = e[0],
              i = e[1],
              r = e[2],
              o = e[3],
              s = [n, i, n, o, r, o, r, i];
            return Vi(s, 0, 8, 2, t, s), s;
          }),
          (e.prototype.getReplay = function (t, e) {
            var n = void 0 !== t ? t.toString() : "0",
              i = this.replaysByZIndex_[n];
            void 0 === i && ((i = {}), (this.replaysByZIndex_[n] = i));
            var r = i[e];
            void 0 === r &&
              ((r = new (0, Uu[e])(
                this.tolerance_,
                this.maxExtent_,
                this.resolution_,
                this.pixelRatio_,
                this.overlaps_,
                this.declutterTree_
              )),
              (i[e] = r));
            return r;
          }),
          (e.prototype.getReplays = function () {
            return this.replaysByZIndex_;
          }),
          (e.prototype.isEmpty = function () {
            return St(this.replaysByZIndex_);
          }),
          (e.prototype.replay = function (t, e, n, i, r, o, s) {
            var a = Object.keys(this.replaysByZIndex_).map(Number);
            a.sort(Zn), t.save(), this.clip(t, e);
            var u,
              c,
              h,
              l,
              p,
              f,
              d = o || Mu;
            for (u = 0, c = a.length; u < c; ++u) {
              var g = a[u].toString();
              for (
                p = this.replaysByZIndex_[g], h = 0, l = d.length;
                h < l;
                ++h
              ) {
                var y = d[h];
                if (((f = p[y]), void 0 !== f))
                  if (!s || (y != bu.IMAGE && y != bu.TEXT))
                    f.replay(t, e, n, i, r);
                  else {
                    var _ = s[g];
                    _ ? _.push(f, e.slice(0)) : (s[g] = [f, e.slice(0)]);
                  }
              }
            }
            t.restore();
          }),
          e
        );
      })(Eu),
      Xu = { 0: [[!0]] };
    function zu(t, e, n) {
      var i,
        r = Math.floor(t.length / 2);
      if (e >= r) for (i = r; i < e; i++) t[i][n] = !0;
      else if (e < r) for (i = e + 1; i < r; i++) t[i][n] = !0;
    }
    var Vu = Yu,
      qu = 0.5,
      Wu = {
        Point: function (t, e, n, i) {
          var r = n.getImage();
          if (r) {
            if (r.getImageState() != Ta.LOADED) return;
            var o = t.getReplay(n.getZIndex(), bu.IMAGE);
            o.setImageStyle(r, t.addDeclutter(!1)), o.drawPoint(e, i);
          }
          var s = n.getText();
          if (s) {
            var a = t.getReplay(n.getZIndex(), bu.TEXT);
            a.setTextStyle(s, t.addDeclutter(!!r)), a.drawText(e, i);
          }
        },
        LineString: function (t, e, n, i) {
          var r = n.getStroke();
          if (r) {
            var o = t.getReplay(n.getZIndex(), bu.LINE_STRING);
            o.setFillStrokeStyle(null, r), o.drawLineString(e, i);
          }
          var s = n.getText();
          if (s) {
            var a = t.getReplay(n.getZIndex(), bu.TEXT);
            a.setTextStyle(s, t.addDeclutter(!1)), a.drawText(e, i);
          }
        },
        Polygon: function (t, e, n, i) {
          var r = n.getFill(),
            o = n.getStroke();
          if (r || o) {
            var s = t.getReplay(n.getZIndex(), bu.POLYGON);
            s.setFillStrokeStyle(r, o), s.drawPolygon(e, i);
          }
          var a = n.getText();
          if (a) {
            var u = t.getReplay(n.getZIndex(), bu.TEXT);
            u.setTextStyle(a, t.addDeclutter(!1)), u.drawText(e, i);
          }
        },
        MultiPoint: function (t, e, n, i) {
          var r = n.getImage();
          if (r) {
            if (r.getImageState() != Ta.LOADED) return;
            var o = t.getReplay(n.getZIndex(), bu.IMAGE);
            o.setImageStyle(r, t.addDeclutter(!1)), o.drawMultiPoint(e, i);
          }
          var s = n.getText();
          if (s) {
            var a = t.getReplay(n.getZIndex(), bu.TEXT);
            a.setTextStyle(s, t.addDeclutter(!!r)), a.drawText(e, i);
          }
        },
        MultiLineString: function (t, e, n, i) {
          var r = n.getStroke();
          if (r) {
            var o = t.getReplay(n.getZIndex(), bu.LINE_STRING);
            o.setFillStrokeStyle(null, r), o.drawMultiLineString(e, i);
          }
          var s = n.getText();
          if (s) {
            var a = t.getReplay(n.getZIndex(), bu.TEXT);
            a.setTextStyle(s, t.addDeclutter(!1)), a.drawText(e, i);
          }
        },
        MultiPolygon: function (t, e, n, i) {
          var r = n.getFill(),
            o = n.getStroke();
          if (o || r) {
            var s = t.getReplay(n.getZIndex(), bu.POLYGON);
            s.setFillStrokeStyle(r, o), s.drawMultiPolygon(e, i);
          }
          var a = n.getText();
          if (a) {
            var u = t.getReplay(n.getZIndex(), bu.TEXT);
            u.setTextStyle(a, t.addDeclutter(!1)), u.drawText(e, i);
          }
        },
        GeometryCollection: function (t, e, n, i) {
          var r,
            o,
            s = e.getGeometriesArray();
          for (r = 0, o = s.length; r < o; ++r) {
            (0, Wu[s[r].getType()])(t, s[r], n, i);
          }
        },
        Circle: function (t, e, n, i) {
          var r = n.getFill(),
            o = n.getStroke();
          if (r || o) {
            var s = t.getReplay(n.getZIndex(), bu.CIRCLE);
            s.setFillStrokeStyle(r, o), s.drawCircle(e, i);
          }
          var a = n.getText();
          if (a) {
            var u = t.getReplay(n.getZIndex(), bu.TEXT);
            u.setTextStyle(a, t.addDeclutter(!1)), u.drawText(e, i);
          }
        },
      };
    function Hu(t, e) {
      return parseInt(ft(t), 10) - parseInt(ft(e), 10);
    }
    function Ku(t, e) {
      var n = Zu(t, e);
      return n * n;
    }
    function Zu(t, e) {
      return (qu * t) / e;
    }
    function Ju(t, e, n, i, r, o) {
      var s = !1,
        a = n.getImage();
      if (a) {
        var u = a.getImageState();
        u == Ta.LOADED || u == Ta.ERROR
          ? a.unlistenImageChange(r, o)
          : (u == Ta.IDLE && a.load(),
            (u = a.getImageState()),
            a.listenImageChange(r, o),
            (s = !0));
      }
      return (
        (function (t, e, n, i) {
          var r = n.getGeometryFunction()(e);
          if (!r) return;
          var o = r.getSimplifiedGeometry(i);
          if (n.getRenderer())
            !(function t(e, n, i, r) {
              if (n.getType() == se.GEOMETRY_COLLECTION) {
                for (var o = n.getGeometries(), s = 0, a = o.length; s < a; ++s)
                  t(e, o[s], i, r);
                return;
              }
              var u = e.getReplay(i.getZIndex(), bu.DEFAULT);
              u.drawCustom(n, r, i.getRenderer());
            })(t, o, n, e);
          else {
            (0, Wu[o.getType()])(t, o, n, e);
          }
        })(t, e, n, i),
        s
      );
    }
    var Qu = (function (t) {
      function e(e) {
        t.call(this, e),
          (this.declutterTree_ = e.getDeclutter() ? mu()(9, void 0) : null),
          (this.dirty_ = !1),
          (this.renderedRevision_ = -1),
          (this.renderedResolution_ = NaN),
          (this.renderedExtent_ = [1 / 0, 1 / 0, -1 / 0, -1 / 0]),
          (this.renderedRenderOrder_ = null),
          (this.replayGroup_ = null),
          (this.replayGroupChanged = !0),
          (this.context = Bt()),
          Lt(ka, Gt.CLEAR, this.handleFontsChanged_, this);
      }
      return (
        t && (e.__proto__ = t),
        (e.prototype = Object.create(t && t.prototype)),
        (e.prototype.constructor = e),
        (e.prototype.disposeInternal = function () {
          At(ka, Gt.CLEAR, this.handleFontsChanged_, this),
            t.prototype.disposeInternal.call(this);
        }),
        (e.prototype.compose = function (t, e, n) {
          var i = e.extent,
            r = e.pixelRatio,
            o = n.managed ? e.skippedFeatureUids : {},
            s = e.viewState,
            a = s.projection,
            u = s.rotation,
            c = a.getExtent(),
            h = this.getLayer().getSource(),
            l = this.getTransform(e, 0),
            p = n.extent,
            f = void 0 !== p;
          f && this.clip(t, e, p);
          var d = this.replayGroup_;
          if (d && !d.isEmpty()) {
            this.declutterTree_ && this.declutterTree_.clear();
            var g,
              y = this.getLayer(),
              _ = 0,
              v = 0,
              m = 1 !== n.opacity,
              x = y.hasListener(ts);
            if (m || x) {
              var E = t.canvas.width,
                b = t.canvas.height;
              if (u) {
                var w = Math.round(Math.sqrt(E * E + b * b));
                (_ = (w - E) / 2), (v = (w - b) / 2), (E = b = w);
              }
              (this.context.canvas.width = E),
                (this.context.canvas.height = b),
                (g = this.context);
            } else g = t;
            var I = g.globalAlpha;
            m || (g.globalAlpha = n.opacity), g != t && g.translate(_, v);
            var S = e.viewHints,
              C = !(S[as] || S[us]),
              T = e.size[0] * r,
              O = e.size[1] * r;
            if (
              (qa(g, -u, T / 2, O / 2),
              d.replay(g, l, u, o, C),
              h.getWrapX() && a.canWrapX() && !_e(c, i))
            ) {
              for (var R, L = i[0], M = Be(c), A = 0; L < c[0]; )
                (R = M * --A),
                  (l = this.getTransform(e, R)),
                  d.replay(g, l, u, o, C),
                  (L += M);
              for (A = 0, L = i[2]; L > c[2]; )
                (R = M * ++A),
                  (l = this.getTransform(e, R)),
                  d.replay(g, l, u, o, C),
                  (L -= M);
            }
            if (
              (qa(g, u, T / 2, O / 2),
              x && this.dispatchRenderEvent(g, e, l),
              g != t)
            ) {
              if (m) {
                var N = t.globalAlpha;
                (t.globalAlpha = n.opacity),
                  t.drawImage(g.canvas, -_, -v),
                  (t.globalAlpha = N);
              } else t.drawImage(g.canvas, -_, -v);
              g.translate(-_, -v);
            }
            m || (g.globalAlpha = I);
          }
          f && t.restore();
        }),
        (e.prototype.composeFrame = function (t, e, n) {
          var i = this.getTransform(t, 0);
          this.preCompose(n, t, i),
            this.compose(n, t, e),
            this.postCompose(n, t, e, i);
        }),
        (e.prototype.forEachFeatureAtCoordinate = function (t, e, n, i, r) {
          if (this.replayGroup_) {
            var o = e.viewState.resolution,
              s = e.viewState.rotation,
              a = this.getLayer(),
              u = {};
            return this.replayGroup_.forEachFeatureAtCoordinate(
              t,
              o,
              s,
              n,
              {},
              function (t) {
                var e = ft(t);
                if (!(e in u)) return (u[e] = !0), i.call(r, t, a);
              },
              null
            );
          }
        }),
        (e.prototype.handleFontsChanged_ = function (t) {
          var e = this.getLayer();
          e.getVisible() && this.replayGroup_ && e.changed();
        }),
        (e.prototype.handleStyleImageChange_ = function (t) {
          this.renderIfReadyAndVisible();
        }),
        (e.prototype.prepareFrame = function (t, e) {
          var n = this.getLayer(),
            i = n.getSource(),
            r = t.viewHints[as],
            o = t.viewHints[us],
            s = n.getUpdateWhileAnimating(),
            a = n.getUpdateWhileInteracting();
          if ((!this.dirty_ && !s && r) || (!a && o)) return !0;
          var u = t.extent,
            c = t.viewState,
            h = c.projection,
            l = c.resolution,
            p = t.pixelRatio,
            f = n.getRevision(),
            d = n.getRenderBuffer(),
            g = n.getRenderOrder();
          void 0 === g && (g = Hu);
          var y = fe(u, d * l),
            _ = c.projection.getExtent();
          if (i.getWrapX() && c.projection.canWrapX() && !_e(_, t.extent)) {
            var v = Be(_),
              m = Math.max(Be(y) / 2, v);
            (y[0] = _[0] - m), (y[2] = _[2] + m);
          }
          if (
            !this.dirty_ &&
            this.renderedResolution_ == l &&
            this.renderedRevision_ == f &&
            this.renderedRenderOrder_ == g &&
            _e(this.renderedExtent_, y)
          )
            return (this.replayGroupChanged = !1), !0;
          (this.replayGroup_ = null), (this.dirty_ = !1);
          var x = new Vu(
            Zu(l, p),
            y,
            l,
            p,
            i.getOverlaps(),
            this.declutterTree_,
            n.getRenderBuffer()
          );
          i.loadFeatures(y, l, h);
          var E = function (t) {
            var e,
              i = t.getStyleFunction() || n.getStyleFunction();
            if ((i && (e = i(t, l)), e)) {
              var r = this.renderFeature(t, l, p, e, x);
              this.dirty_ = this.dirty_ || r;
            }
          }.bind(this);
          if (g) {
            var b = [];
            i.forEachFeatureInExtent(y, function (t) {
              b.push(t);
            }),
              b.sort(g);
            for (var w = 0, I = b.length; w < I; ++w) E(b[w]);
          } else i.forEachFeatureInExtent(y, E);
          return (
            x.finish(),
            (this.renderedResolution_ = l),
            (this.renderedRevision_ = f),
            (this.renderedRenderOrder_ = g),
            (this.renderedExtent_ = y),
            (this.replayGroup_ = x),
            (this.replayGroupChanged = !0),
            !0
          );
        }),
        (e.prototype.renderFeature = function (t, e, n, i, r) {
          if (!i) return !1;
          var o = !1;
          if (Array.isArray(i))
            for (var s = 0, a = i.length; s < a; ++s)
              o =
                Ju(r, t, i[s], Ku(e, n), this.handleStyleImageChange_, this) ||
                o;
          else o = Ju(r, t, i, Ku(e, n), this.handleStyleImageChange_, this);
          return o;
        }),
        e
      );
    })(pu);
    (Qu.handles = function (t) {
      return t.getType() === Ra.VECTOR;
    }),
      (Qu.create = function (t, e) {
        return new Qu(e);
      });
    var $u = Qu,
      tc = { IMAGE: "image", HYBRID: "hybrid", VECTOR: "vector" },
      ec = {
        image: [bu.POLYGON, bu.CIRCLE, bu.LINE_STRING, bu.IMAGE, bu.TEXT],
        hybrid: [bu.POLYGON, bu.LINE_STRING],
      },
      nc = {
        image: [bu.DEFAULT],
        hybrid: [bu.IMAGE, bu.TEXT, bu.DEFAULT],
        vector: Mu,
      },
      ic = (function (t) {
        function e(e) {
          t.call(this, e, !0),
            (this.declutterTree_ = e.getDeclutter() ? mu()(9, void 0) : null),
            (this.dirty_ = !1),
            this.renderedLayerRevision_,
            (this.tmpTransform_ = [1, 0, 0, 1, 0, 0]);
          var n = e.getRenderMode();
          (this.zDirection = n === tc.VECTOR ? 1 : 0),
            n !== tc.VECTOR && (this.context = Bt()),
            Lt(ka, Gt.CLEAR, this.handleFontsChanged_, this);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.disposeInternal = function () {
            At(ka, Gt.CLEAR, this.handleFontsChanged_, this),
              t.prototype.disposeInternal.call(this);
          }),
          (e.prototype.getTile = function (e, n, i, r, o) {
            var s = t.prototype.getTile.call(this, e, n, i, r, o);
            return (
              s.getState() === gt.LOADED &&
                (this.createReplayGroup_(s, r, o),
                this.context && this.renderTileImage_(s, r, o)),
              s
            );
          }),
          (e.prototype.getTileImage = function (t) {
            var e = this.getLayer();
            return t.getImage(e);
          }),
          (e.prototype.prepareFrame = function (e, n) {
            var i = this.getLayer().getRevision();
            return (
              this.renderedLayerRevision_ != i &&
                (this.renderedTiles.length = 0),
              (this.renderedLayerRevision_ = i),
              t.prototype.prepareFrame.call(this, e, n)
            );
          }),
          (e.prototype.createReplayGroup_ = function (t, e, n) {
            var i = this,
              r = this.getLayer(),
              o = r.getRevision(),
              s = r.getRenderOrder() || null,
              a = t.getReplayState(r);
            if (
              a.dirty ||
              a.renderedRevision != o ||
              a.renderedRenderOrder != s
            ) {
              for (
                var u = r.getSource(),
                  c = u.getTileGrid(),
                  h = u
                    .getTileGridForProjection(n)
                    .getResolution(t.tileCoord[0]),
                  l = t.extent,
                  p = function (o, p) {
                    var f = t.getTile(t.tileKeys[o]);
                    if (f.getState() == gt.LOADED) {
                      var d = f.tileCoord,
                        g = c.getTileCoordExtent(d),
                        y = Fe(l, g),
                        _ = we(g, y)
                          ? null
                          : fe(y, r.getRenderBuffer() * h, i.tmpExtent),
                        v = f.getProjection(),
                        m = !1;
                      bn(n, v) || ((m = !0), f.setProjection(n)),
                        (a.dirty = !1);
                      var x = new Vu(
                          0,
                          y,
                          h,
                          e,
                          u.getOverlaps(),
                          i.declutterTree_,
                          r.getRenderBuffer()
                        ),
                        E = Ku(h, e),
                        b = function (t) {
                          var e,
                            n = t.getStyleFunction() || r.getStyleFunction();
                          if ((n && (e = n(t, h)), e)) {
                            var i = this.renderFeature(t, E, e, x);
                            (this.dirty_ = this.dirty_ || i),
                              (a.dirty = a.dirty || i);
                          }
                        },
                        w = f.getFeatures();
                      s && s !== a.renderedRenderOrder && w.sort(s);
                      for (var I = 0, S = w.length; I < S; ++I) {
                        var C = w[I];
                        m &&
                          (v.getUnits() == Ve.TILE_PIXELS &&
                            (v.setWorldExtent(g), v.setExtent(f.getExtent())),
                          C.getGeometry().transform(v, n)),
                          (_ && !Ue(_, C.getGeometry().getExtent())) ||
                            b.call(i, C);
                      }
                      x.finish(),
                        f.setReplayGroup(r, t.tileCoord.toString(), x);
                    }
                  },
                  f = 0,
                  d = t.tileKeys.length;
                f < d;
                ++f
              )
                p(f);
              (a.renderedRevision = o), (a.renderedRenderOrder = s);
            }
          }),
          (e.prototype.forEachFeatureAtCoordinate = function (t, e, n, i, r) {
            var o = e.viewState.resolution,
              s = e.viewState.rotation;
            n = null == n ? 0 : n;
            var a,
              u,
              c,
              h,
              l = this.getLayer(),
              p = {},
              f = this.renderedTiles;
            for (c = 0, h = f.length; c < h; ++c) {
              var d = f[c];
              if (ye((a = fe(d.extent, n * o, a)), t))
                for (var g = 0, y = d.tileKeys.length; g < y; ++g) {
                  var _ = d.getTile(d.tileKeys[g]);
                  if (_.getState() == gt.LOADED) {
                    var v = _.getReplayGroup(l, d.tileCoord.toString());
                    u =
                      u ||
                      v.forEachFeatureAtCoordinate(
                        t,
                        o,
                        s,
                        n,
                        {},
                        function (t) {
                          var e = ft(t);
                          if (!(e in p)) return (p[e] = !0), i.call(r, t, l);
                        },
                        null
                      );
                  }
                }
            }
            return u;
          }),
          (e.prototype.getReplayTransform_ = function (t, e) {
            var n = this.getLayer().getSource().getTileGrid(),
              i = t.tileCoord,
              r = n.getResolution(i[0]),
              o = e.viewState,
              s = e.pixelRatio,
              a = o.resolution / s,
              u = n.getTileCoordExtent(i, this.tmpExtent),
              c = o.center,
              h = Ge(u),
              l = e.size,
              p = Math.round((s * l[0]) / 2),
              f = Math.round((s * l[1]) / 2);
            return tr(
              this.tmpTransform_,
              p,
              f,
              r / a,
              r / a,
              o.rotation,
              (h[0] - c[0]) / r,
              (c[1] - h[1]) / r
            );
          }),
          (e.prototype.handleFontsChanged_ = function (t) {
            var e = this.getLayer();
            e.getVisible() &&
              void 0 !== this.renderedLayerRevision_ &&
              e.changed();
          }),
          (e.prototype.handleStyleImageChange_ = function (t) {
            this.renderIfReadyAndVisible();
          }),
          (e.prototype.postCompose = function (e, n, i) {
            var r = this.getLayer(),
              o = r.getRenderMode();
            if (o != tc.IMAGE) {
              var s,
                a,
                u = r.getDeclutter() ? {} : null,
                c = r.getSource(),
                h = nc[o],
                l = n.pixelRatio,
                p = n.viewState.rotation,
                f = n.size;
              p &&
                qa(
                  e,
                  -p,
                  (s = Math.round((l * f[0]) / 2)),
                  (a = Math.round((l * f[1]) / 2))
                ),
                u && this.declutterTree_.clear();
              for (
                var d = n.viewHints,
                  g = !(d[as] || d[us]),
                  y = this.renderedTiles,
                  _ = c.getTileGridForProjection(n.viewState.projection),
                  v = [],
                  m = [],
                  x = y.length - 1;
                x >= 0;
                --x
              ) {
                var E = y[x];
                if (E.getState() != gt.ABORT)
                  for (
                    var b = E.tileCoord,
                      w =
                        _.getTileCoordExtent(b, this.tmpExtent)[0] -
                        E.extent[0],
                      I = void 0,
                      S = 0,
                      C = E.tileKeys.length;
                    S < C;
                    ++S
                  ) {
                    var T = E.getTile(E.tileKeys[S]);
                    if (T.getState() == gt.LOADED) {
                      var O = T.getReplayGroup(r, b.toString());
                      if (O && O.hasReplays(h)) {
                        I || (I = this.getTransform(n, w));
                        var R = T.tileCoord[0],
                          L = O.getClipCoords(I);
                        e.save(), (e.globalAlpha = i.opacity);
                        for (var M = 0, A = v.length; M < A; ++M) {
                          var N = v[M];
                          R < m[M] &&
                            (e.beginPath(),
                            e.moveTo(L[0], L[1]),
                            e.lineTo(L[2], L[3]),
                            e.lineTo(L[4], L[5]),
                            e.lineTo(L[6], L[7]),
                            e.moveTo(N[6], N[7]),
                            e.lineTo(N[4], N[5]),
                            e.lineTo(N[2], N[3]),
                            e.lineTo(N[0], N[1]),
                            e.clip());
                        }
                        O.replay(e, I, p, {}, g, h, u),
                          e.restore(),
                          v.push(L),
                          m.push(R);
                      }
                    }
                  }
              }
              u &&
                (function (t, e, n, i) {
                  for (
                    var r = Object.keys(t).map(Number).sort(Zn),
                      o = {},
                      s = 0,
                      a = r.length;
                    s < a;
                    ++s
                  )
                    for (
                      var u = t[r[s].toString()], c = 0, h = u.length;
                      c < h;

                    ) {
                      var l = u[c++],
                        p = u[c++];
                      l.replay(e, p, n, o, i);
                    }
                })(u, e, p, g),
                p && qa(e, p, s, a);
            }
            t.prototype.postCompose.call(this, e, n, i);
          }),
          (e.prototype.renderFeature = function (t, e, n, i) {
            if (!n) return !1;
            var r = !1;
            if (Array.isArray(n))
              for (var o = 0, s = n.length; o < s; ++o)
                r = Ju(i, t, n[o], e, this.handleStyleImageChange_, this) || r;
            else r = Ju(i, t, n, e, this.handleStyleImageChange_, this);
            return r;
          }),
          (e.prototype.renderTileImage_ = function (t, e, n) {
            var i = this.getLayer(),
              r = t.getReplayState(i),
              o = i.getRevision(),
              s = ec[i.getRenderMode()];
            if (s && r.renderedTileRevision !== o) {
              r.renderedTileRevision = o;
              var a = t.wrappedTileCoord,
                u = a[0],
                c = i.getSource(),
                h = c.getTileGridForProjection(n),
                l = h.getResolution(u),
                p = t.getContext(i),
                f = c.getTilePixelSize(u, e, n);
              (p.canvas.width = f[0]), (p.canvas.height = f[1]);
              for (
                var d = h.getTileCoordExtent(a, this.tmpExtent),
                  g = 0,
                  y = t.tileKeys.length;
                g < y;
                ++g
              ) {
                var _ = t.getTile(t.tileKeys[g]);
                if (_.getState() == gt.LOADED) {
                  var v = e / l,
                    m = Wi(this.tmpTransform_);
                  Qi(m, v, -v),
                    $i(m, -d[0], -d[3]),
                    _.getReplayGroup(i, t.tileCoord.toString()).replay(
                      p,
                      m,
                      0,
                      {},
                      !0,
                      s
                    );
                }
              }
            }
          }),
          e
        );
      })(_u);
    (ic.handles = function (t) {
      return t.getType() === Ra.VECTOR_TILE;
    }),
      (ic.create = function (t, e) {
        return new ic(e);
      });
    var rc = ic,
      oc = (function (t) {
        function e(e) {
          (e = bt({}, e)).controls ||
            (e.controls = (function (t) {
              var e = t || {},
                n = new eo();
              return (
                (void 0 === e.zoom || e.zoom) && n.push(new Gs(e.zoomOptions)),
                (void 0 === e.rotate || e.rotate) &&
                  n.push(new Fs(e.rotateOptions)),
                (void 0 === e.attribution || e.attribution) &&
                  n.push(new Ds(e.attributionOptions)),
                n
              );
            })()),
            e.interactions || (e.interactions = Ca()),
            t.call(this, e);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.createRenderer = function () {
            var t = new lu(this);
            return t.registerLayerRenderers([gu, _u, $u, rc]), t;
          }),
          e
        );
      })(ws);
    vs.prototype.getDecimalZoom = function () {
      var t = this.getResolution(),
        e = Math.log(this.maxResolution_ / t) / Math.log(2);
      return void 0 !== e ? this.minZoom_ + e : e;
    };
    var sc = function (t) {
      (this.opacity_ = t.opacity),
        (this.rotateWithView_ = t.rotateWithView),
        (this.rotation_ = t.rotation),
        (this.scale_ = t.scale);
    };
    (sc.prototype.clone = function () {
      return new sc({
        opacity: this.getOpacity(),
        scale: this.getScale(),
        rotation: this.getRotation(),
        rotateWithView: this.getRotateWithView(),
      });
    }),
      (sc.prototype.getOpacity = function () {
        return this.opacity_;
      }),
      (sc.prototype.getRotateWithView = function () {
        return this.rotateWithView_;
      }),
      (sc.prototype.getRotation = function () {
        return this.rotation_;
      }),
      (sc.prototype.getScale = function () {
        return this.scale_;
      }),
      (sc.prototype.getSnapToPixel = function () {
        return !1;
      }),
      (sc.prototype.getAnchor = function () {
        return lt();
      }),
      (sc.prototype.getImage = function (t) {
        return lt();
      }),
      (sc.prototype.getHitDetectionImage = function (t) {
        return lt();
      }),
      (sc.prototype.getImageState = function () {
        return lt();
      }),
      (sc.prototype.getImageSize = function () {
        return lt();
      }),
      (sc.prototype.getHitDetectionImageSize = function () {
        return lt();
      }),
      (sc.prototype.getOrigin = function () {
        return lt();
      }),
      (sc.prototype.getSize = function () {
        return lt();
      }),
      (sc.prototype.setOpacity = function (t) {
        this.opacity_ = t;
      }),
      (sc.prototype.setRotateWithView = function (t) {
        this.rotateWithView_ = t;
      }),
      (sc.prototype.setRotation = function (t) {
        this.rotation_ = t;
      }),
      (sc.prototype.setScale = function (t) {
        this.scale_ = t;
      }),
      (sc.prototype.setSnapToPixel = function (t) {}),
      (sc.prototype.listenImageChange = function (t, e) {
        return lt();
      }),
      (sc.prototype.load = function () {
        lt();
      }),
      (sc.prototype.unlistenImageChange = function (t, e) {
        lt();
      });
    var ac = sc,
      uc = (function (t) {
        function e(e) {
          var n = e || {};
          t.call(this, {
            points: 1 / 0,
            fill: n.fill,
            radius: n.radius,
            stroke: n.stroke,
            atlasManager: n.atlasManager,
          });
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.clone = function () {
            var t = new e({
              fill: this.getFill() ? this.getFill().clone() : void 0,
              stroke: this.getStroke() ? this.getStroke().clone() : void 0,
              radius: this.getRadius(),
              atlasManager: this.atlasManager_,
            });
            return (
              t.setOpacity(this.getOpacity()), t.setScale(this.getScale()), t
            );
          }),
          (e.prototype.setRadius = function (t) {
            (this.radius_ = t), this.render_(this.atlasManager_);
          }),
          e
        );
      })(
        (function (t) {
          function e(e) {
            var n = void 0 !== e.rotateWithView && e.rotateWithView;
            t.call(this, {
              opacity: 1,
              rotateWithView: n,
              rotation: void 0 !== e.rotation ? e.rotation : 0,
              scale: 1,
            }),
              (this.checksums_ = null),
              (this.canvas_ = null),
              (this.hitDetectionCanvas_ = null),
              (this.fill_ = void 0 !== e.fill ? e.fill : null),
              (this.origin_ = [0, 0]),
              (this.points_ = e.points),
              (this.radius_ = void 0 !== e.radius ? e.radius : e.radius1),
              (this.radius2_ = e.radius2),
              (this.angle_ = void 0 !== e.angle ? e.angle : 0),
              (this.stroke_ = void 0 !== e.stroke ? e.stroke : null),
              (this.anchor_ = null),
              (this.size_ = null),
              (this.imageSize_ = null),
              (this.hitDetectionImageSize_ = null),
              (this.atlasManager_ = e.atlasManager),
              this.render_(this.atlasManager_);
          }
          return (
            t && (e.__proto__ = t),
            (e.prototype = Object.create(t && t.prototype)),
            (e.prototype.constructor = e),
            (e.prototype.clone = function () {
              var t = new e({
                fill: this.getFill() ? this.getFill().clone() : void 0,
                points: this.getPoints(),
                radius: this.getRadius(),
                radius2: this.getRadius2(),
                angle: this.getAngle(),
                stroke: this.getStroke() ? this.getStroke().clone() : void 0,
                rotation: this.getRotation(),
                rotateWithView: this.getRotateWithView(),
                atlasManager: this.atlasManager_,
              });
              return (
                t.setOpacity(this.getOpacity()), t.setScale(this.getScale()), t
              );
            }),
            (e.prototype.getAnchor = function () {
              return this.anchor_;
            }),
            (e.prototype.getAngle = function () {
              return this.angle_;
            }),
            (e.prototype.getFill = function () {
              return this.fill_;
            }),
            (e.prototype.getHitDetectionImage = function (t) {
              return this.hitDetectionCanvas_;
            }),
            (e.prototype.getImage = function (t) {
              return this.canvas_;
            }),
            (e.prototype.getImageSize = function () {
              return this.imageSize_;
            }),
            (e.prototype.getHitDetectionImageSize = function () {
              return this.hitDetectionImageSize_;
            }),
            (e.prototype.getImageState = function () {
              return Ta.LOADED;
            }),
            (e.prototype.getOrigin = function () {
              return this.origin_;
            }),
            (e.prototype.getPoints = function () {
              return this.points_;
            }),
            (e.prototype.getRadius = function () {
              return this.radius_;
            }),
            (e.prototype.getRadius2 = function () {
              return this.radius2_;
            }),
            (e.prototype.getSize = function () {
              return this.size_;
            }),
            (e.prototype.getStroke = function () {
              return this.stroke_;
            }),
            (e.prototype.listenImageChange = function (t, e) {}),
            (e.prototype.load = function () {}),
            (e.prototype.unlistenImageChange = function (t, e) {}),
            (e.prototype.render_ = function (t) {
              var e,
                n,
                i = "",
                r = "",
                o = 0,
                s = null,
                a = 0,
                u = 0;
              this.stroke_ &&
                (null === (n = this.stroke_.getColor()) && (n = Pa),
                (n = eu(n)),
                void 0 === (u = this.stroke_.getWidth()) && (u = 1),
                (s = this.stroke_.getLineDash()),
                (a = this.stroke_.getLineDashOffset()),
                Xr || ((s = null), (a = 0)),
                void 0 === (r = this.stroke_.getLineJoin()) && (r = "round"),
                void 0 === (i = this.stroke_.getLineCap()) && (i = "round"),
                void 0 === (o = this.stroke_.getMiterLimit()) && (o = 10));
              var c = 2 * (this.radius_ + u) + 1,
                h = {
                  strokeStyle: n,
                  strokeWidth: u,
                  size: c,
                  lineCap: i,
                  lineDash: s,
                  lineDashOffset: a,
                  lineJoin: r,
                  miterLimit: o,
                };
              if (void 0 === t) {
                var l = Bt(c, c);
                (this.canvas_ = l.canvas),
                  (e = c = this.canvas_.width),
                  this.draw_(h, l, 0, 0),
                  this.createHitDetectionCanvas_(h);
              } else {
                c = Math.round(c);
                var p,
                  f = !this.fill_;
                f && (p = this.drawHitDetectionCanvas_.bind(this, h));
                var d = this.getChecksum(),
                  g = t.add(d, c, c, this.draw_.bind(this, h), p);
                (this.canvas_ = g.image),
                  (this.origin_ = [g.offsetX, g.offsetY]),
                  (e = g.image.width),
                  f
                    ? ((this.hitDetectionCanvas_ = g.hitImage),
                      (this.hitDetectionImageSize_ = [
                        g.hitImage.width,
                        g.hitImage.height,
                      ]))
                    : ((this.hitDetectionCanvas_ = this.canvas_),
                      (this.hitDetectionImageSize_ = [e, e]));
              }
              (this.anchor_ = [c / 2, c / 2]),
                (this.size_ = [c, c]),
                (this.imageSize_ = [e, e]);
            }),
            (e.prototype.draw_ = function (t, e, n, i) {
              var r, o, s;
              e.setTransform(1, 0, 0, 1, 0, 0),
                e.translate(n, i),
                e.beginPath();
              var a = this.points_;
              if (a === 1 / 0)
                e.arc(t.size / 2, t.size / 2, this.radius_, 0, 2 * Math.PI, !0);
              else {
                var u = void 0 !== this.radius2_ ? this.radius2_ : this.radius_;
                for (u !== this.radius_ && (a *= 2), r = 0; r <= a; r++)
                  (o = (2 * r * Math.PI) / a - Math.PI / 2 + this.angle_),
                    (s = r % 2 == 0 ? this.radius_ : u),
                    e.lineTo(
                      t.size / 2 + s * Math.cos(o),
                      t.size / 2 + s * Math.sin(o)
                    );
              }
              if (this.fill_) {
                var c = this.fill_.getColor();
                null === c && (c = Aa), (e.fillStyle = eu(c)), e.fill();
              }
              this.stroke_ &&
                ((e.strokeStyle = t.strokeStyle),
                (e.lineWidth = t.strokeWidth),
                t.lineDash &&
                  (e.setLineDash(t.lineDash),
                  (e.lineDashOffset = t.lineDashOffset)),
                (e.lineCap = t.lineCap),
                (e.lineJoin = t.lineJoin),
                (e.miterLimit = t.miterLimit),
                e.stroke()),
                e.closePath();
            }),
            (e.prototype.createHitDetectionCanvas_ = function (t) {
              if (
                ((this.hitDetectionImageSize_ = [t.size, t.size]), this.fill_)
              )
                this.hitDetectionCanvas_ = this.canvas_;
              else {
                var e = Bt(t.size, t.size);
                (this.hitDetectionCanvas_ = e.canvas),
                  this.drawHitDetectionCanvas_(t, e, 0, 0);
              }
            }),
            (e.prototype.drawHitDetectionCanvas_ = function (t, e, n, i) {
              e.setTransform(1, 0, 0, 1, 0, 0),
                e.translate(n, i),
                e.beginPath();
              var r = this.points_;
              if (r === 1 / 0)
                e.arc(t.size / 2, t.size / 2, this.radius_, 0, 2 * Math.PI, !0);
              else {
                var o,
                  s,
                  a,
                  u = void 0 !== this.radius2_ ? this.radius2_ : this.radius_;
                for (u !== this.radius_ && (r *= 2), o = 0; o <= r; o++)
                  (a = (2 * o * Math.PI) / r - Math.PI / 2 + this.angle_),
                    (s = o % 2 == 0 ? this.radius_ : u),
                    e.lineTo(
                      t.size / 2 + s * Math.cos(a),
                      t.size / 2 + s * Math.sin(a)
                    );
              }
              (e.fillStyle = Ja(Aa)),
                e.fill(),
                this.stroke_ &&
                  ((e.strokeStyle = t.strokeStyle),
                  (e.lineWidth = t.strokeWidth),
                  t.lineDash &&
                    (e.setLineDash(t.lineDash),
                    (e.lineDashOffset = t.lineDashOffset)),
                  e.stroke()),
                e.closePath();
            }),
            (e.prototype.getChecksum = function () {
              var t = this.stroke_ ? this.stroke_.getChecksum() : "-",
                e = this.fill_ ? this.fill_.getChecksum() : "-";
              if (
                !this.checksums_ ||
                t != this.checksums_[1] ||
                e != this.checksums_[2] ||
                this.radius_ != this.checksums_[3] ||
                this.radius2_ != this.checksums_[4] ||
                this.angle_ != this.checksums_[5] ||
                this.points_ != this.checksums_[6]
              ) {
                var n =
                  "r" +
                  t +
                  e +
                  (void 0 !== this.radius_ ? this.radius_.toString() : "-") +
                  (void 0 !== this.radius2_ ? this.radius2_.toString() : "-") +
                  (void 0 !== this.angle_ ? this.angle_.toString() : "-") +
                  (void 0 !== this.points_ ? this.points_.toString() : "-");
                this.checksums_ = [
                  n,
                  t,
                  e,
                  this.radius_,
                  this.radius2_,
                  this.angle_,
                  this.points_,
                ];
              }
              return this.checksums_[0];
            }),
            e
          );
        })(ac)
      ),
      cc = function (t) {
        var e = t || {};
        (this.color_ = void 0 !== e.color ? e.color : null),
          (this.checksum_ = void 0);
      };
    (cc.prototype.clone = function () {
      var t = this.getColor();
      return new cc({ color: Array.isArray(t) ? t.slice() : t || void 0 });
    }),
      (cc.prototype.getColor = function () {
        return this.color_;
      }),
      (cc.prototype.setColor = function (t) {
        (this.color_ = t), (this.checksum_ = void 0);
      }),
      (cc.prototype.getChecksum = function () {
        if (void 0 === this.checksum_) {
          var t = this.color_;
          t
            ? Array.isArray(t) || "string" == typeof t
              ? (this.checksum_ = "f" + Ja(t))
              : (this.checksum_ = ft(this.color_))
            : (this.checksum_ = "f-");
        }
        return this.checksum_;
      });
    var hc = cc,
      lc = function (t) {
        var e = t || {};
        (this.color_ = void 0 !== e.color ? e.color : null),
          (this.lineCap_ = e.lineCap),
          (this.lineDash_ = void 0 !== e.lineDash ? e.lineDash : null),
          (this.lineDashOffset_ = e.lineDashOffset),
          (this.lineJoin_ = e.lineJoin),
          (this.miterLimit_ = e.miterLimit),
          (this.width_ = e.width),
          (this.checksum_ = void 0);
      };
    (lc.prototype.clone = function () {
      var t = this.getColor();
      return new lc({
        color: Array.isArray(t) ? t.slice() : t || void 0,
        lineCap: this.getLineCap(),
        lineDash: this.getLineDash() ? this.getLineDash().slice() : void 0,
        lineDashOffset: this.getLineDashOffset(),
        lineJoin: this.getLineJoin(),
        miterLimit: this.getMiterLimit(),
        width: this.getWidth(),
      });
    }),
      (lc.prototype.getColor = function () {
        return this.color_;
      }),
      (lc.prototype.getLineCap = function () {
        return this.lineCap_;
      }),
      (lc.prototype.getLineDash = function () {
        return this.lineDash_;
      }),
      (lc.prototype.getLineDashOffset = function () {
        return this.lineDashOffset_;
      }),
      (lc.prototype.getLineJoin = function () {
        return this.lineJoin_;
      }),
      (lc.prototype.getMiterLimit = function () {
        return this.miterLimit_;
      }),
      (lc.prototype.getWidth = function () {
        return this.width_;
      }),
      (lc.prototype.setColor = function (t) {
        (this.color_ = t), (this.checksum_ = void 0);
      }),
      (lc.prototype.setLineCap = function (t) {
        (this.lineCap_ = t), (this.checksum_ = void 0);
      }),
      (lc.prototype.setLineDash = function (t) {
        (this.lineDash_ = t), (this.checksum_ = void 0);
      }),
      (lc.prototype.setLineDashOffset = function (t) {
        (this.lineDashOffset_ = t), (this.checksum_ = void 0);
      }),
      (lc.prototype.setLineJoin = function (t) {
        (this.lineJoin_ = t), (this.checksum_ = void 0);
      }),
      (lc.prototype.setMiterLimit = function (t) {
        (this.miterLimit_ = t), (this.checksum_ = void 0);
      }),
      (lc.prototype.setWidth = function (t) {
        (this.width_ = t), (this.checksum_ = void 0);
      }),
      (lc.prototype.getChecksum = function () {
        return (
          void 0 === this.checksum_ &&
            ((this.checksum_ = "s"),
            this.color_
              ? "string" == typeof this.color_
                ? (this.checksum_ += this.color_)
                : (this.checksum_ += ft(this.color_))
              : (this.checksum_ += "-"),
            (this.checksum_ +=
              "," +
              (void 0 !== this.lineCap_ ? this.lineCap_.toString() : "-") +
              "," +
              (this.lineDash_ ? this.lineDash_.toString() : "-") +
              "," +
              (void 0 !== this.lineDashOffset_ ? this.lineDashOffset_ : "-") +
              "," +
              (void 0 !== this.lineJoin_ ? this.lineJoin_ : "-") +
              "," +
              (void 0 !== this.miterLimit_
                ? this.miterLimit_.toString()
                : "-") +
              "," +
              (void 0 !== this.width_ ? this.width_.toString() : "-"))),
          this.checksum_
        );
      });
    var pc = lc,
      fc = function (t) {
        var e = t || {};
        (this.geometry_ = null),
          (this.geometryFunction_ = yc),
          void 0 !== e.geometry && this.setGeometry(e.geometry),
          (this.fill_ = void 0 !== e.fill ? e.fill : null),
          (this.image_ = void 0 !== e.image ? e.image : null),
          (this.renderer_ = void 0 !== e.renderer ? e.renderer : null),
          (this.stroke_ = void 0 !== e.stroke ? e.stroke : null),
          (this.text_ = void 0 !== e.text ? e.text : null),
          (this.zIndex_ = e.zIndex);
      };
    (fc.prototype.clone = function () {
      var t = this.getGeometry();
      return (
        t && "object" == typeof t && (t = t.clone()),
        new fc({
          geometry: t,
          fill: this.getFill() ? this.getFill().clone() : void 0,
          image: this.getImage() ? this.getImage().clone() : void 0,
          stroke: this.getStroke() ? this.getStroke().clone() : void 0,
          text: this.getText() ? this.getText().clone() : void 0,
          zIndex: this.getZIndex(),
        })
      );
    }),
      (fc.prototype.getRenderer = function () {
        return this.renderer_;
      }),
      (fc.prototype.setRenderer = function (t) {
        this.renderer_ = t;
      }),
      (fc.prototype.getGeometry = function () {
        return this.geometry_;
      }),
      (fc.prototype.getGeometryFunction = function () {
        return this.geometryFunction_;
      }),
      (fc.prototype.getFill = function () {
        return this.fill_;
      }),
      (fc.prototype.setFill = function (t) {
        this.fill_ = t;
      }),
      (fc.prototype.getImage = function () {
        return this.image_;
      }),
      (fc.prototype.setImage = function (t) {
        this.image_ = t;
      }),
      (fc.prototype.getStroke = function () {
        return this.stroke_;
      }),
      (fc.prototype.setStroke = function (t) {
        this.stroke_ = t;
      }),
      (fc.prototype.getText = function () {
        return this.text_;
      }),
      (fc.prototype.setText = function (t) {
        this.text_ = t;
      }),
      (fc.prototype.getZIndex = function () {
        return this.zIndex_;
      }),
      (fc.prototype.setGeometry = function (t) {
        "function" == typeof t
          ? (this.geometryFunction_ = t)
          : "string" == typeof t
          ? (this.geometryFunction_ = function (e) {
              return e.get(t);
            })
          : t
          ? void 0 !== t &&
            (this.geometryFunction_ = function () {
              return t;
            })
          : (this.geometryFunction_ = yc),
          (this.geometry_ = t);
      }),
      (fc.prototype.setZIndex = function (t) {
        this.zIndex_ = t;
      });
    var dc = null;
    function gc(t, e) {
      if (!dc) {
        var n = new hc({ color: "rgba(255,255,255,0.4)" }),
          i = new pc({ color: "#3399CC", width: 1.25 });
        dc = [
          new fc({
            image: new uc({ fill: n, stroke: i, radius: 5 }),
            fill: n,
            stroke: i,
          }),
        ];
      }
      return dc;
    }
    function yc(t) {
      return t.getGeometry();
    }
    var _c = fc,
      vc = "renderOrder",
      mc = (function (t) {
        function e(e) {
          var n = e || {},
            i = bt({}, n);
          delete i.style,
            delete i.renderBuffer,
            delete i.updateWhileAnimating,
            delete i.updateWhileInteracting,
            t.call(this, i),
            (this.declutter_ = void 0 !== n.declutter && n.declutter),
            (this.renderBuffer_ =
              void 0 !== n.renderBuffer ? n.renderBuffer : 100),
            (this.style_ = null),
            (this.styleFunction_ = void 0),
            this.setStyle(n.style),
            (this.updateWhileAnimating_ =
              void 0 !== n.updateWhileAnimating && n.updateWhileAnimating),
            (this.updateWhileInteracting_ =
              void 0 !== n.updateWhileInteracting && n.updateWhileInteracting),
            (this.renderMode_ = n.renderMode || La.VECTOR),
            (this.type = Ra.VECTOR);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.getDeclutter = function () {
            return this.declutter_;
          }),
          (e.prototype.setDeclutter = function (t) {
            this.declutter_ = t;
          }),
          (e.prototype.getRenderBuffer = function () {
            return this.renderBuffer_;
          }),
          (e.prototype.getRenderOrder = function () {
            return this.get(vc);
          }),
          (e.prototype.getStyle = function () {
            return this.style_;
          }),
          (e.prototype.getStyleFunction = function () {
            return this.styleFunction_;
          }),
          (e.prototype.getUpdateWhileAnimating = function () {
            return this.updateWhileAnimating_;
          }),
          (e.prototype.getUpdateWhileInteracting = function () {
            return this.updateWhileInteracting_;
          }),
          (e.prototype.setRenderOrder = function (t) {
            this.set(vc, t);
          }),
          (e.prototype.setStyle = function (t) {
            (this.style_ = void 0 !== t ? t : gc),
              (this.styleFunction_ =
                null === t
                  ? void 0
                  : (function (t) {
                      var e;
                      if ("function" == typeof t) e = t;
                      else {
                        var n;
                        if (Array.isArray(t)) n = t;
                        else
                          qt("function" == typeof t.getZIndex, 41), (n = [t]);
                        e = function () {
                          return n;
                        };
                      }
                      return e;
                    })(this.style_)),
              this.changed();
          }),
          (e.prototype.getRenderMode = function () {
            return this.renderMode_;
          }),
          e
        );
      })(Ns);
    mc.prototype.getSource;
    var xc = mc,
      Ec = "preload",
      bc = "useInterimTilesOnError",
      wc = (function (t) {
        function e(e) {
          var n = e || {},
            i = bt({}, n);
          delete i.preload,
            delete i.useInterimTilesOnError,
            t.call(this, i),
            this.setPreload(void 0 !== n.preload ? n.preload : 0),
            this.setUseInterimTilesOnError(
              void 0 === n.useInterimTilesOnError || n.useInterimTilesOnError
            ),
            (this.type = Ra.TILE);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.getPreload = function () {
            return this.get(Ec);
          }),
          (e.prototype.setPreload = function (t) {
            this.set(Ec, t);
          }),
          (e.prototype.getUseInterimTilesOnError = function () {
            return this.get(bc);
          }),
          (e.prototype.setUseInterimTilesOnError = function (t) {
            this.set(bc, t);
          }),
          e
        );
      })(Ns);
    wc.prototype.getSource;
    var Ic = wc,
      Sc = {
        ARRAY_BUFFER: "arraybuffer",
        JSON: "json",
        TEXT: "text",
        XML: "xml",
      };
    function Cc(t, e) {
      return (function (t, e, n, i) {
        return function (r, o, s) {
          var a = new XMLHttpRequest();
          a.open("GET", "function" == typeof t ? t(r, o, s) : t, !0),
            e.getType() == Sc.ARRAY_BUFFER && (a.responseType = "arraybuffer"),
            (a.onload = function (t) {
              if (!a.status || (a.status >= 200 && a.status < 300)) {
                var r,
                  o = e.getType();
                o == Sc.JSON || o == Sc.TEXT
                  ? (r = a.responseText)
                  : o == Sc.XML
                  ? (r = a.responseXML) ||
                    (r = new DOMParser().parseFromString(
                      a.responseText,
                      "application/xml"
                    ))
                  : o == Sc.ARRAY_BUFFER && (r = a.response),
                  r
                    ? n.call(
                        this,
                        e.readFeatures(r, { featureProjection: s }),
                        e.readProjection(r),
                        e.getLastExtent()
                      )
                    : i.call(this);
              } else i.call(this);
            }.bind(this)),
            (a.onerror = function () {
              i.call(this);
            }.bind(this)),
            a.send();
        };
      })(
        t,
        e,
        function (t, e) {
          "function" == typeof this.addFeatures && this.addFeatures(t);
        },
        kt
      );
    }
    function Tc(t, e) {
      return [[-1 / 0, -1 / 0, 1 / 0, 1 / 0]];
    }
    var Oc = "addfeature",
      Rc = "changefeature",
      Lc = "clear",
      Mc = "removefeature",
      Ac = function (t) {
        (this.rbush_ = mu()(t, void 0)), (this.items_ = {});
      };
    (Ac.prototype.insert = function (t, e) {
      var n = { minX: t[0], minY: t[1], maxX: t[2], maxY: t[3], value: e };
      this.rbush_.insert(n), (this.items_[ft(e)] = n);
    }),
      (Ac.prototype.load = function (t, e) {
        for (var n = new Array(e.length), i = 0, r = e.length; i < r; i++) {
          var o = t[i],
            s = e[i],
            a = { minX: o[0], minY: o[1], maxX: o[2], maxY: o[3], value: s };
          (n[i] = a), (this.items_[ft(s)] = a);
        }
        this.rbush_.load(n);
      }),
      (Ac.prototype.remove = function (t) {
        var e = ft(t),
          n = this.items_[e];
        return delete this.items_[e], null !== this.rbush_.remove(n);
      }),
      (Ac.prototype.update = function (t, e) {
        var n = this.items_[ft(e)];
        we([n.minX, n.minY, n.maxX, n.maxY], t) ||
          (this.remove(e), this.insert(t, e));
      }),
      (Ac.prototype.getAll = function () {
        return this.rbush_.all().map(function (t) {
          return t.value;
        });
      }),
      (Ac.prototype.getInExtent = function (t) {
        var e = { minX: t[0], minY: t[1], maxX: t[2], maxY: t[3] };
        return this.rbush_.search(e).map(function (t) {
          return t.value;
        });
      }),
      (Ac.prototype.forEach = function (t, e) {
        return this.forEach_(this.getAll(), t, e);
      }),
      (Ac.prototype.forEachInExtent = function (t, e, n) {
        return this.forEach_(this.getInExtent(t), e, n);
      }),
      (Ac.prototype.forEach_ = function (t, e, n) {
        for (var i, r = 0, o = t.length; r < o; r++)
          if ((i = e.call(n, t[r]))) return i;
        return i;
      }),
      (Ac.prototype.isEmpty = function () {
        return St(this.items_);
      }),
      (Ac.prototype.clear = function () {
        this.rbush_.clear(), (this.items_ = {});
      }),
      (Ac.prototype.getExtent = function (t) {
        var e = this.rbush_.toJSON();
        return Ee(e.minX, e.minY, e.maxX, e.maxY, t);
      }),
      (Ac.prototype.concat = function (t) {
        for (var e in (this.rbush_.load(t.rbush_.all()), t.items_))
          this.items_[e] = t.items_[e];
      });
    var Nc = Ac,
      Pc = (function (t) {
        function e(e, n) {
          t.call(this, e), (this.feature = n);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          e
        );
      })(tt),
      Dc = (function (t) {
        function e(e) {
          var n = e || {};
          t.call(this, {
            attributions: n.attributions,
            projection: void 0,
            state: Yn.READY,
            wrapX: void 0 === n.wrapX || n.wrapX,
          }),
            (this.loader_ = kt),
            (this.format_ = n.format),
            (this.overlaps_ = null == n.overlaps || n.overlaps),
            (this.url_ = n.url),
            void 0 !== n.loader
              ? (this.loader_ = n.loader)
              : void 0 !== this.url_ &&
                (qt(this.format_, 7),
                (this.loader_ = Cc(this.url_, this.format_))),
            (this.strategy_ = void 0 !== n.strategy ? n.strategy : Tc);
          var i,
            r,
            o = void 0 === n.useSpatialIndex || n.useSpatialIndex;
          (this.featuresRtree_ = o ? new Nc() : null),
            (this.loadedExtentsRtree_ = new Nc()),
            (this.nullGeometryFeatures_ = {}),
            (this.idIndex_ = {}),
            (this.undefIdIndex_ = {}),
            (this.featureChangeKeys_ = {}),
            (this.featuresCollection_ = null),
            Array.isArray(n.features)
              ? (r = n.features)
              : n.features && (r = (i = n.features).getArray()),
            o || void 0 !== i || (i = new eo(r)),
            void 0 !== r && this.addFeaturesInternal(r),
            void 0 !== i && this.bindFeaturesCollection_(i);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.addFeature = function (t) {
            this.addFeatureInternal(t), this.changed();
          }),
          (e.prototype.addFeatureInternal = function (t) {
            var e = ft(t);
            if (this.addToIndex_(e, t)) {
              this.setupChangeEvents_(e, t);
              var n = t.getGeometry();
              if (n) {
                var i = n.getExtent();
                this.featuresRtree_ && this.featuresRtree_.insert(i, t);
              } else this.nullGeometryFeatures_[e] = t;
              this.dispatchEvent(new Pc(Oc, t));
            }
          }),
          (e.prototype.setupChangeEvents_ = function (t, e) {
            this.featureChangeKeys_[t] = [
              Lt(e, Gt.CHANGE, this.handleFeatureChange_, this),
              Lt(e, kn, this.handleFeatureChange_, this),
            ];
          }),
          (e.prototype.addToIndex_ = function (t, e) {
            var n = !0,
              i = e.getId();
            return (
              void 0 !== i
                ? i.toString() in this.idIndex_
                  ? (n = !1)
                  : (this.idIndex_[i.toString()] = e)
                : (qt(!(t in this.undefIdIndex_), 30),
                  (this.undefIdIndex_[t] = e)),
              n
            );
          }),
          (e.prototype.addFeatures = function (t) {
            this.addFeaturesInternal(t), this.changed();
          }),
          (e.prototype.addFeaturesInternal = function (t) {
            for (var e = [], n = [], i = [], r = 0, o = t.length; r < o; r++) {
              var s = t[r],
                a = ft(s);
              this.addToIndex_(a, s) && n.push(s);
            }
            for (var u = 0, c = n.length; u < c; u++) {
              var h = n[u],
                l = ft(h);
              this.setupChangeEvents_(l, h);
              var p = h.getGeometry();
              if (p) {
                var f = p.getExtent();
                e.push(f), i.push(h);
              } else this.nullGeometryFeatures_[l] = h;
            }
            this.featuresRtree_ && this.featuresRtree_.load(e, i);
            for (var d = 0, g = n.length; d < g; d++)
              this.dispatchEvent(new Pc(Oc, n[d]));
          }),
          (e.prototype.bindFeaturesCollection_ = function (t) {
            var e = !1;
            Lt(this, Oc, function (n) {
              e || ((e = !0), t.push(n.feature), (e = !1));
            }),
              Lt(this, Mc, function (n) {
                e || ((e = !0), t.remove(n.feature), (e = !1));
              }),
              Lt(
                t,
                Qr.ADD,
                function (t) {
                  e || ((e = !0), this.addFeature(t.element), (e = !1));
                },
                this
              ),
              Lt(
                t,
                Qr.REMOVE,
                function (t) {
                  e || ((e = !0), this.removeFeature(t.element), (e = !1));
                },
                this
              ),
              (this.featuresCollection_ = t);
          }),
          (e.prototype.clear = function (t) {
            if (t) {
              for (var e in this.featureChangeKeys_) {
                this.featureChangeKeys_[e].forEach(Nt);
              }
              this.featuresCollection_ ||
                ((this.featureChangeKeys_ = {}),
                (this.idIndex_ = {}),
                (this.undefIdIndex_ = {}));
            } else if (this.featuresRtree_)
              for (var n in (this.featuresRtree_.forEach(
                this.removeFeatureInternal,
                this
              ),
              this.nullGeometryFeatures_))
                this.removeFeatureInternal(this.nullGeometryFeatures_[n]);
            this.featuresCollection_ && this.featuresCollection_.clear(),
              this.featuresRtree_ && this.featuresRtree_.clear(),
              this.loadedExtentsRtree_.clear(),
              (this.nullGeometryFeatures_ = {});
            var i = new Pc(Lc);
            this.dispatchEvent(i), this.changed();
          }),
          (e.prototype.forEachFeature = function (t) {
            if (this.featuresRtree_) return this.featuresRtree_.forEach(t);
            this.featuresCollection_ && this.featuresCollection_.forEach(t);
          }),
          (e.prototype.forEachFeatureAtCoordinateDirect = function (t, e) {
            var n = [t[0], t[1], t[0], t[1]];
            return this.forEachFeatureInExtent(n, function (n) {
              return n.getGeometry().intersectsCoordinate(t) ? e(n) : void 0;
            });
          }),
          (e.prototype.forEachFeatureInExtent = function (t, e) {
            if (this.featuresRtree_)
              return this.featuresRtree_.forEachInExtent(t, e);
            this.featuresCollection_ && this.featuresCollection_.forEach(e);
          }),
          (e.prototype.forEachFeatureIntersectingExtent = function (t, e) {
            return this.forEachFeatureInExtent(t, function (n) {
              if (n.getGeometry().intersectsExtent(t)) {
                var i = e(n);
                if (i) return i;
              }
            });
          }),
          (e.prototype.getFeaturesCollection = function () {
            return this.featuresCollection_;
          }),
          (e.prototype.getFeatures = function () {
            var t;
            return (
              this.featuresCollection_
                ? (t = this.featuresCollection_.getArray())
                : this.featuresRtree_ &&
                  ((t = this.featuresRtree_.getAll()),
                  St(this.nullGeometryFeatures_) ||
                    $n(t, It(this.nullGeometryFeatures_))),
              t
            );
          }),
          (e.prototype.getFeaturesAtCoordinate = function (t) {
            var e = [];
            return (
              this.forEachFeatureAtCoordinateDirect(t, function (t) {
                e.push(t);
              }),
              e
            );
          }),
          (e.prototype.getFeaturesInExtent = function (t) {
            return this.featuresRtree_.getInExtent(t);
          }),
          (e.prototype.getClosestFeatureToCoordinate = function (t, e) {
            var n = t[0],
              i = t[1],
              r = null,
              o = [NaN, NaN],
              s = 1 / 0,
              a = [-1 / 0, -1 / 0, 1 / 0, 1 / 0],
              u = e || Pt;
            return (
              this.featuresRtree_.forEachInExtent(a, function (t) {
                if (u(t)) {
                  var e = t.getGeometry(),
                    c = s;
                  if ((s = e.closestPointXY(n, i, o, s)) < c) {
                    r = t;
                    var h = Math.sqrt(s);
                    (a[0] = n - h),
                      (a[1] = i - h),
                      (a[2] = n + h),
                      (a[3] = i + h);
                  }
                }
              }),
              r
            );
          }),
          (e.prototype.getExtent = function (t) {
            return this.featuresRtree_.getExtent(t);
          }),
          (e.prototype.getFeatureById = function (t) {
            var e = this.idIndex_[t.toString()];
            return void 0 !== e ? e : null;
          }),
          (e.prototype.getFormat = function () {
            return this.format_;
          }),
          (e.prototype.getOverlaps = function () {
            return this.overlaps_;
          }),
          (e.prototype.getUrl = function () {
            return this.url_;
          }),
          (e.prototype.handleFeatureChange_ = function (t) {
            var e = t.target,
              n = ft(e),
              i = e.getGeometry();
            if (i) {
              var r = i.getExtent();
              n in this.nullGeometryFeatures_
                ? (delete this.nullGeometryFeatures_[n],
                  this.featuresRtree_ && this.featuresRtree_.insert(r, e))
                : this.featuresRtree_ && this.featuresRtree_.update(r, e);
            } else
              n in this.nullGeometryFeatures_ ||
                (this.featuresRtree_ && this.featuresRtree_.remove(e),
                (this.nullGeometryFeatures_[n] = e));
            var o = e.getId();
            if (void 0 !== o) {
              var s = o.toString();
              n in this.undefIdIndex_
                ? (delete this.undefIdIndex_[n], (this.idIndex_[s] = e))
                : this.idIndex_[s] !== e &&
                  (this.removeFromIdIndex_(e), (this.idIndex_[s] = e));
            } else
              n in this.undefIdIndex_ ||
                (this.removeFromIdIndex_(e), (this.undefIdIndex_[n] = e));
            this.changed(), this.dispatchEvent(new Pc(Rc, e));
          }),
          (e.prototype.hasFeature = function (t) {
            var e = t.getId();
            return void 0 !== e
              ? e in this.idIndex_
              : ft(t) in this.undefIdIndex_;
          }),
          (e.prototype.isEmpty = function () {
            return (
              this.featuresRtree_.isEmpty() && St(this.nullGeometryFeatures_)
            );
          }),
          (e.prototype.loadFeatures = function (t, e, n) {
            var i = this,
              r = this.loadedExtentsRtree_,
              o = this.strategy_(t, e);
            this.loading = !1;
            for (
              var s = function (t, s) {
                  var a = o[t];
                  r.forEachInExtent(a, function (t) {
                    return _e(t.extent, a);
                  }) ||
                    (i.loader_.call(i, a, e, n),
                    r.insert(a, { extent: a.slice() }),
                    (i.loading = i.loader_ !== kt));
                },
                a = 0,
                u = o.length;
              a < u;
              ++a
            )
              s(a);
          }),
          (e.prototype.removeLoadedExtent = function (t) {
            var e,
              n = this.loadedExtentsRtree_;
            n.forEachInExtent(t, function (n) {
              if (we(n.extent, t)) return (e = n), !0;
            }),
              e && n.remove(e);
          }),
          (e.prototype.removeFeature = function (t) {
            var e = ft(t);
            e in this.nullGeometryFeatures_
              ? delete this.nullGeometryFeatures_[e]
              : this.featuresRtree_ && this.featuresRtree_.remove(t),
              this.removeFeatureInternal(t),
              this.changed();
          }),
          (e.prototype.removeFeatureInternal = function (t) {
            var e = ft(t);
            this.featureChangeKeys_[e].forEach(Nt),
              delete this.featureChangeKeys_[e];
            var n = t.getId();
            void 0 !== n
              ? delete this.idIndex_[n.toString()]
              : delete this.undefIdIndex_[e],
              this.dispatchEvent(new Pc(Mc, t));
          }),
          (e.prototype.removeFromIdIndex_ = function (t) {
            var e = !1;
            for (var n in this.idIndex_)
              if (this.idIndex_[n] === t) {
                delete this.idIndex_[n], (e = !0);
                break;
              }
            return e;
          }),
          (e.prototype.setLoader = function (t) {
            this.loader_ = t;
          }),
          e
        );
      })(zn),
      kc = (function (t) {
        function e(e, n, i) {
          if ((t.call(this), void 0 !== i && void 0 === n))
            this.setFlatCoordinates(i, e);
          else {
            var r = n || 0;
            this.setCenterAndRadius(e, r, i);
          }
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.clone = function () {
            return new e(this.flatCoordinates.slice(), void 0, this.layout);
          }),
          (e.prototype.closestPointXY = function (t, e, n, i) {
            var r = this.flatCoordinates,
              o = t - r[0],
              s = e - r[1],
              a = o * o + s * s;
            if (a < i) {
              if (0 === a) for (var u = 0; u < this.stride; ++u) n[u] = r[u];
              else {
                var c = this.getRadius() / Math.sqrt(a);
                (n[0] = r[0] + c * o), (n[1] = r[1] + c * s);
                for (var h = 2; h < this.stride; ++h) n[h] = r[h];
              }
              return (n.length = this.stride), a;
            }
            return i;
          }),
          (e.prototype.containsXY = function (t, e) {
            var n = this.flatCoordinates,
              i = t - n[0],
              r = e - n[1];
            return i * i + r * r <= this.getRadiusSquared_();
          }),
          (e.prototype.getCenter = function () {
            return this.flatCoordinates.slice(0, this.stride);
          }),
          (e.prototype.computeExtent = function (t) {
            var e = this.flatCoordinates,
              n = e[this.stride] - e[0];
            return Ee(e[0] - n, e[1] - n, e[0] + n, e[1] + n, t);
          }),
          (e.prototype.getRadius = function () {
            return Math.sqrt(this.getRadiusSquared_());
          }),
          (e.prototype.getRadiusSquared_ = function () {
            var t = this.flatCoordinates[this.stride] - this.flatCoordinates[0],
              e =
                this.flatCoordinates[this.stride + 1] - this.flatCoordinates[1];
            return t * t + e * e;
          }),
          (e.prototype.getType = function () {
            return se.CIRCLE;
          }),
          (e.prototype.intersectsExtent = function (t) {
            if (Ue(t, this.getExtent())) {
              var e = this.getCenter();
              return (
                (t[0] <= e[0] && t[2] >= e[0]) ||
                (t[1] <= e[1] && t[3] >= e[1]) ||
                Re(t, this.intersectsCoordinate, this)
              );
            }
            return !1;
          }),
          (e.prototype.setCenter = function (t) {
            var e = this.stride,
              n = this.flatCoordinates[e] - this.flatCoordinates[0],
              i = t.slice();
            i[e] = i[0] + n;
            for (var r = 1; r < e; ++r) i[e + r] = t[r];
            this.setFlatCoordinates(this.layout, i), this.changed();
          }),
          (e.prototype.setCenterAndRadius = function (t, e, n) {
            this.setLayout(n, t, 0),
              this.flatCoordinates || (this.flatCoordinates = []);
            var i = this.flatCoordinates,
              r = lr(i, 0, t, this.stride);
            i[r++] = i[0] + e;
            for (var o = 1, s = this.stride; o < s; ++o) i[r++] = i[o];
            (i.length = r), this.changed();
          }),
          (e.prototype.getCoordinates = function () {
            return null;
          }),
          (e.prototype.setCoordinates = function (t, e) {}),
          (e.prototype.setRadius = function (t) {
            (this.flatCoordinates[this.stride] = this.flatCoordinates[0] + t),
              this.changed();
          }),
          e
        );
      })(ir);
    kc.prototype.transform;
    var Fc = kc;
    function Gc(t, e, n, i, r, o) {
      var s = NaN,
        a = NaN,
        u = (n - e) / i;
      if (1 === u) (s = t[e]), (a = t[e + 1]);
      else if (2 == u)
        (s = (1 - r) * t[e] + r * t[e + i]),
          (a = (1 - r) * t[e + 1] + r * t[e + i + 1]);
      else if (0 !== u) {
        for (
          var c = t[e], h = t[e + 1], l = 0, p = [0], f = e + i;
          f < n;
          f += i
        ) {
          var d = t[f],
            g = t[f + 1];
          (l += Math.sqrt((d - c) * (d - c) + (g - h) * (g - h))),
            p.push(l),
            (c = d),
            (h = g);
        }
        var y = r * l,
          _ = (function (t, e, n) {
            for (var i, r, o = n || Zn, s = 0, a = t.length, u = !1; s < a; )
              (r = +o(t[(i = s + ((a - s) >> 1))], e)) < 0
                ? (s = i + 1)
                : ((a = i), (u = !r));
            return u ? s : ~s;
          })(p, y);
        if (_ < 0) {
          var v = (y - p[-_ - 2]) / (p[-_ - 1] - p[-_ - 2]),
            m = e + (-_ - 2) * i;
          (s = oe(t[m], t[m + i], v)), (a = oe(t[m + 1], t[m + i + 1], v));
        } else (s = t[e + _ * i]), (a = t[e + _ * i + 1]);
      }
      return o ? ((o[0] = s), (o[1] = a), o) : [s, a];
    }
    function jc(t, e, n, i, r, o) {
      if (n == e) return null;
      var s;
      if (r < t[e + i - 1])
        return o ? (((s = t.slice(e, e + i))[i - 1] = r), s) : null;
      if (t[n - 1] < r)
        return o ? (((s = t.slice(n - i, n))[i - 1] = r), s) : null;
      if (r == t[e + i - 1]) return t.slice(e, e + i);
      for (var a = e / i, u = n / i; a < u; ) {
        var c = (a + u) >> 1;
        r < t[(c + 1) * i - 1] ? (u = c) : (a = c + 1);
      }
      var h = t[a * i - 1];
      if (r == h) return t.slice((a - 1) * i, (a - 1) * i + i);
      var l = (r - h) / (t[(a + 1) * i - 1] - h);
      s = [];
      for (var p = 0; p < i - 1; ++p)
        s.push(oe(t[(a - 1) * i + p], t[a * i + p], l));
      return s.push(r), s;
    }
    var Bc = (function (t) {
        function e(e, n) {
          t.call(this),
            (this.flatMidpoint_ = null),
            (this.flatMidpointRevision_ = -1),
            (this.maxDelta_ = -1),
            (this.maxDeltaRevision_ = -1),
            void 0 === n || Array.isArray(e[0])
              ? this.setCoordinates(e, n)
              : this.setFlatCoordinates(n, e);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.appendCoordinate = function (t) {
            this.flatCoordinates
              ? $n(this.flatCoordinates, t)
              : (this.flatCoordinates = t.slice()),
              this.changed();
          }),
          (e.prototype.clone = function () {
            return new e(this.flatCoordinates.slice(), this.layout);
          }),
          (e.prototype.closestPointXY = function (t, e, n, i) {
            return i < ge(this.getExtent(), t, e)
              ? i
              : (this.maxDeltaRevision_ != this.getRevision() &&
                  ((this.maxDelta_ = Math.sqrt(
                    ar(
                      this.flatCoordinates,
                      0,
                      this.flatCoordinates.length,
                      this.stride,
                      0
                    )
                  )),
                  (this.maxDeltaRevision_ = this.getRevision())),
                cr(
                  this.flatCoordinates,
                  0,
                  this.flatCoordinates.length,
                  this.stride,
                  this.maxDelta_,
                  !1,
                  t,
                  e,
                  n,
                  i
                ));
          }),
          (e.prototype.forEachSegment = function (t) {
            return Tr(
              this.flatCoordinates,
              0,
              this.flatCoordinates.length,
              this.stride,
              t
            );
          }),
          (e.prototype.getCoordinateAtM = function (t, e) {
            if (this.layout != zi.XYM && this.layout != zi.XYZM) return null;
            var n = void 0 !== e && e;
            return jc(
              this.flatCoordinates,
              0,
              this.flatCoordinates.length,
              this.stride,
              t,
              n
            );
          }),
          (e.prototype.getCoordinates = function () {
            return dr(
              this.flatCoordinates,
              0,
              this.flatCoordinates.length,
              this.stride
            );
          }),
          (e.prototype.getCoordinateAt = function (t, e) {
            return Gc(
              this.flatCoordinates,
              0,
              this.flatCoordinates.length,
              this.stride,
              t,
              e
            );
          }),
          (e.prototype.getLength = function () {
            return wu(
              this.flatCoordinates,
              0,
              this.flatCoordinates.length,
              this.stride
            );
          }),
          (e.prototype.getFlatMidpoint = function () {
            return (
              this.flatMidpointRevision_ != this.getRevision() &&
                ((this.flatMidpoint_ = this.getCoordinateAt(
                  0.5,
                  this.flatMidpoint_
                )),
                (this.flatMidpointRevision_ = this.getRevision())),
              this.flatMidpoint_
            );
          }),
          (e.prototype.getSimplifiedGeometryInternal = function (t) {
            var n = [];
            return (
              (n.length = _r(
                this.flatCoordinates,
                0,
                this.flatCoordinates.length,
                this.stride,
                t,
                n,
                0
              )),
              new e(n, zi.XY)
            );
          }),
          (e.prototype.getType = function () {
            return se.LINE_STRING;
          }),
          (e.prototype.intersectsExtent = function (t) {
            return Or(
              this.flatCoordinates,
              0,
              this.flatCoordinates.length,
              this.stride,
              t
            );
          }),
          (e.prototype.setCoordinates = function (t, e) {
            this.setLayout(e, t, 1),
              this.flatCoordinates || (this.flatCoordinates = []),
              (this.flatCoordinates.length = pr(
                this.flatCoordinates,
                0,
                t,
                this.stride
              )),
              this.changed();
          }),
          e
        );
      })(ir),
      Uc = { FRACTION: "fraction", PIXELS: "pixels" },
      Yc = (function (t) {
        function e(e, n, i, r, o, s) {
          t.call(this),
            (this.hitDetectionImage_ = null),
            (this.image_ = e || new Image()),
            null !== r && (this.image_.crossOrigin = r),
            (this.canvas_ = s ? document.createElement("canvas") : null),
            (this.color_ = s),
            (this.imageListenerKeys_ = null),
            (this.imageState_ = o),
            (this.size_ = i),
            (this.src_ = n),
            this.tainted_;
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.isTainted_ = function () {
            if (void 0 === this.tainted_ && this.imageState_ === Ta.LOADED) {
              this.tainted_ = !1;
              var t = Bt(1, 1);
              try {
                t.drawImage(this.image_, 0, 0), t.getImageData(0, 0, 1, 1);
              } catch (t) {
                this.tainted_ = !0;
              }
            }
            return !0 === this.tainted_;
          }),
          (e.prototype.dispatchChangeEvent_ = function () {
            this.dispatchEvent(Gt.CHANGE);
          }),
          (e.prototype.handleImageError_ = function () {
            (this.imageState_ = Ta.ERROR),
              this.unlistenImage_(),
              this.dispatchChangeEvent_();
          }),
          (e.prototype.handleImageLoad_ = function () {
            (this.imageState_ = Ta.LOADED),
              this.size_ &&
                ((this.image_.width = this.size_[0]),
                (this.image_.height = this.size_[1])),
              (this.size_ = [this.image_.width, this.image_.height]),
              this.unlistenImage_(),
              this.replaceColor_(),
              this.dispatchChangeEvent_();
          }),
          (e.prototype.getImage = function (t) {
            return this.canvas_ ? this.canvas_ : this.image_;
          }),
          (e.prototype.getImageState = function () {
            return this.imageState_;
          }),
          (e.prototype.getHitDetectionImage = function (t) {
            if (!this.hitDetectionImage_)
              if (this.isTainted_()) {
                var e = this.size_[0],
                  n = this.size_[1],
                  i = Bt(e, n);
                i.fillRect(0, 0, e, n), (this.hitDetectionImage_ = i.canvas);
              } else this.hitDetectionImage_ = this.image_;
            return this.hitDetectionImage_;
          }),
          (e.prototype.getSize = function () {
            return this.size_;
          }),
          (e.prototype.getSrc = function () {
            return this.src_;
          }),
          (e.prototype.load = function () {
            if (this.imageState_ == Ta.IDLE) {
              (this.imageState_ = Ta.LOADING),
                (this.imageListenerKeys_ = [
                  Mt(this.image_, Gt.ERROR, this.handleImageError_, this),
                  Mt(this.image_, Gt.LOAD, this.handleImageLoad_, this),
                ]);
              try {
                this.image_.src = this.src_;
              } catch (t) {
                this.handleImageError_();
              }
            }
          }),
          (e.prototype.replaceColor_ = function () {
            if (this.color_ && !this.isTainted_()) {
              (this.canvas_.width = this.image_.width),
                (this.canvas_.height = this.image_.height);
              var t = this.canvas_.getContext("2d");
              t.drawImage(this.image_, 0, 0);
              for (
                var e = t.getImageData(
                    0,
                    0,
                    this.image_.width,
                    this.image_.height
                  ),
                  n = e.data,
                  i = this.color_[0] / 255,
                  r = this.color_[1] / 255,
                  o = this.color_[2] / 255,
                  s = 0,
                  a = n.length;
                s < a;
                s += 4
              )
                (n[s] *= i), (n[s + 1] *= r), (n[s + 2] *= o);
              t.putImageData(e, 0, 0);
            }
          }),
          (e.prototype.unlistenImage_ = function () {
            this.imageListenerKeys_.forEach(Nt),
              (this.imageListenerKeys_ = null);
          }),
          e
        );
      })(Ft);
    var Xc = {
        BOTTOM_LEFT: "bottom-left",
        BOTTOM_RIGHT: "bottom-right",
        TOP_LEFT: "top-left",
        TOP_RIGHT: "top-right",
      },
      zc = (function (t) {
        function e(e) {
          var n = e || {},
            i = void 0 !== n.opacity ? n.opacity : 1,
            r = void 0 !== n.rotation ? n.rotation : 0,
            o = void 0 !== n.scale ? n.scale : 1,
            s = void 0 !== n.rotateWithView && n.rotateWithView;
          t.call(this, {
            opacity: i,
            rotation: r,
            scale: o,
            rotateWithView: s,
          }),
            (this.anchor_ = void 0 !== n.anchor ? n.anchor : [0.5, 0.5]),
            (this.normalizedAnchor_ = null),
            (this.anchorOrigin_ =
              void 0 !== n.anchorOrigin ? n.anchorOrigin : Xc.TOP_LEFT),
            (this.anchorXUnits_ =
              void 0 !== n.anchorXUnits ? n.anchorXUnits : Uc.FRACTION),
            (this.anchorYUnits_ =
              void 0 !== n.anchorYUnits ? n.anchorYUnits : Uc.FRACTION),
            (this.crossOrigin_ =
              void 0 !== n.crossOrigin ? n.crossOrigin : null);
          var a = void 0 !== n.img ? n.img : null,
            u = void 0 !== n.imgSize ? n.imgSize : null,
            c = n.src;
          qt(!(void 0 !== c && a), 4),
            qt(!a || (a && u), 5),
            (void 0 !== c && 0 !== c.length) || !a || (c = a.src || ft(a)),
            qt(void 0 !== c && c.length > 0, 6);
          var h,
            l = void 0 !== n.src ? Ta.IDLE : Ta.LOADED;
          (this.color_ =
            void 0 !== n.color
              ? ((h = n.color), Array.isArray(h) ? h : Qa(h))
              : null),
            (this.iconImage_ = (function (t, e, n, i, r, o) {
              var s = au.get(e, i, o);
              return (
                s || ((s = new Yc(t, e, n, i, r, o)), au.set(e, i, o, s)), s
              );
            })(a, c, u, this.crossOrigin_, l, this.color_)),
            (this.offset_ = void 0 !== n.offset ? n.offset : [0, 0]),
            (this.offsetOrigin_ =
              void 0 !== n.offsetOrigin ? n.offsetOrigin : Xc.TOP_LEFT),
            (this.origin_ = null),
            (this.size_ = void 0 !== n.size ? n.size : null);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.clone = function () {
            return new e({
              anchor: this.anchor_.slice(),
              anchorOrigin: this.anchorOrigin_,
              anchorXUnits: this.anchorXUnits_,
              anchorYUnits: this.anchorYUnits_,
              crossOrigin: this.crossOrigin_,
              color:
                this.color_ && this.color_.slice
                  ? this.color_.slice()
                  : this.color_ || void 0,
              src: this.getSrc(),
              offset: this.offset_.slice(),
              offsetOrigin: this.offsetOrigin_,
              size: null !== this.size_ ? this.size_.slice() : void 0,
              opacity: this.getOpacity(),
              scale: this.getScale(),
              rotation: this.getRotation(),
              rotateWithView: this.getRotateWithView(),
            });
          }),
          (e.prototype.getAnchor = function () {
            if (this.normalizedAnchor_) return this.normalizedAnchor_;
            var t = this.anchor_,
              e = this.getSize();
            if (
              this.anchorXUnits_ == Uc.FRACTION ||
              this.anchorYUnits_ == Uc.FRACTION
            ) {
              if (!e) return null;
              (t = this.anchor_.slice()),
                this.anchorXUnits_ == Uc.FRACTION && (t[0] *= e[0]),
                this.anchorYUnits_ == Uc.FRACTION && (t[1] *= e[1]);
            }
            if (this.anchorOrigin_ != Xc.TOP_LEFT) {
              if (!e) return null;
              t === this.anchor_ && (t = this.anchor_.slice()),
                (this.anchorOrigin_ != Xc.TOP_RIGHT &&
                  this.anchorOrigin_ != Xc.BOTTOM_RIGHT) ||
                  (t[0] = -t[0] + e[0]),
                (this.anchorOrigin_ != Xc.BOTTOM_LEFT &&
                  this.anchorOrigin_ != Xc.BOTTOM_RIGHT) ||
                  (t[1] = -t[1] + e[1]);
            }
            return (this.normalizedAnchor_ = t), this.normalizedAnchor_;
          }),
          (e.prototype.setAnchor = function (t) {
            (this.anchor_ = t), (this.normalizedAnchor_ = null);
          }),
          (e.prototype.getColor = function () {
            return this.color_;
          }),
          (e.prototype.getImage = function (t) {
            return this.iconImage_.getImage(t);
          }),
          (e.prototype.getImageSize = function () {
            return this.iconImage_.getSize();
          }),
          (e.prototype.getHitDetectionImageSize = function () {
            return this.getImageSize();
          }),
          (e.prototype.getImageState = function () {
            return this.iconImage_.getImageState();
          }),
          (e.prototype.getHitDetectionImage = function (t) {
            return this.iconImage_.getHitDetectionImage(t);
          }),
          (e.prototype.getOrigin = function () {
            if (this.origin_) return this.origin_;
            var t = this.offset_;
            if (this.offsetOrigin_ != Xc.TOP_LEFT) {
              var e = this.getSize(),
                n = this.iconImage_.getSize();
              if (!e || !n) return null;
              (t = t.slice()),
                (this.offsetOrigin_ != Xc.TOP_RIGHT &&
                  this.offsetOrigin_ != Xc.BOTTOM_RIGHT) ||
                  (t[0] = n[0] - e[0] - t[0]),
                (this.offsetOrigin_ != Xc.BOTTOM_LEFT &&
                  this.offsetOrigin_ != Xc.BOTTOM_RIGHT) ||
                  (t[1] = n[1] - e[1] - t[1]);
            }
            return (this.origin_ = t), this.origin_;
          }),
          (e.prototype.getSrc = function () {
            return this.iconImage_.getSrc();
          }),
          (e.prototype.getSize = function () {
            return this.size_ ? this.size_ : this.iconImage_.getSize();
          }),
          (e.prototype.listenImageChange = function (t, e) {
            return Lt(this.iconImage_, Gt.CHANGE, t, e);
          }),
          (e.prototype.load = function () {
            this.iconImage_.load();
          }),
          (e.prototype.unlistenImageChange = function (t, e) {
            At(this.iconImage_, Gt.CHANGE, t, e);
          }),
          e
        );
      })(ac);
    function Vc(t, e) {
      return t + (Math.random() - 0.5) * e;
    }
    function qc(t, e) {
      if (t instanceof Array)
        return t.map(function (t) {
          return qc(t, e);
        });
      var n = Math.pow(10, e);
      return Math.round(t * n) / n;
    }
    function Wc(t) {
      return (t * Math.PI) / 180;
    }
    function Hc(t) {
      return (Hc =
        "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
          ? function (t) {
              return typeof t;
            }
          : function (t) {
              return t &&
                "function" == typeof Symbol &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
                ? "symbol"
                : typeof t;
            })(t);
    }
    function Kc(t, e) {
      for (var n = 0; n < e.length; n++) {
        var i = e[n];
        (i.enumerable = i.enumerable || !1),
          (i.configurable = !0),
          "value" in i && (i.writable = !0),
          Object.defineProperty(t, i.key, i);
      }
    }
    function Zc(t) {
      return (Zc = Object.setPrototypeOf
        ? Object.getPrototypeOf
        : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t);
          })(t);
    }
    function Jc(t) {
      if (void 0 === t)
        throw new ReferenceError(
          "this hasn't been initialised - super() hasn't been called"
        );
      return t;
    }
    function Qc(t, e) {
      return (Qc =
        Object.setPrototypeOf ||
        function (t, e) {
          return (t.__proto__ = e), t;
        })(t, e);
    }
    var $c = new _c({
        image: new zc({
          anchor: [0.5, 0.5],
          anchorXUnits: "fraction",
          anchorYUnits: "fraction",
          src: "parts/bluedot.png",
        }),
      }),
      th = new _c({
        image: new zc({
          anchor: [0.5, 0.5],
          anchorXUnits: "fraction",
          anchorYUnits: "fraction",
          src: "parts/bluedot_transparent.png",
        }),
      }),
      eh = new _c({
        image: new zc({
          anchor: [0.5, 0.5],
          anchorXUnits: "fraction",
          anchorYUnits: "fraction",
          src: "parts/bluedot_small.png",
        }),
      }),
      nh = new _c({
        fill: new hc({ color: [128, 128, 256, 0.2] }),
        stroke: new pc({ color: [128, 128, 256, 1], width: 3 }),
      }),
      ih = new _c({
        image: new zc({
          anchor: [0.5, 1],
          anchorXUnits: "fraction",
          anchorYUnits: "fraction",
          src: "parts/defaultpin.png",
        }),
      }),
      rh = (function (t) {
        function e(t) {
          var n;
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e),
            (t = t || {});
          var i = new xc({ source: new Dc({ wrapX: !1 }) });
          i.set("name", "gps");
          var r = new xc({ source: new Dc({ wrapX: !1 }) });
          r.set("name", "marker");
          var o = new xc({ source: new Dc({ wrapX: !1 }) });
          o.set("name", "feature");
          var s = new xc({ source: new Dc({ wrapX: !1 }) });
          s.set("name", "envelope");
          var a = t.baseLayer ? t.baseLayer : new Ic({ source: t.source });
          a.set("name", "base");
          var u = new bs();
          u.set("name", "overlay");
          var c = {
            controls: t.controls ? t.controls : [],
            layers: [a, u, s, o, i, r],
            target: t.div,
            view: new vs({
              center: t.default_center || [0, 0],
              zoom: t.default_zoom || 2,
              rotation: t.default_rotation || 0,
            }),
          };
          t.interactions && (c.interactions = t.interactions),
            ((n = (function (t, e) {
              return !e || ("object" !== Hc(e) && "function" != typeof e)
                ? Jc(t)
                : e;
            })(this, Zc(e).call(this, c)))._overlay_group = u),
            (n.fake_gps = t.fake_gps),
            (n.fake_radius = t.fake_radius),
            (n.home_position = t.home_position);
          var h = n.getView(),
            l = Jc(n);
          l.__AvoidFirstMoveStart = !0;
          var p = function t() {
            l.__AvoidFirstMoveStart || l.dispatchEvent("movestart"),
              (l.__AvoidFirstMoveStart = !1),
              h.un("propertychange", t);
          };
          return (
            h.on("propertychange", p),
            l.on("moveend", function () {
              h.on("propertychange", p);
            }),
            n
          );
        }
        var n, i, r;
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              e && Qc(t, e);
          })(e, oc),
          (n = e),
          (i = [
            {
              key: "getLayer",
              value: function (t) {
                return (
                  t || (t = "base"),
                  (function e(n) {
                    var i = n
                      .getArray()
                      .map(function (n) {
                        return n.get("name") == t
                          ? n
                          : n.getLayers
                          ? e(n.getLayers())
                          : void 0;
                      })
                      .filter(function (t) {
                        return t;
                      });
                    if (0 != i.length) return i[0];
                  })(this.getLayers())
                );
              },
            },
            {
              key: "getSource",
              value: function (t) {
                var e = this.getLayer(t);
                if (e) return e.getSource();
              },
            },
            {
              key: "setFeature",
              value: function (t, e, n) {
                var i = this.getSource(n),
                  r = new Xi(t);
                return e && r.setStyle(e), i.addFeature(r), r;
              },
            },
            {
              key: "removeFeature",
              value: function (t, e) {
                this.getSource(e).removeFeature(t);
              },
            },
            {
              key: "resetFeature",
              value: function (t) {
                this.getSource(t).clear();
              },
            },
            {
              key: "setGPSPosition",
              value: function (t, e) {
                var n = "sub" == e ? eh : "hide" == e ? th : $c;
                "sub" != e && this.resetFeature("gps"),
                  t &&
                    (this.setFeature({ geometry: new br(t.xy) }, n, "gps"),
                    e ||
                      this.setFeature(
                        { geometry: new Fc(t.xy, t.rad) },
                        nh,
                        "gps"
                      ));
              },
            },
            {
              key: "setMarker",
              value: function (t, e, n, i) {
                return (
                  i || (i = "marker"),
                  (e.geometry = new br(t)),
                  n
                    ? "string" == typeof n
                      ? (n = new _c({
                          image: new zc({
                            anchor: [0.5, 1],
                            anchorXUnits: "fraction",
                            anchorYUnits: "fraction",
                            src: n,
                          }),
                        }))
                      : n instanceof _c || (n = new _c({ image: new zc(n) }))
                    : (n = ih),
                  this.setFeature(e, n, i)
                );
              },
            },
            {
              key: "resetMarker",
              value: function (t) {
                t || (t = "marker"), this.resetFeature(t);
              },
            },
            {
              key: "setLine",
              value: function (t, e, n) {
                n || (n = "feature");
                var i = null != e ? new _c({ stroke: new pc(e) }) : null;
                return this.setFeature(
                  { geometry: new Bc(t), name: "Line" },
                  i,
                  n
                );
              },
            },
            {
              key: "resetLine",
              value: function (t) {
                t || (t = "feature"), this.resetFeature(t);
              },
            },
            {
              key: "setEnvelope",
              value: function (t, e, n) {
                return n || (n = "envelope"), this.setLine(t, e, n);
              },
            },
            {
              key: "removeEnvelope",
              value: function (t, e) {
                e || (e = "envelope"), this.removeFeature(t, e);
              },
            },
            {
              key: "resetEnvelope",
              value: function (t) {
                t || (t = "envelope"), this.resetFeature(t);
              },
            },
            {
              key: "setFillEnvelope",
              value: function (t, e, n, i) {
                i || (i = "envelope");
                var r = null;
                if (null != e || null != n) {
                  var o = {};
                  null != e && (o.stroke = new pc(e)),
                    null != n && (o.fill = new hc(n)),
                    (r = new _c(o));
                }
                return this.setFeature({ geometry: new Dr([t]) }, r, i);
              },
            },
            {
              key: "exchangeSource",
              value: function (t) {
                this.getLayers().item(0).setSource(t), t && (t._map = this);
              },
            },
            {
              key: "setLayer",
              value: function (t) {
                var e = this.getLayer("overlay").getLayers();
                if ((e.clear(), t)) {
                  var n = new Ic({ source: t });
                  e.push(n);
                }
              },
            },
            {
              key: "setTransparency",
              value: function (t) {
                var e = (100 - t) / 100;
                this.getSource() instanceof Gi
                  ? (this.getLayers().item(0).setOpacity(1),
                    this.getLayers().item(1).setOpacity(e))
                  : this.getLayers().item(0).setOpacity(e);
              },
            },
            {
              key: "setGPSMarker",
              value: function (t, e) {
                this.getLayers().item(0).getSource().setGPSMarker(t, e);
              },
            },
            {
              key: "handleGPS",
              value: function (t, e) {
                var n = this;
                if (t)
                  if (
                    (this.dispatchEvent("gps_request"),
                    (this._first_gps_request = !0),
                    this.geolocation)
                  )
                    this.geolocation.setTracking(!0);
                  else {
                    var i = (this.geolocation = new Zr({ tracking: !0 }));
                    i.on("change", function (t) {
                      var e,
                        r,
                        o = n.getLayer("overlay").getLayers().item(0),
                        s = o
                          ? o.getSource()
                          : n.getLayers().item(0).getSource(),
                        a = i.getPosition(),
                        u = i.getAccuracy();
                      n.fake_gps &&
                        ((e = n.home_position),
                        (r = a),
                        6378.14 *
                          Math.acos(
                            Math.cos(Wc(e[1])) *
                              Math.cos(Wc(r[1])) *
                              Math.cos(Wc(r[0]) - Wc(e[0])) +
                              Math.sin(Wc(e[1])) * Math.sin(Wc(r[1]))
                          ) >
                          n.fake_gps) &&
                        ((a = [
                          Vc(n.home_position[0], 0.001),
                          Vc(n.home_position[1], 0.001),
                        ]),
                        (u = Vc(15, 10)));
                      var c = { lnglat: a, acc: u };
                      s.setGPSMarkerAsync(c, !n._first_gps_request).then(
                        function (t) {
                          t || (c = { error: "gps_out" }),
                            (n._first_gps_request = !1),
                            n.dispatchEvent(new Jr("gps_result", n, c));
                        }
                      );
                    }),
                      i.on("error", function (t) {
                        var e = n.getLayers().item(0).getSource(),
                          i = null;
                        if (n.fake_gps) {
                          var r = [
                              Vc(n.home_position[0], 0.001),
                              Vc(n.home_position[1], 0.001),
                            ],
                            o = Vc(15, 10);
                          i = { lnglat: r, acc: o };
                        }
                        e.setGPSMarkerAsync(i, !n._first_gps_request).then(
                          function (t) {
                            t || (i = { error: "gps_out" }),
                              (n._first_gps_request = !1),
                              n.dispatchEvent(new Jr("gps_result", n, i));
                          }
                        );
                      });
                  }
                else
                  this.geolocation && this.geolocation.setTracking(!1),
                    this.getLayers().item(0).getSource().setGPSMarker(),
                    e ||
                      this.dispatchEvent(
                        new Jr("gps_result", n, { error: "gps_off" })
                      );
              },
            },
          ]) && Kc(n.prototype, i),
          r && Kc(n, r),
          e
        );
      })(),
      oh = (function (t) {
        function e(e) {
          var n = e || {};
          t.call(this, n),
            (this.condition_ = n.condition ? n.condition : na),
            (this.lastAngle_ = void 0),
            (this.lastMagnitude_ = void 0),
            (this.lastScaleDelta_ = 0),
            (this.duration_ = void 0 !== n.duration ? n.duration : 400);
        }
        return (
          t && (e.__proto__ = t),
          (e.prototype = Object.create(t && t.prototype)),
          (e.prototype.constructor = e),
          (e.prototype.handleDragEvent = function (t) {
            if (ra(t)) {
              var e = t.map,
                n = e.getSize(),
                i = t.pixel,
                r = i[0] - n[0] / 2,
                o = n[1] / 2 - i[1],
                s = Math.atan2(o, r),
                a = Math.sqrt(r * r + o * o),
                u = e.getView();
              if (
                u.getConstraints().rotation !== os &&
                void 0 !== this.lastAngle_
              ) {
                var c = s - this.lastAngle_;
                Xs(u, u.getRotation() - c);
              }
              if (((this.lastAngle_ = s), void 0 !== this.lastMagnitude_)) {
                var h = this.lastMagnitude_ * (u.getResolution() / a);
                qs(u, h);
              }
              void 0 !== this.lastMagnitude_ &&
                (this.lastScaleDelta_ = this.lastMagnitude_ / a),
                (this.lastMagnitude_ = a);
            }
          }),
          (e.prototype.handleUpEvent = function (t) {
            if (!ra(t)) return !0;
            var e = t.map.getView();
            e.setHint(us, -1);
            var n = this.lastScaleDelta_ - 1;
            return (
              Ys(e, e.getRotation()),
              zs(e, e.getResolution(), void 0, this.duration_, n),
              (this.lastScaleDelta_ = 0),
              !1
            );
          }),
          (e.prototype.handleDownEvent = function (t) {
            return (
              !!ra(t) &&
              !!this.condition_(t) &&
              (t.map.getView().setHint(us, 1),
              (this.lastAngle_ = void 0),
              (this.lastMagnitude_ = void 0),
              !0)
            );
          }),
          e
        );
      })(sa);
    n(180);
    function sh(t) {
      return (sh =
        "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
          ? function (t) {
              return typeof t;
            }
          : function (t) {
              return t &&
                "function" == typeof Symbol &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
                ? "symbol"
                : typeof t;
            })(t);
    }
    function ah(t, e) {
      for (var n = 0; n < e.length; n++) {
        var i = e[n];
        (i.enumerable = i.enumerable || !1),
          (i.configurable = !0),
          "value" in i && (i.writable = !0),
          Object.defineProperty(t, i.key, i);
      }
    }
    function uh(t) {
      return (uh = Object.setPrototypeOf
        ? Object.getPrototypeOf
        : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t);
          })(t);
    }
    function ch(t) {
      if (void 0 === t)
        throw new ReferenceError(
          "this hasn't been initialised - super() hasn't been called"
        );
      return t;
    }
    function hh(t, e) {
      return (hh =
        Object.setPrototypeOf ||
        function (t, e) {
          return (t.__proto__ = e), t;
        })(t, e);
    }
    for (var lh = 0; lh < 9; lh++) {
      var ph = "ZOOM:".concat(lh);
      !(function (t, e) {
        var n = new We({ code: ph, extent: [0, 0, e, e], units: "m" });
        gn(n),
          En(
            "EPSG:3857",
            n,
            function (t) {
              return [
                ((t[0] + yi) * e) / (2 * yi),
                ((-t[1] + yi) * e) / (2 * yi),
              ];
            },
            function (t) {
              return [
                (t[0] * (2 * yi)) / e - yi,
                -1 * ((t[1] * (2 * yi)) / e - yi),
              ];
            }
          );
      })(0, 256 * Math.pow(2, lh));
    }
    var fh = {
        osm: {
          mapID: "osm",
          title: { ja: "オープンストリートマップ", en: "OpenStreetMap" },
          label: { ja: "OSM(現在)", en: "OSM(Now)" },
          attr: "©︎ OpenStreetMap contributors",
          maptype: "base",
        },
        gsi: {
          mapID: "gsi",
          title: {
            ja: "地理院地図",
            en: "Geospatial Information Authority of Japan Map",
          },
          label: { ja: "地理院地図", en: "GSI Map" },
          attr: {
            ja: "国土地理院",
            en: "The Geospatial Information Authority of Japan",
          },
          maptype: "base",
          url: "https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png",
          maxZoom: 18,
        },
        gsi_ortho: {
          mapID: "gsi_ortho",
          title: {
            ja: "地理院地図オルソ航空写真",
            en: "Geospatial Information Authority of Japan Ortho aerial photo",
          },
          label: { ja: "地理院オルソ", en: "GSI Ortho" },
          attr: {
            ja: "国土地理院",
            en: "The Geospatial Information Authority of Japan",
          },
          maptype: "base",
          url: "https://cyberjapandata.gsi.go.jp/xyz/ort/{z}/{x}/{y}.jpg",
          maxZoom: 18,
        },
      },
      dh = (function (t) {
        function e(t) {
          var n;
          !(function (t, e) {
            if (!(t instanceof e))
              throw new TypeError("Cannot call a class as a function");
          })(this, e);
          var i = t || {};
          (i.wrapX = !1),
            i.imageExtention || (i.imageExtention = "jpg"),
            i.mapID &&
              (i.url =
                i.url ||
                "tiles/"
                  .concat(i.mapID, "/{z}/{x}/{y}.")
                  .concat(i.imageExtention));
          var r = Math.log2(i.width / mi),
            o = Math.log2(i.height / mi);
          return (
            (i.maxZoom = Math.ceil(Math.max(r, o))),
            (i.tileUrlFunction =
              i.tileUrlFunction ||
              function (t) {
                var e = t[0],
                  n = t[1],
                  i = -1 * t[2] - 1;
                return n * mi * Math.pow(2, this.maxZoom - e) >= this.width ||
                  i * mi * Math.pow(2, this.maxZoom - e) >= this.height ||
                  n < 0 ||
                  i < 0
                  ? vi
                  : this._tileUrlFunction(t);
              }),
            (n = (function (t, e) {
              return !e || ("object" !== sh(e) && "function" != typeof e)
                ? ch(t)
                : e;
            })(this, uh(e).call(this, i))),
            i.mapID && (n.mapID = i.mapID),
            i.urls
              ? (n._tileUrlFunction = An(i.urls))
              : i.url && (n._tileUrlFunction = An(Pn(i.url))),
            (n.width = i.width),
            (n.height = i.height),
            (n.maxZoom = i.maxZoom),
            (n._maxxy = Math.pow(2, n.maxZoom) * mi),
            ki(ch(n), i),
            Fi(ch(n)),
            n
          );
        }
        var n, i, r;
        return (
          (function (t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              e && hh(t, e);
          })(e, Pi(fi)),
          (n = e),
          (r = [
            {
              key: "createAsync",
              value: function (t, e) {
                if (
                  ("string" == typeof t && (t = fh[t]),
                  ((t = Object.assign(t, e)).label = t.label || t.year),
                  (t.sourceID = t.sourceID || t.mapID),
                  "base" == t.maptype || "overlay" == t.maptype)
                ) {
                  var n = "base" == t.maptype ? Gi : ji;
                  return (
                    t.zoom_restriction &&
                      ((t.maxZoom = t.maxZoom || t.merc_max_zoom),
                      (t.minZoom = t.minZoom || t.merc_min_zoom)),
                    (t.zoom_restriction = t.merc_max_zoom = t.merc_min_zoom = void 0),
                    t.translator && (t.url = t.translator(t.url)),
                    n.createAsync(t).then(function (t) {
                      return t.initialWait.then(function () {
                        return t;
                      });
                    })
                  );
                }
                return t.noload
                  ? ((t.merc_max_zoom = t.merc_min_zoom = void 0),
                    Promise.resolve(new bh(t)))
                  : new Promise(function (e, n) {
                      var i =
                          t.setting_file || "maps/".concat(t.mapID, ".json"),
                        r = new XMLHttpRequest();
                      r.open("GET", i, !0),
                        (r.responseType = "json"),
                        (r.onload = function (i) {
                          if (200 == this.status || 0 == this.status)
                            try {
                              var r = this.response;
                              if (
                                ("object" != sh(r) && (r = JSON.parse(r)),
                                ((t = Object.assign(r, t)).label =
                                  t.label || r.year),
                                t.translator && (t.url = t.translator(t.url)),
                                t.maptype || (t.maptype = "maplat"),
                                "base" == t.maptype || "overlay" == t.maptype)
                              )
                                return void ("base" == t.maptype ? Gi : ji)
                                  .createAsync(t)
                                  .then(function (t) {
                                    e(t);
                                  })
                                  .catch(function (t) {
                                    n(t);
                                  });
                              bh.createAsync(t)
                                .then(function (t) {
                                  t.initialWait
                                    .then(function () {
                                      t.mapSize2MercSize(e);
                                    })
                                    .catch(function () {
                                      t.mapSize2MercSize(e);
                                    });
                                })
                                .catch(function (t) {
                                  n(t);
                                });
                            } catch (t) {
                              n(t);
                            }
                          else n("Fail to load map json");
                        }),
                        r.send();
                    });
              },
            },
          ]),
          (i = [
            {
              key: "getTransPng",
              value: function () {
                return vi;
              },
            },
            {
              key: "histMapCoords2Xy",
              value: function (t) {
                return [
                  ((t[0] + yi) * this._maxxy) / (2 * yi),
                  ((-t[1] + yi) * this._maxxy) / (2 * yi),
                ];
              },
            },
            {
              key: "xy2HistMapCoords",
              value: function (t) {
                return [
                  (t[0] * (2 * yi)) / this._maxxy - yi,
                  -1 * ((t[1] * (2 * yi)) / this._maxxy - yi),
                ];
              },
            },
            {
              key: "insideCheckXy",
              value: function (t) {
                return !(
                  t[0] < 0 ||
                  t[0] > this.width ||
                  t[1] < 0 ||
                  t[1] > this.height
                );
              },
            },
            {
              key: "insideCheckHistMapCoords",
              value: function (t) {
                return this.insideCheckXy(this.histMapCoords2Xy(t));
              },
            },
            {
              key: "modulateXyInside",
              value: function (t) {
                var e = t[0] / (this.width / 2) - 1,
                  n = t[1] / (this.height / 2) - 1,
                  i = Math.max(Math.abs(e), Math.abs(n));
                return [
                  ((e / i + 1) * this.width) / 2,
                  ((n / i + 1) * this.height) / 2,
                ];
              },
            },
            {
              key: "modulateHistMapCoordsInside",
              value: function (t) {
                var e = this.histMapCoords2Xy(t),
                  n = this.modulateXyInside(e);
                return this.xy2HistMapCoords(n);
              },
            },
          ]) && ah(n.prototype, i),
          r && ah(n, r),
          e
        );
      })(),
      gh = n(111);
    function yh(t, e, n) {
      n || ((n = e), (e = t), (t = null));
      var i = e.getCode ? e.getCode() : e,
        r = n.getCode ? n.getCode() : n,
        o = In(e, n);
      if (o == dn && i != r) {
        var s = In(e, "EPSG:3857"),
          a = In("EPSG:3857", n);
        if (s == dn && "EPSG:3857" != i)
          throw "Transform of Source projection is not defined.";
        if (a == dn && "EPSG:3857" != r)
          throw "Transform of Distination projection is not defined.";
        En(
          e,
          n,
          (o = function (t) {
            return Sn(Sn(t, e, "EPSG:3857"), "EPSG:3857", n);
          }),
          function (t) {
            return Sn(Sn(t, n, "EPSG:3857"), "EPSG:3857", e);
          }
        );
      }
      if (t) return o(t);
    }
    function _h(t) {
      return (_h =
        "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
          ? function (t) {
              return typeof t;
            }
          : function (t) {
              return t &&
                "function" == typeof Symbol &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
                ? "symbol"
                : typeof t;
            })(t);
    }
    function vh(t, e) {
      for (var n = 0; n < e.length; n++) {
        var i = e[n];
        (i.enumerable = i.enumerable || !1),
          (i.configurable = !0),
          "value" in i && (i.writable = !0),
          Object.defineProperty(t, i.key, i);
      }
    }
    function mh(t, e) {
      return !e || ("object" !== _h(e) && "function" != typeof e)
        ? (function (t) {
            if (void 0 === t)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return t;
          })(t)
        : e;
    }
    function xh(t) {
      return (xh = Object.setPrototypeOf
        ? Object.getPrototypeOf
        : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t);
          })(t);
    }
    function Eh(t, e) {
      return (Eh =
        Object.setPrototypeOf ||
        function (t, e) {
          return (t.__proto__ = e), t;
        })(t, e);
    }
    var bh = (function (t) {
      function e(t) {
        var n;
        !(function (t, e) {
          if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function");
        })(this, e);
        var i = t || {};
        return (
          ((n = mh(this, xh(e).call(this, i))).tins = [
            new gh.a({
              wh: [n.width, n.height],
              strictMode: i.strictMode,
              vertexMode: i.vertexMode,
              importance: 0,
              priority: 0,
            }),
          ]),
          n
        );
      }
      var n, i, r;
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            e && Eh(t, e);
        })(e, dh),
        (n = e),
        (r = [
          {
            key: "createAsync",
            value: function (t) {
              return new Promise(function (n, i) {
                var r,
                  o = new e(t),
                  s = new We({
                    code: "Illst:".concat(o.mapID),
                    extent: [0, 0, o.width, o.height],
                    units: "m",
                  });
                gn(s),
                  En(
                    s,
                    "EPSG:3857",
                    function (t) {
                      return o.tins[0].transform(t, !1);
                    },
                    function (t) {
                      return o.tins[0].transform(t, !0);
                    }
                  ),
                  yh("EPSG:4326", s),
                  t.compiled
                    ? (o.tins[0].setCompiled(t.compiled),
                      (r = Promise.resolve()))
                    : (o.tins[0].setPoints(t.gcps),
                      o.tins[0].setEdges(t.edges),
                      (r = o.tins[0].updateTinAsync())),
                  r.then(function () {
                    var e;
                    if (t.sub_maps) {
                      var i = t.sub_maps.map(function (e, n) {
                        var i,
                          r = n + 1,
                          s = "Illst:".concat(o.mapID, "#").concat(r),
                          a = (o.tins[r] = new gh.a({
                            bounds: e.bounds,
                            strictMode: t.strictMode,
                            vertexMode: t.vertexMode,
                            importance: e.importance,
                            priority: e.priority,
                          })),
                          u = new We({
                            code: s,
                            extent: [a.xy[0], a.xy[1], a.wh[0], a.wh[1]],
                            units: "m",
                          });
                        return (
                          gn(u),
                          En(
                            u,
                            "EPSG:3857",
                            function (t) {
                              return a.transform(t, !1, !0);
                            },
                            function (t) {
                              return a.transform(t, !0, !0);
                            }
                          ),
                          yh("EPSG:4326", u),
                          e.compiled
                            ? (a.setCompiled(e.compiled),
                              (i = Promise.resolve()))
                            : (a.setPoints(e.gcps),
                              a.setEdges(e.edges),
                              (i = a.updateTinAsync())),
                          i.then(function () {
                            var t = Object.assign([], e.bounds);
                            t.push(e.bounds[0]);
                            var n = t.map(function (t) {
                                return a.transform(t, !1);
                              }),
                              i = Object(Ei.g)([t]),
                              r = Object(Ei.g)([n]);
                            (a.xyBounds = i), (a.mercBounds = r);
                          })
                        );
                      });
                      e = Promise.all(i);
                    } else e = Promise.resolve();
                    e.then(function () {
                      n(o);
                    });
                  });
              });
            },
          },
        ]),
        (i = [
          {
            key: "xy2MercAsync_specifyLayer",
            value: function (t, e) {
              var n = "Illst:"
                .concat(this.mapID)
                .concat(e ? "#".concat(e) : "");
              return new Promise(function (e, i) {
                e(yh(t, n, "EPSG:3857"));
              }).catch(function (t) {
                throw t;
              });
            },
          },
          {
            key: "merc2XyAsync_specifyLayer",
            value: function (t, e) {
              var n = "Illst:"
                .concat(this.mapID)
                .concat(e ? "#".concat(e) : "");
              return new Promise(function (e, i) {
                e(yh(t, "EPSG:3857", n));
              }).catch(function (t) {
                throw t;
              });
            },
          },
          {
            key: "xy2MercAsync_returnLayer",
            value: function (t) {
              var e = this;
              return new Promise(function (n, i) {
                for (
                  var r = e.tins
                      .map(function (t, e) {
                        return [e, t];
                      })
                      .sort(function (t, e) {
                        return t[1].priority < e[1].priority ? 1 : -1;
                      }),
                    o = function (o) {
                      var s = r[o][0],
                        a = r[o][1];
                      if (0 == s || Object(wi.a)(t, a.xyBounds))
                        return (
                          e
                            .xy2MercAsync_specifyLayer(t, s)
                            .then(function (t) {
                              n([s, t]);
                            })
                            .catch(function (t) {
                              i(t);
                            }),
                          "break"
                        );
                    },
                    s = 0;
                  s < r.length && "break" !== o(s);
                  s++
                );
              }).catch(function (t) {
                throw t;
              });
            },
          },
          {
            key: "merc2XyAsync_returnLayer",
            value: function (t) {
              var e = this;
              return Promise.all(
                e.tins.map(function (n, i) {
                  return new Promise(function (r, o) {
                    e.merc2XyAsync_specifyLayer(t, i)
                      .then(function (t) {
                        0 == i || Object(wi.a)(t, n.xyBounds)
                          ? r([n, i, t])
                          : r([n, i]);
                      })
                      .catch(function (t) {
                        o(t);
                      });
                  });
                })
              )
                .then(function (t) {
                  return t
                    .sort(function (t, e) {
                      return t[0].priority < e[0].priority ? 1 : -1;
                    })
                    .reduce(function (t, e, n, i) {
                      var r = e[0],
                        o = e[1],
                        s = e[2];
                      if (!s) return t;
                      for (var a = 0; a < n; a++) {
                        var u = i[a][0];
                        if (0 == i[a][1] || Object(wi.a)(s, u.xyBounds)) {
                          if (t.length) {
                            var c = !t[0],
                              h = c ? t[1][2] : t[0][2];
                            return !c || r.importance < h.importance
                              ? t
                              : [void 0, [o, s, r]];
                          }
                          return [void 0, [o, s, r]];
                        }
                      }
                      return t.length && t[0]
                        ? (t.push([o, s, r]),
                          t
                            .sort(function (t, e) {
                              return t[2].importance < e[2].importance ? 1 : -1;
                            })
                            .filter(function (t, e) {
                              return e < 2;
                            }))
                        : [[o, s, r]];
                    }, [])
                    .map(function (t) {
                      if (t) return [t[0], t[1]];
                    });
                })
                .catch(function (t) {
                  throw t;
                });
            },
          },
          {
            key: "mapSize2MercSize",
            value: function (t) {
              var e = [this.width / 2, this.height / 2],
                n = this;
              n.xy2MercAsync_returnLayer(e)
                .then(function (i) {
                  for (
                    var r = i[0],
                      o = i[1],
                      s = [
                        [e[0] - 150, e[1]],
                        [e[0] + 150, e[1]],
                        [e[0], e[1] - 150],
                        [e[0], e[1] + 150],
                      ],
                      a = [
                        [0, 0],
                        [n.width, 0],
                        [n.width, n.height],
                        [0, n.height],
                      ],
                      u = [],
                      c = 0;
                    c < 9;
                    c++
                  ) {
                    var h =
                      c < 4
                        ? n.xy2MercAsync_specifyLayer(s[c], r)
                        : 4 == c
                        ? Promise.resolve(o)
                        : n.xy2MercAsync_specifyLayer(a[c - 5], 0);
                    u.push(h);
                  }
                  Promise.all(u)
                    .then(function (e) {
                      var i,
                        r,
                        o,
                        s,
                        a =
                          (Math.sqrt(
                            Math.pow(e[0][0] - e[1][0], 2) +
                              Math.pow(e[0][1] - e[1][1], 2)
                          ) +
                            Math.sqrt(
                              Math.pow(e[2][0] - e[3][0], 2) +
                                Math.pow(e[2][1] - e[3][1], 2)
                            )) /
                          2;
                      (n.merc_zoom =
                        Math.log((2 * yi * 300) / 256 / a) / Math.log(2) - 3),
                        (n.home_position =
                          ((i = e[4]),
                          (o = Sn(
                            i,
                            void 0 !== r ? r : "EPSG:3857",
                            "EPSG:4326"
                          )),
                          ((s = o[0]) < -180 || s > 180) &&
                            (o[0] = re(s + 180, 360) - 180),
                          o)),
                        (n.envelope = Object(Ei.g)([
                          [e[5], e[6], e[7], e[8], e[5]],
                        ])),
                        t(n);
                    })
                    .catch(function (t) {
                      throw t;
                    });
                })
                .catch(function (t) {
                  throw t;
                });
            },
          },
          {
            key: "size2MercsAsync",
            value: function (t, e, n) {
              var i = this,
                r = this.size2Xys(t, e, n).map(function (t, e) {
                  return 5 == e ? t : i.histMapCoords2Xy(t);
                });
              return i
                .xy2MercAsync_returnLayer(r[0])
                .then(function (t) {
                  var e = t[0],
                    n = t[1],
                    o = r.map(function (t, r) {
                      return 5 == r
                        ? t
                        : 0 == r
                        ? Promise.resolve(n)
                        : i.xy2MercAsync_specifyLayer(t, e);
                    });
                  return Promise.all(o).catch(function (t) {
                    throw t;
                  });
                })
                .catch(function (t) {
                  throw t;
                });
            },
          },
          {
            key: "mercs2SizeAsync",
            value: function (t, e) {
              var n = this;
              return (e
                ? Promise.resolve(t)
                : n.merc2XyAsync_returnLayer(t[0]).then(function (e) {
                    var i = e[0] || e[1],
                      r = i[0],
                      o = i[1];
                    return Promise.all(
                      t.map(function (t, e) {
                        return 5 == e
                          ? t
                          : 0 == e
                          ? Promise.resolve(o)
                          : n.merc2XyAsync_specifyLayer(t, r);
                      })
                    );
                  })
              )
                .then(function (t) {
                  return (
                    e ||
                      (t = t.map(function (t, e) {
                        return 5 == e ? t : n.xy2HistMapCoords(t);
                      })),
                    n.xys2Size(t)
                  );
                })
                .catch(function (t) {
                  throw t;
                });
            },
          },
          {
            key: "mercs2XysAsync",
            value: function (t) {
              var e = this;
              return e
                .merc2XyAsync_returnLayer(t[0])
                .then(function (n) {
                  var i = !1;
                  return Promise.all(
                    n.map(function (n, r) {
                      if (n) {
                        var o = n[0],
                          s = n[1];
                        return 0 == r || i
                          ? Promise.all(
                              t.map(function (t, n) {
                                return 5 == n
                                  ? t
                                  : 0 == n
                                  ? Promise.resolve(s)
                                  : e.merc2XyAsync_specifyLayer(t, o);
                              })
                            )
                          : Promise.resolve([s]);
                      }
                      i = !0;
                    })
                  );
                })
                .then(function (t) {
                  return t.map(function (t) {
                    if (t)
                      return t.map(function (t, n) {
                        return 5 == n ? t : e.xy2HistMapCoords(t);
                      });
                  });
                })
                .catch(function (t) {
                  throw t;
                });
            },
          },
          {
            key: "xy2MercAsync",
            value: function (t) {
              var e = this.histMapCoords2Xy(t);
              return this.xy2MercAsync_returnLayer(e).then(function (t) {
                return t[1];
              });
            },
          },
          {
            key: "merc2XyAsync",
            value: function (t, e) {
              var n = this;
              return this.merc2XyAsync_returnLayer(t)
                .then(function (t) {
                  if (!e || t[0]) {
                    var i = t[0] ? t[0][1] : t[1][1];
                    return n.xy2HistMapCoords(i);
                  }
                })
                .catch(function (t) {
                  throw t;
                });
            },
          },
        ]) && vh(n.prototype, i),
        r && vh(n, r),
        e
      );
    })();
    function wh(t) {
      return (wh =
        "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
          ? function (t) {
              return typeof t;
            }
          : function (t) {
              return t &&
                "function" == typeof Symbol &&
                t.constructor === Symbol &&
                t !== Symbol.prototype
                ? "symbol"
                : typeof t;
            })(t);
    }
    function Ih(t, e) {
      for (var n = 0; n < e.length; n++) {
        var i = e[n];
        (i.enumerable = i.enumerable || !1),
          (i.configurable = !0),
          "value" in i && (i.writable = !0),
          Object.defineProperty(t, i.key, i);
      }
    }
    function Sh(t) {
      return (Sh = Object.setPrototypeOf
        ? Object.getPrototypeOf
        : function (t) {
            return t.__proto__ || Object.getPrototypeOf(t);
          })(t);
    }
    function Ch(t) {
      if (void 0 === t)
        throw new ReferenceError(
          "this hasn't been initialised - super() hasn't been called"
        );
      return t;
    }
    function Th(t, e) {
      return (Th =
        Object.setPrototypeOf ||
        function (t, e) {
          return (t.__proto__ = e), t;
        })(t, e);
    }
    n.d(e, "MaplatApp", function () {
      return Oh;
    }),
      n.d(e, "createElement", function () {
        return Bi;
      }),
      n.d(e, "CustomEvent", function () {
        return ot;
      });
    var Oh = (function (t) {
      function e(t) {
        var n;
        !(function (t, e) {
          if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function");
        })(this, e),
          (n = (function (t, e) {
            return !e || ("object" !== wh(e) && "function" != typeof e)
              ? Ch(t)
              : e;
          })(this, Sh(e).call(this)));
        var i = Ch(n);
        i.initialRestore = {};
        var r = (i.appid = t.appid || "sample");
        (i.mapDiv = t.div || "map_div"),
          (i.mapDivDocument = document.querySelector("#".concat(i.mapDiv))),
          i.mapDivDocument.classList.add("maplat"),
          (i.logger = new ct(t.debug ? ut.ALL : ut.INFO)),
          (i.cacheEnable = t.cache_enable || !1),
          (i.stateBuffer = {}),
          (i.translateUI = t.translate_ui);
        var o = t.setting,
          s = t.lang;
        if (
          (s || (s = st()),
          ("zh-hk" != s.toLowerCase() && "zh-hant" != s.toLowerCase()) ||
            (s = "zh-TW"),
          t.restore)
        )
          t.restore_session && (i.restoreSession = !0),
            (i.initialRestore = t.restore);
        else if (t.restore_session) {
          i.restoreSession = !0;
          var a = parseInt(localStorage.getItem("epoch") || 0),
            u = Math.floor(new Date().getTime() / 1e3);
          a &&
            u - a < 3600 &&
            ((i.initialRestore.sourceID = localStorage.getItem("sourceID")),
            (i.initialRestore.backgroundID =
              localStorage.getItem("backgroundID") ||
              localStorage.getItem("backID")),
            (i.initialRestore.position = {
              x: parseFloat(localStorage.getItem("x")),
              y: parseFloat(localStorage.getItem("y")),
              zoom: parseFloat(localStorage.getItem("zoom")),
              rotation: parseFloat(localStorage.getItem("rotation")),
            }),
            (i.initialRestore.transparency = parseFloat(
              localStorage.getItem("transparency") || 0
            )),
            (i.initialRestore.hideMarker = !!parseInt(
              localStorage.getItem("hideMarker") || "0"
            )),
            (i.initialRestore.hideLayer = localStorage.getItem("hideLayer")));
        }
        for (
          var c = Bi(
              '<img id="center_circle" class="prevent-default" style="position:absolute;top:50%;left:50%;margin-top:-10px;margin-left:-10px;" src="./parts/redcircle.png">'
            ),
            h = c.length - 1;
          h >= 0;
          h--
        )
          i.mapDivDocument.insertBefore(c[h], i.mapDivDocument.firstChild);
        for (
          var l = i.mapDivDocument.querySelectorAll(".prevent-default"), p = 0;
          p < l.length;
          p++
        ) {
          l[p].addEventListener("touchstart", function (t) {
            t.preventDefault();
          });
        }
        var f = !("overlay" in t) || t.overlay;
        f && i.mapDivDocument.classList.add("with-opacity");
        var d = o
          ? Promise.resolve(o)
          : new Promise(function (t, e) {
              var n = new XMLHttpRequest();
              n.open("GET", "apps/".concat(r, ".json"), !0),
                (n.responseType = "json"),
                (n.onload = function (e) {
                  var n = this.response;
                  "object" != wh(n) && (n = JSON.parse(n)), t(n);
                }),
                n.send();
            });
        return (
          (i.waitReady = d.then(function (e) {
            return (
              (i.appData = e),
              !s && i.appData.lang && (s = i.appData.lang),
              new Promise(function (t, e) {
                (i.translateUI ? Y.use(J) : Y).init(
                  {
                    lng: s,
                    fallbackLng: ["en"],
                    backend: { loadPath: "locales/{{lng}}/{{ns}}.json" },
                  },
                  function (e, n) {
                    t([n, Y]);
                  }
                );
              }).then(function (e) {
                (i.i18n = e[1]), (i.t = e[0]), (i.mercBuffer = null);
                var n = i.appData.home_position,
                  r = i.appData.default_zoom,
                  o = i.appData.zoom_restriction,
                  s = i.appData.min_zoom,
                  a = i.appData.max_zoom;
                i.appName = i.appData.app_name;
                var u = !!t.fake && i.appData.fake_gps,
                  c = !!t.fake && i.appData.fake_radius;
                (i.appLang = i.appData.lang || "ja"),
                  (i.noRotate = t.no_rotate || i.appData.no_rotate || !1),
                  (i.currentPosition = null),
                  (i.backMap = null),
                  (i.__init = !0),
                  i.dispatchEvent(new ot("uiPrepare"));
                var h = "".concat(i.mapDiv, "_front"),
                  l = Bi(
                    '<div id="'.concat(
                      h,
                      '" class="map" style="top:0; left:0; right:0; bottom:0; '
                    ) + 'position:absolute;"></div>'
                  )[0];
                i.mapDivDocument.insertBefore(l, i.mapDivDocument.firstChild),
                  (i.mapObject = new rh({
                    div: h,
                    controls: i.appData.controls || [],
                    interactions: i.noRotate
                      ? Ca({ altShiftDragRotate: !1, pinchRotate: !1 })
                      : Ca().extend([new oh({ condition: Zs })]),
                    fake_gps: u,
                    fake_radius: c,
                    home_position: n,
                  }));
                var p = null;
                f &&
                  ((p = "".concat(i.mapDiv, "_back")),
                  (l = Bi(
                    '<div id="'.concat(
                      p,
                      '" class="map" style="top:0; left:0; right:0; bottom:0; '
                    ) + 'position:absolute;"></div>'
                  )[0]),
                  i.mapDivDocument.insertBefore(l, i.mapDivDocument.firstChild),
                  (i.backMap = new rh({ off_control: !0, div: p }))),
                  (i.startFrom = i.appData.start_from),
                  (i.lines = []);
                var d,
                  g = i.appData.pois || [];
                return (
                  "string" == typeof g
                    ? (d = new Promise(function (t, e) {
                        var n = g.match(/\//) ? g : "pois/".concat(g),
                          r = new XMLHttpRequest();
                        r.open("GET", n, !0),
                          (r.responseType = "json"),
                          (r.onload = function (n) {
                            if (200 == this.status || 0 == this.status)
                              try {
                                var r = this.response;
                                "object" != wh(r) && (r = JSON.parse(r)),
                                  (i.pois = r),
                                  t();
                              } catch (t) {
                                e(t);
                              }
                            else e("Fail to load poi json");
                          }),
                          r.send();
                      }))
                    : ((i.pois = g), (d = Promise.resolve())),
                  d.then(function () {
                    Array.isArray(i.pois)
                      ? ((i.pois = {
                          main: {
                            namespace_id: "main",
                            name: i.appName,
                            pois: i.pois,
                          },
                        }),
                        i.addIdToPoi("main"))
                      : (i.pois.main || (i.pois.main = {}),
                        Object.keys(i.pois).map(function (t) {
                          i.pois[t].name ||
                            (i.pois[t].name = "main" == t ? i.appName : t),
                            i.pois[t].pois || (i.pois[t].pois = []),
                            (i.pois[t].namespace_id = t),
                            i.addIdToPoi(t);
                        }));
                    for (
                      var t = i.appData.sources,
                        e = [],
                        u = {
                          home_position: n,
                          merc_zoom: r,
                          zoom_restriction: o,
                          merc_min_zoom: s,
                          merc_max_zoom: a,
                          cache_enable: i.cacheEnable,
                          translator: function (t) {
                            return i.translate(t);
                          },
                        },
                        c = 0;
                      c < t.length;
                      c++
                    ) {
                      var h = t[c];
                      e.push(dh.createAsync(h, u));
                    }
                    return Promise.all(e).then(function (t) {
                      i.mercSrc = t.reduce(function (t, e) {
                        return t || (e instanceof Gi ? e : void 0);
                      }, null);
                      var e = [];
                      i.cacheHash = {};
                      for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        (r._map = i.mapObject),
                          e.push(r),
                          (i.cacheHash[r.sourceID] = r);
                      }
                      i.dispatchEvent(new ot("sourceLoaded", t));
                      var o,
                        s =
                          i.initialRestore.sourceID ||
                          i.startFrom ||
                          e[e.length - 1].sourceID;
                      (i.from = e.reduce(function (t, e) {
                        return t
                          ? t instanceof dh || e.sourceID == s
                            ? t
                            : e
                          : e.sourceID != s
                          ? e
                          : t;
                      }, null)),
                        i.changeMap(s, i.initialRestore),
                        i.mapObject.on("click", function (t) {
                          i.logger.debug(t.pixel);
                          var e = this.forEachFeatureAtPixel(
                            t.pixel,
                            function (e) {
                              if ((i.logger.debug(t.pixel), e.get("datum")))
                                return e;
                            }
                          );
                          if (e)
                            i.dispatchEvent(
                              new ot("clickMarker", e.get("datum"))
                            );
                          else {
                            var n = t.coordinate;
                            i.dispatchEvent(new ot("clickMapXy", n)),
                              i.from.xy2MercAsync(n).then(function (t) {
                                i.dispatchEvent(new ot("clickMapMerc", t));
                                var e = Sn(t, "EPSG:3857", "EPSG:4326");
                                i.dispatchEvent(
                                  new ot("clickMap", {
                                    longitude: e[0],
                                    latitude: e[1],
                                  })
                                );
                              });
                          }
                        });
                      var a,
                        u = !1,
                        c = !1,
                        h = {};
                      i.mapObject.on("pointermove", function (t) {
                        c ||
                          (u
                            ? (o = t.coordinate)
                            : ((u = !0),
                              (function t(e) {
                                i.dispatchEvent(
                                  new ot("pointerMoveOnMapXy", e)
                                ),
                                  i.from.xy2MercAsync(e).then(function (e) {
                                    if (
                                      (i.dispatchEvent(
                                        new ot("pointerMoveOnMapMerc", e)
                                      ),
                                      o)
                                    ) {
                                      var n = o;
                                      (o = !1), t(n);
                                    } else u = !1;
                                  });
                              })(t.coordinate)));
                      }),
                        i.mapObject.on("pointerdown", function (t) {
                          t.originalEvent &&
                            null != t.originalEvent.pointerId &&
                            (h[t.originalEvent.pointerId] = !0),
                            (c = !0);
                        }),
                        i.mapObject.on("pointerdrag", function (t) {
                          t.originalEvent &&
                            null != t.originalEvent.pointerId &&
                            (h[t.originalEvent.pointerId] = !0),
                            (c = !0);
                        }),
                        i.mapObject.on("pointerup", function (t) {
                          t.originalEvent && null != t.originalEvent.pointerId
                            ? (delete h[t.originalEvent.pointerId],
                              0 == Object.keys(h).length && (c = !1))
                            : t.originalEvent && t.originalEvent.touches
                            ? 0 == t.originalEvent.touches.length && (c = !1)
                            : (c = !1);
                        }),
                        i.mapObject.on("click", function () {
                          a && (clearTimeout(a), (a = void 0));
                          for (
                            var t = i.mapDivDocument.querySelectorAll(
                                ".ol-control"
                              ),
                              e = 0;
                            e < t.length;
                            e++
                          )
                            t[e].classList.remove("fade");
                        }),
                        i.mapObject.on("pointerdrag", function () {
                          a && (clearTimeout(a), (a = void 0));
                          for (
                            var t = i.mapDivDocument.querySelectorAll(
                                ".ol-control"
                              ),
                              e = 0;
                            e < t.length;
                            e++
                          )
                            t[e].classList.add("fade");
                        }),
                        i.mapObject.on("moveend", function () {
                          a && (clearTimeout(a), (a = void 0)),
                            (a = setTimeout(function () {
                              a = void 0;
                              for (
                                var t = i.mapDivDocument.querySelectorAll(
                                    ".ol-control"
                                  ),
                                  e = 0;
                                e < t.length;
                                e++
                              )
                                t[e].classList.remove("fade");
                            }, 3e3));
                        });
                      i.mapObject.on("pointermove", function (t) {
                        var e = this.getEventPixel(t.originalEvent),
                          n = this.hasFeatureAtPixel(e),
                          r = this.getTarget();
                        if (n) {
                          var o = this.forEachFeatureAtPixel(
                            t.pixel,
                            function (t) {
                              if (t.get("datum")) return t;
                            }
                          );
                          i.mapDivDocument.querySelector(
                            "#".concat(r)
                          ).style.cursor = o ? "pointer" : "";
                        } else i.mapDivDocument.querySelector("#".concat(r)).style.cursor = "";
                      });
                      i.mapObject.on("moveend", function (t) {
                        var e = t.frameState.viewState.center,
                          n = i.from;
                        n.insideCheckHistMapCoords(e) ||
                          ((e = n.modulateHistMapCoordsInside(e)),
                          this.getView().setCenter(e));
                      });
                      i.mapObject.on("postrender", function (t) {
                        if (i.backMap)
                          if (this._backMapMoving)
                            i.logger.debug("Backmap moving skipped");
                          else {
                            var e = i.backMap.getSource();
                            if (e) {
                              (this._backMapMoving = !0),
                                i.logger.debug("Backmap moving started");
                              var n = this;
                              i.convertParametersFromCurrent(e, function (t) {
                                var e = i.backMap.getView();
                                e.setCenter(t[0]),
                                  e.setZoom(t[1]),
                                  e.setRotation(i.noRotate ? 0 : t[2]),
                                  i.logger.debug("Backmap moving ended"),
                                  (n._backMapMoving = !1);
                              });
                            }
                          }
                      }),
                        i.mapObject.on("postrender", function (t) {
                          var e = i.mapObject.getView(),
                            n = e.getCenter(),
                            r = e.getDecimalZoom(),
                            o = Ui((180 * e.getRotation()) / Math.PI);
                          i.from
                            .size2MercsAsync()
                            .then(function (t) {
                              return i.mercSrc.mercs2SizeAsync(t);
                            })
                            .then(function (t) {
                              if (
                                !i.mobileMapMoveBuffer ||
                                i.mobileMapMoveBuffer[0][0] != t[0][0] ||
                                i.mobileMapMoveBuffer[0][1] != t[0][1] ||
                                i.mobileMapMoveBuffer[1] != t[1] ||
                                i.mobileMapMoveBuffer[2] != t[2]
                              ) {
                                i.mobileMapMoveBuffer = t;
                                var e = Sn(t[0], "EPSG:3857", "EPSG:4326"),
                                  s = Ui((180 * t[2]) / Math.PI);
                                i.dispatchEvent(
                                  new ot("changeViewpoint", {
                                    x: n[0],
                                    y: n[1],
                                    longitude: e[0],
                                    latitude: e[1],
                                    mercator_x: t[0][0],
                                    mercator_y: t[0][1],
                                    zoom: r,
                                    mercZoom: t[1],
                                    direction: s,
                                    rotation: o,
                                  })
                                ),
                                  i.requestUpdateState({
                                    position: {
                                      x: n[0],
                                      y: n[1],
                                      zoom: r,
                                      rotation: o,
                                    },
                                  });
                              }
                            });
                        });
                    });
                  })
                );
              })
            );
          })),
          n
        );
      }
      var n, i, r;
      return (
        (function (t, e) {
          if ("function" != typeof e && null !== e)
            throw new TypeError(
              "Super expression must either be null or a function"
            );
          (t.prototype = Object.create(e && e.prototype, {
            constructor: { value: t, writable: !0, configurable: !0 },
          })),
            e && Th(t, e);
        })(e, Ft),
        (n = e),
        (i = [
          {
            key: "currentMapInfo",
            value: function () {
              return Yi(this.from);
            },
          },
          {
            key: "mapInfo",
            value: function (t) {
              return Yi(this.cacheHash[t]);
            },
          },
          {
            key: "addIdToPoi",
            value: function (t) {
              if (this.pois[t]) {
                var e = this.pois[t],
                  n = e.pois;
                e.__nextId || (e.__nextId = 0),
                  n.map(function (n) {
                    n.id ||
                      ((n.id = "".concat(t, "_").concat(e.__nextId)),
                      e.__nextId++),
                      n.namespace_id || (n.namespace_id = n.id);
                  });
              }
            },
          },
          {
            key: "setMarker",
            value: function (t) {
              var e = this;
              e.logger.debug(t);
              var n,
                i = t.lnglat || [t.lng || t.longitude, t.lat || t.latitude],
                r = t.x,
                o = t.y,
                s = t.coordinates,
                a = e.from,
                u = t.icon
                  ? e.__selectedMarker == t.namespace_id && t.selected_icon
                    ? t.selected_icon
                    : t.icon
                  : e.__selectedMarker == t.namespace_id
                  ? "parts/defaultpin_selected.png"
                  : "parts/defaultpin.png";
              return (s
                ? a.merc2XyAsync(s, !0)
                : r && o
                ? new Promise(function (t) {
                    t(a.xy2HistMapCoords([r, o]));
                  })
                : ((n = Sn(i, "EPSG:4326", "EPSG:3857")), a.merc2XyAsync(n, !0))
              ).then(function (n) {
                n &&
                  a.insideCheckHistMapCoords(n) &&
                  e.mapObject.setMarker(n, { datum: t }, u);
              });
            },
          },
          {
            key: "resetMarker",
            value: function () {
              this.mapObject.resetMarker();
            },
          },
          {
            key: "setLine",
            value: function (t) {
              var e,
                n = this;
              n.logger.debug(t),
                (e = t.coordinates
                  ? t.coordinates.map(function (t) {
                      return n.from.merc2XyAsync(t);
                    })
                  : t.lnglats.map(function (t) {
                      var e = Sn(t, "EPSG:4326", "EPSG:3857");
                      return n.from.merc2XyAsync(e);
                    })),
                Promise.all(e).then(function (e) {
                  n.mapObject.setLine(e, t.stroke);
                });
            },
          },
          {
            key: "resetLine",
            value: function () {
              this.mapObject.resetLine();
            },
          },
          {
            key: "redrawMarkers",
            value: function (t) {
              var e = this;
              if ((t || (t = e.from), e.__redrawMarkerBlock)) {
                e.__redrawMarkerThrottle || (e.__redrawMarkerThrottle = []);
                var n = e.__redrawMarkerThrottle;
                if (0 == n.length || n[n.length - 1] !== t)
                  return void n.push(t);
              }
              (e.__redrawMarkerBlock = !0),
                (function t(n) {
                  var i = [];
                  e.resetMarker(),
                    e.stateBuffer.hideMarker ||
                      (Object.keys(e.pois).map(function (t) {
                        var n = e.pois[t];
                        n.hide ||
                          n.pois.map(function (t) {
                            var r = Object.assign({}, t);
                            r.icon ||
                              ((r.icon = n.icon),
                              (r.selected_icon = n.selected_icon)),
                              i.push(e.setMarker(r));
                          });
                      }),
                      n.pois &&
                        Object.keys(n.pois).map(function (t) {
                          var r = n.pois[t];
                          r.hide ||
                            r.pois.map(function (t) {
                              var n = Object.assign({}, t);
                              n.icon ||
                                ((n.icon = r.icon),
                                (n.selected_icon = r.selected_icon)),
                                i.push(e.setMarker(n));
                            });
                        })),
                    Promise.all(i).then(function () {
                      e.__redrawMarkerThrottle &&
                      e.__redrawMarkerThrottle.length > 0
                        ? t(e.__redrawMarkerThrottle.shift())
                        : (e.__redrawMarkerBlock = !1);
                    });
                })(t);
            },
          },
          {
            key: "selectMarker",
            value: function (t) {
              var e = this.getMarker(t);
              if (e) {
                this.__selectedMarker = t;
                var n = {
                  latitude: e.lnglat ? e.lnglat[1] : e.lat ? e.lat : e.latitude,
                  longitude: e.lnglat
                    ? e.lnglat[0]
                    : e.lng
                    ? e.lng
                    : e.longitude,
                };
                this.setViewpoint(n), this.redrawMarkers();
              }
            },
          },
          {
            key: "unselectMarker",
            value: function () {
              delete this.__selectedMarker, this.redrawMarkers();
            },
          },
          {
            key: "getMarker",
            value: function (t) {
              var e,
                n = this;
              if (t.indexOf("#") < 0)
                return (
                  Object.keys(n.pois).map(function (i) {
                    n.pois[i].pois.map(function (r, o) {
                      r.id == t && (e = n.pois[i].pois[o]);
                    });
                  }),
                  e
                );
              var i = t.split("#"),
                r = n.cacheHash[i[0]];
              return r ? r.getPoi(i[1]) : void 0;
            },
          },
          {
            key: "updateMarker",
            value: function (t, e, n) {
              var i = this.getMarker(t);
              i &&
                (n
                  ? (Object.keys(i).map(function (t) {
                      "id" != t && "namespace_id" != t && delete i[t];
                    }),
                    Object.assign(i, e))
                  : Object.keys(e).map(function (t) {
                      "id" != t &&
                        "namespace_id" != t &&
                        ("____delete____" == e[t]
                          ? delete i[t]
                          : (i[t] = e[t]));
                    }),
                this.redrawMarkers());
            },
          },
          {
            key: "addMarker",
            value: function (t, e) {
              if ((e || (e = "main"), e.indexOf("#") < 0)) {
                if (this.pois[e])
                  return (
                    this.pois[e].pois.push(t),
                    this.addIdToPoi(e),
                    this.dispatchPoiNumber(),
                    this.redrawMarkers(),
                    t.namespace_id
                  );
              } else {
                var n = e.split("#"),
                  i = this.cacheHash[n[0]];
                if (i) {
                  var r = i.addPoi(t, n[1]);
                  return this.dispatchPoiNumber(), this.redrawMarkers(), r;
                }
              }
            },
          },
          {
            key: "removeMarker",
            value: function (t) {
              var e = this;
              if (t.indexOf("#") < 0)
                Object.keys(e.pois).map(function (n) {
                  e.pois[n].pois.map(function (i, r) {
                    i.id == t &&
                      (delete e.pois[n].pois[r],
                      e.dispatchPoiNumber(),
                      e.redrawMarkers());
                  });
                });
              else {
                var n = t.split("#"),
                  i = e.cacheHash[n[0]];
                i &&
                  (i.removePoi(n[1]), e.dispatchPoiNumber(), e.redrawMarkers());
              }
            },
          },
          {
            key: "clearMarker",
            value: function (t) {
              var e = this;
              if ((t || (t = "main"), t.indexOf("#") < 0)) {
                if ("all" == t)
                  Object.keys(e.pois).map(function (t) {
                    e.pois[t].pois = [];
                  });
                else {
                  if (!e.pois[t]) return;
                  e.pois[t].pois = [];
                }
                e.dispatchPoiNumber(), e.redrawMarkers();
              } else {
                var n = t.split("#"),
                  i = e.cacheHash[n[0]];
                i &&
                  (i.clearPoi(n[1]), e.dispatchPoiNumber(), e.redrawMarkers());
              }
            },
          },
          {
            key: "showAllMarkers",
            value: function () {
              this.requestUpdateState({ hideMarker: 0 }), this.redrawMarkers();
            },
          },
          {
            key: "hideAllMarkers",
            value: function () {
              this.requestUpdateState({ hideMarker: 1 }), this.redrawMarkers();
            },
          },
          {
            key: "dispatchPoiNumber",
            value: function () {
              this.dispatchEvent(
                new ot(
                  "poi_number",
                  this.listPoiLayers(!1, !0).reduce(function (t, e) {
                    return t + e.pois.length;
                  }, 0)
                )
              );
            },
          },
          {
            key: "listPoiLayers",
            value: function (t, e) {
              var n = this,
                i = Object.keys(n.pois)
                  .sort(function (t, e) {
                    return "main" == t
                      ? -1
                      : "main" == e
                      ? 1
                      : t < e
                      ? -1
                      : t > e
                      ? 1
                      : 0;
                  })
                  .map(function (t) {
                    return n.pois[t];
                  })
                  .filter(function (n) {
                    return e
                      ? t
                        ? n.pois.length && n.hide
                        : n.pois.length
                      : !t || n.hide;
                  }),
                r = n.from.listPoiLayers(t, e);
              return i.concat(r);
            },
          },
          {
            key: "showPoiLayer",
            value: function (t) {
              var e = this.getPoiLayer(t);
              e &&
                (delete e.hide,
                this.requestUpdateState({
                  hideLayer: this.listPoiLayers(!0)
                    .map(function (t) {
                      return t.namespace_id;
                    })
                    .join(","),
                }),
                this.redrawMarkers());
            },
          },
          {
            key: "hidePoiLayer",
            value: function (t) {
              var e = this.getPoiLayer(t);
              e &&
                ((e.hide = !0),
                this.requestUpdateState({
                  hideLayer: this.listPoiLayers(!0)
                    .map(function (t) {
                      return t.namespace_id;
                    })
                    .join(","),
                }),
                this.redrawMarkers());
            },
          },
          {
            key: "getPoiLayer",
            value: function (t) {
              if (t.indexOf("#") < 0) return this.pois[t];
              var e = t.split("#"),
                n = this.cacheHash[e[0]];
              return n ? n.getPoiLayer(e[1]) : void 0;
            },
          },
          {
            key: "addPoiLayer",
            value: function (t, e) {
              if ("main" != t && !this.pois[t])
                if (t.indexOf("#") < 0)
                  e
                    ? (e.name || (e.name = t),
                      e.pois || (e.pois = []),
                      (e.namespace_id = t))
                    : (e = { namespace_id: t, name: t, pois: [] }),
                    (this.pois[t] = e),
                    this.redrawMarkers();
                else {
                  var n = t.split("#"),
                    i = this.cacheHash[n[0]];
                  i && (i.addPoiLayer(n[1], e), this.redrawMarkers());
                }
            },
          },
          {
            key: "removePoiLayer",
            value: function (t) {
              if ("main" != t && this.pois[t])
                if (t.indexOf("#") < 0)
                  delete this.pois[t],
                    this.requestUpdateState({
                      hideLayer: this.listPoiLayers(!0)
                        .map(function (t) {
                          return t.namespace_id;
                        })
                        .join(","),
                    }),
                    this.dispatchPoiNumber(),
                    this.redrawMarkers();
                else {
                  var e = t.split("#"),
                    n = this.cacheHash[e[0]];
                  n &&
                    (n.removePoiLayer(e[1]),
                    this.requestUpdateState({
                      hideLayer: this.listPoiLayers(!0)
                        .map(function (t) {
                          return t.namespace_id;
                        })
                        .join(","),
                    }),
                    this.dispatchPoiNumber(),
                    this.redrawMarkers());
                }
            },
          },
          {
            key: "addLine",
            value: function (t) {
              this.lines.push(t), this.setLine(t);
            },
          },
          {
            key: "clearLine",
            value: function () {
              (this.lines = []), this.resetLine();
            },
          },
          {
            key: "setGPSMarker",
            value: function (t) {
              (this.currentPosition = t), this.from.setGPSMarker(t, !0);
            },
          },
          {
            key: "changeMap",
            value: function (t, e) {
              var n = this;
              e || (e = {});
              var i = n.cacheHash.osm,
                r = n.cacheHash[t];
              return (
                n.changeMapSeq || (n.changeMapSeq = Promise.resolve()),
                (n.changeMapSeq = n.changeMapSeq.then(function () {
                  return new Promise(function (t, o) {
                    n.convertParametersFromCurrent(r, function (o) {
                      var s = null,
                        a = null,
                        u = e.backgroundID
                          ? n.cacheHash[e.backgroundID]
                          : void 0;
                      if (
                        (n.backMap &&
                          ((s = n.backMap.getSource()),
                          r instanceof Gi
                            ? r instanceof Gi && n.backMap.exchangeSource()
                            : (u
                                ? ((a = u), n.backMap.exchangeSource(a))
                                : s
                                ? (a = s)
                                : ((a = i),
                                  n.from instanceof Gi &&
                                    (a =
                                      n.from instanceof ji
                                        ? n.mapObject.getSource()
                                        : n.from),
                                  n.backMap.exchangeSource(a)),
                              n.requestUpdateState({
                                backgroundID: a.sourceID,
                              }))),
                        r instanceof ji)
                      ) {
                        if ((n.mapObject.setLayer(r), u))
                          n.mapObject.exchangeSource(u);
                        else if (!(n.from instanceof Gi)) {
                          var c = s || i;
                          n.mapObject.exchangeSource(c);
                        }
                        n.requestUpdateState({
                          backgroundID: n.mapObject.getSource().sourceID,
                        });
                      } else n.mapObject.setLayer(), n.mapObject.exchangeSource(r);
                      var h = { sourceID: r.sourceID };
                      r instanceof Gi &&
                        !(r instanceof ji) &&
                        (h.backgroundID = "____delete____"),
                        n.requestUpdateState(h),
                        (n.from = r),
                        n.dispatchPoiNumber();
                      var l,
                        p = n.mapObject.getView();
                      n.appData.zoom_restriction &&
                        (p.setMaxZoom(r.maxZoom), p.setMinZoom(r.minZoom || 0)),
                        r.insideCheckHistMapCoords(o[0])
                          ? (p.setCenter(o[0]),
                            p.setZoom(o[1]),
                            p.setRotation(n.noRotate ? 0 : o[2]))
                          : n.__init ||
                            (n.dispatchEvent(new ot("outOfMap", {})),
                            r.goHome()),
                        r.setGPSMarker(n.currentPosition, !0),
                        e.hideLayer &&
                          (e.hideLayer.split(",").map(function (t) {
                            var e = n.getPoiLayer(t);
                            e && (e.hide = !0);
                          }),
                          n.requestUpdateState({ hideLayer: e.hideLayer })),
                        e.hideMarker ? n.hideAllMarkers() : n.redrawMarkers(),
                        n.resetLine();
                      for (var f = 0; f < n.lines.length; f++)
                        (l = n.lines[f]), n.setLine(l);
                      n.dispatchEvent(
                        new ot("mapChanged", n.getMapMeta(r.sourceID))
                      ),
                        n.mapObject.updateSize(),
                        n.mapObject.renderSync(),
                        e.position &&
                          ((n.__init = !1), r.setViewpoint(e.position)),
                        e.transparency && n.setTransparency(e.transparency),
                        1 == n.__init
                          ? ((n.__init = !1), r.goHome())
                          : n.backMap &&
                            a &&
                            n.convertParametersFromCurrent(a, function (t) {
                              var e = n.backMap.getView();
                              e.setCenter(t[0]),
                                e.setZoom(t[1]),
                                e.setRotation(n.noRotate ? 0 : t[2]),
                                n.backMap.updateSize(),
                                n.backMap.renderSync();
                            }),
                        t();
                    });
                  });
                }))
              );
            },
          },
          {
            key: "requestUpdateState",
            value: function (t) {
              var e = this;
              if (
                ((e.stateBuffer = Object.assign(e.stateBuffer, t)),
                "____delete____" == e.stateBuffer.backgroundID &&
                  delete e.stateBuffer.backgroundID,
                e.restoreSession)
              ) {
                var n = Math.floor(new Date().getTime() / 1e3);
                localStorage.setItem("epoch", n),
                  (function t(e) {
                    Object.keys(e).map(function (n) {
                      "position" == n
                        ? t(e[n])
                        : "backgroundID" == n && "____delete____" == e[n]
                        ? localStorage.removeItem(n)
                        : localStorage.setItem(n, e[n]);
                    });
                  })(t);
              }
              e.timer && clearTimeout(e.timer),
                (e.timer = setTimeout(function () {
                  (e.timer = void 0),
                    e.dispatchEvent(new ot("updateState", e.stateBuffer));
                }, 50));
            },
          },
          {
            key: "setTransparency",
            value: function (t) {
              (this.transparency_ = t),
                this.mapObject.setTransparency(t),
                this.requestUpdateState({ transparency: t });
            },
          },
          {
            key: "getTransparency",
            value: function () {
              return null == this.transparency_ ? 0 : this.transparency_;
            },
          },
          {
            key: "setViewpoint",
            value: function (t) {
              this.from.setViewpoint(t);
            },
          },
          {
            key: "getMapMeta",
            value: function (t) {
              var e;
              if ((e = t ? this.cacheHash[t] : this.from))
                return Di.reduce(
                  function (t, n) {
                    return (t[n] = e[n]), t;
                  },
                  { sourceID: e.sourceID, label: e.label }
                );
            },
          },
          {
            key: "getMapTileCacheSizeAsync",
            value: function (t) {
              var e;
              return (e = t ? this.cacheHash[t] : this.from)
                ? e.getTileCacheSizeAsync()
                : Promise.resolve(0);
            },
          },
          {
            key: "clearMapTileCacheAsync",
            value: function (t, e) {
              var n;
              return (n = t ? this.cacheHash[t] : this.from)
                ? n.clearTileCacheAsync(e)
                : Promise.resolve();
            },
          },
          {
            key: "convertParametersFromCurrent",
            value: function (t, e) {
              var n = this,
                i = n.mapObject.getView(),
                r = n.from.size2MercsAsync(),
                o = qc([i.getCenter(), i.getZoom(), i.getRotation()], 10);
              if (
                n.mercBuffer &&
                n.mercBuffer.mercs &&
                n.mercBuffer.buffer[n.from.sourceID]
              ) {
                var s = n.mercBuffer.buffer[n.from.sourceID];
                s[0][0] == o[0][0] &&
                s[0][1] == o[0][1] &&
                s[1] == o[1] &&
                s[2] == o[2]
                  ? (n.logger.debug(s),
                    n.logger.debug(o),
                    n.logger.debug("From: Use buffer"),
                    (r = new Promise(function (t, e) {
                      t(n.mercBuffer.mercs);
                    })))
                  : ((n.mercBuffer = { buffer: {} }),
                    (n.mercBuffer.buffer[n.from.sourceID] = o));
              } else
                (n.mercBuffer = { buffer: {} }),
                  (n.mercBuffer.buffer[n.from.sourceID] = o);
              n.logger.debug(
                "From: Center: "
                  .concat(o[0], " Zoom: ")
                  .concat(o[1], " Rotation: ")
                  .concat(o[2])
              ),
                n.logger.debug("From: ".concat(n.from.sourceID)),
                r
                  .then(function (i) {
                    (n.mercBuffer.mercs = i),
                      n.logger.debug("Mercs: ".concat(i));
                    var r = t.mercs2SizeAsync(i),
                      o = t.sourceID;
                    n.mercBuffer.buffer[o] &&
                      (n.logger.debug("To: Use buffer"),
                      (r = new Promise(function (t, e) {
                        t(n.mercBuffer.buffer[o]);
                      }))),
                      r
                        .then(function (i) {
                          n.logger.debug(
                            "To: Center: "
                              .concat(i[0], " Zoom: ")
                              .concat(i[1], " Rotation: ")
                              .concat(i[2])
                          ),
                            n.logger.debug("To: ".concat(t.sourceID)),
                            (n.mercBuffer.buffer[t.sourceID] = qc(i, 10)),
                            e(i);
                        })
                        .catch(function (t) {
                          throw t;
                        });
                  })
                  .catch(function (t) {
                    throw t;
                  });
            },
          },
          {
            key: "translate",
            value: function (t) {
              var e = this;
              if (!t || "object" != wh(t)) return t;
              var n = Object.keys(t),
                i = n.reduce(function (n, i, r, o) {
                  return (
                    i == e.appLang
                      ? (n = [t[i], !0])
                      : (n && ("en" != i || n[1])) || (n = [t[i], !1]),
                    r == o.length - 1 ? n[0] : n
                  );
                }, null);
              if (
                ((i = "string" == typeof i ? i : "".concat(i)),
                e.i18n.exists(i, {
                  ns: "translation",
                  nsSeparator: "__X__yX__X__",
                }))
              )
                return e.t(i, {
                  ns: "translation",
                  nsSeparator: "__X__yX__X__",
                });
              for (var r = 0; r < n.length; r++) {
                var o = n[r];
                e.i18n.addResource(o, "translation", i, t[o]);
              }
              return e.t(i, { ns: "translation", nsSeparator: "__X__yX__X__" });
            },
          },
        ]) && Ih(n.prototype, i),
        r && Ih(n, r),
        e
      );
    })();
  },
]);
//# sourceMappingURL=maplat_core.js.map
